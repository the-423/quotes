(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Bf={exports:{}},Fl={};var Hy;function f1(){if(Hy)return Fl;Hy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var Gy;function d1(){return Gy||(Gy=1,Bf.exports=f1()),Bf.exports}var A=d1(),qf={exports:{}},_t={};var Fy;function m1(){if(Fy)return _t;Fy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function at(V,K,nt){this.props=V,this.context=K,this.refs=J,this.updater=nt||tt}at.prototype.isReactComponent={},at.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},at.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function ct(V,K,nt){this.props=V,this.context=K,this.refs=J,this.updater=nt||tt}var At=ct.prototype=new ut;At.constructor=ct,$(At,at.prototype),At.isPureReactComponent=!0;var Et=Array.isArray;function xt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,K,nt){var rt=nt.ref;return{$$typeof:s,type:V,key:K,ref:rt!==void 0?rt:null,props:nt}}function M(V,K){return C(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function U(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return K[nt]})}var x=/\/+/g;function ie(V,K){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):K.toString(36)}function Re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,nt,rt,pt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case s:case e:Mt=!0;break;case T:return Mt=V._init,G(Mt(V._payload),K,nt,rt,pt)}}if(Mt)return pt=pt(V),Mt=rt===""?"."+ie(V,0):rt,Et(pt)?(nt="",Mt!=null&&(nt=Mt.replace(x,"$&/")+"/"),G(pt,K,nt,"",function(Ba){return Ba})):pt!=null&&(D(pt)&&(pt=M(pt,nt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(x,"$&/")+"/")+Mt)),K.push(pt)),1;Mt=0;var Ce=rt===""?".":rt+":";if(Et(V))for(var ae=0;ae<V.length;ae++)rt=V[ae],St=Ce+ie(rt,ae),Mt+=G(rt,K,nt,St,pt);else if(ae=Y(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(rt=V.next()).done;)rt=rt.value,St=Ce+ie(rt,ae++),Mt+=G(rt,K,nt,St,pt);else if(St==="object"){if(typeof V.then=="function")return G(Re(V),K,nt,rt,pt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(V,K,nt){if(V==null)return V;var rt=[],pt=0;return G(V,rt,"","",function(St){return K.call(nt,St,pt++)}),rt}function dt(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:et,forEach:function(V,K,nt){et(V,function(){K.apply(this,arguments)},nt)},count:function(V){var K=0;return et(V,function(){K++}),K},toArray:function(V){return et(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=S,_t.Children=Gt,_t.Component=at,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=ct,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,K,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=$({},V.props),pt=V.key;if(K!=null)for(St in K.key!==void 0&&(pt=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Mt=Array(St),Ce=0;Ce<St;Ce++)Mt[Ce]=arguments[Ce+2];rt.children=Mt}return C(V.type,pt,rt)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},_t.createElement=function(V,K,nt){var rt,pt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var Mt=arguments.length-2;if(Mt===1)pt.children=nt;else if(1<Mt){for(var Ce=Array(Mt),ae=0;ae<Mt;ae++)Ce[ae]=arguments[ae+2];pt.children=Ce}if(V&&V.defaultProps)for(rt in Mt=V.defaultProps,Mt)pt[rt]===void 0&&(pt[rt]=Mt[rt]);return C(V,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=D,_t.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:dt}},_t.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},_t.startTransition=function(V){var K=N.T,nt={};N.T=nt;try{var rt=V(),pt=N.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(xt,Lt)}catch(St){Lt(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),N.T=K}},_t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_t.use=function(V){return N.H.use(V)},_t.useActionState=function(V,K,nt){return N.H.useActionState(V,K,nt)},_t.useCallback=function(V,K){return N.H.useCallback(V,K)},_t.useContext=function(V){return N.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,K){return N.H.useDeferredValue(V,K)},_t.useEffect=function(V,K){return N.H.useEffect(V,K)},_t.useEffectEvent=function(V){return N.H.useEffectEvent(V)},_t.useId=function(){return N.H.useId()},_t.useImperativeHandle=function(V,K,nt){return N.H.useImperativeHandle(V,K,nt)},_t.useInsertionEffect=function(V,K){return N.H.useInsertionEffect(V,K)},_t.useLayoutEffect=function(V,K){return N.H.useLayoutEffect(V,K)},_t.useMemo=function(V,K){return N.H.useMemo(V,K)},_t.useOptimistic=function(V,K){return N.H.useOptimistic(V,K)},_t.useReducer=function(V,K,nt){return N.H.useReducer(V,K,nt)},_t.useRef=function(V){return N.H.useRef(V)},_t.useState=function(V){return N.H.useState(V)},_t.useSyncExternalStore=function(V,K,nt){return N.H.useSyncExternalStore(V,K,nt)},_t.useTransition=function(){return N.H.useTransition()},_t.version="19.2.3",_t}var Qy;function Vd(){return Qy||(Qy=1,qf.exports=m1()),qf.exports}var Ut=Vd(),Pf={exports:{}},Ql={},Hf={exports:{}},Gf={};var Yy;function g1(){return Yy||(Yy=1,(function(s){function e(G,et){var dt=G.length;G.push(et);t:for(;0<dt;){var Lt=dt-1>>>1,Gt=G[Lt];if(0<o(Gt,et))G[Lt]=et,G[dt]=Gt,dt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],dt=G.pop();if(dt!==et){G[0]=dt;t:for(var Lt=0,Gt=G.length,V=Gt>>>1;Lt<V;){var K=2*(Lt+1)-1,nt=G[K],rt=K+1,pt=G[rt];if(0>o(nt,dt))rt<Gt&&0>o(pt,nt)?(G[Lt]=pt,G[rt]=dt,Lt=rt):(G[Lt]=nt,G[K]=dt,Lt=K);else if(rt<Gt&&0>o(pt,dt))G[Lt]=pt,G[rt]=dt,Lt=rt;else break t}}return et}function o(G,et){var dt=G.sortIndex-et.sortIndex;return dt!==0?dt:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],T=1,S=null,O=3,Y=!1,tt=!1,$=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function At(G){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=G)r(y),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(y)}}function Et(G){if($=!1,At(G),!tt)if(i(v)!==null)tt=!0,xt||(xt=!0,U());else{var et=i(y);et!==null&&Re(Et,et.startTime-G)}}var xt=!1,N=-1,w=5,C=-1;function M(){return J?!0:!(s.unstable_now()-C<w)}function D(){if(J=!1,xt){var G=s.unstable_now();C=G;var et=!0;try{t:{tt=!1,$&&($=!1,ut(N),N=-1),Y=!0;var dt=O;try{e:{for(At(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,O=S.priorityLevel;var Gt=Lt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,At(G),et=!0;break e}S===i(v)&&r(v),At(G)}else r(v);S=i(v)}if(S!==null)et=!0;else{var V=i(y);V!==null&&Re(Et,V.startTime-G),et=!1}}break t}finally{S=null,O=dt,Y=!1}et=void 0}}finally{et?U():xt=!1}}}var U;if(typeof ct=="function")U=function(){ct(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ie=x.port2;x.port1.onmessage=D,U=function(){ie.postMessage(null)}}else U=function(){at(D,0)};function Re(G,et){N=at(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var dt=O;O=et;try{return G()}finally{O=dt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=O;O=G;try{return et()}finally{O=dt}},s.unstable_scheduleCallback=function(G,et,dt){var Lt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,G={id:T++,callback:et,priorityLevel:G,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>Lt?(G.sortIndex=dt,e(y,G),i(v)===null&&G===i(y)&&($?(ut(N),N=-1):$=!0,Re(Et,dt-Lt))):(G.sortIndex=Gt,e(v,G),tt||Y||(tt=!0,xt||(xt=!0,U()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var et=O;return function(){var dt=O;O=et;try{return G.apply(this,arguments)}finally{O=dt}}}})(Gf)),Gf}var Ky;function p1(){return Ky||(Ky=1,Hf.exports=g1()),Hf.exports}var Ff={exports:{}},Qe={};var Xy;function y1(){if(Xy)return Qe;Xy=1;var s=Vd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,T)},Qe.flushSync=function(v){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=T,r.d.f()}},Qe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Y}):T==="script"&&r.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Qe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(v,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(v,y){if(typeof v=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,y){return v(y)},Qe.useFormState=function(v,y,T){return d.H.useFormState(v,y,T)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var Zy;function _1(){if(Zy)return Ff.exports;Zy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=y1(),Ff.exports}var Jy;function v1(){if(Jy)return Ql;Jy=1;var s=p1(),e=Vd(),i=_1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case Et:return"Suspense";case xt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case ct:return t.displayName||"Context";case ut:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Re=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function V(t){return{current:t}}function K(t){0>Gt||(t.current=Lt[Gt],Lt[Gt]=null,Gt--)}function nt(t,n){Gt++,Lt[Gt]=t.current,t.current=n}var rt=V(null),pt=V(null),St=V(null),Mt=V(null);function Ce(t,n){switch(nt(St,n),nt(pt,t),nt(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?fy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=fy(n),t=dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(rt),nt(rt,t)}function ae(){K(rt),K(pt),K(St)}function Ba(t){t.memoizedState!==null&&nt(Mt,t);var n=rt.current,a=dy(n,t.type);n!==a&&(nt(pt,t),nt(rt,a))}function Vs(t){pt.current===t&&(K(rt),K(pt)),Mt.current===t&&(K(Mt),ql._currentValue=dt)}var Os,Ms;function Xn(t){if(Os===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Os=n&&n[1]||"",Ms=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+t+Ms}var qr=!1;function qa(t,n){if(!t||qr)return"";qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(P){var B=P}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(P){B=P}t.call(Q.prototype)}}else{try{throw Error()}catch(P){B=P}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===k.length)for(l=R.length-1,c=k.length-1;1<=l&&0<=c&&R[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==k[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{qr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xn(a):""}function Pr(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Xn("Activity");default:return""}}function Hr(t){try{var n="",a=null;do n+=Pr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,Ki=s.unstable_cancelCallback,qc=s.unstable_shouldYield,To=s.unstable_requestPaint,Ze=s.unstable_now,Pa=s.unstable_getCurrentPriorityLevel,Gr=s.unstable_ImmediatePriority,Fr=s.unstable_UserBlockingPriority,Xi=s.unstable_NormalPriority,Pc=s.unstable_LowPriority,bo=s.unstable_IdlePriority,Ao=s.log,So=s.unstable_setDisableYieldValue,Mn=null,ze=null;function vn(t){if(typeof Ao=="function"&&So(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Mn,t)}catch{}}var ce=Math.clz32?Math.clz32:xo,wo=Math.log,js=Math.LN2;function xo(t){return t>>>=0,t===0?32:31-(wo(t)/js|0)|0}var Zn=256,Ha=262144,pe=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Jn(l):(g&=E,g!==0?c=Jn(g):a||(a=E&~t,a!==0&&(c=Jn(a))))):(E=l&~f,E!==0?c=Jn(E):g!==0?c=Jn(g):a||(a=l&~t,a!==0&&(c=Jn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Wn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-ce(a),Q=1<<H;E[H]=0,R[H]=-1;var B=k[H];if(B!==null)for(k[H]=null,H=0;H<B.length;H++){var P=B[H];P!==null&&(P.lane&=-536870913)}a&=~Q}l!==0&&Fa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Yr(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Uy(t.type))}function Un(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var zn=Math.random().toString(36).slice(2),ye="__reactFiber$"+zn,Oe="__reactProps$"+zn,ti="__reactContainer$"+zn,Us="__reactEvents$"+zn,Fc="__reactListeners$"+zn,No="__reactHandles$"+zn,Io="__reactResources$"+zn,ei="__reactMarker$"+zn;function zs(t){delete t[ye],delete t[Oe],delete t[Us],delete t[Fc],delete t[No]}function ni(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ti]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ey(t);t!==null;){if(a=t[ye])return a;t=Ey(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ye]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ii(t){var n=t[Io];return n||(n=t[Io]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ei]=!0}var Kr=new Set,Xr={};function ai(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Xr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},$r={};function Do(t){return ge.call($r,t)?!0:ge.call(Jr,t)?!1:Zr.test(t)?$r[t]=!0:(Jr[t]=!0,!1)}function Ls(t,n,a){if(Do(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Wr(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function tn(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ks(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?tl(t,g,Me(n)):a!=null?tl(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Vo(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function tl(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Oo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function $i(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Mo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function nl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&el(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&el(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var il=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ta=null,li=null;function Xa(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(ks(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));ks(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":Oo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var Ps=!1;function ea(t,n,a){if(Ps)return t(n,a);Ps=!0;try{var l=t(n);return l}finally{if(Ps=!1,(ta!==null||li!==null)&&(Cu(),ta&&(n=ta,t=li,li=ta=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function kn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Za=!1}var oi=null,al=null,Ja=null;function sl(){if(Ja)return Ja;var t,n=al,a=n.length,l,c="value"in oi?oi.value:oi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Bn(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Le(Ri),na=S({},Ri,{view:0,detail:0}),rl=Le(na),ia,Hs,ci,Gs=S({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(ia=t.screenX-ci.screenX,Hs=t.screenY-ci.screenY):Hs=ia=0,ci=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),ll=Le(Gs),Wa=S({},Gs,{dataTransfer:0}),Uo=Le(Wa),zo=S({},na,{relatedTarget:0}),ts=Le(zo),ol=S({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=Le(ol),Fs=S({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ko=Le(Fs),Bo=S({},Ri,{data:0}),hi=Le(Bo),qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ho[t])?!!n[t]:!1}function aa(){return Go}var Je=S({},na,{key:function(t){if(t.key){var n=qo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fo=Le(Je),Qo=S({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Le(Qo),u=S({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),m=Le(u),_=S({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Le(_),z=S({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(z),W=S({},Ri,{newState:0,oldState:0}),Tt=Le(W),he=[9,13,27,32],qt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var An=bn&&"TextEvent"in window&&!se,fi=bn&&(!qt||se&&8<se&&11>=se),qn=" ",Pn=!1;function es(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function UE(t,n){switch(t){case"compositionend":return Qs(n);case"keypress":return n.which!==32?null:(Pn=!0,qn);case"textInput":return t=n.data,t===qn&&Pn?null:t;default:return null}}function zE(t,n){if(Ys)return t==="compositionend"||!qt&&es(t,n)?(t=sl(),Ja=al=oi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var LE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Am(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!LE[t.type]:n==="textarea"}function Sm(t,n,a,l){ta?li?li.push(l):li=[l]:ta=l,n=ju(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ul=null,cl=null;function kE(t){ry(t,0)}function Yo(t){var n=un(t);if(Ya(n))return t}function wm(t,n){if(t==="change")return n}var xm=!1;if(bn){var Qc;if(bn){var Yc="oninput"in document;if(!Yc){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),Yc=typeof Rm.oninput=="function"}Qc=Yc}else Qc=!1;xm=Qc&&(!document.documentMode||9<document.documentMode)}function Cm(){ul&&(ul.detachEvent("onpropertychange",Nm),cl=ul=null)}function Nm(t){if(t.propertyName==="value"&&Yo(cl)){var n=[];Sm(n,cl,t,Tn(t)),ea(kE,n)}}function BE(t,n,a){t==="focusin"?(Cm(),ul=n,cl=a,ul.attachEvent("onpropertychange",Nm)):t==="focusout"&&Cm()}function qE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(cl)}function PE(t,n){if(t==="click")return Yo(n)}function HE(t,n){if(t==="input"||t==="change")return Yo(n)}function GE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:GE;function hl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,n){var a=Im(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Im(a)}}function Vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var FE=bn&&"documentMode"in document&&11>=document.documentMode,Ks=null,Xc=null,fl=null,Zc=!1;function Mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zc||Ks==null||Ks!==ri(l)||(l=Ks,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=ju(Xc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ks)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Xs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Jc={},jm={};bn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(t){if(Jc[t])return Jc[t];if(!Xs[t])return t;var n=Xs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in jm)return Jc[t]=n[a];return t}var Um=is("animationend"),zm=is("animationiteration"),Lm=is("animationstart"),QE=is("transitionrun"),YE=is("transitionstart"),KE=is("transitioncancel"),km=is("transitionend"),Bm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Hn(t,n){Bm.set(t,n),ai(n,[t])}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Zs=0,Wc=0;function Xo(){for(var t=Zs,n=Wc=Zs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&qm(a,c,f)}}function Zo(t,n,a,l){Sn[Zs++]=t,Sn[Zs++]=n,Sn[Zs++]=a,Sn[Zs++]=l,Wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function th(t,n,a,l){return Zo(t,n,a,l),Jo(t)}function as(t,n){return Zo(t,null,null,n),Jo(t)}function qm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Jo(t){if(50<Ml)throw Ml=0,cf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Js={};function XE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new XE(t,n,a,l)}function eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $o(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")eh(t)&&(g=1);else if(typeof t=="string")g=t1(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=f,t;case $:return ss(a.children,c,f,n);case J:g=8,c|=24;break;case at:return t=fn(12,a,n,c|2),t.elementType=at,t.lanes=f,t;case Et:return t=fn(13,a,n,c),t.elementType=Et,t.lanes=f,t;case xt:return t=fn(19,a,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:g=10;break t;case ut:g=9;break t;case At:g=11;break t;case N:g=14;break t;case w:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function nh(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Hm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function ih(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Gm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Hr(n)},Gm.set(t,n),n)}return{value:t,source:n,stack:Hr(n)}}var $s=[],Ws=0,Wo=null,dl=0,xn=[],Rn=0,sa=null,di=1,mi="";function Ii(t,n){$s[Ws++]=dl,$s[Ws++]=Wo,Wo=t,dl=n}function Fm(t,n,a){xn[Rn++]=di,xn[Rn++]=mi,xn[Rn++]=sa,sa=t;var l=di;t=mi;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,di=1<<32-ce(n)+c|a<<c|l,mi=f+t}else di=1<<f|a<<c|l,mi=t}function ah(t){t.return!==null&&(Ii(t,1),Fm(t,1,0))}function sh(t){for(;t===Wo;)Wo=$s[--Ws],$s[Ws]=null,dl=$s[--Ws],$s[Ws]=null;for(;t===sa;)sa=xn[--Rn],xn[Rn]=null,mi=xn[--Rn],xn[Rn]=null,di=xn[--Rn],xn[Rn]=null}function Qm(t,n){xn[Rn++]=di,xn[Rn++]=mi,xn[Rn++]=sa,di=n.id,mi=n.overflow,sa=t}var ke=null,ee=null,Ot=!1,ra=null,Cn=!1,rh=Error(r(519));function la(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(wn(n,t)),rh}function Ym(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Ct(Ul[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Vo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),$i(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||cy(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||la(t,!0)}function Km(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ke=ke.return}}function tr(t){if(t!==ke)return!1;if(!Ot)return Km(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wf(t.type,t.memoizedProps)),a=!a),a&&ee&&la(t),Km(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=vy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=vy(t)}else n===27?(n=ee,Ta(t.type)?(t=If,If=null,ee=t):ee=n):ee=ke?In(t.stateNode.nextSibling):null;return!0}function rs(){ee=ke=null,Ot=!1}function lh(){var t=ra;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ra=null),t}function ml(t){ra===null?ra=[t]:ra.push(t)}var oh=V(null),ls=null,Di=null;function oa(t,n,a){nt(oh,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=oh.current,K(oh)}function uh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ch(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),uh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function er(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&ch(n,t,a,l),n.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Xm(ls,t)}function eu(t,n){return ls===null&&os(t),Xm(t,n)}function Xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(r(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},JE=s.unstable_scheduleCallback,$E=s.unstable_NormalPriority,Ee={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new ZE,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&JE($E,function(){t.controller.abort()})}var pl=null,fh=0,nr=0,ir=null;function WE(t,n){if(pl===null){var a=pl=[];fh=0,nr=pf(),ir={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fh++,n.then(Zm,Zm),n}function Zm(){if(--fh===0&&pl!==null){ir!==null&&(ir.status="fulfilled");var t=pl;pl=null,nr=0,ir=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Jm=G.S;G.S=function(t,n){Mp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WE(t,n),Jm!==null&&Jm(t,n)};var us=V(null);function dh(){var t=us.current;return t!==null?t:$t.pooledCache}function nu(t,n){n===null?nt(us,us.current):nt(us,n.pool)}function $m(){var t=dh();return t===null?null:{parent:Ee._currentValue,pool:t}}var ar=Error(r(460)),mh=Error(r(474)),iu=Error(r(542)),au={then:function(){}};function Wm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t}throw hs=n,ar}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,ar):a}}var hs=null;function eg(){if(hs===null)throw Error(r(459));var t=hs;return hs=null,t}function ng(t){if(t===ar||t===iu)throw Error(r(483))}var sr=null,yl=0;function su(t){var n=yl;return yl+=1,sr===null&&(sr=[]),tg(sr,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){function n(j,I){if(t){var L=j.deletions;L===null?(j.deletions=[I],j.flags|=16):L.push(I)}}function a(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function l(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function c(j,I){return j=Ni(j,I),j.index=0,j.sibling=null,j}function f(j,I,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<I?(j.flags|=67108866,I):L):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,I,L,F){return I===null||I.tag!==6?(I=nh(L,j.mode,F),I.return=j,I):(I=c(I,L),I.return=j,I)}function R(j,I,L,F){var ht=L.type;return ht===$?H(j,I,L.props.children,F,L.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&cs(ht)===I.type)?(I=c(I,L.props),_l(I,L),I.return=j,I):(I=$o(L.type,L.key,L.props,null,j.mode,F),_l(I,L),I.return=j,I)}function k(j,I,L,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=ih(L,j.mode,F),I.return=j,I):(I=c(I,L.children||[]),I.return=j,I)}function H(j,I,L,F,ht){return I===null||I.tag!==7?(I=ss(L,j.mode,F,ht),I.return=j,I):(I=c(I,L),I.return=j,I)}function Q(j,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=nh(""+I,j.mode,L),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Y:return L=$o(I.type,I.key,I.props,null,j.mode,L),_l(L,I),L.return=j,L;case tt:return I=ih(I,j.mode,L),I.return=j,I;case w:return I=cs(I),Q(j,I,L)}if(Re(I)||U(I))return I=ss(I,j.mode,L,null),I.return=j,I;if(typeof I.then=="function")return Q(j,su(I),L);if(I.$$typeof===ct)return Q(j,eu(j,I),L);ru(j,I)}return null}function B(j,I,L,F){var ht=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(j,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ht?R(j,I,L,F):null;case tt:return L.key===ht?k(j,I,L,F):null;case w:return L=cs(L),B(j,I,L,F)}if(Re(L)||U(L))return ht!==null?null:H(j,I,L,F,null);if(typeof L.then=="function")return B(j,I,su(L),F);if(L.$$typeof===ct)return B(j,I,eu(j,L),F);ru(j,L)}return null}function P(j,I,L,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(L)||null,E(I,j,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return j=j.get(F.key===null?L:F.key)||null,R(I,j,F,ht);case tt:return j=j.get(F.key===null?L:F.key)||null,k(I,j,F,ht);case w:return F=cs(F),P(j,I,L,F,ht)}if(Re(F)||U(F))return j=j.get(L)||null,H(I,j,F,ht,null);if(typeof F.then=="function")return P(j,I,L,su(F),ht);if(F.$$typeof===ct)return P(j,I,L,eu(I,F),ht);ru(I,F)}return null}function lt(j,I,L,F){for(var ht=null,kt=null,ot=I,wt=I=0,It=null;ot!==null&&wt<L.length;wt++){ot.index>wt?(It=ot,ot=null):It=ot.sibling;var Bt=B(j,ot,L[wt],F);if(Bt===null){ot===null&&(ot=It);break}t&&ot&&Bt.alternate===null&&n(j,ot),I=f(Bt,I,wt),kt===null?ht=Bt:kt.sibling=Bt,kt=Bt,ot=It}if(wt===L.length)return a(j,ot),Ot&&Ii(j,wt),ht;if(ot===null){for(;wt<L.length;wt++)ot=Q(j,L[wt],F),ot!==null&&(I=f(ot,I,wt),kt===null?ht=ot:kt.sibling=ot,kt=ot);return Ot&&Ii(j,wt),ht}for(ot=l(ot);wt<L.length;wt++)It=P(ot,j,wt,L[wt],F),It!==null&&(t&&It.alternate!==null&&ot.delete(It.key===null?wt:It.key),I=f(It,I,wt),kt===null?ht=It:kt.sibling=It,kt=It);return t&&ot.forEach(function(xa){return n(j,xa)}),Ot&&Ii(j,wt),ht}function mt(j,I,L,F){if(L==null)throw Error(r(151));for(var ht=null,kt=null,ot=I,wt=I=0,It=null,Bt=L.next();ot!==null&&!Bt.done;wt++,Bt=L.next()){ot.index>wt?(It=ot,ot=null):It=ot.sibling;var xa=B(j,ot,Bt.value,F);if(xa===null){ot===null&&(ot=It);break}t&&ot&&xa.alternate===null&&n(j,ot),I=f(xa,I,wt),kt===null?ht=xa:kt.sibling=xa,kt=xa,ot=It}if(Bt.done)return a(j,ot),Ot&&Ii(j,wt),ht;if(ot===null){for(;!Bt.done;wt++,Bt=L.next())Bt=Q(j,Bt.value,F),Bt!==null&&(I=f(Bt,I,wt),kt===null?ht=Bt:kt.sibling=Bt,kt=Bt);return Ot&&Ii(j,wt),ht}for(ot=l(ot);!Bt.done;wt++,Bt=L.next())Bt=P(ot,j,wt,Bt.value,F),Bt!==null&&(t&&Bt.alternate!==null&&ot.delete(Bt.key===null?wt:Bt.key),I=f(Bt,I,wt),kt===null?ht=Bt:kt.sibling=Bt,kt=Bt);return t&&ot.forEach(function(h1){return n(j,h1)}),Ot&&Ii(j,wt),ht}function Jt(j,I,L,F){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ht=L.key;I!==null;){if(I.key===ht){if(ht=L.type,ht===$){if(I.tag===7){a(j,I.sibling),F=c(I,L.props.children),F.return=j,j=F;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&cs(ht)===I.type){a(j,I.sibling),F=c(I,L.props),_l(F,L),F.return=j,j=F;break t}a(j,I);break}else n(j,I);I=I.sibling}L.type===$?(F=ss(L.props.children,j.mode,F,L.key),F.return=j,j=F):(F=$o(L.type,L.key,L.props,null,j.mode,F),_l(F,L),F.return=j,j=F)}return g(j);case tt:t:{for(ht=L.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(j,I.sibling),F=c(I,L.children||[]),F.return=j,j=F;break t}else{a(j,I);break}else n(j,I);I=I.sibling}F=ih(L,j.mode,F),F.return=j,j=F}return g(j);case w:return L=cs(L),Jt(j,I,L,F)}if(Re(L))return lt(j,I,L,F);if(U(L)){if(ht=U(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),mt(j,I,L,F)}if(typeof L.then=="function")return Jt(j,I,su(L),F);if(L.$$typeof===ct)return Jt(j,I,eu(j,L),F);ru(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(j,I.sibling),F=c(I,L),F.return=j,j=F):(a(j,I),F=nh(L,j.mode,F),F.return=j,j=F),g(j)):a(j,I)}return function(j,I,L,F){try{yl=0;var ht=Jt(j,I,L,F);return sr=null,ht}catch(ot){if(ot===ar||ot===iu)throw ot;var kt=fn(29,ot,null,j.mode);return kt.lanes=F,kt.return=j,kt}finally{}}}var fs=ig(!0),ag=ig(!1),ua=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ha(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Jo(t),qm(t,null,a),n}return Zo(t,l,n,a),Jo(t)}function vl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qr(t,a)}}function yh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var _h=!1;function El(){if(_h){var t=ir;if(t!==null)throw t}}function Tl(t,n,a,l){_h=!1;var c=t.updateQueue;ua=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=R))}if(f!==null){var Q=c.baseState;g=0,H=k=R=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(Nt&B)===B:(l&B)===B){B!==0&&B===nr&&(_h=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,mt=E;B=n;var Jt=a;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){Q=lt.call(Jt,Q,B);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,B=typeof lt=="function"?lt.call(Jt,Q,B):lt,B==null)break t;Q=S({},Q,B);break t;case 2:ua=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=P,R=Q):H=H.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=k,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=Q}}function sg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sg(a[t],n)}var rr=V(null),lu=V(0);function lg(t,n){t=qi,nt(lu,t),nt(rr,n),qi=t|n.baseLanes}function vh(){nt(lu,qi),nt(rr,rr.current)}function Eh(){qi=lu.current,K(rr),K(lu)}var dn=V(null),Nn=null;function fa(t){var n=t.alternate;nt(fe,fe.current&1),nt(dn,t),Nn===null&&(n===null||rr.current!==null||n.memoizedState!==null)&&(Nn=t)}function Th(t){nt(fe,fe.current),nt(dn,t),Nn===null&&(Nn=t)}function og(t){t.tag===22?(nt(fe,fe.current),nt(dn,t),Nn===null&&(Nn=t)):da()}function da(){nt(fe,fe.current),nt(dn,dn.current)}function mn(t){K(dn),Nn===t&&(Nn=null),K(fe)}var fe=V(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cf(a)||Nf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,bt=null,Xt=null,Te=null,uu=!1,lr=!1,ds=!1,cu=0,bl=0,or=null,eT=0;function oe(){throw Error(r(321))}function bh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function Ah(t,n,a,l,c,f){return Oi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Fg:Lh,ds=!1,f=a(l,c),ds=!1,lr&&(f=cg(n,a,l,c)),ug(t),f}function ug(t){G.H=wl;var n=Xt!==null&&Xt.next!==null;if(Oi=0,Te=Xt=bt=null,uu=!1,bl=0,or=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&tu(t)&&(be=!0))}function cg(t,n,a,l){bt=t;var c=0;do{if(lr&&(or=null),bl=0,lr=!1,25<=c)throw Error(r(301));if(c+=1,Te=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Qg,f=n(a,l)}while(lr);return f}function nT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Sh(){var t=cu!==0;return cu=0,t}function wh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xh(t){if(uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uu=!1}Oi=0,Te=Xt=bt=null,lr=!1,bl=cu=0,or=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?bt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Te===null?bt.memoizedState:Te.next;if(n!==null)Te=n,Xt=t;else{if(t===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?bt.memoizedState=Te=t:Te=Te.next=t}return Te}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=bl;return bl+=1,or===null&&(or=[]),t=tg(or,t,n),n=bt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Fg:Lh),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===ct)return Be(t)}throw Error(r(438,String(t)))}function Rh(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hu(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Mi(t,n){return typeof n=="function"?n(t):n}function du(t){var n=de();return Ch(n,Xt,t)}function Ch(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,R=null,k=n,H=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(Nt&Q)===Q:(Oi&Q)===Q){var B=k.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===nr&&(H=!0);else if((Oi&B)===B){k=k.next,B===nr&&(H=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,bt.lanes|=B,pa|=B;Q=k.action,ds&&a(f,Q),f=k.hasEagerState?k.eagerState:a(f,Q)}else B={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=B,g=f):R=R.next=B,bt.lanes|=Q,pa|=Q;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!hn(f,t.memoizedState)&&(be=!0,H&&(a=ir,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nh(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function hg(t,n,a){var l=bt,c=de(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,Vh(mg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,ur(9,{destroy:void 0},dg.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(Oi&127)!==0||fg(l,n,a)}return a}function fg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=hu(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function dg(t,n,a,l){n.value=a,n.getSnapshot=l,gg(n)&&pg(t)}function mg(t,n,a){return a(function(){gg(n)&&pg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function pg(t){var n=as(t,2);n!==null&&ln(n,t,2)}function Ih(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ds){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function yg(t,n,a,l){return t.baseState=a,Ch(t,Xt,typeof l=="function"?l:Mi)}function iT(t,n,a,l,c){if(pu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,_g(n,f)):(f.next=a.next,n.pending=a.next=f)}}function _g(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),R=G.S;R!==null&&R(g,E),vg(t,n,E)}catch(k){Dh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),vg(t,n,f)}catch(k){Dh(t,n,k)}}function vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Eg(t,n,l)},function(l){return Dh(t,n,l)}):Eg(t,n,a)}function Eg(t,n,a){n.status="fulfilled",n.value=a,Tg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,_g(t,a)))}function Dh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Tg(n),n=n.next;while(n!==l)}t.action=null}function Tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bg(t,n){return n}function Ag(t,n){if(Ot){var a=$t.formState;if(a!==null){t:{var l=bt;if(Ot){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=In(c.nextSibling),l=c.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},a.queue=l,a=Pg.bind(null,bt,l),l.dispatch=a,l=Ih(!1),f=zh.bind(null,bt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=iT.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Sg(t){var n=de();return wg(n,Xt,t)}function wg(t,n,a){if(n=Ch(t,n,bg)[0],t=du(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(g){throw g===ar?iu:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,ur(9,{destroy:void 0},aT.bind(null,c,a),null)),[l,f,t]}function aT(t,n){t.action=n}function xg(t){var n=de(),a=Xt;if(a!==null)return wg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ur(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=hu(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Rg(){return de().memoizedState}function mu(t,n,a,l){var c=$e();bt.flags|=t,c.memoizedState=ur(1|n,{destroy:void 0},a,l===void 0?null:l)}function gu(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&bh(l,Xt.memoizedState.deps)?c.memoizedState=ur(n,f,a,l):(bt.flags|=t,c.memoizedState=ur(1|n,f,a,l))}function Cg(t,n){mu(8390656,8,t,n)}function Vh(t,n){gu(2048,8,t,n)}function sT(t){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=hu(),bt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ng(t){var n=de().memoizedState;return sT({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ig(t,n){return gu(4,2,t,n)}function Dg(t,n){return gu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,a){a=a!=null?a.concat([t]):null,gu(4,4,Vg.bind(null,n,t),a)}function Oh(){}function Mg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function jg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bh(n,l[1]))return l[0];if(l=t(),ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Mh(t,n,a){return a===void 0||(Oi&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Up(),bt.lanes|=t,pa|=t,a)}function Ug(t,n,a,l){return hn(a,n)?a:rr.current!==null?(t=Mh(t,a,l),hn(t,n)||(be=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Nt&261930)===0?(be=!0,t.memoizedState=a):(t=Up(),bt.lanes|=t,pa|=t,n)}function zg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,zh(t,!1,n,a);try{var R=c(),k=G.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=tT(R,l);Sl(t,n,H,yn(t))}else Sl(t,n,l,yn(t))}catch(Q){Sl(t,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function rT(){}function jh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Lg(t).queue;zg(t,c,n,dt,a===null?rT:function(){return kg(t),a(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),Sl(t,n.next.queue,{},yn())}function Uh(){return Be(ql)}function Bg(){return de().memoizedState}function qg(){return de().memoizedState}function lT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ca(a);var l=ha(n,t,a);l!==null&&(ln(l,n,a),vl(l,n,a)),n={cache:hh()},t.payload=n;return}n=n.return}}function oT(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pu(t)?Hg(n,a):(a=th(t,n,a,l),a!==null&&(ln(a,t,l),Gg(a,n,l)))}function Pg(t,n,a){var l=yn();Sl(t,n,a,l)}function Sl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Hg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Zo(t,n,c,0),$t===null&&Xo(),!1}catch{}finally{}if(a=th(t,n,c,l),a!==null)return ln(a,t,l),Gg(a,n,l),!0}return!1}function zh(t,n,a,l){if(l={lane:2,revertLane:pf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(n)throw Error(r(479))}else n=th(t,a,l,2),n!==null&&ln(n,t,2)}function pu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Hg(t,n){lr=uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Gg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qr(t,a)}}var wl={readContext:Be,use:fu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};wl.useEffectEvent=oe;var Fg={readContext:Be,use:fu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:Cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,mu(4194308,4,Vg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return mu(4194308,4,t,n)},useInsertionEffect:function(t,n){mu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ds){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=oT.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Ih(t);var n=t.queue,a=Pg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Oh,useDeferredValue:function(t,n){var a=$e();return Mh(a,t,n)},useTransition:function(){var t=Ih(!1);return t=zg.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=$e();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Nt&127)!==0||fg(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Cg(mg.bind(null,l,f,t),[t]),l.flags|=2048,ur(9,{destroy:void 0},dg.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Ot){var a=mi,l=di;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=cu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:Ag,useActionState:Ag,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Rh,useCacheRefresh:function(){return $e().memoizedState=lT.bind(null,bt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lh={readContext:Be,use:fu,useCallback:Mg,useContext:Be,useEffect:Vh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:jg,useReducer:du,useRef:Rg,useState:function(){return du(Mi)},useDebugValue:Oh,useDeferredValue:function(t,n){var a=de();return Ug(a,Xt.memoizedState,t,n)},useTransition:function(){var t=du(Mi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:hg,useId:Bg,useHostTransitionStatus:Uh,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=de();return yg(a,Xt,t,n)},useMemoCache:Rh,useCacheRefresh:qg};Lh.useEffectEvent=Ng;var Qg={readContext:Be,use:fu,useCallback:Mg,useContext:Be,useEffect:Vh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:jg,useReducer:Nh,useRef:Rg,useState:function(){return Nh(Mi)},useDebugValue:Oh,useDeferredValue:function(t,n){var a=de();return Xt===null?Mh(a,t,n):Ug(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Nh(Mi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:hg,useId:Bg,useHostTransitionStatus:Uh,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var a=de();return Xt!==null?yg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:qg};Qg.useEffectEvent=Ng;function kh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ca(l);c.payload=n,a!=null&&(c.callback=a),n=ha(t,c,l),n!==null&&(ln(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ca(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ha(t,c,l),n!==null&&(ln(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ca(a);l.tag=2,n!=null&&(l.callback=n),n=ha(t,l,a),n!==null&&(ln(n,t,a),vl(n,t,a))}};function Yg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!hl(a,l)||!hl(c,f):!0}function Kg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Bh.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Xg(t){Ko(t)}function Zg(t){console.error(t)}function Jg(t){Ko(t)}function yu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qh(t,n,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){yu(t,n)},a}function Wg(t){return t=ca(t),t.tag=3,t}function tp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){$g(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){$g(n,a,l),typeof c!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function uT(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&er(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Nu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===au?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),df(t,l,c)),!1;case 22:return a.flags|=65536,l===au?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),df(t,l,c)),!1}throw Error(r(435,a.tag))}return df(t,l,c),Nu(),!1}if(Ot)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(r(422),{cause:l}),ml(wn(t,a)))):(l!==rh&&(n=Error(r(423),{cause:l}),ml(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=qh(t.stateNode,l,c),yh(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=wn(f,a),Ol===null?Ol=[f]:Ol.push(f),ue!==4&&(ue=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=qh(a.stateNode,l,t),yh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ya===null||!ya.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Wg(c),tp(c,t,a,l),yh(a,c),!1}a=a.return}while(a!==null);return!1}var Ph=Error(r(461)),be=!1;function qe(t,n,a,l){n.child=t===null?ag(n,null,a,l):fs(n,t.child,a,l)}function ep(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return os(n),l=Ah(t,n,a,g,f,c),E=Sh(),t!==null&&!be?(wh(t,n,c),ji(t,n,c)):(Ot&&E&&ah(n),n.flags|=1,qe(t,n,l,c),n.child)}function np(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!eh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ip(t,n,f,l,c)):(t=$o(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(g,l)&&t.ref===n.ref)return ji(t,n,c)}return n.flags|=1,t=Ni(f,l),t.ref=n.ref,t.return=n,n.child=t}function ip(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Zh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,ji(t,n,c)}return Hh(t,n,a,l,c)}function ap(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return sp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):vh(),og(n);else return l=n.lanes=536870912,sp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(nu(n,f.cachePool),lg(n,f),da(),n.memoizedState=null):(t!==null&&nu(n,null),vh(),da());return qe(t,n,c,a),n.child}function xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sp(t,n,a,l,c){var f=dh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&nu(n,null),vh(),og(n),t!==null&&er(t,n,l,!0),n.childLanes=c,null}function _u(t,n){return n=Eu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function rp(t,n,a){return fs(n,t.child,null,a),t=_u(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function cT(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=_u(n,l),n.lanes=536870912,xl(null,t);if(Th(n),(t=ee)?(t=_y(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=Hm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw la(n);return n.lanes=536870912,null}return _u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Th(n),c)if(n.flags&256)n.flags&=-257,n=rp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||er(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=$t,l!==null&&(g=Yr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,as(t,g),ln(l,t,g),Ph;Nu(),n=rp(t,n,a)}else t=f.treeContext,ee=In(g.nextSibling),ke=n,Ot=!0,ra=null,Cn=!1,t!==null&&Qm(n,t),n=_u(n,l),n.flags|=4096;return n}return t=Ni(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function vu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Hh(t,n,a,l,c){return os(n),a=Ah(t,n,a,l,void 0,c),l=Sh(),t!==null&&!be?(wh(t,n,c),ji(t,n,c)):(Ot&&l&&ah(n),n.flags|=1,qe(t,n,a,c),n.child)}function lp(t,n,a,l,c,f){return os(n),n.updateQueue=null,a=cg(n,l,a,c),ug(t),l=Sh(),t!==null&&!be?(wh(t,n,f),ji(t,n,f)):(Ot&&l&&ah(n),n.flags|=1,qe(t,n,a,f),n.child)}function op(t,n,a,l,c){if(os(n),n.stateNode===null){var f=Js,g=a.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Js,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(kh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ms(a,E);f.props=R;var k=f.context,H=a.contextType;g=Js,typeof H=="object"&&H!==null&&(g=Be(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Kg(n,f,l,g),ua=!1;var B=n.memoizedState;f.state=B,Tl(n,l,f,c),El(),k=n.memoizedState,E||B!==k||ua?(typeof Q=="function"&&(kh(n,a,Q,l),k=n.memoizedState),(R=ua||Yg(n,a,R,l,B,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),g=n.memoizedProps,H=ms(a,g),f.props=H,Q=n.pendingProps,B=f.context,k=a.contextType,R=Js,typeof k=="object"&&k!==null&&(R=Be(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||B!==R)&&Kg(n,f,l,R),ua=!1,B=n.memoizedState,f.state=B,Tl(n,l,f,c),El();var P=n.memoizedState;g!==Q||B!==P||ua||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof E=="function"&&(kh(n,a,E,l),P=n.memoizedState),(H=ua||Yg(n,a,H,l,B,P,R)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,vu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,c),n.child=fs(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=ji(t,n,c),t}function up(t,n,a,l){return rs(),n.flags|=256,qe(t,n,a,l),n.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(t){return{baseLanes:t,cachePool:$m()}}function Qh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function cp(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?fa(n):da(),(t=ee)?(t=_y(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},a=Hm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw la(n);return Nf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(da(),c=n.mode,E=Eu({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Fh(a),l.childLanes=Qh(t,g,a),n.memoizedState=Gh,xl(null,l)):(fa(n),Yh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(fa(n),n.flags&=-257,n=Kh(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,c=n.mode,l=Eu({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Fh(a),l.childLanes=Qh(t,g,a),n.memoizedState=Gh,n=xl(null,l));else if(fa(n),Nf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(r(419)),l.stack="",l.digest=g,ml({value:l,source:null,stack:null}),n=Kh(t,n,a)}else if(be||er(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=$t,g!==null&&(l=Yr(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,as(t,l),ln(g,t,l),Ph;Cf(E)||Nu(),n=Kh(t,n,a)}else Cf(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ee=In(E.nextSibling),ke=n,Ot=!0,ra=null,Cn=!1,t!==null&&Qm(n,t),n=Yh(n,l.children),n.flags|=4096);return n}return c?(da(),E=l.fallback,c=n.mode,R=t.child,k=R.sibling,l=Ni(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Ni(k,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Fh(a):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=$m(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Qh(t,g,a),n.memoizedState=Gh,xl(t.child,l)):(fa(n),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Yh(t,n){return n=Eu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Eu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Kh(t,n,a){return fs(n,t.child,null,a),t=Yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,a)}function Xh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function fp(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(t,n,l,a),l=Ot?dl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,a,n);else if(t.tag===19)hp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ou(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Xh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Xh(n,!0,a,null,f,l);break;case"together":Xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ni(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function hT(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),oa(n,Ee,t.memoizedState.cache),rs();break;case 27:case 5:Ba(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Th(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cp(t,n,a):(fa(n),t=ji(t,n,a),t!==null?t.sibling:null);fa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(er(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return fp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,ap(t,n,a,n.pendingProps);case 24:oa(n,Ee,t.memoizedState.cache)}return ji(t,n,a)}function dp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Zh(t,a)&&(n.flags&128)===0)return be=!1,hT(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&Fm(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")eh(t)?(l=ms(t,l),n.tag=1,n=op(null,n,t,l,a)):(n.tag=0,n=Hh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===At){n.tag=11,n=ep(null,n,t,l,a);break t}else if(c===N){n.tag=14,n=np(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return Hh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),op(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ph(t,n),Tl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,oa(n,Ee,l),l!==f.cache&&ch(n,[Ee],a,!0),El(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=up(t,n,l,a);break t}else if(l!==c){c=wn(Error(r(424)),n),ml(c),n=up(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=In(t.firstChild),ke=n,Ot=!0,ra=null,Cn=!0,a=ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rs(),l===c){n=ji(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return vu(t,n),t===null?(a=Sy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Uu(St.current).createElement(a),l[ye]=n,l[Oe]=t,Pe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=Sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ba(n),t===null&&Ot&&(l=n.stateNode=Ty(n.type,n.pendingProps,St.current),ke=n,Cn=!0,c=ee,Ta(n.type)?(If=c,ee=In(l.firstChild)):ee=c),qe(t,n,n.pendingProps.children,a),vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ee)&&(l=qT(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,ke=n,ee=In(l.firstChild),Cn=!1,c=!0):c=!1),c||la(n)),Ba(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,wf(c,f)?l=null:g!==null&&wf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,nT,null,null,a),ql._currentValue=c),vu(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ee)&&(a=PT(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,ke=n,ee=null,t=!0):t=!1),t||la(n)),null;case 13:return cp(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):qe(t,n,l,a),n.child;case 11:return ep(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=Be(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return np(t,n,n.type,n.pendingProps,a);case 15:return ip(t,n,n.type,n.pendingProps,a);case 19:return fp(t,n,a);case 31:return cT(t,n,a);case 22:return ap(t,n,a,n.pendingProps);case 24:return os(n),l=Be(Ee),t===null?(c=dh(),c===null&&(c=$t,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},gh(n),oa(n,Ee,c)):((t.lanes&a)!==0&&(ph(t,n),Tl(n,null,null,a),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),oa(n,Ee,l)):(l=f.cache,oa(n,Ee,l),l!==c.cache&&ch(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ui(t){t.flags|=4}function Jh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Bp())t.flags|=8192;else throw hs=au,mh}else t.flags&=-16777217}function mp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(n))if(Bp())t.flags|=8192;else throw hs=au,mh}function Tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ro():536870912,t.lanes|=n,dr|=n)}function Rl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function fT(t,n,a){var l=n.pendingProps;switch(sh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tr(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(ne(n),mp(n,f)):(ne(n),Jh(n,c,null,l,a))):f?f!==t.memoizedState?(Ui(n),ne(n),mp(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),ne(n),Jh(n,c,t,l,a)),null;case 27:if(Vs(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=rt.current,tr(n)?Ym(n):(t=Ty(c,l,a),n.stateNode=t,Ui(n))}return ne(n),null;case 5:if(Vs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=rt.current,tr(n))Ym(n);else{var g=Uu(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return ne(n),Jh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=St.current,tr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cy(t.nodeValue,a)),t||la(n,!0)}else t=Uu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=tr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Tu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&Ef(n.stateNode.containerInfo),ne(n),null;case 10:return Vi(n.type),ne(n),null;case 19:if(K(fe),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Rl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ou(t),f!==null){for(n.flags|=128,Rl(l,!1),t=f.updateQueue,n.updateQueue=t,Tu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Pm(a,t),a=a.sibling;return nt(fe,fe.current&1|2),Ot&&Ii(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>xu&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304)}else{if(!c)if(t=ou(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Tu(n,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ne(n),null}else 2*Ze()-l.renderingStartTime>xu&&a!==536870912&&(n.flags|=128,c=!0,Rl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,nt(fe,c?a&1|2:a&1),Ot&&Ii(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),Eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Tu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function dT(t,n){switch(sh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Vs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(fe),null;case 4:return ae(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),Eh(),t!==null&&K(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Ee),null;case 25:return null;default:return null}}function gp(t,n){switch(sh(n),n.tag){case 3:Vi(Ee),ae();break;case 26:case 27:case 5:Vs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(fe);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),Eh(),t!==null&&K(us);break;case 24:Vi(Ee)}}function Cl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ma(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,k=E;try{k()}catch(H){Yt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Yt(n,n.return,H)}}function pp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rg(n,a)}catch(l){Yt(t,t.return,l)}}}function yp(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Nl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function gi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function _p(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function $h(t,n,a){try{var l=t.stateNode;jT(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(tf(t,n,a),t=t.sibling;t!==null;)tf(t,n,a),t=t.sibling}function bu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bu(t,n,a),t=t.sibling;t!==null;)bu(t,n,a),t=t.sibling}function Ep(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ye]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var zi=!1,Ae=!1,ef=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,je=null;function mT(t,n){if(t=t.containerInfo,Af=Hu,t=Om(t),Kc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,H=0,Q=t,B=null;e:for(;;){for(var P;Q!==a||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||l!==0&&Q.nodeType!==3||(R=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(P=Q.firstChild)!==null;)B=Q,Q=P;for(;;){if(Q===t)break e;if(B===a&&++k===c&&(E=g),B===f&&++H===l&&(R=g),(P=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=P}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:t,selectionRange:a},Hu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var lt=ms(a.type,c);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Yt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Rf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function bp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(t,a),l&4&&Cl(5,a);break;case 1:if(ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&pp(a),l&512&&Nl(a,a.return);break;case 3:if(ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rg(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Ep(a);case 26:case 5:ki(t,a),n===null&&l&4&&_p(a),l&512&&Nl(a,a.return);break;case 12:ki(t,a);break;case 31:ki(t,a),l&4&&wp(t,a);break;case 13:ki(t,a),l&4&&xp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AT.bind(null,a),HT(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=zi;var f=Ae;zi=l,(Ae=n)&&!f?Bi(t,a,(a.subtreeFlags&8772)!==0):ki(t,a),zi=c,Ae=f}break;case 30:break;default:ki(t,a)}}function Ap(t){var n=t.alternate;n!==null&&(t.alternate=null,Ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,nn=!1;function Li(t,n,a){for(a=a.child;a!==null;)Sp(t,n,a),a=a.sibling}function Sp(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Ae||gi(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||gi(a,n);var l=re,c=nn;Ta(a.type)&&(re=a.stateNode,nn=!1),Li(t,n,a),Ll(a.stateNode),re=l,nn=c;break;case 5:Ae||gi(a,n);case 6:if(l=re,c=nn,re=null,Li(t,n,a),re=l,nn=c,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:re!==null&&(nn?(t=re,py(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tr(t)):py(re,a.stateNode));break;case 4:l=re,c=nn,re=a.stateNode.containerInfo,nn=!0,Li(t,n,a),re=l,nn=c;break;case 0:case 11:case 14:case 15:ma(2,a,n),Ae||ma(4,a,n),Li(t,n,a);break;case 1:Ae||(gi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yp(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Li(t,n,a),Ae=l;break;default:Li(t,n,a)}}function wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(a){Yt(n,n.return,a)}}}function xp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(a){Yt(n,n.return,a)}}function gT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tp),n;default:throw Error(r(435,t.tag))}}function Au(t,n){var a=gT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=ST.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){re=E.stateNode,nn=!1;break t}break;case 5:re=E.stateNode,nn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(re===null)throw Error(r(160));Sp(f,g,c),re=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rp(n,t),n=n.sibling}var Gn=null;function Rp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(ma(3,t,t.return),Cl(3,t),ma(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(Ae||a===null||gi(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(an(n,t),sn(t),l&512&&(Ae||a===null||gi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ei]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=Ry("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Ry("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else Cy(c,t.type,t.stateNode);else t.stateNode=xy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Cy(c,t.type,t.stateNode):xy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$h(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(Ae||a===null||gi(a,a.return)),a!==null&&l&4&&$h(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(Ae||a===null||gi(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(lt){Yt(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,$h(t,c,a!==null?a.memoizedProps:c)),l&1024&&(ef=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(lt){Yt(t,t.return,lt)}}break;case 3:if(ku=null,c=Gn,Gn=zu(n.containerInfo),an(n,t),Gn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(lt){Yt(t,t.return,lt)}ef&&(ef=!1,Cp(t));break;case 4:l=Gn,Gn=zu(t.stateNode.containerInfo),an(n,t),sn(t),Gn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=zi,H=Ae;if(zi=k||c,Ae=H||R,an(n,t),Ae=H,zi=k,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||zi||Ae||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===18){if(a===null){R=n;try{var P=R.stateNode;c?yy(P,!0):yy(R.stateNode,!1)}catch(lt){Yt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Au(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(vp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Wh(t);bu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Wh(t);bu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Wh(t);tf(t,k,R);break;default:throw Error(r(161))}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bp(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),gs(n);break;case 1:gi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yp(n,n.return,a),gs(n);break;case 27:Ll(n.stateNode);case 26:case 5:gi(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,a),Cl(4,f);break;case 1:if(Bi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)sg(R[c],E)}catch(k){Yt(l,l.return,k)}}a&&g&64&&pp(f),Nl(f,f.return);break;case 27:Ep(f);case 26:case 5:Bi(c,f,a),a&&l===null&&g&4&&_p(f),Nl(f,f.return);break;case 12:Bi(c,f,a);break;case 31:Bi(c,f,a),a&&g&4&&wp(c,f);break;case 13:Bi(c,f,a),a&&g&4&&xp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,a),Nl(f,f.return);break;case 30:break;default:Bi(c,f,a)}n=n.sibling}}function nf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(t,n,a,l),n=n.sibling}function Np(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),c&2048&&Cl(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Fn(t,n,a,l);break;case 31:Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):Il(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,cr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&nf(g,n);break;case 24:Fn(t,n,a,l),c&2048&&af(n.alternate,n);break;default:Fn(t,n,a,l)}}function cr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,R=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:cr(f,g,E,R,c),Cl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?cr(f,g,E,R,c):Il(f,g):(H._visibility|=2,cr(f,g,E,R,c)),c&&k&2048&&nf(g.alternate,g);break;case 24:cr(f,g,E,R,c),c&&k&2048&&af(g.alternate,g);break;default:cr(f,g,E,R,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Il(a,l),c&2048&&nf(l.alternate,l);break;case 24:Il(a,l),c&2048&&af(l.alternate,l);break;default:Il(a,l)}n=n.sibling}}var Dl=8192;function hr(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Ip(t,n,a),t=t.sibling}function Ip(t,n,a){switch(t.tag){case 26:hr(t,n,a),t.flags&Dl&&t.memoizedState!==null&&e1(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:hr(t,n,a);break;case 3:case 4:var l=Gn;Gn=zu(t.stateNode.containerInfo),hr(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,hr(t,n,a),Dl=l):hr(t,n,a));break;default:hr(t,n,a)}}function Dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Op(l,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vp(t),t=t.sibling}function Vp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&ma(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Su(t)):Vl(t);break;default:Vl(t)}}function Su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Op(l,t)}Dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ma(8,n,n.return),Su(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Su(n));break;default:Su(n)}t=t.sibling}}function Op(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(Ap(l),l===a){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var pT={getCacheForType:function(t){var n=Be(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Be(Ee).controller.signal}},yT=typeof WeakMap=="function"?WeakMap:Map,Pt=0,$t=null,Rt=null,Nt=0,Qt=0,gn=null,ga=!1,fr=!1,sf=!1,qi=0,ue=0,pa=0,ps=0,rf=0,pn=0,dr=0,Ol=null,rn=null,lf=!1,wu=0,Mp=0,xu=1/0,Ru=null,ya=null,Ie=0,_a=null,mr=null,Pi=0,of=0,uf=null,jp=null,Ml=0,cf=null;function yn(){return(Pt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?pf():Co()}function Up(){if(pn===0)if((Nt&536870912)===0||Ot){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===$t&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(gr(t,0),va(t,Nt,pn,!1)),Ga(t,a),((Pt&2)===0||t!==$t)&&(t===$t&&((Pt&2)===0&&(ps|=a),ue===4&&va(t,Nt,pn,!1)),pi(t))}function zp(t,n,a){if((Pt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),c=l?ET(t,n):ff(t,n,!0),f=l;do{if(c===0){fr&&!l&&va(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!_T(a)){c=ff(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ol;var R=E.current.memoizedState.isDehydrated;if(R&&(gr(E,g).flags|=256),g=ff(E,g,!1),g!==2){if(sf&&!R){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){gr(t,0),va(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:va(l,n,pn,!ga);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=wu+300-Ze(),10<c)){if(va(l,n,pn,!ga),$n(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=my(Lp.bind(null,l,a,rn,Ru,lf,n,pn,ps,dr,ga,f,"Throttled",-0,0),c);break t}Lp(l,a,rn,Ru,lf,n,pn,ps,dr,ga,f,null,-0,0)}}break}while(!0);pi(t)}function Lp(t,n,a,l,c,f,g,E,R,k,H,Q,B,P){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Ip(n,f,Q);var lt=(f&62914560)===f?wu-Ze():(f&4194048)===f?Mp-Ze():0;if(lt=n1(Q,lt),lt!==null){Pi=f,t.cancelPendingCommit=lt(Qp.bind(null,t,n,f,a,l,c,g,E,R,H,Q,null,B,P)),va(t,f,g,!k);return}}Qp(t,n,f,a,l,c,g,E,R)}function _T(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function va(t,n,a,l){n&=~rf,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Fa(t,a,n)}function Cu(){return(Pt&6)===0?(jl(0),!1):!0}function hf(){if(Rt!==null){if(Qt===0)var t=Rt.return;else t=Rt,Di=ls=null,xh(t),sr=null,yl=0,t=Rt;for(;t!==null;)gp(t.alternate,t),t=t.return;Rt=null}}function gr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pi=0,hf(),$t=t,Rt=a=Ni(t.current,null),Nt=n,Qt=0,gn=null,ga=!1,fr=jn(t,n),sf=!1,dr=pn=rf=ps=pa=ue=0,rn=Ol=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return qi=n,Xo(),a}function kp(t,n){bt=null,G.H=wl,n===ar||n===iu?(n=eg(),Qt=3):n===mh?(n=eg(),Qt=4):Qt=n===Ph?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ue=1,yu(t,wn(n,t.current)))}function Bp(){var t=dn.current;return t===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Nn:!1}function qp(){var t=G.H;return G.H=wl,t===null?wl:t}function Pp(){var t=G.A;return G.A=pT,t}function Nu(){ue=4,ga||(Nt&4194048)!==Nt&&dn.current!==null||(fr=!0),(pa&134217727)===0&&(ps&134217727)===0||$t===null||va($t,Nt,pn,!1)}function ff(t,n,a){var l=Pt;Pt|=2;var c=qp(),f=Pp();($t!==t||Nt!==n)&&(Ru=null,gr(t,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,R=gn;switch(Qt){case 8:hf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var k=Qt;if(Qt=0,gn=null,pr(t,E,R,k),a&&fr){g=0;break t}break;default:k=Qt,Qt=0,gn=null,pr(t,E,R,k)}}vT(),g=ue;break}catch(H){kp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Di=ls=null,Pt=l,G.H=c,G.A=f,Rt===null&&($t=null,Nt=0,Xo()),g}function vT(){for(;Rt!==null;)Hp(Rt)}function ET(t,n){var a=Pt;Pt|=2;var l=qp(),c=Pp();$t!==t||Nt!==n?(Ru=null,xu=Ze()+500,gr(t,n)):fr=jn(t,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,pr(t,n,f,1);break;case 2:case 9:if(Wm(f)){Qt=0,gn=null,Gp(n);break}n=function(){Qt!==2&&Qt!==9||$t!==t||(Qt=7),pi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Wm(f)?(Qt=0,gn=null,Gp(n)):(Qt=0,gn=null,pr(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Ny(g):E.stateNode.complete){Qt=0,gn=null;var R=E.sibling;if(R!==null)Rt=R;else{var k=E.return;k!==null?(Rt=k,Iu(k)):Rt=null}break e}}Qt=0,gn=null,pr(t,n,f,5);break;case 6:Qt=0,gn=null,pr(t,n,f,6);break;case 8:hf(),ue=6;break t;default:throw Error(r(462))}}TT();break}catch(H){kp(t,H)}while(!0);return Di=ls=null,G.H=l,G.A=c,Pt=a,Rt!==null?0:($t=null,Nt=0,Xo(),ue)}function TT(){for(;Rt!==null&&!qc();)Hp(Rt)}function Hp(t){var n=dp(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?Iu(t):Rt=n}function Gp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=lp(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=lp(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:xh(n);default:gp(a,n),n=Rt=Pm(n,qi),n=dp(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?Iu(t):Rt=n}function pr(t,n,a,l){Di=ls=null,xh(n),sr=null,yl=0;var c=n.return;try{if(uT(t,c,n,a,Nt)){ue=1,yu(t,wn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ue=1,yu(t,wn(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:fr||(Nt&536870912)!==0?t=!1:(ga=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fp(n,t)):Iu(n)}function Iu(t){var n=t;do{if((n.flags&32768)!==0){Fp(n,ga);return}t=n.return;var a=fT(n.alternate,n,qi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function Fp(t,n){do{var a=dT(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ue=6,Rt=null}function Qp(t,n,a,l,c,f,g,E,R){t.cancelPendingCommit=null;do Du();while(Ie!==0);if((Pt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Wc,Gc(t,a,f,g,E,R),t===$t&&(Rt=$t=null,Nt=0),mr=n,_a=t,Pi=a,of=f,uf=c,jp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wT(Xi,function(){return Jp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{mT(t,n,a)}finally{Pt=g,et.p=c,G.T=l}}Ie=1,Yp(),Kp(),Xp()}}function Yp(){if(Ie===1){Ie=0;var t=_a,n=mr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Rp(n,t);var f=Sf,g=Om(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Vm(E.ownerDocument.documentElement,E)){if(R!==null&&Kc(E)){var k=R.start,H=R.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var P=B.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),Jt=R.end===void 0?mt:Math.min(R.end,lt);!P.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var j=Dm(E,mt),I=Dm(E,Jt);if(j&&I&&(P.rangeCount!==1||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==I.node||P.focusOffset!==I.offset)){var L=Q.createRange();L.setStart(j.node,j.offset),P.removeAllRanges(),mt>Jt?(P.addRange(L),P.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),P.addRange(L))}}}}for(Q=[],P=E;P=P.parentNode;)P.nodeType===1&&Q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Hu=!!Af,Sf=Af=null}finally{Pt=c,et.p=l,G.T=a}}t.current=n,Ie=2}}function Kp(){if(Ie===2){Ie=0;var t=_a,n=mr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{bp(t,n.alternate,n)}finally{Pt=c,et.p=l,G.T=a}}Ie=3}}function Xp(){if(Ie===4||Ie===3){Ie=0,To();var t=_a,n=mr,a=Pi,l=jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,mr=_a=null,Zp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ya=null),wi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(Pi&3)!==0&&Du(),pi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===cf?Ml++:(Ml=0,cf=t):Ml=0,jl(0)}}function Zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function Du(){return Yp(),Kp(),Xp(),Jp()}function Jp(){if(Ie!==5)return!1;var t=_a,n=of;of=0;var a=wi(Pi),l=G.T,c=et.p;try{et.p=32>a?32:a,G.T=null,a=uf,uf=null;var f=_a,g=Pi;if(Ie=0,mr=_a=null,Pi=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,Vp(f.current),Np(f,f.current,g,a),Pt=E,jl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,G.T=l,Zp(t,n)}}function $p(t,n,a){n=wn(a,n),n=qh(t.stateNode,n,2),t=ha(t,n,2),t!==null&&(Ga(t,2),pi(t))}function Yt(t,n,a){if(t.tag===3)$p(t,t,a);else for(;n!==null;){if(n.tag===3){$p(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){t=wn(a,t),a=Wg(2),l=ha(n,a,2),l!==null&&(tp(a,l,n,t),Ga(l,2),pi(l));break}}n=n.return}}function df(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(sf=!0,c.add(a),t=bT.bind(null,t,n,a),n.then(t,t))}function bT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Nt&a)===a&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>Ze()-wu?(Pt&2)===0&&gr(t,0):rf|=a,dr===Nt&&(dr=0)),pi(t)}function Wp(t,n){n===0&&(n=Ro()),t=as(t,n),t!==null&&(Ga(t,n),pi(t))}function AT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Wp(t,a)}function ST(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wp(t,a)}function wT(t,n){return Ne(t,n)}var Vu=null,yr=null,mf=!1,Ou=!1,gf=!1,Ea=0;function pi(t){t!==yr&&t.next===null&&(yr===null?Vu=yr=t:yr=yr.next=t),Ou=!0,mf||(mf=!0,RT())}function jl(t,n){if(!gf&&Ou){gf=!0;do for(var a=!1,l=Vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,iy(l,f))}else f=Nt,f=$n(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(a=!0,iy(l,f));l=l.next}while(a);gf=!1}}function xT(){ty()}function ty(){Ou=mf=!1;var t=0;Ea!==0&&zT()&&(t=Ea);for(var n=Ze(),a=null,l=Vu;l!==null;){var c=l.next,f=ey(l,n);f===0?(l.next=null,a===null?Vu=c:a.next=c,c===null&&(yr=a)):(a=l,(t!==0||(f&3)!==0)&&(Ou=!0)),l=c}Ie!==0&&Ie!==5||jl(t),Ea!==0&&(Ea=0)}function ey(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Hc(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Nt,a=$n(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),wi(a)){case 2:case 8:a=Fr;break;case 32:a=Xi;break;case 268435456:a=bo;break;default:a=Xi}return l=ny.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function ny(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Du()&&t.callbackNode!==a)return null;var l=Nt;return l=$n(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(zp(t,l,n),ey(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?ny.bind(null,t):null)}function iy(t,n){if(Du())return null;zp(t,n,!0)}function RT(){kT(function(){(Pt&6)!==0?Ne(Gr,xT):ty()})}function pf(){if(Ea===0){var t=nr;t===0&&(t=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),Ea=t}return Ea}function ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qs(""+t)}function sy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CT(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=ay((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?ay(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var R=g?sy(c,g):new FormData(c);jh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?sy(c,g):new FormData(c),jh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var yf=0;yf<$c.length;yf++){var _f=$c[yf],NT=_f.toLowerCase(),IT=_f[0].toUpperCase()+_f.slice(1);Hn(NT,"on"+IT)}Hn(Um,"onAnimationEnd"),Hn(zm,"onAnimationIteration"),Hn(Lm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(QE,"onTransitionRun"),Hn(YE,"onTransitionStart"),Hn(KE,"onTransitionCancel"),Hn(km,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function ry(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(H){Ko(H)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(H){Ko(H)}c.currentTarget=null,f=R}}}}function Ct(t,n){var a=n[Us];a===void 0&&(a=n[Us]=new Set);var l=t+"__bubble";a.has(l)||(ly(n,t,2,!1),a.add(l))}function vf(t,n,a){var l=0;n&&(l|=4),ly(a,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[Mu]){t[Mu]=!0,Kr.forEach(function(a){a!=="selectionchange"&&(DT.has(a)||vf(a,!1,t),vf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,vf("selectionchange",!1,n))}}function ly(t,n,a,l){switch(Uy(n)){case 2:var c=s1;break;case 8:c=r1;break;default:c=jf}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Tf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ni(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ea(function(){var k=f,H=Tn(a),Q=[];t:{var B=Bm.get(t);if(B!==void 0){var P=ui,lt=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":P=Fo;break;case"focusin":lt="focus",P=ts;break;case"focusout":lt="blur",P=ts;break;case"beforeblur":case"afterblur":P=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case Um:case zm:case Lm:P=Lo;break;case km:P=b;break;case"scroll":case"scrollend":P=rl;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ci;break;case"toggle":case"beforetoggle":P=Tt}var mt=(n&4)!==0,Jt=!mt&&(t==="scroll"||t==="scrollend"),j=mt?B!==null?B+"Capture":null:B;mt=[];for(var I=k,L;I!==null;){var F=I;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||j===null||(F=kn(I,j),F!=null&&mt.push(zl(I,F,L))),Jt)break;I=I.return}0<mt.length&&(B=new P(B,lt,null,a,H),Q.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&a!==il&&(lt=a.relatedTarget||a.fromElement)&&(ni(lt)||lt[ti]))break t;if((P||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,P?(lt=a.relatedTarget||a.toElement,P=k,lt=lt?ni(lt):null,lt!==null&&(Jt=h(lt),mt=lt.tag,lt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(P=null,lt=k),P!==lt)){if(mt=ll,F="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ci,F="onPointerLeave",j="onPointerEnter",I="pointer"),Jt=P==null?B:un(P),L=lt==null?B:un(lt),B=new mt(F,I+"leave",P,a,H),B.target=Jt,B.relatedTarget=L,F=null,ni(H)===k&&(mt=new mt(j,I+"enter",lt,a,H),mt.target=L,mt.relatedTarget=Jt,F=mt),Jt=F,P&&lt)e:{for(mt=VT,j=P,I=lt,L=0,F=j;F;F=mt(F))L++;F=0;for(var ht=I;ht;ht=mt(ht))F++;for(;0<L-F;)j=mt(j),L--;for(;0<F-L;)I=mt(I),F--;for(;L--;){if(j===I||I!==null&&j===I.alternate){mt=j;break e}j=mt(j),I=mt(I)}mt=null}else mt=null;P!==null&&oy(Q,B,P,mt,!1),lt!==null&&Jt!==null&&oy(Q,Jt,lt,mt,!0)}}t:{if(B=k?un(k):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var kt=wm;else if(Am(B))if(xm)kt=HE;else{kt=qE;var ot=BE}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Bs(k.elementType)&&(kt=wm):kt=PE;if(kt&&(kt=kt(t,k))){Sm(Q,kt,a,H);break t}ot&&ot(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&tl(B,"number",B.value)}switch(ot=k?un(k):window,t){case"focusin":(Am(ot)||ot.contentEditable==="true")&&(Ks=ot,Xc=k,fl=null);break;case"focusout":fl=Xc=Ks=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Mm(Q,a,H);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Mm(Q,a,H)}var wt;if(qt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Ys?es(t,a)&&(It="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(fi&&a.locale!=="ko"&&(Ys||It!=="onCompositionStart"?It==="onCompositionEnd"&&Ys&&(wt=sl()):(oi=H,al="value"in oi?oi.value:oi.textContent,Ys=!0)),ot=ju(k,It),0<ot.length&&(It=new hi(It,t,null,a,H),Q.push({event:It,listeners:ot}),wt?It.data=wt:(wt=Qs(a),wt!==null&&(It.data=wt)))),(wt=An?UE(t,a):zE(t,a))&&(It=ju(k,"onBeforeInput"),0<It.length&&(ot=new hi("onBeforeInput","beforeinput",null,a,H),Q.push({event:ot,listeners:It}),ot.data=wt)),CT(Q,t,k,a,H)}ry(Q,n)})}function zl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ju(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(t,a),c!=null&&l.unshift(zl(t,c,f)),c=kn(t,n),c!=null&&l.push(zl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function VT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function oy(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||k===null||(R=k,c?(k=kn(a,f),k!=null&&g.unshift(zl(a,k,R))):c||(k=kn(a,f),k!=null&&g.push(zl(a,k,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function uy(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(MT,"")}function cy(t,n){return n=uy(n),uy(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":nl(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ls(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ls(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jo.get(a)||a,Ls(t,a,l))}}function bf(t,n,a,l,c,f){switch(a){case"style":nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ls(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,f,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,R=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Zt(t,n,l,H,a,null)}}Vo(t,f,E,R,k,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,n,g,E,a,null)}$i(t,l,c,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ct(Ul[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,k,l,a,null)}return;default:if(Bs(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&bf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function jT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,k=null,H=null;for(P in a){var Q=a[P];if(a.hasOwnProperty(P)&&Q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(P)||Zt(t,n,P,null,l,Q)}}for(var B in l){var P=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(P!=null||Q!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":k=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==Q&&Zt(t,n,B,P,l,Q)}}ks(t,g,E,R,k,H,f,c);return;case"select":P=g=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":P=R;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(t,n,c,f,l,R)}n=E,a=g,l=P,B!=null?Ji(t,!!a,B,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":P=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(t,n,g,c,l,f)}Oo(t,B,P);return;case"option":for(var lt in a)if(B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Zt(t,n,lt,null,l,B)}for(R in l)if(B=l[R],P=a[R],l.hasOwnProperty(R)&&B!==P&&(B!=null||P!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(t,n,R,B,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Zt(t,n,mt,null,l,B);for(k in l)if(B=l[k],P=a[k],l.hasOwnProperty(k)&&B!==P&&(B!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Zt(t,n,k,B,l,P)}return;default:if(Bs(n)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&bf(t,n,Jt,void 0,l,B);for(H in l)B=l[H],P=a[H],!l.hasOwnProperty(H)||B===P||B===void 0&&P===void 0||bf(t,n,H,B,l,P);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Zt(t,n,j,null,l,B);for(Q in l)B=l[Q],P=a[Q],!l.hasOwnProperty(Q)||B===P||B==null&&P==null||Zt(t,n,Q,B,l,P)}function hy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&hy(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],k=R.startTime;if(k>E)break;var H=R.transferSize,Q=R.initiatorType;H&&hy(Q)&&(R=R.responseEnd,g+=H*(R<E?1:(E-k)/(R-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Af=null,Sf=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function wf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(BT)}:my;function BT(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function py(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Tr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ll(t.ownerDocument.body);a=c}while(a);Tr(n)}function yy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rf(a),zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function PT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function _y(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$?"||t.data==="$~"}function Nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var If=null;function vy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return In(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ty(t,n,a){switch(n=Uu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zs(t)}var Dn=new Map,by=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=et.d;et.d={f:GT,r:FT,D:QT,C:YT,L:KT,m:XT,X:JT,S:ZT,M:$T};function GT(){var t=Hi.f(),n=Cu();return t||n}function FT(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?kg(n):Hi.r(t)}var _r=typeof document>"u"?null:document;function Ay(t,n,a){var l=_r;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),by.has(c)||(by.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function QT(t){Hi.D(t),Ay("dns-prefetch",t,null)}function YT(t,n){Hi.C(t,n),Ay("preconnect",t,n)}function KT(t,n,a){Hi.L(t,n,a);var l=_r;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=vr(t);break;case"script":f=Er(t)}Dn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function XT(t,n){Hi.m(t,n);var a=_r;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!Dn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(f)))return}l=a.createElement("link"),Pe(l,"link",t),_e(l),a.head.appendChild(l)}}}function ZT(t,n,a){Hi.S(t,n,a);var l=_r;if(l&&t){var c=ii(l).hoistableStyles,f=vr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(kl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&Df(t,a);var R=g=l.createElement("link");_e(R),Pe(R,"link",t),R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function JT(t,n){Hi.X(t,n);var a=_r;if(a&&t){var l=ii(a).hoistableScripts,c=Er(t),f=l.get(c);f||(f=a.querySelector(Bl(c)),f||(t=S({src:t,async:!0},n),(n=Dn.get(c))&&Vf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $T(t,n){Hi.M(t,n);var a=_r;if(a&&t){var l=ii(a).hoistableScripts,c=Er(t),f=l.get(c);f||(f=a.querySelector(Bl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Vf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Sy(t,n,a,l){var c=(c=St.current)?zu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=vr(a.href),a=ii(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vr(a.href);var f=ii(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||WT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(a),a=ii(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+tn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function WT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),_e(n),t.head.appendChild(n))}function Er(t){return'[src="'+tn(t)+'"]'}function Bl(t){return"script[async]"+t}function xy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Pe(l,"style",c),Lu(l,a.precedence,t),n.instance=l;case"stylesheet":c=vr(a.href);var f=t.querySelector(kl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=wy(a),(c=Dn.get(c))&&Df(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Lu(f,a.precedence,t),n.instance=f;case"script":return f=Er(a.src),(c=t.querySelector(Bl(f)))?(n.instance=c,_e(c),c):(l=a,(c=Dn.get(f))&&(l=S({},a),Vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,a.precedence,t));return n.instance}function Lu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ku=null;function Ry(t,n,a){if(ku===null){var l=new Map,c=ku=new Map;c.set(a,l)}else c=ku,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ei]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Cy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function t1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function e1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=vr(l.href),f=n.querySelector(kl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Bu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=wy(l),(c=Dn.get(c))&&Df(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Of=0;function n1(t,n){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Of===0&&(Of=62500*UT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Of?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qu=null;function Pu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qu=new Map,n.forEach(i1,t),qu=null,Bu.call(t))}function i1(t,n){if(!(n.state.loading&4)){var a=qu.get(t);if(a)var l=a.get(null);else{a=new Map,qu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:ct,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function a1(t,n,a,l,c,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Iy(t,n,a,l,c,f,g,E,R,k,H,Q){return t=new a1(t,n,a,g,R,k,H,Q,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=hh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},gh(f),t}function Dy(t){return t?(t=Js,t):Js}function Vy(t,n,a,l,c,f){c=Dy(c),l.context===null?l.context=c:l.pendingContext=c,l=ca(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ha(t,l,n),a!==null&&(ln(a,t,n),vl(a,t,n))}function Oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Mf(t,n){Oy(t,n),(t=t.alternate)&&Oy(t,n)}function My(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&ln(n,t,67108864),Mf(t,67108864)}}function jy(t){if(t.tag===13||t.tag===31){var n=yn();n=Qa(n);var a=as(t,n);a!==null&&ln(a,t,n),Mf(t,n)}}var Hu=!0;function s1(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=2,jf(t,n,a,l)}finally{et.p=f,G.T=c}}function r1(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=8,jf(t,n,a,l)}finally{et.p=f,G.T=c}}function jf(t,n,a,l){if(Hu){var c=Uf(l);if(c===null)Tf(t,n,l,Gu,a),zy(t,l);else if(o1(c,t,n,a,l))l.stopPropagation();else if(zy(t,l),n&4&&-1<l1.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}pi(f),(Pt&6)===0&&(xu=Ze()+500,jl(0))}}break;case 31:case 13:E=as(f,2),E!==null&&ln(E,f,2),Cu(),Mf(f,2)}if(f=Uf(l),f===null&&Tf(t,n,l,Gu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Tf(t,n,l,null,a)}}function Uf(t){return t=Tn(t),zf(t)}var Gu=null;function zf(t){if(Gu=null,t=ni(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Gu=t,null}function Uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Gr:return 2;case Fr:return 8;case Xi:case Pc:return 32;case bo:return 268435456;default:return 32}default:return 32}}var Lf=!1,ba=null,Aa=null,Sa=null,Pl=new Map,Hl=new Map,wa=[],l1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,n){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Gl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&My(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function o1(t,n,a,l,c){switch(n){case"focusin":return ba=Gl(ba,t,n,a,l,c),!0;case"dragenter":return Aa=Gl(Aa,t,n,a,l,c),!0;case"mouseover":return Sa=Gl(Sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,Gl(Pl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,Gl(Hl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ly(t){var n=ni(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){jy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Un(t.priority,function(){jy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Uf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return n=En(a),n!==null&&My(n),t.blockedOn=a,!1;n.shift()}return!0}function ky(t,n,a){Fu(t)&&a.delete(n)}function u1(){Lf=!1,ba!==null&&Fu(ba)&&(ba=null),Aa!==null&&Fu(Aa)&&(Aa=null),Sa!==null&&Fu(Sa)&&(Sa=null),Pl.forEach(ky),Hl.forEach(ky)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,u1)))}var Yu=null;function By(t){Yu!==t&&(Yu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(zf(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,jh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Tr(t){function n(R){return Qu(R,t)}ba!==null&&Qu(ba,t),Aa!==null&&Qu(Aa,t),Sa!==null&&Qu(Sa,t),Pl.forEach(n),Hl.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)Ly(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||By(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(zf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),By(a)}}}function qy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function kf(t){this._internalRoot=t}Ku.prototype.render=kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();Vy(a,l,t,n,null,null)},Ku.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vy(t.current,2,null,t,null,null),Cu(),n[ti]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&Ly(t)}};var Py=e.version;if(Py!=="19.2.3")throw Error(r(527,Py,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var c1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Mn=Xu.inject(c1),ze=Xu}catch{}}return Ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Xg,f=Zg,g=Jg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Iy(t,1,!1,null,null,a,l,null,c,f,g,qy),t[ti]=n.current,Ef(t),new kf(n)},Ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Xg,g=Zg,E=Jg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Iy(t,1,!0,n,a??null,l,c,R,f,g,E,qy),n.context=Dy(null),a=n.current,l=yn(),l=Qa(l),c=ca(l),c.callback=null,ha(a,c,l),a=l,n.current.lanes=a,Ga(n,a),pi(n),t[ti]=n.current,Ef(t),new Ku(n)},Ql.version="19.2.3",Ql}var $y;function E1(){if($y)return Pf.exports;$y=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pf.exports=v1(),Pf.exports}var T1=E1();const b1=()=>{};var Wy={};const A0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},A1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,T=h>>2,S=(h&3)<<4|p>>4;let O=(p&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(O=64)),r.push(i[T],i[S],i[O],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(A0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):A1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||y==null||S==null)throw new S1;const O=h<<2|p>>4;if(r.push(O),y!==64){const Y=p<<4&240|y>>2;if(r.push(Y),S!==64){const tt=y<<6&192|S;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class S1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w1=function(s){const e=A0(s);return S0.encodeByteArray(e,!0)},cc=function(s){return w1(s).replace(/\./g,"")},x1=function(s){try{return S0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C1=()=>R1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof Wy>"u")return;const s=Wy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},I1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&x1(s[1]);return e&&JSON.parse(e)},Od=()=>{try{return b1()||C1()||N1()||I1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},D1=s=>Od()?.emulatorHosts?.[s],V1=s=>{const e=D1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},w0=()=>Od()?.config;class O1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M1(s){return(await fetch(s,{credentials:"include"})).ok}function j1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[cc(JSON.stringify(i)),cc(JSON.stringify(d)),""].join(".")}const $l={};function U1(){const s={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?s.emulator.push(e):s.prod.push(e);return s}function z1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let t_=!1;function L1(s,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||$l[s]===e||$l[s]||t_)return;$l[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",h=U1().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{t_=!0,d()},O}function T(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=z1(r),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),at=i("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;p(ct),T(J,$);const At=y();v(ut,at),ct.append(ut,tt,J,At),document.body.appendChild(ct)}h?(tt.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function k1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){const s=Od()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function P1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function R0(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function H1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const G1="FirebaseError";class ka extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=G1,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?F1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ka(o,p,r)}}function F1(s,e){return s.replace(Q1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Q1=/\{\$([^}]+)}/g;function io(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(e_(h)&&e_(d)){if(!io(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function e_(s){return s!==null&&typeof s=="object"}const Y1=1e3,K1=2,X1=14400*1e3,Z1=.5;function n_(s,e=Y1,i=K1){const r=e*Math.pow(i,s),o=Math.round(Z1*r*(Math.random()-.5)*2);return Math.min(X1,r+o)}function Ai(s){return s&&s._delegate?s._delegate:s}class Gi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ys="[DEFAULT]";class J1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new O1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W1(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(s){return s===ys?void 0:s}function W1(s){return s.instantiationMode==="EAGER"}class tb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new J1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const eb={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},nb=zt.INFO,ib={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},ab=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ib[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jd{constructor(e){this.name=e,this._logLevel=nb,this._logHandler=ab,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const sb=(s,e)=>e.some(i=>s instanceof i);let i_,a_;function rb(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lb(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,ld=new WeakMap,N0=new WeakMap,Qf=new WeakMap,Ud=new WeakMap;function ob(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ca(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&C0.set(i,s)}).catch(()=>{}),Ud.set(e,s),e}function ub(s){if(ld.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});ld.set(s,e)}let od={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ld.get(s);if(e==="objectStoreNames")return s.objectStoreNames||N0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ca(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function cb(s){od=s(od)}function hb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Yf(this),e,...i);return N0.set(r,e.sort?e.sort():[e]),Ca(r)}:lb().includes(s)?function(...e){return s.apply(Yf(this),e),Ca(C0.get(this))}:function(...e){return Ca(s.apply(Yf(this),e))}}function fb(s){return typeof s=="function"?hb(s):(s instanceof IDBTransaction&&ub(s),sb(s,rb())?new Proxy(s,od):s)}function Ca(s){if(s instanceof IDBRequest)return ob(s);if(Qf.has(s))return Qf.get(s);const e=fb(s);return e!==s&&(Qf.set(s,e),Ud.set(e,s)),e}const Yf=s=>Ud.get(s);function I0(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=Ca(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ca(d.result),v.oldVersion,v.newVersion,Ca(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const db=["get","getKey","getAll","getAllKeys","count"],mb=["put","add","delete","clear"],Kf=new Map;function s_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=mb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||db.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Kf.set(e,h),h}cb(s=>({...s,get:(e,i,r)=>s_(e,i)||s.get(e,i,r),has:(e,i)=>!!s_(e,i)||s.has(e,i)}));class gb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function pb(s){return s.getComponent()?.type==="VERSION"}const ud="@firebase/app",r_="0.14.8";const Fi=new jd("@firebase/app"),yb="@firebase/app-compat",_b="@firebase/analytics-compat",vb="@firebase/analytics",Eb="@firebase/app-check-compat",Tb="@firebase/app-check",bb="@firebase/auth",Ab="@firebase/auth-compat",Sb="@firebase/database",wb="@firebase/data-connect",xb="@firebase/database-compat",Rb="@firebase/functions",Cb="@firebase/functions-compat",Nb="@firebase/installations",Ib="@firebase/installations-compat",Db="@firebase/messaging",Vb="@firebase/messaging-compat",Ob="@firebase/performance",Mb="@firebase/performance-compat",jb="@firebase/remote-config",Ub="@firebase/remote-config-compat",zb="@firebase/storage",Lb="@firebase/storage-compat",kb="@firebase/firestore",Bb="@firebase/ai",qb="@firebase/firestore-compat",Pb="firebase",Hb="12.9.0";const cd="[DEFAULT]",Gb={[ud]:"fire-core",[yb]:"fire-core-compat",[vb]:"fire-analytics",[_b]:"fire-analytics-compat",[Tb]:"fire-app-check",[Eb]:"fire-app-check-compat",[bb]:"fire-auth",[Ab]:"fire-auth-compat",[Sb]:"fire-rtdb",[wb]:"fire-data-connect",[xb]:"fire-rtdb-compat",[Rb]:"fire-fn",[Cb]:"fire-fn-compat",[Nb]:"fire-iid",[Ib]:"fire-iid-compat",[Db]:"fire-fcm",[Vb]:"fire-fcm-compat",[Ob]:"fire-perf",[Mb]:"fire-perf-compat",[jb]:"fire-rc",[Ub]:"fire-rc-compat",[zb]:"fire-gcs",[Lb]:"fire-gcs-compat",[kb]:"fire-fst",[qb]:"fire-fst-compat",[Bb]:"fire-vertex","fire-js":"fire-js",[Pb]:"fire-js-all"};const hc=new Map,Fb=new Map,hd=new Map;function l_(s,e){try{s.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Va(s){const e=s.name;if(hd.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,s);for(const i of hc.values())l_(i,s);for(const i of Fb.values())l_(i,s);return!0}function go(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Qb(s){return s==null?!1:s.settings!==void 0}const Yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Sc("app","Firebase",Yb);class Kb{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}const Xb=Hb;function D0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:cd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Na.create("bad-app-name",{appName:String(o)});if(i||(i=w0()),!i)throw Na.create("no-options");const h=hc.get(o);if(h){if(io(i,h.options)&&io(r,h.config))return h;throw Na.create("duplicate-app",{appName:o})}const d=new tb(o);for(const v of hd.values())d.addComponent(v);const p=new Kb(i,r,d);return hc.set(o,p),p}function V0(s=cd){const e=hc.get(s);if(!e&&s===cd&&w0())return D0();if(!e)throw Na.create("no-app",{appName:s});return e}function _i(s,e,i){let r=Gb[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}Va(new Gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Zb="firebase-heartbeat-database",Jb=1,ao="firebase-heartbeat-store";let Xf=null;function O0(){return Xf||(Xf=I0(Zb,Jb,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ao)}catch(i){console.warn(i)}}}}).catch(s=>{throw Na.create("idb-open",{originalErrorMessage:s.message})})),Xf}async function $b(s){try{const i=(await O0()).transaction(ao),r=await i.objectStore(ao).get(M0(s));return await i.done,r}catch(e){if(e instanceof ka)Fi.warn(e.message);else{const i=Na.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(i.message)}}}async function o_(s,e){try{const r=(await O0()).transaction(ao,"readwrite");await r.objectStore(ao).put(e,M0(s)),await r.done}catch(i){if(i instanceof ka)Fi.warn(i.message);else{const r=Na.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(r.message)}}}function M0(s){return`${s.name}!${s.options.appId}`}const Wb=1024,tA=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tA){const o=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u_(),{heartbeatsToSend:i,unsentEntries:r}=nA(this._heartbeatsCache.heartbeats),o=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fi.warn(e),""}}}function u_(){return new Date().toISOString().substring(0,10)}function nA(s,e=Wb){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),c_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),c_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?R0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(s){return cc(JSON.stringify({version:2,heartbeats:s})).length}function aA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function sA(s){Va(new Gi("platform-logger",e=>new gb(e),"PRIVATE")),Va(new Gi("heartbeat",e=>new eA(e),"PRIVATE")),_i(ud,r_,s),_i(ud,r_,"esm2020"),_i("fire-js","")}sA("");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ia,j0;(function(){var s;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,D,U){for(var x=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)x[ie-2]=arguments[ie];return w.prototype[D].apply(M,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let U=N.g[3],x;x=w+(U^C&(D^U))+M[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+M[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+M[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+M[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+M[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+M[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+M[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+M[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+M[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+M[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+M[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+M[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+M[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+M[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+M[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+M[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^U&(C^D))+M[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+M[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+M[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+M[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+M[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+M[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+M[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+M[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+M[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+M[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+M[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+M[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+M[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+M[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+M[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+M[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^U)+M[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+M[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+M[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+M[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+M[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+M[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+M[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+M[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+M[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+M[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+M[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+M[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+M[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+M[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+M[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+M[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~U))+M[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+M[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+M[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+M[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+M[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+M[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+M[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+M[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+M[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+M[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+M[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+M[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+M[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+M[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+M[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(M[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<w;)if(M[D++]=N[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[w++]=this.g[C]>>>M&255;return N};function h(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let M=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;M&&U==w||(C[D]=U,M=!1)}this.g=C}var p={};function v(N){return-128<=N&&N<128?h(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(y(-N));const w=[];let C=1;for(let M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let M=S;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const x=parseInt(N.substring(U,U+D),w);D<8?(D=y(Math.pow(w,D)),M=M.j(D).add(y(x))):(M=M.j(C),M=M.add(y(x)))}return M}var S=v(0),O=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if($(this))return-J(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if($(this))return"-"+J(this).toString(N);const w=y(Math.pow(N,6));var C=this;let M="";for(;;){const D=At(C,w).g;C=at(C,D.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,tt(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function $(N){return N.h==-1}s.l=function(N){return N=at(this,N),$(N)?-1:tt(N)?0:1};function J(N){const w=N.g.length,C=[];for(let M=0;M<w;M++)C[M]=~N.g[M];return new d(C,~N.h).add(O)}s.abs=function(){return $(this)?J(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let D=0;D<=w;D++){let U=M+(this.i(D)&65535)+(N.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=x>>>16,U&=65535,x&=65535,C[D]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(N,w){return N.add(J(w))}s.j=function(N){if(tt(this)||tt(N))return S;if($(this))return $(N)?J(this).j(J(N)):J(J(this).j(N));if($(N))return J(this.j(J(N)));if(this.l(Y)<0&&N.l(Y)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const U=this.i(M)>>>16,x=this.i(M)&65535,ie=N.i(D)>>>16,Re=N.i(D)&65535;C[2*M+2*D]+=x*Re,ut(C,2*M+2*D),C[2*M+2*D+1]+=U*Re,ut(C,2*M+2*D+1),C[2*M+2*D+1]+=x*ie,ut(C,2*M+2*D+1),C[2*M+2*D+2]+=U*ie,ut(C,2*M+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function ut(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ct(N,w){this.g=N,this.h=w}function At(N,w){if(tt(w))throw Error("division by zero");if(tt(N))return new ct(S,S);if($(N))return w=At(J(N),w),new ct(J(w.g),J(w.h));if($(w))return w=At(N,J(w)),new ct(J(w.g),w.h);if(N.g.length>30){if($(N)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=w;M.l(N)<=0;)C=Et(C),M=Et(M);var D=xt(C,1),U=xt(M,1);for(M=xt(M,2),C=xt(C,2);!tt(M);){var x=U.add(M);x.l(N)<=0&&(D=D.add(C),U=x),M=xt(M,1),C=xt(C,1)}return w=at(N,D.j(w)),new ct(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),x=U.j(w);$(x)||x.l(N)>0;)C-=M,U=y(C),x=U.j(w);tt(U)&&(U=O),D=D.add(U),N=at(N,x)}return new ct(D,N)}s.B=function(N){return At(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Et(N){const w=N.g.length+1,C=[];for(let M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function xt(N,w){const C=w>>5;w%=32;const M=N.g.length-C,D=[];for(let U=0;U<M;U++)D[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,j0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ia=d}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,Kl,z0,ac,fd,L0,k0,B0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in _))break t;_=_[z]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,z,q){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[z].apply(b,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const q=z.length||0;u.length=_+q;for(let W=0;W<q;W++)u[_+W]=z[W]}else u.push(z)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function at(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,_){const b=ct.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ct=new $(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,xt=!1,N=new ut,w=()=>{const u=Promise.resolve(void 0);Et=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(_){J(_)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,D),ie.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,_,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=z,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function Gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)u[_]=b[_];for(let q=0;q<K.length;q++)_=K[q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,b,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=St(u,m,b,z);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new et(m,this.src,q,!!b,z),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],z=Array.prototype.indexOf.call(b,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(b,z,1),q&&(dt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,b){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==b)return z}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ae(u,m,_,b,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],_,b,z);return null}return _=Hr(_),u&&u[Re]?u.J(m,_,p(b)?!!b.capture:!1,z):Ba(u,m,_,!1,b,z)}function Ba(u,m,_,b,z,q){if(!m)throw Error("Invalid event type");const W=p(z)?!!z.capture:!!z;let Tt=qa(u);if(Tt||(u[Mt]=Tt=new rt(u)),_=Tt.add(m,_,b,W,q),_.proxy)return _;if(b=Vs(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)U||(z=W),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vs(){function u(_){return m.call(u.src,u.listener,_)}const m=qr;return u}function Os(u,m,_,b,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Os(u,m[q],_,b,z);else b=p(b)?!!b.capture:!!b,_=Hr(_),u&&u[Re]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=St(m,_,b,z),_>-1&&(dt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=qa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,b,z)),(_=u>-1?m[u]:null)&&Ms(_))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])pt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(Xn(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=qa(m))?(pt(_,u),_.h==0&&(_.src=null,m[Mt]=null)):dt(u)}}}function Xn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function qr(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&Ms(u),u=_.call(b,m)}return u}function qa(u){return u=u[Mt],u instanceof rt?u:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hr(u){return typeof u=="function"?u:(u[Pr]||(u[Pr]=function(m){return u.handleEvent(m)}),u[Pr])}function ge(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,_,b){Os(this,u,m,_,b)};function Ne(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var z=m;m=new D(b,u),nt(m,z)}z=!0;let q,W;if(_)for(W=_.length-1;W>=0;W--)q=m.g=_[W],z=Ki(q,b,!0,m)&&z;if(q=m.g=u,z=Ki(q,b,!0,m)&&z,z=Ki(q,b,!1,m)&&z,_)for(W=0;W<_.length;W++)q=m.g=_[W],z=Ki(q,b,!1,m)&&z}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)dt(_[b]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},ge.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function Ki(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==_){const Tt=W.listener,he=W.ha||W.src;W.fa&&pt(u.i,W),z=Tt.call(he,b)!==!1&&z}}return z&&!b.defaultPrevented}function qc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function To(u){u.g=qc(()=>{u.g=null,u.i&&(u.i=!1,To(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){M.call(this),this.h=u,this.g={}}S(Pa,M);var Gr=[];function Fr(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ms(m)},u),u.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Fr(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Pc=d.JSON.parse,bo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function So(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function vn(){D.call(this,"c")}S(vn,D);var ce={},wo=null;function js(){return wo=wo||new ge}ce.Ia="serverreachability";function xo(u){D.call(this,ce.Ia,u)}S(xo,D);function Zn(u){const m=js();Ne(m,new xo(m))}ce.STAT_EVENT="statevent";function Ha(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}S(Ha,D);function pe(u){const m=js();Ne(m,new Ha(m,u))}ce.Ja="timingevent";function Jn(u,m){D.call(this,ce.Ja,u),this.size=m}S(Jn,D);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Hc(u,m,_,b,z,q){u.info(function(){if(u.g)if(q){var W="",Tt=q.split("&");for(let qt=0;qt<Tt.length;qt++){var he=Tt[qt].split("=");if(he.length>1){const se=he[0];he=he[1];const An=se.split("_");W=An.length>=2&&An[1]=="type"?W+(se+"="+he+"&"):W+(se+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+_+`
`+W})}function Ro(u,m,_,b,z,q,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+_+`
`+q+" "+W})}function Wn(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gc(u,_)+(b?" "+b:"")})}function Ga(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Gc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return Xi(q)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yr;function Qa(){}S(Qa,Ao),Qa.prototype.g=function(){return new XMLHttpRequest},Yr=new Qa;function wi(u){return encodeURIComponent(String(u))}function Co(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Un(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function ti(u,m,_){u.M=1,u.A=Ya(ve(m)),u.u=_,u.R=!0,Us(u,null)}function Us(u,m){u.F=Date.now(),ei(u),u.B=ve(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Bs(_.i,"t",b),u.C=0,_=u.j.L,u.h=new zn,u.g=Ho(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Gr[0]=z.toString()),z=Gr);for(let q=0;q<z.length;q++){const W=ae(_,z[q],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),Hc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Bn(this.g),he=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Tt!=4||he==7||(he==8||qt<=0?Zn(3):Zn(2)),ni(this);var m=this.g.ca();this.X=m;var _=Fc(this);if(this.o=m==200,Ro(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var q=b;break e}}q=null}if(u=q)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,pe(12),un(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<_.length;)if(se=Io(this,_),se==Oe){Tt==4&&(this.m=4,pe(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),Wn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,se,null),ii(this,se);if(No(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,_,"[Invalid Chunked Response]"),un(this),En(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ol(W),W.P=!0,pe(11))}}else Wn(this.i,this.l,_,null),ii(this,_);Tt==4&&un(this),this.o&&!this.K&&(Tt==4?ko(this.j,this):(this.o=!1,ei(this)))}else Ri(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),un(this),En(this)}}}catch{}finally{}};function Fc(u){if(!No(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let _="";const b=m.length,z=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(z&&q==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function No(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Io(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?Oe:(_=Number(m.substring(_,b)),isNaN(_)?ye:(b+=1,b+_>m.length?Oe:(m=m.slice(b,b+_),u.C=b+_,m)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function ei(u){u.T=Date.now()+u.H,zs(u,u.H)}function zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(y(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Zn(),pe(17)),un(this),this.m=2,En(this)):zs(this,this.T-u)};function En(u){u.j.I==0||u.K||ko(u.j,u)}function un(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Fr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||si(_.h,u))){if(!u.L&&si(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Fs(_),ia(_);else break t;ts(_),pe(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=$n(y(_.Va,_),6e3));ai(_.h)<=1&&_.ta&&(_.ta=void 0)}else hi(_,11)}else if((u.L||_.g==u)&&Fs(_),!x(m))for(z=_.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const se=qt[0];if(!(se<=_.K))if(_.K=se,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const An=qt[3];An!=null&&(_.ka=An,_.j.info("VER="+_.ka));const fi=qt[4];fi!=null&&(_.za=fi,_.j.info("SVER="+_.za));const qn=qt[5];qn!=null&&typeof qn=="number"&&qn>0&&(b=1.5*qn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pn=u.g;if(Pn){const es=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var q=b.h;q.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Zr(q,q.h),q.h=null))}if(b.G){const Qs=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(b.wa=Qs,Ft(b.J,b.G,Qs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var W=u;if(b.na=Po(b,b.L?b.ba:null,b.W),W.L){Jr(b.h,W);var Tt=W,he=b.O;he&&(Tt.H=he),Tt.D&&(ni(Tt),ei(Tt)),b.g=W}else zo(b);_.i.length>0&&ci(_)}else qt[0]!="stop"&&qt[0]!="close"||hi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?hi(_,7):rl(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}Zn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zr(u,m){u.g?u.g.add(m):u.h=m}function Jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=$r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $r(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Y(u.i)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ls(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let z,q=null;b>=0?(z=u[_].substring(0,b),q=u[_].substring(b+1)):z=u[_],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,Wr(this,jo(u.i)),this.m=u.m):u&&(m=String(u).match(Do))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Zi(this,m[4]),this.h=ri(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ka(m,ks,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ka(m,ks,!0),"@"),u.push(wi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ka(_,_.charAt(0)=="/"?tl:Vo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ka(_,Oo)),u.join("")},cn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)Zi(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let W=0;W<z.length;){const Tt=z[W++];Tt=="."?b&&W==z.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&W==z.length&&q.push("")):(q.push(Tt),b=!0)}b=q.join("/")}else b=z}return _?m.h=b:_=u.i.toString()!=="",_?Wr(m,jo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new cn(u)}function Me(u,m,_){u.j=_?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Wr(u,m,_){m instanceof $i?(u.i=m,qs(u.i,u.l)):(_||(m=Ka(m,Ji)),u.i=new $i(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function Ya(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ks=/[#\/\?@]/g,Vo=/[#\?:]/g,tl=/[#\?]/g,Ji=/[#\?@]/g,Oo=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Ls(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=$i.prototype,s.add=function(u,m){en(this),this.i=null,u=Wi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Mo(u,m){en(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function el(u,m){return en(u),m=Wi(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(_,b){_.forEach(function(z){u.call(m,z,b,this)},this)},this)};function nl(u,m){en(u);let _=[];if(typeof m=="string")el(u,m)&&(_=_.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return en(this),this.i=null,u=Wi(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=nl(this,u),u.length>0?String(u[0]):m):m};function Bs(u,m,_){Mo(u,m),_.length>0&&(u.i=null,u.g.set(Wi(u,m),Y(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const z=wi(_);_=nl(this,_);for(let q=0;q<_.length;q++){let W=z;_[q]!==""&&(W+="="+wi(_[q])),u.push(W)}}return this.i=u.join("&")};function jo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qs(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(_,b){const z=b.toLowerCase();b!=z&&(Mo(this,b),Bs(this,z,_))},u)),u.j=m}function Ln(u,m){const _=new jn;if(d.Image){const b=new Image;b.onload=T(Tn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Tn,_,"TestLoadImage: error",!1,m,b),b.onabort=T(Tn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Tn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function il(u,m){const _=new jn,b=new AbortController,z=setTimeout(()=>{b.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(z),q.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function ta(){this.g=new bo}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}S(li,Ao),li.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Xa,ge),s=Xa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ps(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ps(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ea(this):kn(this),this.readyState==3&&Ps(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ea(this))},s.Na=function(u){this.g&&(this.response=u,ea(this))},s.ga=function(){this.g&&ea(this)};function ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Za(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=bn(_),typeof u=="string"?_!=null&&wi(_):Ft(u,m,_))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var oi=/^https?$/i,al=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yr.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ja(this,q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(al,m,void 0)>=0)||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of _)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ja(this,q)}};function Ja(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),xi(u)}function sl(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},s.Xa=function(){$a(this)};function $a(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=q===0){let W=String(u.D).match(Do)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!oi.test(W?W.toLowerCase():"")}_=b}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var z=Bn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",sl(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var _=Co(u[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[z]||[];m[z]=q,q.push(_)}Gt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function na(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new ta,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=na.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){pe(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=Po(this,null,this.W),ci(this)};function rl(u){if(Hs(u),u.I==3){var m=u.V++,_=ve(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Wa(u,_),m=new Un(u,u.j,m),m.M=2,m.A=Ya(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Ho(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}qo(u)}function ia(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Hs(u){ia(u),u.v&&(d.clearTimeout(u.v),u.v=null),Fs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!Xr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Et||w(),xt||(Et(),xt=!0),N.add(m,u),u.D=0}}function Gs(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(y(u.Ea,u,m),Bo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Un(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Uo(this,z,m),_=ve(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),Wa(this,_),q&&(this.R?m="headers="+wi(bn(q))+"&"+m:this.u&&Za(_,this.u,q)),Zr(this.h,z),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),z.U=!0,ti(z,_,null)):ti(z,_,m),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Xr(this.h)||ll(this))};function ll(u,m){var _;m?_=m.l:_=u.V++;const b=ve(u.J);Ft(b,"SID",u.M),Ft(b,"RID",_),Ft(b,"AID",u.K),Wa(u,b),u.u&&u.o&&Za(b,u.u,u.o),_=new Un(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zr(u.h,_),ti(_,b,m)}function Wa(u,m){u.H&&Lt(u.H,function(_,b){Ft(m,b,_)}),u.l&&Lt({},function(_,b){Ft(m,b,_)})}function Uo(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let Tt=-1;for(;;){const he=["count="+_];Tt==-1?_>0?(Tt=z[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let qt=!0;for(let se=0;se<_;se++){var q=z[se].g;const An=z[se].map;if(q-=Tt,q<0)Tt=Math.max(0,z[se].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var W=An instanceof Map?An:Object.entries(An);for(const[fi,qn]of W){let Pn=qn;p(qn)&&(Pn=Xi(qn)),he.push(q+fi+"="+encodeURIComponent(Pn))}}catch(fi){throw he.push(q+"type="+encodeURIComponent("_badmap")),fi}}catch{b&&b(An)}}if(qt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function zo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Et||w(),xt||(Et(),xt=!0),N.add(m,u),u.A=0}}function ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(y(u.Da,u),Bo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Lo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ia(this),Lo(this))};function ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Lo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Wa(u,m),u.u&&u.o&&Za(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ya(ve(m)),_.u=null,_.R=!0,Us(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ia(this),ts(this),pe(19))};function Fs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ko(u,m){var _=null;if(u.g==m){Fs(u),ol(u),u.g=null;var b=2}else if(si(u.h,m))_=m.G,Jr(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;b=js(),Ne(b,new Jn(b,_)),ci(u)}else zo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&Gs(u,m)||b==2&&ts(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),z){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Bo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const z=!b;b=new cn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(b,"https"),Ya(b),z?Ln(b.toString(),_):il(b.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),qo(u),Hs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function qo(u){if(u.I=0,u.ja=[],u.l){const m=$r(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Po(u,m,_){var b=_ instanceof cn?ve(_):new cn(_);if(b.g!="")m&&(b.g=m+"."+b.g),Zi(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new cn(null);b&&Me(q,b),m&&(q.g=m),z&&Zi(q,z),_&&(q.h=_),b=q}return _=u.G,m=u.wa,_&&m&&Ft(b,_,m),Ft(b,"VER",u.ka),Wa(u,b),b}function Ho(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new li({ab:_})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}s=Go.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function aa(){}aa.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}S(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){rl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Xi(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&ci(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Je.Z.N.call(this)};function Fo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Fo,ze);function Qo(){vn.call(this),this.status=1}S(Qo,vn);function Ci(u){this.g=u}S(Ci,Go),Ci.prototype.ra=function(){Ne(this.g,"a")},Ci.prototype.qa=function(u){Ne(this.g,new Fo(u))},Ci.prototype.pa=function(u){Ne(this.g,new Qo)},Ci.prototype.oa=function(){Ne(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,B0=function(){return new aa},k0=function(){return js()},L0=ce,fd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,ac=Fa,Qr.COMPLETE="complete",z0=Qr,So.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Kl=So,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,U0=Kt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Ur="12.9.0";function rA(s){Ur=s}const bs=new jd("@firebase/firestore");function br(){return bs.logLevel}function st(s,...e){if(bs.logLevel<=zt.DEBUG){const i=e.map(zd);bs.debug(`Firestore (${Ur}): ${s}`,...i)}}function Qi(s,...e){if(bs.logLevel<=zt.ERROR){const i=e.map(zd);bs.error(`Firestore (${Ur}): ${s}`,...i)}}function As(s,...e){if(bs.logLevel<=zt.WARN){const i=e.map(zd);bs.warn(`Firestore (${Ur}): ${s}`,...i)}}function zd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,q0(s,r,i)}function q0(s,e,i){let r=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Qi(r),new Error(r)}function Ht(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||q0(e,o,r)}function vt(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ka{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class P0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class oA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Es)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new P0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class cA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new f_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=dA(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function dd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Zf(o)===Zf(h)?Dt(o,h):Zf(o)?1:-1}return Dt(s.length,e.length)}const mA=55296,gA=57343;function Zf(s){const e=s.charCodeAt(0);return e>=mA&&e<=gA}function Dr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const d_="__name__";class yi{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=yi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const r=yi.isNumericId(e),o=yi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?yi.extractNumericId(e).compare(yi.extractNumericId(i)):dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class Wt extends yi{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const pA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return pA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Ge([d_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}function H0(s,e,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yA(s,e,i,r){if(e===!0&&r===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function m_(s){if(!ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function g_(s){if(ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function xr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wc(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function xe(s,e){const i={typeString:s};return e&&(i.value=e),i}function po(s,e){if(!G0(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const p_=-62135596800,y_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*y_);return new te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<p_)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(po(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:xe("string",te._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new te(0,0))}static max(){return new yt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const so=-1;function _A(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Oa(o,ft.empty(),e)}function vA(s){return new Oa(s.readTime,s.key,so)}class Oa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Oa(yt.min(),ft.empty(),so)}static max(){return new Oa(yt.max(),ft.empty(),so)}}function EA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zr(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==TA)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((T=>{d[y]=T,++p,p===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function AA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Lr(s){return s.name==="IndexedDbTransactionError"}class xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xc.ce=-1;const kd=-1;function Rc(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function SA(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const F0="";function wA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=__(e)),e=xA(s.get(i),e);return __(e)}function xA(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case F0:i+="";break;default:i+=h}}return i}function __(s){return s+F0+""}function v_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Rs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Q0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Ve(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Dr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Y0("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=RA.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ja(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const K0="server_timestamp",X0="__type__",Z0="__previous_value__",J0="__local_write_time__";function Bd(s){return(s?.mapValue?.fields||{})[X0]?.stringValue===K0}function Cc(s){const e=s.mapValue.fields[Z0];return Bd(e)?Cc(e):e}function ro(s){const e=Ma(s.mapValue.fields[J0].timestampValue);return new te(e.seconds,e.nanos)}class CA{constructor(e,i,r,o,h,d,p,v,y,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const dc="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}function NA(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(s.options.projectId,e)}const $0="__type__",IA="__max__",$u={mapValue:{}},W0="__vector__",mc="value";function Ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bd(s)?4:VA(s)?9007199254740991:DA(s)?10:11:gt(28295,{value:s})}function Si(s,e){if(s===e)return!0;const i=Ua(s);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ro(s).isEqual(ro(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ma(o.timestampValue),p=Ma(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return ja(o.bytesValue).isEqual(ja(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),p=me(h.doubleValue);return d===p?fc(d)===fc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Dr(s.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(v_(d)!==v_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Si(d[v],p[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function oo(s,e){return(s.values||[]).find((i=>Si(i,e)))!==void 0}function Vr(s,e){if(s===e)return 0;const i=Ua(s),r=Ua(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return T_(s.timestampValue,e.timestampValue);case 4:return T_(ro(s),ro(e));case 5:return dd(s.stringValue,e.stringValue);case 6:return(function(h,d){const p=ja(h),v=ja(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const T=Dt(p[y],v[y]);if(T!==0)return T}return Dt(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Dt(me(h.latitude),me(d.latitude));return p!==0?p:Dt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return b_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},y=p[mc]?.arrayValue,T=v[mc]?.arrayValue,S=Dt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:b_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===$u.mapValue&&d===$u.mapValue)return 0;if(h===$u.mapValue)return 1;if(d===$u.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),y=d.fields||{},T=Object.keys(y);v.sort(),T.sort();for(let S=0;S<v.length&&S<T.length;++S){const O=dd(v[S],T[S]);if(O!==0)return O;const Y=Vr(p[v[S]],y[T[S]]);if(Y!==0)return Y}return Dt(v.length,T.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function T_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Ma(s),r=Ma(e),o=Dt(i.seconds,r.seconds);return o!==0?o:Dt(i.nanos,r.nanos)}function b_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Vr(i[o],r[o]);if(h)return h}return Dt(i.length,r.length)}function Or(s){return md(s)}function md(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ma(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ja(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=md(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${md(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function sc(s){switch(Ua(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(s);return e?16+sc(e):16;case 5:return 2*s.stringValue.length;case 6:return ja(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+sc(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Rs(r.fields,((h,d)=>{o+=h.length+sc(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function A_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function gd(s){return!!s&&"integerValue"in s}function qd(s){return!!s&&"arrayValue"in s}function S_(s){return!!s&&"nullValue"in s}function w_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function rc(s){return!!s&&"mapValue"in s}function DA(s){return(s?.mapValue?.fields||{})[$0]?.stringValue===W0}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Rs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(s.arrayValue.values[i]);return e}return{...s}}function VA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===IA}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Wl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Rs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Vn(Wl(this.value))}}function tv(s){const e=[];return Rs(s.fields,((i,r)=>{const o=new Ge([i]);if(rc(r)){const h=tv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Xe{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,yt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gc{constructor(e,i){this.position=e,this.inclusive=i}}function x_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Vr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function R_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Si(s.position[i],e.position[i]))return!1;return!0}class uo{constructor(e,i="asc"){this.field=e,this.dir=i}}function OA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class ev{}class we extends ev{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new jA(e,i,r):i==="array-contains"?new LA(e,r):i==="in"?new kA(e,r):i==="not-in"?new BA(e,r):i==="array-contains-any"?new qA(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new UA(e,r):new zA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Kn(e,i)}matches(e){return nv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nv(s){return s.op==="and"}function iv(s){return MA(s)&&nv(s)}function MA(s){for(const e of s.filters)if(e instanceof Kn)return!1;return!0}function pd(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Or(s.value);if(iv(s))return s.filters.map((e=>pd(e))).join(",");{const e=s.filters.map((i=>pd(i))).join(",");return`${s.op}(${e})`}}function av(s,e){return s instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Si(r.value,o.value)})(s,e):s instanceof Kn?(function(r,o){return o instanceof Kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&av(d,o.filters[p])),!0):!1})(s,e):void gt(19439)}function sv(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Or(i.value)}`})(s):s instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(sv).join(" ,")+"}"})(s):"Filter"}class jA extends we{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class UA extends we{constructor(e,i){super(e,"in",i),this.keys=rv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zA extends we{constructor(e,i){super(e,"not-in",i),this.keys=rv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rv(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class LA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qd(i)&&oo(i.arrayValue,this.value)}}class kA extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class BA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class qA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>oo(this.value.arrayValue,r)))}}class PA{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function C_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new PA(s,e,i,r,o,h,d)}function Pd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>pd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Or(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Or(r))).join(",")),e.Te=i}return e.Te}function Hd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!OA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!av(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!R_(s.startAt,e.startAt)&&R_(s.endAt,e.endAt)}function yd(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class kr{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HA(s,e,i,r,o,h,d,p){return new kr(s,e,i,r,o,h,d,p)}function Gd(s){return new kr(s)}function N_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function GA(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function lv(s){return s.collectionGroup!==null}function to(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new uo(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new uo(Ge.keyField(),r))}return e.Ie}function vi(s){const e=vt(s);return e.Ee||(e.Ee=FA(e,to(s))),e.Ee}function FA(s,e){if(s.limitType==="F")return C_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new uo(o.field,h)}));const i=s.endAt?new gc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gc(s.startAt.position,s.startAt.inclusive):null;return C_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function _d(s,e){const i=s.filters.concat([e]);return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function QA(s,e){const i=s.explicitOrderBy.concat([e]);return new kr(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function vd(s,e,i){return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nc(s,e){return Hd(vi(s),vi(e))&&s.limitType===e.limitType}function ov(s){return`${Pd(vi(s))}|lt:${s.limitType}`}function Ar(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>sv(o))).join(", ")}]`),Rc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Or(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Or(o))).join(",")),`Target(${r})`})(vi(s))}; limitType=${s.limitType})`}function Ic(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of to(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const y=x_(d,p,v);return d.inclusive?y<=0:y<0})(r.startAt,to(r),o)||r.endAt&&!(function(d,p,v){const y=x_(d,p,v);return d.inclusive?y>=0:y>0})(r.endAt,to(r),o))})(s,e)}function YA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uv(s){return(e,i)=>{let r=!1;for(const o of to(s)){const h=KA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function KA(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),y=p.data.field(h);return v!==null&&y!==null?Vr(v,y):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class Cs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const XA=new le(ft.comparator);function Yi(){return XA}const cv=new le(ft.comparator);function Xl(...s){let e=cv;for(const i of s)e=e.insert(i.key,i);return e}function hv(s){let e=cv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _s(){return eo()}function fv(){return eo()}function eo(){return new Cs((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ZA=new le(ft.comparator),JA=new Ve(ft.comparator);function Vt(...s){let e=JA;for(const i of s)e=e.add(i);return e}const $A=new Ve(Dt);function WA(){return $A}function Fd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function dv(s){return{integerValue:""+s}}function tS(s,e){return SA(e)?dv(e):Fd(s,e)}class Dc{constructor(){this._=void 0}}function eS(s,e,i){return s instanceof co?(function(o,h){const d={fields:{[X0]:{stringValue:K0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Bd(h)&&(h=Cc(h)),h&&(d.fields[Z0]=h),{mapValue:d}})(i,e):s instanceof ho?gv(s,e):s instanceof fo?pv(s,e):(function(o,h){const d=mv(o,h),p=I_(d)+I_(o.Ae);return gd(d)&&gd(o.Ae)?dv(p):Fd(o.serializer,p)})(s,e)}function nS(s,e,i){return s instanceof ho?gv(s,e):s instanceof fo?pv(s,e):i}function mv(s,e){return s instanceof pc?(function(r){return gd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class co extends Dc{}class ho extends Dc{constructor(e){super(),this.elements=e}}function gv(s,e){const i=yv(e);for(const r of s.elements)i.some((o=>Si(o,r)))||i.push(r);return{arrayValue:{values:i}}}class fo extends Dc{constructor(e){super(),this.elements=e}}function pv(s,e){let i=yv(e);for(const r of s.elements)i=i.filter((o=>!Si(o,r)));return{arrayValue:{values:i}}}class pc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function I_(s){return me(s.integerValue||s.doubleValue)}function yv(s){return qd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class iS{constructor(e,i){this.field=e,this.transform=i}}function aS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ho&&o instanceof ho||r instanceof fo&&o instanceof fo?Dr(r.elements,o.elements,Si):r instanceof pc&&o instanceof pc?Si(r.Ae,o.Ae):r instanceof co&&o instanceof co})(s.transform,e.transform)}class sS{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vc{}function _v(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Qd(s.key,Ei.none()):new yo(s.key,s.data,Ei.none());{const i=s.data,r=Vn.empty();let o=new Ve(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ns(s.key,r,new Qn(o.toArray()),Ei.none())}}function rS(s,e,i){s instanceof yo?(function(o,h,d){const p=o.value.clone(),v=V_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ns?(function(o,h,d){if(!lc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=V_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(vv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function no(s,e,i,r){return s instanceof yo?(function(h,d,p,v){if(!lc(h.precondition,d))return p;const y=h.value.clone(),T=O_(h.fieldTransforms,v,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ns?(function(h,d,p,v){if(!lc(h.precondition,d))return p;const y=O_(h.fieldTransforms,v,d),T=d.data;return T.setAll(vv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,p){return lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function lS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=mv(r.transform,o||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,h))}return i||null}function D_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Dr(r,o,((h,d)=>aS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class yo extends Vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends Vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function vv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function V_(s,e,i){const r=new Map;Ht(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,nS(d,p,i[o]))}return r}function O_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,eS(h,d,e))}return r}class Qd extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oS extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&rS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=no(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=fv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=_v(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Dr(this.mutations,e.mutations,((i,r)=>D_(i,r)))&&Dr(this.baseMutations,e.baseMutations,((i,r)=>D_(i,r)))}}class Yd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return ZA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Yd(e,i,r,o)}}class cS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Se,jt;function fS(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function Ev(s){if(s===void 0)return Qi("GRPC error has no .code"),X.UNKNOWN;switch(s){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function dS(){return new TextEncoder}const mS=new Ia([4294967295,4294967295],0);function M_(s){const e=dS().encode(s),i=new j0;return i.update(e),new Uint8Array(i.digest())}function j_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ia([i,r],0),new Ia([o,h],0)]}class Kd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ia.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ia.fromNumber(r)));return o.compare(mS)===1&&(o=new Ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M_(e),[r,o]=j_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Kd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=M_(e),[r,o]=j_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Oc(yt.min(),o,new le(Dt),Yi(),Vt())}}class _o{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new _o(r,i,Vt(),Vt(),Vt())}}class oc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Tv{constructor(e,i){this.targetId=e,this.Ce=i}}class bv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class U_{constructor(){this.ve=0,this.Fe=z_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=z_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.He=Wu(),this.Je=Wu(),this.Ze=new le(Dt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(yd(h))if(r===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=ja(r).toUint8Array()}catch(v){if(v instanceof Y0)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Kd(d,o,h)}catch(v){return As(v instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&yd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Vt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Oc(e,i,this.Ze,this.je,r);return this.je=Yi(),this.He=Wu(),this.Je=Wu(),this.Ze=new le(Dt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new U_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ve(Dt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ve(Dt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new le(ft.comparator)}function z_(){return new le(ft.comparator)}const pS={asc:"ASCENDING",desc:"DESCENDING"},yS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_S={and:"AND",or:"OR"};class vS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ed(s,e){return s.useProto3Json||Rc(e)?e:{value:e}}function yc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Av(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ES(s,e){return yc(s,e.toTimestamp())}function Ti(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const r=Ma(i);return new te(r.seconds,r.nanos)})(s))}function Xd(s,e){return Td(s,e).canonicalString()}function Td(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Sv(s){const e=Wt.fromString(s);return Ht(Nv(e),10190,{key:e.toString()}),e}function bd(s,e){return Xd(s.databaseId,e.path)}function Jf(s,e){const i=Sv(e);if(i.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(xv(i))}function wv(s,e){return Xd(s.databaseId,e)}function TS(s){const e=Sv(s);return e.length===4?Wt.emptyPath():xv(e)}function Ad(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function xv(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function L_(s,e,i){return{name:bd(s,e),fields:i.value.mapValue.fields}}function bS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?X.UNKNOWN:Ev(y.code);return new it(T,y.message||"")})(d);i=new bv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jf(s,r.document.name),h=Ti(r.document.updateTime),d=r.document.createTime?Ti(r.document.createTime):yt.min(),p=new Vn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new oc(y,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jf(s,r.document),h=r.readTime?Ti(r.readTime):yt.min(),d=Xe.newNoDocument(o,h),p=r.removedTargetIds||[];i=new oc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jf(s,r.document),h=r.removedTargetIds||[];i=new oc([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new hS(o,h),p=r.targetId;i=new Tv(p,d)}}return i}function AS(s,e){let i;if(e instanceof yo)i={update:L_(s,e.key,e.value)};else if(e instanceof Qd)i={delete:bd(s,e.key)};else if(e instanceof Ns)i={update:L_(s,e.key,e.data),updateMask:VS(e.fieldMask)};else{if(!(e instanceof oS))return gt(16599,{dt:e.type});i={verify:bd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof co)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:ES(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function SS(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Ti(o.updateTime):Ti(h);return d.isEqual(yt.min())&&(d=Ti(h)),new sS(d,o.transformResults||[])})(i,e)))):[]}function wS(s,e){return{documents:[wv(s,e.path)]}}function xS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=wv(s,o);const h=(function(y){if(y.length!==0)return Cv(Kn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:Sr(O.field),direction:NS(O.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Ed(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function RS(s){let e=TS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const O=Rv(S);return O instanceof Kn&&iv(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(tt){return new uo(wr(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,Rc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,Y=S.values||[];return new gc(Y,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,Y=S.values||[];return new gc(Y,O)})(i.endAt)),HA(e,o,d,h,p,"F",v,y)}function CS(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=wr(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=wr(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=wr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(wr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((r=>Rv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function NS(s){return pS[s]}function IS(s){return yS[s]}function DS(s){return _S[s]}function Sr(s){return{fieldPath:s.canonicalString()}}function wr(s){return Ge.fromServerFormat(s.fieldPath)}function Cv(s){return s instanceof we?(function(i){if(i.op==="=="){if(w_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NAN"}};if(S_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NAN"}};if(S_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(i.field),op:IS(i.op),value:i.value}}})(s):s instanceof Kn?(function(i){const r=i.getFilters().map((o=>Cv(o)));return r.length===1?r[0]:{compositeFilter:{op:DS(i.op),filters:r}}})(s):gt(54877,{filter:s})}function VS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Nv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Iv(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Ra{constructor(e,i,r,o,h=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OS{constructor(e){this.yt=e}}function MS(s){const e=RS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vd(e,e.limit,"L"):e}class jS{constructor(){this.Sn=new US}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Oa.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class US{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ve(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ve(Wt.comparator)).toArray()}}const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Dv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Mr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mr(0)}static ar(){return new Mr(-1)}}const B_="LruGarbageCollector",zS=1048576;function q_([s,e],[i,r]){const o=Dt(s,i);return o===0?Dt(e,r):o}class LS{constructor(e){this.Pr=e,this.buffer=new Ve(q_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();q_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(B_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Lr(i)?st(B_,"Ignoring IndexedDB error during garbage collection: ",i):await zr(i)}await this.Ar(3e5)}))}}class BS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(xc.ce);const r=new LS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(k_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,v,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),br()<=zt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function qS(s,e){return new BS(s,e)}class PS{constructor(){this.changes=new Cs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class GS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&no(r.mutation,o,Qn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Xl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_s();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=Yi();const d=eo(),p=(function(){return eo()})();return i.forEach(((v,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ns)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),no(T.mutation,y,T.mutation.getFieldMask(),te.now())):d.set(y.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new HS(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=eo();let o=new le(((d,p)=>d-p)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let T=r.get(v)||Qn.empty();T=p.applyToLocalView(y,T),r.set(v,T);const S=(o.get(p.batchId)||Vt()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,T=v.value,S=fv();T.forEach((O=>{if(!h.has(O)){const Y=_v(i.get(O),r.get(O));Y!==null&&S.set(O,Y),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return GA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):lv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(_s());let p=so,v=h;return d.next((y=>Z.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{v=v.insert(T,O)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Vt()))).next((T=>({batchId:p,changes:hv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Xl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next((p=>Z.forEach(p,(v=>{const y=(function(S,O){return new kr(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))}));let p=Xl();return d.forEach(((v,y)=>{const T=h.get(v);T!==void 0&&no(T.mutation,y,Qn.empty(),te.now()),Ic(i,y)&&(p=p.insert(v,y))})),p}))}}class FS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:MS(o.bundledQuery),readTime:Ti(o.readTime)}})(i)),Z.resolve()}}class QS{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=_s(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=h.get(y.largestBatchId);T===null&&(T=_s(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return Z.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new cS(i,r));let h=this.Lr.get(i);h===void 0&&(h=Vt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class YS{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Zd{constructor(){this.kr=new Ve(Ue.Kr),this.qr=new Ve(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Vt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||Dt(e.Hr,i.Hr)}static Ur(e,i){return Dt(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}class KS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Ue.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uS(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?kd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ve(Dt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let p=new Ve(Dt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XS{constructor(e){this.ti=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Yi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Yi();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:T}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||EA(vA(T),r)<=0||(o.has(T.key)||Ic(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){gt(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new ZS(this)}getSize(e){return Z.resolve(this.size)}}class ZS extends PS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class JS{constructor(e){this.persistence=e,this.ri=new Cs((i=>Pd(i)),Hd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Zd,this.targetCount=0,this.oi=Mr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class Vv{constructor(e,i){this._i={},this.overlays={},this.ai=new xc(0),this.ui=!1,this.ui=!0,this.ci=new YS,this.referenceDelegate=e(this),this.li=new JS(this),this.indexManager=new jS,this.remoteDocumentCache=(function(o){return new XS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new OS(i),this.Pi=new FS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new QS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new KS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new $S(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class $S extends bA{constructor(e){super(),this.currentSequenceNumber=e}}class Jd{constructor(e){this.persistence=e,this.Ri=new Zd,this.Ai=null}static Vi(e){return new Jd(e)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ft.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.fi=new Cs((r=>wA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=qS(this,i)}static Vi(e,i){return new _c(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sc(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $d{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new $d(e,i.fromCache,r,o)}}class WS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class t2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P1()?8:AA(k1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new WS;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(br()<=zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ar(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(br()<=zt.DEBUG&&st("QueryEngine","Query:",Ar(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(br()<=zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ar(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):Z.resolve())}gs(e,i){if(N_(i))return Z.resolve(null);let r=vi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vd(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Vt(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(e,vd(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,r,o){return N_(i)||o.isEqual(yt.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?Z.resolve(null):(br()<=zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ar(i)),this.Ds(e,d,i,_A(o,so)).next((p=>p)))}))}bs(e,i){let r=new Ve(uv(e));return i.forEach(((o,h)=>{Ic(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return br()<=zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ar(i)),this.fs.getDocumentsMatchingQuery(e,i,Oa.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Wd="LocalStore",e2=3e8;class n2{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new le(Dt),this.Fs=new Cs((h=>Pd(h)),Hd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function i2(s,e,i,r){return new n2(s,e,i,r)}async function Ov(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}for(const y of h){p.push(y.batchId);for(const T of y.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function a2(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,T){const S=y.batch,O=S.keys();let Y=Z.resolve();return O.forEach((tt=>{Y=Y.next((()=>T.getEntry(v,tt))).next(($=>{const J=y.docVersions.get(tt);Ht(J!==null,48541),$.version.compareTo(J)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Mv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function s2(s,e){const i=vt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const O=o.get(S);if(!O)return;p.push(i.li.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,S))));let Y=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?Y=Y.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(T.resumeToken,r)),o=o.insert(S,Y),(function($,J,at){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=e2?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(O,Y,T)&&p.push(i.li.updateTargetData(h,Y))}));let v=Yi(),y=Vt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(r2(h,d,e.documentUpdates).next((T=>{v=T.Bs,y=T.Ls}))),!r.isEqual(yt.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.vs=o,h)))}function r2(s,e,i){let r=Vt(),o=Vt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Yi();return i.forEach(((p,v)=>{const y=h.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):st(Wd,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function l2(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=kd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function o2(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ra(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Sd(s,e,i){const r=vt(s),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Lr(d))throw d;st(Wd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function P_(s,e,i){const r=vt(s);let o=yt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,T){const S=vt(v),O=S.Fs.get(T);return O!==void 0?Z.resolve(S.vs.get(O)):S.li.getTargetData(y,T)})(r,d,vi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Vt()))).next((p=>(u2(r,YA(e),p),{documents:p,ks:h})))))}function u2(s,e,i){let r=s.Ms.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Ms.set(e,r)}class H_{constructor(){this.activeTargetIds=WA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c2{constructor(){this.vo=new H_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new H_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h2{Mo(e){}shutdown(){}}const G_="ConnectivityMonitor";class F_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(G_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tc=null;function wd(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}const $f="RestConnection",f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class d2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===dc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=wd(),p=this.Qo(e,i.toUriEncodedString());st($f,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:y}=new URL(p),T=Md(y);return this.zo(e,p,v,r,T).then((S=>(st($f,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw As($f,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=f2[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class m2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",Yl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Rr extends d2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Rr.c_){const e=k0();Yl(e,L0.STAT_EVENT,(i=>{i.stat===fd.PROXY?st(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===fd.NOPROXY&&st(Ye,"STAT_EVENT: detected no buffering proxy")})),Rr.c_=!0}}zo(e,i,r,o,h){const d=wd();return new Promise(((p,v)=>{const y=new U0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ac.NO_ERROR:const S=y.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case ac.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),v(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const O=y.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const $=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN})(tt.status);v(new it($,tt.message))}else v(new it(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new it(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=wd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=h.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let S=!1,O=!1;const Y=new m2({Ho:tt=>{O?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(S||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,tt),T.send(tt))},Jo:()=>T.close()});return Yl(T,Kl.EventType.OPEN,(()=>{O||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),Yl(T,Kl.EventType.CLOSE,(()=>{O||(O=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(T))})),Yl(T,Kl.EventType.ERROR,(tt=>{O||(O=!0,As(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),Y.o_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),Yl(T,Kl.EventType.MESSAGE,(tt=>{if(!O){const $=tt.data[0];Ht(!!$,16349);const J=$,at=J?.error||J[0]?.error;if(at){st(Ye,`RPC '${e}' stream ${o} received error:`,at);const ut=at.status;let ct=(function(xt){const N=Se[xt];if(N!==void 0)return Ev(N)})(ut),At=at.message;ut==="NOT_FOUND"&&At.includes("database")&&At.includes("does not exist")&&At.includes(this.databaseId.database)&&As(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ct===void 0&&(ct=X.INTERNAL,At="Unknown error status: "+ut+" with message "+at.message),O=!0,Y.o_(new it(ct,At)),T.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,$),Y.__($)}})),Rr.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return B0()}}function g2(s){return new Rr(s)}function Wf(){return typeof document<"u"?document:null}function Mc(s){return new vS(s,!0)}Rr.c_=!1;class jv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Q_="PersistentStream";class Uv{constructor(e,i,r,o,h,d,p,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new it(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p2 extends Uv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=bS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ti(d.readTime):yt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Ad(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=yd(v)?{documents:wS(h,v)}:{query:xS(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Av(h,d.resumeToken);const y=Ed(h,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=yc(h,d.snapshotVersion.toTimestamp());const y=Ed(h,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=CS(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Ad(this.serializer),i.removeTarget=e,this.K_(i)}}class y2 extends Uv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=SS(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ad(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>AS(this.serializer,r)))};this.K_(i)}}class _2{}class v2 extends _2{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,Td(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(X.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Td(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function E2(s,e,i,r){return new v2(s,e,i,r)}class T2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class b2{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Is(this)&&(st(Ss,"Restarting streams for network reachability change."),await(async function(v){const y=vt(v);y.Ea.add(4),await vo(y),y.Va.set("Unknown"),y.Ea.delete(4),await jc(y)})(this))}))})),this.Va=new T2(r,o)}}async function jc(s){if(Is(s))for(const e of s.Ra)await e(!0)}async function vo(s){for(const e of s.Ra)await e(!1)}function zv(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),im(i)?nm(i):Br(i).O_()&&em(i,e))}function tm(s,e){const i=vt(s),r=Br(i);i.Ia.delete(e),r.O_()&&Lv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Is(i)&&i.Va.set("Unknown"))}function em(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Br(s).Z_(e)}function Lv(s,e){s.da.$e(e),Br(s).X_(e)}function nm(s){s.da=new gS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Br(s).start(),s.Va.ua()}function im(s){return Is(s)&&!Br(s).x_()&&s.Ia.size>0}function Is(s){return vt(s).Ea.size===0}function kv(s){s.da=void 0}async function A2(s){s.Va.set("Online")}async function S2(s){s.Ia.forEach(((e,i)=>{em(s,e)}))}async function w2(s,e){kv(s),im(s)?(s.Va.ha(e),nm(s)):s.Va.set("Unknown")}async function x2(s,e,i){if(s.Va.set("Online"),e instanceof bv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){st(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(s,r)}else if(e instanceof oc?s.da.Xe(e):e instanceof Tv?s.da.st(e):s.da.tt(e),!i.isEqual(yt.min()))try{const r=await Mv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const T=h.Ia.get(y);T&&h.Ia.set(y,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const T=h.Ia.get(v);if(!T)return;h.Ia.set(v,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),Lv(h,v);const S=new Ra(T.target,v,y,T.sequenceNumber);em(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){st(Ss,"Failed to raise snapshot:",r),await vc(s,r)}}async function vc(s,e,i){if(!Lr(e))throw e;s.Ea.add(1),await vo(s),s.Va.set("Offline"),i||(i=()=>Mv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Ss,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jc(s)}))}function Bv(s,e){return e().catch((i=>vc(s,i,e)))}async function Uc(s){const e=vt(s),i=za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kd;for(;R2(e);)try{const o=await l2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,C2(e,o)}catch(o){await vc(e,o)}qv(e)&&Pv(e)}function R2(s){return Is(s)&&s.Ta.length<10}function C2(s,e){s.Ta.push(e);const i=za(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function qv(s){return Is(s)&&!za(s).x_()&&s.Ta.length>0}function Pv(s){za(s).start()}async function N2(s){za(s).ra()}async function I2(s){const e=za(s);for(const i of s.Ta)e.ea(i.mutations)}async function D2(s,e,i){const r=s.Ta.shift(),o=Yd.from(r,e,i);await Bv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Uc(s)}async function V2(s,e){e&&za(s).Y_&&await(async function(r,o){if((function(d){return fS(d)&&d!==X.ABORTED})(o.code)){const h=r.Ta.shift();za(r).B_(),await Bv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Uc(r)}})(s,e),qv(s)&&Pv(s)}async function Y_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),st(Ss,"RemoteStore received new credentials");const r=Is(i);i.Ea.add(3),await vo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jc(i)}async function O2(s,e){const i=vt(s);e?(i.Ea.delete(2),await jc(i)):e||(i.Ea.add(2),await vo(i),i.Va.set("Unknown"))}function Br(s){return s.ma||(s.ma=(function(i,r,o){const h=vt(i);return h.sa(),new p2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:A2.bind(null,s),Yo:S2.bind(null,s),t_:w2.bind(null,s),J_:x2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),im(s)?nm(s):s.Va.set("Unknown")):(await s.ma.stop(),kv(s))}))),s.ma}function za(s){return s.fa||(s.fa=(function(i,r,o){const h=vt(i);return h.sa(),new y2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:N2.bind(null,s),t_:V2.bind(null,s),ta:I2.bind(null,s),na:D2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Uc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Ss,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class am{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new am(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(s,e){if(Qi("AsyncQueue",`${e}: ${s}`),Lr(s))return new it(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Cr{static emptySet(e){return new Cr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Xl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Cr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class K_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class jr{constructor(e,i,r,o,h,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new jr(e,i,Cr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class M2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class j2{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=vt(i),h=o.queries;o.queries=X_(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(r)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function X_(){return new Cs((s=>ov(s)),Nc)}async function U2(s,e){const i=vt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new M2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=sm(d,`Initialization of query '${Ar(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&rm(i)}async function z2(s,e){const i=vt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function L2(s,e){const i=vt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&rm(i)}function k2(s,e,i){const r=vt(s),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function rm(s){s.Ca.forEach((e=>{e.next()}))}var xd,Z_;(Z_=xd||(xd={})).Ma="default",Z_.Cache="cache";class B2{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xd.Cache}}class Hv{constructor(e){this.key=e}}class Gv{constructor(e){this.key=e}}class q2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=uv(e),this.tu=new Cr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new K_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const O=o.get(T),Y=Ic(this.query,S)?S:null,tt=!!O&&this.mutatedKeys.has(O.key),$=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;O&&Y?O.data.isEqual(Y.data)?tt!==$&&(r.track({type:3,doc:Y}),J=!0):this.su(O,Y)||(r.track({type:2,doc:Y}),J=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!O&&Y?(r.track({type:0,doc:Y}),J=!0):O&&!Y&&(r.track({type:1,doc:O}),J=!0,(v||y)&&(p=!0)),J&&(Y?(d=d.add(Y),h=$?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(Y,tt){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:J})}};return $(Y)-$(tt)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new jr(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new Gv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Hv(r))})),i}cu(e){this.Za=e.ks,this.Ya=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const lm="SyncEngine";class P2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class H2{constructor(e){this.key=e,this.hu=!1}}class G2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Cs((p=>ov(p)),Nc),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new Zd,this.du={},this.mu=new Map,this.fu=Mr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F2(s,e,i=!0){const r=Zv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Fv(r,e,i,!0),o}async function Q2(s,e){const i=Zv(s);await Fv(i,e,!0,!1)}async function Fv(s,e,i,r){const o=await o2(s.localStore,vi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await Y2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&zv(s.remoteStore,o),p}async function Y2(s,e,i,r,o){s.pu=(S,O,Y)=>(async function($,J,at,ut){let ct=J.view.ru(at);ct.Ss&&(ct=await P_($.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ct))));const At=ut&&ut.targetChanges.get(J.targetId),Et=ut&&ut.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(ct,$.isPrimaryClient,At,Et);return $_($,J.targetId,xt.au),xt.snapshot})(s,S,O,Y);const h=await P_(s.localStore,e,!0),d=new q2(e,h.ks),p=d.ru(h.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,v);$_(s,i,y.au);const T=new P2(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function K2(s,e,i){const r=vt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Nc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Sd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&tm(r.remoteStore,o.targetId),Rd(r,o.targetId)})).catch(zr)):(Rd(r,o.targetId),await Sd(r.localStore,o.targetId,!0))}async function X2(s,e){const i=vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tm(i.remoteStore,r.targetId))}async function Z2(s,e,i){const r=iw(s);try{const o=await(function(d,p){const v=vt(d),y=te.now(),T=p.reduce(((Y,tt)=>Y.add(tt.key)),Vt());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=Yi(),$=Vt();return v.xs.getEntries(Y,T).next((J=>{tt=J,tt.forEach(((at,ut)=>{ut.isValidDocument()||($=$.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,tt))).next((J=>{S=J;const at=[];for(const ut of p){const ct=lS(ut,S.get(ut.key).overlayedDocument);ct!=null&&at.push(new Ns(ut.key,ct,tv(ct.value.mapValue),Ei.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,at,p)})).next((J=>{O=J;const at=J.applyToLocalDocumentSet(S,$);return v.documentOverlayCache.saveOverlays(Y,J.batchId,at)}))})).then((()=>({batchId:O.batchId,changes:hv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Dt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Eo(r,o.changes),await Uc(r.remoteStore)}catch(o){const h=sm(o,"Failed to persist write");i.reject(h)}}async function Qv(s,e){const i=vt(s);try{const r=await s2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Eo(i,r,e)}catch(r){await zr(r)}}function J_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let y=!1;v.queries.forEach(((T,S)=>{for(const O of S.ba)O.va(p)&&(y=!0)})),y&&rm(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J2(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new le(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Vt().add(h),v=new Oc(yt.min(),new Map,new le(Dt),d,p);await Qv(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),om(r)}else await Sd(r.localStore,e,!1).then((()=>Rd(r,e,i))).catch(zr)}async function $2(s,e){const i=vt(s),r=e.batch.batchId;try{const o=await a2(i.localStore,e);Kv(i,r,null),Yv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eo(i,o)}catch(o){await zr(o)}}async function W2(s,e,i){const r=vt(s);try{const o=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ht(S!==null,37113),T=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>v.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);Kv(r,e,i),Yv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Eo(r,o)}catch(o){await zr(o)}}function Yv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Kv(s,e,i){const r=vt(s);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Rd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||Xv(s,r)}))}function Xv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(tm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),om(s))}function $_(s,e,i){for(const r of i)r instanceof Hv?(s.Vu.addReference(r.key,e),tw(s,r)):r instanceof Gv?(st(lm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||Xv(s,r.key)):gt(19791,{wu:r})}function tw(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(st(lm,"New document in limbo: "+i),s.Eu.add(r),om(s))}function om(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new H2(i)),s.Ru=s.Ru.insert(i,r),zv(s.remoteStore,new Ra(vi(Gd(i.path)),r,"TargetPurposeLimboResolution",xc.ce))}}async function Eo(s,e,i){const r=vt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(y){o.push(y);const T=$d.Es(v.targetId,y);h.push(T)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,y){const T=vt(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(O=>Z.forEach(O.Ts,(Y=>T.persistence.referenceDelegate.addReference(S,O.targetId,Y))).next((()=>Z.forEach(O.Is,(Y=>T.persistence.referenceDelegate.removeReference(S,O.targetId,Y)))))))))}catch(S){if(!Lr(S))throw S;st(Wd,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const Y=T.vs.get(O),tt=Y.snapshotVersion,$=Y.withLastLimboFreeSnapshotVersion(tt);T.vs=T.vs.insert(O,$)}}})(r.localStore,h))}async function ew(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){st(lm,"User change. New user:",e.toKey());const r=await Ov(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eo(i,r.Ns)}}function nw(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Zv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J2.bind(null,e),e.Pu.J_=L2.bind(null,e.eventManager),e.Pu.yu=k2.bind(null,e.eventManager),e}function iw(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return i2(this.persistence,new t2,e.initialUser,this.serializer)}Cu(e){return new Vv(Jd.Vi,this.serializer)}Du(e){return new c2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class aw extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof _c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Vv((r=>_c.Vi(r,i)),this.serializer)}}class Cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>J_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ew.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j2})()}createDatastore(e){const i=Mc(e.databaseInfo.databaseId),r=g2(e.databaseInfo);return E2(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new b2(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>J_(this.syncEngine,i,0)),(function(){return F_.v()?new F_:new h2})())}createSyncEngine(e,i){return(function(o,h,d,p,v,y,T){const S=new G2(o,h,d,p,v,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=vt(i);st(Ss,"RemoteStore shutting down."),r.Ea.add(5),await vo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cd.provider={build:()=>new Cd};class sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const La="FirestoreClient";class rw{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function td(s,e){s.asyncQueue.verifyOperationInProgress(),st(La,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Ov(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function W_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await lw(s);st(La,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Y_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Y_(e.remoteStore,o))),s._onlineComponents=e}async function lw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(La,"Using user provided OfflineComponentProvider");try{await td(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;As("Error using user provided cache. Falling back to memory cache: "+i),await td(s,new Ec)}}else st(La,"Using default OfflineComponentProvider"),await td(s,new aw(void 0));return s._offlineComponents}async function Jv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(La,"Using user provided OnlineComponentProvider"),await W_(s,s._uninitializedComponentsProvider._online)):(st(La,"Using default OnlineComponentProvider"),await W_(s,new Cd))),s._onlineComponents}function ow(s){return Jv(s).then((e=>e.syncEngine))}async function t0(s){const e=await Jv(s),i=e.eventManager;return i.onListen=F2.bind(null,e.syncEngine),i.onUnlisten=K2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=X2.bind(null,e.syncEngine),i}function uw(s,e,i,r){const o=new sw(r),h=new B2(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>U2(await t0(s),h))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>z2(await t0(s),h)))}}function cw(s,e){const i=new Es;return s.asyncQueue.enqueueAndForget((async()=>Z2(await ow(s),e,i))),i.promise}function $v(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const hw="ComponentProvider",e0=new Map;function fw(s,e,i,r,o){return new CA(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$v(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Wv="firestore.googleapis.com",n0=!0;class i0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wv,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zS)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$v(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lA;switch(r.type){case"firstParty":return new hA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=e0.get(i);r&&(st(hw,"Removing Datastore"),e0.delete(i),r.terminate())})(this),Promise.resolve()}}function dw(s,e,i,r={}){s=xr(s,zc);const o=Md(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(M1(`https://${p}`),L1("Firestore",!0)),h.host!==Wv&&h.host!==p&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!io(v,d)&&(s._setSettings(v),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ke.MOCK_USER;else{y=j1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(S)}s._authCredentials=new oA(new P0(y,T))}}class Ds{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class De{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(po(i,De._jsonSchema))return new De(e,r||null,new ft(Wt.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:xe("string",De._jsonSchemaVersion),referencePath:xe("string")};class Da extends Ds{constructor(e,i,r){super(e,i,Gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new ft(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function ed(s,e,...i){if(s=Ai(s),H0("collection","path",e),s instanceof zc){const r=Wt.fromString(e,...i);return g_(r),new Da(s,null,r)}{if(!(s instanceof De||s instanceof Da))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return g_(r),new Da(s.firestore,null,r)}}function tE(s,e,...i){if(s=Ai(s),arguments.length===1&&(e=Ld.newId()),H0("doc","path",e),s instanceof zc){const r=Wt.fromString(e,...i);return m_(r),new De(s,null,new ft(r))}{if(!(s instanceof De||s instanceof Da))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return m_(r),new De(s.firestore,s instanceof Da?s.converter:null,new ft(r))}}const a0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jv(this,"async_queue_retry"),this._c=()=>{const r=Wf();r&&st(a0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Lr(e))throw e;st(a0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",r0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=am.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function r0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class mo extends zc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new s0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function mw(s,e){const i=typeof s=="object"?s:V0(),r=typeof s=="string"?s:dc,o=go(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=V1("firestore");h&&dw(o,...h)}return o}function eE(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gw(s),s._firestoreClient}function gw(s){const e=s._freezeSettings(),i=fw(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new rw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Fe.fromBase64String(e))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(po(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:xe("string",On._jsonSchemaVersion),bytes:xe("string")};class nE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class um{constructor(e){this._methodName=e}}class bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(po(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:xe("string",bi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Yn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(po(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yn(e.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:xe("string",Yn._jsonSchemaVersion),vectorValues:xe("object")};const pw=/^__.*__$/;class yw{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}function iE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class cm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Tc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iE(this.dataSource)&&pw.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _w{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Mc(e)}createContext(e,i,r,o=!1){return new cm({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aE(s){const e=s._freezeSettings(),i=Mc(s._databaseId);return new _w(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vw(s,e,i,r,o,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,e,i,o);lE("Data must be an object, but it was:",d,r);const p=sE(r,d);let v,y;if(h.merge)v=new Qn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const O=Lc(e,S,i);if(!d.contains(O))throw new it(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Aw(T,O)||T.push(O)}v=new Qn(T),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new yw(new Vn(p),v,y)}class hm extends um{_toFieldTransform(e){return new iS(e.path,new co)}isEqual(e){return e instanceof hm}}function Ew(s,e,i,r=!1){return fm(i,s.createContext(r?4:3,e))}function fm(s,e){if(rE(s=Ai(s)))return lE("Unsupported field value:",e,s),sE(s,e);if(s instanceof um)return(function(r,o){if(!iE(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=fm(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:yc(o.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:Av(o.serializer,r._byteString)};if(r instanceof De){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Xd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Yn)return(function(d,p){const v=d instanceof Yn?d.toArray():d;return{mapValue:{fields:{[$0]:{stringValue:W0},[mc]:{arrayValue:{values:v.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Fd(p.serializer,T)}))}}}}}})(r,o);if(Iv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wc(r)}`)})(s,e)}function sE(s,e){const i={};return Q0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(s,((r,o)=>{const h=fm(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function rE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof bi||s instanceof On||s instanceof De||s instanceof um||s instanceof Yn||Iv(s))}function lE(s,e,i){if(!rE(i)||!G0(i)){const r=wc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Lc(s,e,i){if((e=Ai(e))instanceof nE)return e._internalPath;if(typeof e=="string")return bw(s,e);throw Tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Tw=new RegExp("[~\\*/\\[\\]]");function bw(s,e,i){if(e.search(Tw)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new nE(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new it(X.INVALID_ARGUMENT,p+s+v)}function Aw(s,e){return s.some((i=>i.isEqual(e)))}class Sw{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Rs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[mc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Yn(i)}convertGeoPoint(e){return new bi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Cc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Ma(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);Ht(Nv(r),9688,{name:e});const o=new lo(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class oE extends Sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function l0(){return new hm("serverTimestamp")}const o0="@firebase/firestore",u0="4.11.0";function c0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class uE{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Lc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ww extends uE{data(){return super.data()}}function xw(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class cE extends dm{}function Rw(s,e,...i){let r=[];e instanceof dm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof gm)).length,p=h.filter((v=>v instanceof mm)).length;if(d>1||d>0&&p>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class mm extends cE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new mm(e,i,r)}_apply(e){const i=this._parse(e);return hE(e._query,i),new Ds(e.firestore,e.converter,_d(e._query,i))}_parse(e){const i=aE(e.firestore);return(function(h,d,p,v,y,T,S){let O;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){f0(S,T);const tt=[];for(const $ of S)tt.push(h0(v,h,$));O={arrayValue:{values:tt}}}else O=h0(v,h,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||f0(S,T),O=Ew(p,d,S,T==="in"||T==="not-in");return we.create(y,T,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends dm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new gm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)hE(d,v),d=_d(d,v)})(e._query,i),new Ds(e.firestore,e.converter,_d(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pm extends cE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new pm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uo(h,d)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,QA(e._query,i))}}function Cw(s,e="asc"){const i=e,r=Lc("orderBy",s);return pm._create(r,i)}function h0(s,e,i){if(typeof(i=Ai(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lv(e)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A_(s,new ft(r))}if(i instanceof De)return A_(s,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wc(i)}.`)}function f0(s,e){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hE(s,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Nw(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends uE{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Lc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ts._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:xe("string",Ts._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class uc extends Ts{data(e={}){return super.data(e)}}class Nr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new uc(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Iw(p.type),doc:v,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Iw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Nr._jsonSchemaVersion="firestore/querySnapshot/1.0",Nr._jsonSchema={type:xe("string",Nr._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};function Dw(s){return fE(xr(s.firestore,mo),[new Qd(s._key,Ei.none())])}function d0(s,e){const i=xr(s.firestore,mo),r=tE(s),o=Nw(s.converter,e),h=aE(s.firestore);return fE(i,[vw(h,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then((()=>r))}function Vw(s,...e){s=Ai(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||c0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(c0(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,p;if(s instanceof De)d=xr(s.firestore,mo),p=Gd(s._key.path),h={next:y=>{e[r]&&e[r](Ow(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=xr(s,Ds);d=xr(y.firestore,mo),p=y._query;const T=new oE(d);h={next:S=>{e[r]&&e[r](new Nr(d,T,y,S))},error:e[r+1],complete:e[r+2]},xw(s._query)}const v=eE(d);return uw(v,p,o,h)}function fE(s,e){const i=eE(s);return cw(i,e)}function Ow(s,e,i){const r=i.docs.get(e._key),o=new oE(s);return new Ts(s,o,e._key,r,new Jl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){rA(Xb),Va(new Gi("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new mo(new uA(r.getProvider("auth-internal")),new fA(d,r.getProvider("app-check-internal")),NA(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),_i(o0,u0,e),_i(o0,u0,"esm2020")})();var Mw="firebase",jw="12.9.0";_i(Mw,jw,"app");const dE="@firebase/installations",ym="0.6.19";const mE=1e4,gE=`w:${ym}`,pE="FIS_v2",Uw="https://firebaseinstallations.googleapis.com/v1",zw=3600*1e3,Lw="installations",kw="Installations";const Bw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ws=new Sc(Lw,kw,Bw);function yE(s){return s instanceof ka&&s.code.includes("request-failed")}function _E({projectId:s}){return`${Uw}/projects/${s}/installations`}function vE(s){return{token:s.token,requestStatus:2,expiresIn:Pw(s.expiresIn),creationTime:Date.now()}}async function EE(s,e){const r=(await e.json()).error;return ws.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function TE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function qw(s,{refreshToken:e}){const i=TE(s);return i.append("Authorization",Hw(e)),i}async function bE(s){const e=await s();return e.status>=500&&e.status<600?s():e}function Pw(s){return Number(s.replace("s","000"))}function Hw(s){return`${pE} ${s}`}async function Gw({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=_E(s),o=TE(s),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:pE,appId:s.appId,sdkVersion:gE},p={method:"POST",headers:o,body:JSON.stringify(d)},v=await bE(()=>fetch(r,p));if(v.ok){const y=await v.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:vE(y.authToken)}}else throw await EE("Create Installation",v)}function AE(s){return new Promise(e=>{setTimeout(e,s)})}function Fw(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const Qw=/^[cdef][\w-]{21}$/,Nd="";function Yw(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=Kw(s);return Qw.test(i)?i:Nd}catch{return Nd}}function Kw(s){return Fw(s).substr(0,22)}function kc(s){return`${s.appName}!${s.appId}`}const SE=new Map;function wE(s,e){const i=kc(s);xE(i,e),Xw(i,e)}function xE(s,e){const i=SE.get(s);if(i)for(const r of i)r(e)}function Xw(s,e){const i=Zw();i&&i.postMessage({key:s,fid:e}),Jw()}let vs=null;function Zw(){return!vs&&"BroadcastChannel"in self&&(vs=new BroadcastChannel("[Firebase] FID Change"),vs.onmessage=s=>{xE(s.data.key,s.data.fid)}),vs}function Jw(){SE.size===0&&vs&&(vs.close(),vs=null)}const $w="firebase-installations-database",Ww=1,xs="firebase-installations-store";let nd=null;function _m(){return nd||(nd=I0($w,Ww,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(xs)}}})),nd}async function bc(s,e){const i=kc(s),o=(await _m()).transaction(xs,"readwrite"),h=o.objectStore(xs),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&wE(s,e.fid),e}async function RE(s){const e=kc(s),r=(await _m()).transaction(xs,"readwrite");await r.objectStore(xs).delete(e),await r.done}async function Bc(s,e){const i=kc(s),o=(await _m()).transaction(xs,"readwrite"),h=o.objectStore(xs),d=await h.get(i),p=e(d);return p===void 0?await h.delete(i):await h.put(p,i),await o.done,p&&(!d||d.fid!==p.fid)&&wE(s,p.fid),p}async function vm(s){let e;const i=await Bc(s.appConfig,r=>{const o=tx(r),h=ex(s,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Nd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function tx(s){const e=s||{fid:Yw(),registrationStatus:0};return CE(e)}function ex(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ws.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nx(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ix(s)}:{installationEntry:e}}async function nx(s,e){try{const i=await Gw(s,e);return bc(s.appConfig,i)}catch(i){throw yE(i)&&i.customData.serverCode===409?await RE(s.appConfig):await bc(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function ix(s){let e=await m0(s.appConfig);for(;e.registrationStatus===1;)await AE(100),e=await m0(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await vm(s);return r||i}return e}function m0(s){return Bc(s,e=>{if(!e)throw ws.create("installation-not-found");return CE(e)})}function CE(s){return ax(s)?{fid:s.fid,registrationStatus:0}:s}function ax(s){return s.registrationStatus===1&&s.registrationTime+mE<Date.now()}async function sx({appConfig:s,heartbeatServiceProvider:e},i){const r=rx(s,i),o=qw(s,i),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:gE,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},v=await bE(()=>fetch(r,p));if(v.ok){const y=await v.json();return vE(y)}else throw await EE("Generate Auth Token",v)}function rx(s,{fid:e}){return`${_E(s)}/${e}/authTokens:generate`}async function Em(s,e=!1){let i;const r=await Bc(s.appConfig,h=>{if(!NE(h))throw ws.create("not-registered");const d=h.authToken;if(!e&&ux(d))return h;if(d.requestStatus===1)return i=lx(s,e),h;{if(!navigator.onLine)throw ws.create("app-offline");const p=hx(h);return i=ox(s,p),p}});return i?await i:r.authToken}async function lx(s,e){let i=await g0(s.appConfig);for(;i.authToken.requestStatus===1;)await AE(100),i=await g0(s.appConfig);const r=i.authToken;return r.requestStatus===0?Em(s,e):r}function g0(s){return Bc(s,e=>{if(!NE(e))throw ws.create("not-registered");const i=e.authToken;return fx(i)?{...e,authToken:{requestStatus:0}}:e})}async function ox(s,e){try{const i=await sx(s,e),r={...e,authToken:i};return await bc(s.appConfig,r),i}catch(i){if(yE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await RE(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bc(s.appConfig,r)}throw i}}function NE(s){return s!==void 0&&s.registrationStatus===2}function ux(s){return s.requestStatus===2&&!cx(s)}function cx(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+zw}function hx(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function fx(s){return s.requestStatus===1&&s.requestTime+mE<Date.now()}async function dx(s){const e=s,{installationEntry:i,registrationPromise:r}=await vm(e);return r?r.catch(console.error):Em(e).catch(console.error),i.fid}async function mx(s,e=!1){const i=s;return await gx(i),(await Em(i,e)).token}async function gx(s){const{registrationPromise:e}=await vm(s);e&&await e}function px(s){if(!s||!s.options)throw id("App Configuration");if(!s.name)throw id("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw id(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function id(s){return ws.create("missing-app-config-values",{valueName:s})}const IE="installations",yx="installations-internal",_x=s=>{const e=s.getProvider("app").getImmediate(),i=px(e),r=go(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vx=s=>{const e=s.getProvider("app").getImmediate(),i=go(e,IE).getImmediate();return{getId:()=>dx(i),getToken:o=>mx(i,o)}};function Ex(){Va(new Gi(IE,_x,"PUBLIC")),Va(new Gi(yx,vx,"PRIVATE"))}Ex();_i(dE,ym);_i(dE,ym,"esm2020");const Ac="analytics",Tx="firebase_id",bx="origin",Ax=60*1e3,Sx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tm="https://www.googletagmanager.com/gtag/js";const We=new jd("@firebase/analytics");const wx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Sc("analytics","Analytics",wx);function xx(s){if(!s.startsWith(Tm)){const e=_n.create("invalid-gtag-resource",{gtagURL:s});return We.warn(e.message),""}return s}function DE(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function Rx(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function Cx(s,e){const i=Rx("firebase-js-sdk-policy",{createScriptURL:xx}),r=document.createElement("script"),o=`${Tm}?l=${s}&id=${e}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Nx(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function Ix(s,e,i,r,o,h){const d=r[o];try{if(d)await e[d];else{const v=(await DE(i)).find(y=>y.measurementId===o);v&&await e[v.appId]}}catch(p){We.error(p)}s("config",o,h)}async function Dx(s,e,i,r,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await DE(i);for(const v of d){const y=p.find(S=>S.measurementId===v),T=y&&e[y.appId];if(T)h.push(T);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",r,o||{})}catch(h){We.error(h)}}function Vx(s,e,i,r){async function o(h,...d){try{if(h==="event"){const[p,v]=d;await Dx(s,e,i,p,v)}else if(h==="config"){const[p,v]=d;await Ix(s,e,i,r,p,v)}else if(h==="consent"){const[p,v]=d;s("consent",p,v)}else if(h==="get"){const[p,v,y]=d;s("get",p,v,y)}else if(h==="set"){const[p]=d;s("set",p)}else s(h,...d)}catch(p){We.error(p)}}return o}function Ox(s,e,i,r,o){let h=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=Vx(h,s,e,i),{gtagCore:h,wrappedGtag:window[o]}}function Mx(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Tm)&&i.src.includes(s))return i;return null}const jx=30,Ux=1e3;class zx{constructor(e={},i=Ux){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VE=new zx;function Lx(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function kx(s){const{appId:e,apiKey:i}=s,r={method:"GET",headers:Lx(i)},o=Sx.replace("{app-id}",e),h=await fetch(o,r);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();p.error?.message&&(d=p.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function Bx(s,e=VE,i){const{appId:r,apiKey:o,measurementId:h}=s.options;if(!r)throw _n.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:r};throw _n.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Hx;return setTimeout(async()=>{p.abort()},Ax),OE({appId:r,apiKey:o,measurementId:h},d,p,e)}async function OE(s,{throttleEndTimeMillis:e,backoffCount:i},r,o=VE){const{appId:h,measurementId:d}=s;try{await qx(r,e)}catch(p){if(d)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:d};throw p}try{const p=await kx(s);return o.deleteThrottleMetadata(h),p}catch(p){const v=p;if(!Px(v)){if(o.deleteThrottleMetadata(h),d)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw p}const y=Number(v?.customData?.httpStatus)===503?n_(i,o.intervalMillis,jx):n_(i,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:i+1};return o.setThrottleMetadata(h,T),We.debug(`Calling attemptFetch again in ${y} millis`),OE(s,T,r,o)}}function qx(s,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(h),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Px(s){if(!(s instanceof ka)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Gx(s,e,i,r,o){if(o&&o.global){s("event",i,r);return}else{const h=await e,d={...r,send_to:h};s("event",i,d)}}async function Fx(s,e,i,r){if(r&&r.global){const o={};for(const h of Object.keys(i))o[`user_properties.${h}`]=i[h];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:i})}}async function Qx(){if(x0())try{await R0()}catch(s){return We.warn(_n.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return We.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Yx(s,e,i,r,o,h,d){const p=Bx(s);p.then(O=>{i[O.measurementId]=O.appId,s.options.measurementId&&O.measurementId!==s.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>We.error(O)),e.push(p);const v=Qx().then(O=>{if(O)return r.getId()}),[y,T]=await Promise.all([p,v]);Mx(h)||Cx(h,y.measurementId),o("js",new Date);const S=d?.config??{};return S[bx]="firebase",S.update=!0,T!=null&&(S[Tx]=T),o("config",y.measurementId,S),y.measurementId}class Kx{constructor(e){this.app=e}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},p0=[];const y0={};let ad="dataLayer",Xx="gtag",_0,bm,v0=!1;function Zx(){const s=[];if(q1()&&s.push("This is a browser extension environment."),H1()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=_n.create("invalid-analytics-context",{errorInfo:e});We.warn(i.message)}}function Jx(s,e,i){Zx();const r=s.options.appId;if(!r)throw _n.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Ir[r]!=null)throw _n.create("already-exists",{id:r});if(!v0){Nx(ad);const{wrappedGtag:h,gtagCore:d}=Ox(Ir,p0,y0,ad,Xx);bm=h,_0=d,v0=!0}return Ir[r]=Yx(s,p0,y0,e,_0,ad,i),new Kx(s)}function $x(s=V0()){s=Ai(s);const e=go(s,Ac);return e.isInitialized()?e.getImmediate():Wx(s)}function Wx(s,e={}){const i=go(s,Ac);if(i.isInitialized()){const o=i.getImmediate();if(io(e,i.getOptions()))return o;throw _n.create("already-initialized")}return i.initialize({options:e})}function tR(s,e,i){s=Ai(s),Fx(bm,Ir[s.app.options.appId],e,i).catch(r=>We.error(r))}function eR(s,e,i,r){s=Ai(s),Gx(bm,Ir[s.app.options.appId],e,i,r).catch(o=>We.error(o))}const E0="@firebase/analytics",T0="0.10.19";function nR(){Va(new Gi(Ac,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Jx(r,o,i)},"PUBLIC")),Va(new Gi("analytics-internal",s,"PRIVATE")),_i(E0,T0),_i(E0,T0,"esm2020");function s(e){try{const i=e.getProvider(Ac).getImmediate();return{logEvent:(r,o,h)=>eR(i,r,o,h),setUserProperties:(r,o)=>tR(i,r,o)}}catch(i){throw _n.create("interop-component-reg-failed",{reason:i})}}}nR();const Id={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},ME=D0(Id);$x(ME);const ec=mw(ME),Dd=!!(Id.apiKey&&Id.projectId),b0="quotebook_quotes",nc="quotes";function iR(){const[s,e]=Ut.useState([]),[i,r]=Ut.useState(!0),[o,h]=Ut.useState(null),[d,p]=Ut.useState(!1);Ut.useEffect(()=>{if(isFirebaseConfigured()){p(!0);const J=Rw(ed(ec,nc),Cw("timestamp","desc")),at=Vw(J,ut=>{const ct=[];ut.forEach(At=>{const Et=At.data();ct.push({id:At.id,text:Et.text,speaker:Et.speaker,addedBy:Et.addedBy,timestamp:Et.timestamp instanceof te?Et.timestamp.toMillis():Et.timestamp||Date.now()})}),e(ct),r(!1),h(null)},ut=>{console.error("Firestore error:",ut),h("Failed to connect to database. Check your Firebase config."),r(!1),v()});return()=>at()}else p(!1),v(),r(!1)},[]);const v=()=>{const J=localStorage.getItem(b0);if(J)try{e(JSON.parse(J))}catch{e([])}},y=Ut.useCallback(J=>{localStorage.setItem(b0,JSON.stringify(J)),e(J)},[]),T=Ut.useCallback(async(J,at,ut)=>{const ct={text:J,speaker:at.trim(),addedBy:ut.trim(),timestamp:Date.now()};if(d&&isFirebaseConfigured())try{await d0(ed(ec,nc),{...ct,timestamp:l0()})}catch(At){console.error("Error adding quote:",At),h("Failed to add quote. Please try again.")}else{const At={...ct,id:crypto.randomUUID()};y([At,...s])}},[s,d,y]),S=Ut.useCallback(async J=>{if(d&&isFirebaseConfigured())try{await Dw(tE(ec,nc,J))}catch(at){console.error("Error deleting quote:",at),h("Failed to delete quote. Please try again.")}else y(s.filter(at=>at.id!==J))},[s,d,y]),O=Ut.useCallback(()=>{const J=new Map;return s.forEach(at=>{const ut=J.get(at.speaker)||0;J.set(at.speaker,ut+1)}),Array.from(J.entries()).map(([at,ut])=>({name:at,quoteCount:ut})).sort((at,ut)=>ut.quoteCount-at.quoteCount)},[s]),Y=Ut.useCallback(J=>s.filter(at=>at.speaker===J),[s]),tt=Ut.useCallback(()=>{const J=JSON.stringify(s,null,2),at=new Blob([J],{type:"application/json"}),ut=URL.createObjectURL(at),ct=document.createElement("a");ct.href=ut,ct.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,ct.click(),URL.revokeObjectURL(ut)},[s]),$=Ut.useCallback(async J=>{const at=new FileReader;at.onload=async ut=>{try{const ct=JSON.parse(ut.target?.result);if(Array.isArray(ct)){const At=ct.filter(Et=>Et.text&&Et.speaker&&Et.addedBy);if(d&&isFirebaseConfigured())for(const Et of At)await d0(ed(ec,nc),{text:Et.text,speaker:Et.speaker,addedBy:Et.addedBy,timestamp:Et.timestamp||l0()});else{const Et=At.map(xt=>({...xt,id:xt.id||crypto.randomUUID(),timestamp:xt.timestamp||Date.now()}));y([...Et,...s])}}}catch{alert("Invalid file format")}},at.readAsText(J)},[s,d,y]);return{quotes:s,loading:i,error:o,usingFirebase:d,addQuote:T,deleteQuote:S,getPeople:O,getQuotesBySpeaker:Y,exportData:tt,importData:$}}const sd=10;function ic(s){const e=[...s];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function aR(s){const[e,i]=Ut.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:sd,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=Ut.useCallback(()=>[...new Set(s.map(y=>y.speaker))],[s]),o=Ut.useCallback((y,T)=>{const S=T.filter(tt=>tt!==y),O=ic(S),Y=[y,...O.slice(0,3)];return ic(Y)},[]),h=Ut.useCallback(()=>{const y=r();if(y.length<2||s.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const S=ic(s)[0],O=o(S.speaker,y);i({isPlaying:!0,currentQuote:S,options:O,score:0,totalRounds:Math.min(sd,s.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[s,r,o]),d=Ut.useCallback(y=>{if(!e.currentQuote||e.answered)return;const T=y===e.currentQuote.speaker;i(S=>({...S,answered:!0,selectedAnswer:y,isCorrect:T,score:T?S.score+1:S.score,gameHistory:[...S.gameHistory,{quote:S.currentQuote,correct:T,guessed:y}]}))},[e.currentQuote,e.answered]),p=Ut.useCallback(()=>{if(e.currentRound>=e.totalRounds){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map($=>$.quote.id);y.push(e.currentQuote?.id||"");const T=s.filter($=>!y.includes($.id));if(T.length===0){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const O=ic(T)[0],Y=r(),tt=o(O.speaker,Y);i($=>({...$,currentQuote:O,options:tt,currentRound:$.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[s,e,r,o]),v=Ut.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:sd,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:p,endGame:v,canPlay:r().length>=2&&s.length>=3}}const rd="quotebook_user";function sR(){const[s,e]=Ut.useState(null);Ut.useEffect(()=>{const d=localStorage.getItem(rd);if(d)try{e(JSON.parse(d))}catch{e(null)}},[]);const i=Ut.useCallback(d=>{localStorage.setItem(rd,JSON.stringify(d)),e(d)},[]),r=Ut.useCallback(d=>{const p=s?{...s,name:d}:{name:d,gamesPlayed:0,totalScore:0,bestScore:0};i(p)},[s,i]),o=Ut.useCallback(d=>{if(!s)return;const p={...s,gamesPlayed:s.gamesPlayed+1,totalScore:s.totalScore+d,bestScore:Math.max(s.bestScore,d)};i(p)},[s,i]),h=Ut.useCallback(()=>{localStorage.removeItem(rd),e(null)},[]);return{user:s,setUsername:r,recordGameScore:o,logout:h}}function rR({user:s,activeTab:e,setActiveTab:i}){return A.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:A.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold",children:"Quote Book"}),s&&A.jsxs("p",{className:"text-sm text-white/70",children:["Welcome, ",s.name,"!"]})]})]}),A.jsxs("nav",{className:"flex gap-1 bg-white/10 rounded-lg p-1",children:[A.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="quotes"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Quotes"}),A.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="game"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Game"}),A.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="settings"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Settings"})]})]})})})}function lR({onAdd:s,currentUser:e,existingPeople:i}){const[r,o]=Ut.useState(""),[h,d]=Ut.useState(""),[p,v]=Ut.useState(!1),y=i.filter(S=>S.name.toLowerCase().includes(h.toLowerCase())&&h.length>0),T=S=>{S.preventDefault(),r.trim()&&h.trim()&&(s(r.trim(),h.trim(),e),o(""),d(""))};return A.jsxs("form",{onSubmit:T,className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"Add New Quote"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),A.jsx("textarea",{value:r,onChange:S=>o(S.target.value),placeholder:"Enter the memorable quote...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:3})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),A.jsx("input",{type:"text",value:h,onChange:S=>d(S.target.value),onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),200),placeholder:"Person's name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),p&&y.length>0&&A.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-auto",children:y.map(S=>A.jsxs("button",{type:"button",onClick:()=>{d(S.name),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-indigo-50 flex items-center justify-between",children:[A.jsx("span",{children:S.name}),A.jsxs("span",{className:"text-xs text-gray-400",children:[S.quoteCount," quotes"]})]},S.name))})]}),A.jsx("button",{type:"submit",disabled:!r.trim()||!h.trim(),className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-lg hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Quote"})]})]})}function oR({quote:s,onDelete:e}){const r=new Date(s.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return A.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition group",children:A.jsxs("div",{className:"flex justify-between items-start gap-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("blockquote",{className:"text-gray-800 text-lg mb-3 italic",children:['"',s.text,'"']}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:s.speaker.charAt(0).toUpperCase()}),A.jsxs("div",{children:[A.jsxs("p",{className:"font-semibold text-gray-900",children:[" ",s.speaker]}),A.jsxs("p",{className:"text-xs text-gray-400",children:["Added by ",s.addedBy," on ",r]})]})]})]}),A.jsx("button",{onClick:()=>e(s.id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",title:"Delete quote",children:A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})}function uR({quotes:s,people:e,currentUser:i,onAddQuote:r,onDeleteQuote:o}){const[h,d]=Ut.useState(""),[p,v]=Ut.useState(""),y=s.filter(T=>{const S=!h||T.speaker===h,O=!p||T.text.toLowerCase().includes(p.toLowerCase())||T.speaker.toLowerCase().includes(p.toLowerCase());return S&&O}).sort((T,S)=>S.timestamp-T.timestamp);return A.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"lg:col-span-1",children:[A.jsx(lR,{onAdd:r,currentUser:i,existingPeople:e}),A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[A.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"People"]}),A.jsxs("button",{onClick:()=>d(""),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition ${h?"hover:bg-gray-50 text-gray-600":"bg-indigo-100 text-indigo-700 font-medium"}`,children:["All People (",s.length," quotes)"]}),A.jsx("div",{className:"space-y-1 max-h-64 overflow-auto",children:e.map(T=>A.jsxs("button",{onClick:()=>d(T.name),className:`w-full text-left px-4 py-3 rounded-lg transition flex items-center justify-between ${h===T.name?"bg-indigo-100 text-indigo-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,children:[A.jsxs("span",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:T.name.charAt(0).toUpperCase()}),T.name]}),A.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:T.quoteCount})]},T.name))})]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("div",{className:"mb-4",children:A.jsxs("div",{className:"relative",children:[A.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),A.jsx("input",{type:"text",value:p,onChange:T=>v(T.target.value),placeholder:"Search quotes...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),y.length===0?A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx("span",{className:"text-3xl",children:""})}),A.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No quotes yet"}),A.jsx("p",{className:"text-gray-500",children:s.length===0?"Start adding memorable quotes from your friends!":"No quotes match your current filter."})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",y.length," quote",y.length!==1?"s":"",h&&` by ${h}`]}),y.map(T=>A.jsx(oR,{quote:T,onDelete:o},T.id))]})]})]})}function cR({gameState:s,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:p}){const v=!s.isPlaying&&s.gameHistory.length>0;if(!s.isPlaying&&!v)return A.jsx("div",{className:"max-w-2xl mx-auto",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[A.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:A.jsx("span",{className:"text-4xl",children:""})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),A.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&A.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),A.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),A.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),A.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?A.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):A.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[A.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),A.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(v){const y=Math.round(s.score/s.gameHistory.length*100),T=()=>{p(s.score),d(),r()},S=()=>{p(s.score),d()};return A.jsx("div",{className:"max-w-2xl mx-auto",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[A.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:A.jsx("span",{className:"text-4xl",children:""})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),A.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[s.score,"/",s.gameHistory.length]}),A.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),A.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[A.jsx("button",{onClick:T,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),A.jsx("button",{onClick:S,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),A.jsxs("div",{className:"border-t pt-6",children:[A.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),A.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:s.gameHistory.map((O,Y)=>A.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${O.correct?"bg-green-50":"bg-red-50"}`,children:[A.jsx("span",{className:"text-lg",children:O.correct?"":""}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',O.quote.text,'"']}),A.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",A.jsx("span",{className:"font-semibold",children:O.quote.speaker}),!O.correct&&A.jsxs("span",{children:["  You guessed: ",O.guessed]})]})]})]},Y))})]})]})})}return A.jsxs("div",{className:"max-w-2xl mx-auto",children:[A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[A.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsxs("span",{className:"font-medium",children:["Round ",s.currentRound," of ",s.totalRounds]}),A.jsxs("span",{className:"font-bold",children:["Score: ",s.score]})]}),A.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${s.currentRound/s.totalRounds*100}%`}})})]}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[A.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),A.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:s.currentQuote?.text})]}),A.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),A.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.options.map(y=>{let T="p-4 rounded-xl font-medium transition text-left border-2 ";return s.answered?y===s.currentQuote?.speaker?T+="border-green-500 bg-green-50 text-green-700":y===s.selectedAnswer&&!s.isCorrect?T+="border-red-500 bg-red-50 text-red-700":T+="border-gray-200 bg-gray-50 text-gray-400":T+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",A.jsx("button",{onClick:()=>o(y),disabled:s.answered,className:T,children:A.jsxs("span",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),s.answered&&A.jsxs("div",{className:"mt-6 text-center",children:[A.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${s.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.isCorrect?" Correct!":` It was ${s.currentQuote?.speaker}`}),A.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:s.currentRound>=s.totalRounds?"See Results":"Next Question "})]})]})]}),A.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function jE({onDismiss:s}){return A.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:A.jsxs("div",{className:"flex items-start justify-between gap-4",children:[A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("span",{className:"text-2xl",children:""}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),A.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),A.jsxs("details",{className:"text-sm",children:[A.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),A.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[A.jsxs("li",{children:["Go to ",A.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),A.jsx("li",{children:'Click "Create a project" (or "Add project")'}),A.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),A.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),A.jsx("li",{children:'Click "Create project"'})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[A.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),A.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),A.jsx("li",{children:'Click "Register app"'}),A.jsxs("li",{children:["Copy the ",A.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[A.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),A.jsx("li",{children:'Click "Create database"'}),A.jsxs("li",{children:['Select "Start in ',A.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),A.jsx("li",{children:"Choose a location close to you"}),A.jsx("li",{children:'Click "Enable"'})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[A.jsxs("li",{children:["Open ",A.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),A.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),A.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[A.jsxs("li",{children:["Run ",A.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),A.jsxs("li",{children:["Upload the new ",A.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),A.jsx("li",{children:"Share the URL with your friends! "})]})]}),A.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:A.jsxs("p",{className:"text-blue-800 text-sm",children:[A.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),s&&A.jsx("button",{onClick:s,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function hR({user:s,quotes:e,usingFirebase:i,onSetUsername:r,onLogout:o,onExport:h,onImport:d}){const p=Ut.useRef(null),v=y=>{const T=y.target.files?.[0];T&&(d(T),y.target.value="")};return A.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[A.jsx("div",{className:`rounded-xl shadow-md p-6 ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-white"}`,children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-white/20":"bg-amber-100"}`,children:A.jsx("span",{className:"text-2xl",children:i?"":""})}),A.jsxs("div",{children:[A.jsx("h2",{className:`text-lg font-semibold ${i?"text-white":"text-gray-800"}`,children:i?"Real-Time Sync Enabled!":"Local Storage Mode"}),A.jsx("p",{className:i?"text-green-100":"text-gray-500",children:i?"All quotes sync automatically with your friends":"Quotes are saved only on this device"})]})]})}),!Dd()&&A.jsx(jE,{}),A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"User Profile"]}),s?A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:s.name.charAt(0).toUpperCase()}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.name}),A.jsx("p",{className:"text-gray-500",children:"Quote Collector"})]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[A.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:s.gamesPlayed}),A.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),A.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.bestScore}),A.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),A.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.totalScore}),A.jsx("p",{className:"text-xs text-gray-500",children:"Total Points"})]})]}),A.jsx("button",{onClick:o,className:"text-red-500 hover:text-red-600 text-sm font-medium",children:"Change Username"})]}):A.jsxs("form",{onSubmit:y=>{y.preventDefault();const S=y.target.elements.namedItem("username");S.value.trim()&&(r(S.value.trim()),S.value="")},children:[A.jsx("p",{className:"text-gray-500 mb-4",children:"Set your username to track your game scores and quotes you add."}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("input",{name:"username",type:"text",placeholder:"Enter your name",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),A.jsx("button",{type:"submit",className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition",children:"Save"})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:""}),"Data Management"]}),A.jsx("p",{className:"text-gray-500 mb-4",children:i?"Export quotes for backup, or import quotes from a file.":"Export your quotes to share with friends or import quotes from others."}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{onClick:h,disabled:e.length===0,className:"flex-1 py-3 bg-green-100 text-green-700 font-medium rounded-lg hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export (",e.length," quotes)"]}),A.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 py-3 bg-blue-100 text-blue-700 font-medium rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import"]}),A.jsx("input",{ref:p,type:"file",accept:".json",onChange:v,className:"hidden"})]})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"Share with Friends"]}),i?A.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4",children:[A.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Easy Sharing!"}),A.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Just share this website's URL with your friends. Everyone who visits will see the same quotes and can add new ones!"}),A.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("URL copied to clipboard!")},className:"w-full py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:" Copy Link to Share"})]}):A.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4",children:[A.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:" Manual Sharing"}),A.jsx("p",{className:"text-sm text-amber-700",children:"Without Firebase, you'll need to manually share quotes:"}),A.jsxs("ol",{className:"text-sm text-amber-700 mt-2 space-y-1 list-decimal list-inside",children:[A.jsx("li",{children:"Export your quotes using the button above"}),A.jsx("li",{children:"Send the JSON file to your friends"}),A.jsx("li",{children:"Have them import the file"})]})]})]}),A.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:""}),"Statistics"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[A.jsx("p",{className:"text-3xl font-bold",children:e.length}),A.jsx("p",{className:"text-sm opacity-80",children:"Total Quotes"})]}),A.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-4 text-white",children:[A.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(y=>y.speaker)).size}),A.jsx("p",{className:"text-sm opacity-80",children:"People"})]})]})]})]})}function fR({onSetUsername:s}){const e=i=>{i.preventDefault();const o=i.target.elements.namedItem("username");o.value.trim()&&s(o.value.trim())};return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg transform -rotate-6",children:A.jsx("span",{className:"text-4xl",children:""})}),A.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),A.jsx("p",{className:"text-gray-500",children:"Collect memorable quotes from your friends and play the guessing game!"})]}),A.jsxs("div",{className:"space-y-4 mb-8",children:[A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-xl",children:[A.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-xl",children:""}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-800",children:"Collect Quotes"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Save memorable things your friends say"})]})]}),A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-xl",children:[A.jsx("span",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-xl",children:""}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-800",children:"Play Games"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Guess who said what in fun rounds"})]})]}),A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-xl",children:[A.jsx("span",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center text-xl",children:""}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-800",children:"Share & Collaborate"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Export and import quotes with friends"})]})]})]}),A.jsxs("form",{onSubmit:e,children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your name?"}),A.jsx("input",{name:"username",type:"text",placeholder:"Enter your name to get started",autoFocus:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent mb-4"}),A.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg",children:"Get Started "})]})]})})}function dR(){const[s,e]=Ut.useState("quotes"),[i,r]=Ut.useState(!Dd()),{user:o,setUsername:h,recordGameScore:d,logout:p}=sR(),{quotes:v,loading:y,error:T,usingFirebase:S,addQuote:O,deleteQuote:Y,getPeople:tt,exportData:$,importData:J}=iR(),{gameState:at,startGame:ut,submitAnswer:ct,nextRound:At,endGame:Et,canPlay:xt}=aR(v);return o?A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[A.jsx(rR,{user:o,activeTab:s,setActiveTab:e}),A.jsx("div",{className:`text-center py-2 text-sm font-medium ${S?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:S?A.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):A.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),T&&A.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",T]}),A.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!Dd()&&s==="quotes"&&A.jsx(jE,{onDismiss:()=>r(!1)}),y?A.jsx("div",{className:"flex items-center justify-center py-20",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),A.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):A.jsxs(A.Fragment,{children:[s==="quotes"&&A.jsx(uR,{quotes:v,people:tt(),currentUser:o.name,onAddQuote:O,onDeleteQuote:Y}),s==="game"&&A.jsx(cR,{gameState:at,canPlay:xt,user:o,onStartGame:ut,onSubmitAnswer:ct,onNextRound:At,onEndGame:Et,onRecordScore:d}),s==="settings"&&A.jsx(hR,{user:o,quotes:v,usingFirebase:S,onSetUsername:h,onLogout:p,onExport:$,onImport:J})]})]}),A.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[A.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),A.jsx("p",{className:"text-xs mt-1",children:S?" Real-time sync enabled":" Local mode"})]})]}):A.jsx(fR,{onSetUsername:h})}T1.createRoot(document.getElementById("root")).render(A.jsx(Ut.StrictMode,{children:A.jsx(dR,{})}));
