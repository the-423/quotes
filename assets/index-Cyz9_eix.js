(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Bf={exports:{}},Zl={};var Oy;function Rb(){if(Oy)return Zl;Oy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var My;function Nb(){return My||(My=1,Bf.exports=Rb()),Bf.exports}var v=Nb(),Pf={exports:{}},At={};var jy;function Cb(){if(jy)return At;jy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,K={};function at(C,Y,st){this.props=C,this.context=Y,this.refs=K,this.updater=st||W}at.prototype.isReactComponent={},at.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},at.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ht(){}ht.prototype=at.prototype;function ft(C,Y,st){this.props=C,this.context=Y,this.refs=K,this.updater=st||W}var Et=ft.prototype=new ht;Et.constructor=ft,B(Et,at.prototype),Et.isPureReactComponent=!0;var It=Array.isArray;function Tt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(C,Y,st){var ot=st.ref;return{$$typeof:a,type:C,key:Y,ref:ot!==void 0?ot:null,props:st}}function j(C,Y){return I(C.type,Y,C.props)}function V(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function R(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(st){return Y[st]})}var S=/\/+/g;function rt(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?R(""+C.key):Y.toString(36)}function mt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Tt,Tt):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,Y,st,ot,xt){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var Lt=!1;if(C===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(C.$$typeof){case a:case e:Lt=!0;break;case T:return Lt=C._init,z(Lt(C._payload),Y,st,ot,xt)}}if(Lt)return xt=xt(C),Lt=ot===""?"."+rt(C,0):ot,It(xt)?(st="",Lt!=null&&(st=Lt.replace(S,"$&/")+"/"),z(xt,Y,st,"",function(qs){return qs})):xt!=null&&(V(xt)&&(xt=j(xt,st+(xt.key==null||C&&C.key===xt.key?"":(""+xt.key).replace(S,"$&/")+"/")+Lt)),Y.push(xt)),1;Lt=0;var Ce=ot===""?".":ot+":";if(It(C))for(var ae=0;ae<C.length;ae++)ot=C[ae],Rt=Ce+rt(ot,ae),Lt+=z(ot,Y,st,Rt,xt);else if(ae=U(C),typeof ae=="function")for(C=ae.call(C),ae=0;!(ot=C.next()).done;)ot=ot.value,Rt=Ce+rt(ot,ae++),Lt+=z(ot,Y,st,Rt,xt);else if(Rt==="object"){if(typeof C.then=="function")return z(mt(C),Y,st,ot,xt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function q(C,Y,st){if(C==null)return C;var ot=[],xt=0;return z(C,ot,"","",function(Rt){return Y.call(st,Rt,xt++)}),ot}function et(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(st){(C._status===0||C._status===-1)&&(C._status=1,C._result=st)},function(st){(C._status===0||C._status===-1)&&(C._status=2,C._result=st)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var _t=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},gt={map:q,forEach:function(C,Y,st){q(C,function(){Y.apply(this,arguments)},st)},count:function(C){var Y=0;return q(C,function(){Y++}),Y},toArray:function(C){return q(C,function(Y){return Y})||[]},only:function(C){if(!V(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return At.Activity=A,At.Children=gt,At.Component=at,At.Fragment=i,At.Profiler=o,At.PureComponent=ft,At.StrictMode=r,At.Suspense=E,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return D.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(C,Y,st){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ot=B({},C.props),xt=C.key;if(Y!=null)for(Rt in Y.key!==void 0&&(xt=""+Y.key),Y)!w.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(ot[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=st;else if(1<Rt){for(var Lt=Array(Rt),Ce=0;Ce<Rt;Ce++)Lt[Ce]=arguments[Ce+2];ot.children=Lt}return I(C.type,xt,ot)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Y,st){var ot,xt={},Rt=null;if(Y!=null)for(ot in Y.key!==void 0&&(Rt=""+Y.key),Y)w.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(xt[ot]=Y[ot]);var Lt=arguments.length-2;if(Lt===1)xt.children=st;else if(1<Lt){for(var Ce=Array(Lt),ae=0;ae<Lt;ae++)Ce[ae]=arguments[ae+2];xt.children=Ce}if(C&&C.defaultProps)for(ot in Lt=C.defaultProps,Lt)xt[ot]===void 0&&(xt[ot]=Lt[ot]);return I(C,Rt,xt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:p,render:C}},At.isValidElement=V,At.lazy=function(C){return{$$typeof:T,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,Y){return{$$typeof:y,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=D.T,st={};D.T=st;try{var ot=C(),xt=D.S;xt!==null&&xt(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Tt,_t)}catch(Rt){_t(Rt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),D.T=Y}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(C){return D.H.use(C)},At.useActionState=function(C,Y,st){return D.H.useActionState(C,Y,st)},At.useCallback=function(C,Y){return D.H.useCallback(C,Y)},At.useContext=function(C){return D.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return D.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y){return D.H.useEffect(C,Y)},At.useEffectEvent=function(C){return D.H.useEffectEvent(C)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(C,Y,st){return D.H.useImperativeHandle(C,Y,st)},At.useInsertionEffect=function(C,Y){return D.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return D.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return D.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return D.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,st){return D.H.useReducer(C,Y,st)},At.useRef=function(C){return D.H.useRef(C)},At.useState=function(C){return D.H.useState(C)},At.useSyncExternalStore=function(C,Y,st){return D.H.useSyncExternalStore(C,Y,st)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.3",At}var ky;function Ad(){return ky||(ky=1,Pf.exports=Cb()),Pf.exports}var it=Ad(),qf={exports:{}},Jl={},Hf={exports:{}},Gf={};var Uy;function Db(){return Uy||(Uy=1,(function(a){function e(z,q){var et=z.length;z.push(q);t:for(;0<et;){var _t=et-1>>>1,gt=z[_t];if(0<o(gt,q))z[_t]=q,z[et]=gt,et=_t;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],et=z.pop();if(et!==q){z[0]=et;t:for(var _t=0,gt=z.length,C=gt>>>1;_t<C;){var Y=2*(_t+1)-1,st=z[Y],ot=Y+1,xt=z[ot];if(0>o(st,et))ot<gt&&0>o(xt,st)?(z[_t]=xt,z[ot]=et,_t=ot):(z[_t]=st,z[Y]=et,_t=Y);else if(ot<gt&&0>o(xt,et))z[_t]=xt,z[ot]=et,_t=ot;else break t}}return q}function o(z,q){var et=z.sortIndex-q.sortIndex;return et!==0?et:z.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var E=[],y=[],T=1,A=null,N=3,U=!1,W=!1,B=!1,K=!1,at=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Et(z){for(var q=i(y);q!==null;){if(q.callback===null)r(y);else if(q.startTime<=z)r(y),q.sortIndex=q.expirationTime,e(E,q);else break;q=i(y)}}function It(z){if(B=!1,Et(z),!W)if(i(E)!==null)W=!0,Tt||(Tt=!0,R());else{var q=i(y);q!==null&&mt(It,q.startTime-z)}}var Tt=!1,D=-1,w=5,I=-1;function j(){return K?!0:!(a.unstable_now()-I<w)}function V(){if(K=!1,Tt){var z=a.unstable_now();I=z;var q=!0;try{t:{W=!1,B&&(B=!1,ht(D),D=-1),U=!0;var et=N;try{e:{for(Et(z),A=i(E);A!==null&&!(A.expirationTime>z&&j());){var _t=A.callback;if(typeof _t=="function"){A.callback=null,N=A.priorityLevel;var gt=_t(A.expirationTime<=z);if(z=a.unstable_now(),typeof gt=="function"){A.callback=gt,Et(z),q=!0;break e}A===i(E)&&r(E),Et(z)}else r(E);A=i(E)}if(A!==null)q=!0;else{var C=i(y);C!==null&&mt(It,C.startTime-z),q=!1}}break t}finally{A=null,N=et,U=!1}q=void 0}}finally{q?R():Tt=!1}}}var R;if(typeof ft=="function")R=function(){ft(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,rt=S.port2;S.port1.onmessage=V,R=function(){rt.postMessage(null)}}else R=function(){at(V,0)};function mt(z,q){D=at(function(){z(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(z){switch(N){case 1:case 2:case 3:var q=3;break;default:q=N}var et=N;N=q;try{return z()}finally{N=et}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var et=N;N=z;try{return q()}finally{N=et}},a.unstable_scheduleCallback=function(z,q,et){var _t=a.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?_t+et:_t):et=_t,z){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=et+gt,z={id:T++,callback:q,priorityLevel:z,startTime:et,expirationTime:gt,sortIndex:-1},et>_t?(z.sortIndex=et,e(y,z),i(E)===null&&z===i(y)&&(B?(ht(D),D=-1):B=!0,mt(It,et-_t))):(z.sortIndex=gt,e(E,z),W||U||(W=!0,Tt||(Tt=!0,R()))),z},a.unstable_shouldYield=j,a.unstable_wrapCallback=function(z){var q=N;return function(){var et=N;N=q;try{return z.apply(this,arguments)}finally{N=et}}}})(Gf)),Gf}var zy;function Ib(){return zy||(zy=1,Hf.exports=Db()),Hf.exports}var Qf={exports:{}},Fe={};var Ly;function Vb(){if(Ly)return Fe;Ly=1;var a=Ad();function e(E){var y="https://react.dev/errors/"+E;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+E+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(E,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:E,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(E,y){if(E==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(E,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(E,y,null,T)},Fe.flushSync=function(E){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,E)return E()}finally{d.T=y,r.p=T,r.d.f()}},Fe.preconnect=function(E,y){typeof E=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(E,y))},Fe.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Fe.preinit=function(E,y){if(typeof E=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(E,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:U}):T==="script"&&r.d.X(E,{crossOrigin:A,integrity:N,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(E,y){if(typeof E=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(E)},Fe.preload=function(E,y){if(typeof E=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);r.d.L(E,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(E,y){if(typeof E=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(E,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(E)},Fe.requestFormReset=function(E){r.d.r(E)},Fe.unstable_batchedUpdates=function(E,y){return E(y)},Fe.useFormState=function(E,y,T){return d.H.useFormState(E,y,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var By;function Ob(){if(By)return Qf.exports;By=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Qf.exports=Vb(),Qf.exports}var Py;function Mb(){if(Py)return Jl;Py=1;var a=Ib(),e=Ad(),i=Ob();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return E(c),t;if(f===l)return E(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,b=c.child;b;){if(b===s){g=!0,s=c,l=f;break}if(b===l){g=!0,l=c,s=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===s){g=!0,s=f,l=c;break}if(b===l){g=!0,l=f,s=c;break}b=b.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case at:return"Profiler";case K:return"StrictMode";case It:return"Suspense";case Tt:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ft:return t.displayName||"Context";case ht:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var mt=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},_t=[],gt=-1;function C(t){return{current:t}}function Y(t){0>gt||(t.current=_t[gt],_t[gt]=null,gt--)}function st(t,n){gt++,_t[gt]=t.current,t.current=n}var ot=C(null),xt=C(null),Rt=C(null),Lt=C(null);function Ce(t,n){switch(st(Rt,n),st(xt,t),st(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ot),st(ot,t)}function ae(){Y(ot),Y(xt),Y(Rt)}function qs(t){t.memoizedState!==null&&st(Lt,t);var n=ot.current,s=iy(n,t.type);n!==s&&(st(xt,t),st(ot,s))}function Ia(t){xt.current===t&&(Y(ot),Y(xt)),Lt.current===t&&(Y(Lt),Fl._currentValue=et)}var Va,Oa;function Jn(t){if(Va===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Va=n&&n[1]||"",Oa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+Oa}var Fr=!1;function Hs(t,n){if(!t||Fr)return"";Fr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var G=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){G=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){G=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var O=g.split(`
`),H=b.split(`
`);for(c=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===O.length||c===H.length)for(l=O.length-1,c=H.length-1;1<=l&&0<=c&&O[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(O[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||O[l]!==H[c]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=c);break}}}finally{Fr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Jn(s):""}function Yr(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return Jn("Activity");default:return""}}function Kr(t){try{var n="",s=null;do n+=Yr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,Ki=a.unstable_cancelCallback,Pc=a.unstable_shouldYield,So=a.unstable_requestPaint,Ze=a.unstable_now,Gs=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,Zr=a.unstable_UserBlockingPriority,Xi=a.unstable_NormalPriority,qc=a.unstable_LowPriority,Ao=a.unstable_IdlePriority,wo=a.log,Ro=a.unstable_setDisableYieldValue,Mn=null,Ue=null;function En(t){if(typeof wo=="function"&&Ro(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:Co,No=Math.log,Ma=Math.LN2;function Co(t){return t>>>=0,t===0?32:31-(No(t)/Ma|0)|0}var $n=256,Qs=262144,ye=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?c=Wn(l):(g&=b,g!==0?c=Wn(g):s||(s=b&~t,s!==0&&(c=Wn(s))))):(b=l&~f,b!==0?c=Wn(b):g!==0?c=Wn(g):s||(s=l&~t,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ei(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(s=g&~s;0<s;){var X=31-he(s),J=1<<X;b[X]=0,O[X]=-1;var G=H[X];if(G!==null)for(H[X]=null,X=0;X<G.length;X++){var F=G[X];F!==null&&(F.lane&=-536870913)}s&=~J}l!==0&&Ys(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ys(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Jr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-he(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function $r(t,n){var s=n&-n;return s=(s&42)!==0?1:Ks(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:wy(t.type))}function kn(t,n){var s=q.p;try{return q.p=t,n()}finally{q.p=s}}var Un=Math.random().toString(36).slice(2),_e="__reactFiber$"+Un,Oe="__reactProps$"+Un,ni="__reactContainer$"+Un,ja="__reactEvents$"+Un,Qc="__reactListeners$"+Un,Vo="__reactHandles$"+Un,Oo="__reactResources$"+Un,ii="__reactMarker$"+Un;function ka(t){delete t[_e],delete t[Oe],delete t[ja],delete t[Qc],delete t[Vo]}function si(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=cy(t);t!==null;){if(s=t[_e])return s;t=cy(t)}return n}t=s,s=t.parentNode}return null}function bn(t){if(t=t[_e]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ai(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ii]=!0}var Wr=new Set,tl={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(tl[t]=n,t=0;t<n.length;t++)Wr.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Mo(t){return pe.call(il,t)?!0:pe.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Ua(t,n,s){if(Mo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function cn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ee(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=sl(t,n,""+t[n])}}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zs=/[\n"\\]/g;function We(t){return t.replace(Zs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(t,n,s,l,c,f,g,b){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?al(t,g,Me(n)):s!=null?al(t,g,Me(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Me(b):t.removeAttribute("name")}function jo(t,n,s,l,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function al(t,n,s){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ji(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ko(t,n,s){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Me(s):""}function $i(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Me(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Yt(t)}function tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ll(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&rl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&rl(t,f,n[f])}function La(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var ol=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,ui=null;function Js(t){var n=bn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(za(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));za(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Xs(l)}break t;case"textarea":ko(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ji(t,!!s.multiple,n,!1)}}}var Pa=!1;function es(t,n,s){if(Pa)return t(n,s);Pa=!0;try{var l=t(n);return l}finally{if(Pa=!1,(ts!==null||ui!==null)&&(Iu(),ts&&(n=ts,t=ui,ui=ts=null,Js(n),t)))for(n=0;n<t.length;n++)Js(t[n])}}function Ln(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$s=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{$s=!1}var ci=null,ul=null,Ws=null;function cl(){if(Ws)return Ws;var t,n=ul,s=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Ws=c.slice(t,1<l?1-l:void 0)}function ta(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Bn(){return!1}function ze(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:Bn,this.isPropagationStopped=Bn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(Ri),ns=A({},Ri,{view:0,detail:0}),hl=ze(ns),is,qa,fi,Ha=A({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(is=t.screenX-fi.screenX,qa=t.screenY-fi.screenY):qa=is=0,fi=t),is)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),fl=ze(Ha),ea=A({},Ha,{dataTransfer:0}),Lo=ze(ea),Bo=A({},ns,{relatedTarget:0}),na=ze(Bo),dl=A({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=ze(dl),Ga=A({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qo=ze(Ga),Ho=A({},Ri,{data:0}),di=ze(Ho),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fo[t])?!!n[t]:!1}function ss(){return Yo}var Je=A({},ns,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=ze(Je),Xo=A({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ze(Xo),u=A({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),m=ze(u),_=A({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=ze(_),L=A({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=ze(L),nt=A({},Ri,{newState:0,oldState:0}),Nt=ze(nt),fe=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,re=null;xn&&"documentMode"in document&&(re=document.documentMode);var Sn=xn&&"TextEvent"in window&&!re,mi=xn&&(!Gt||re&&8<re&&11>=re),Pn=" ",qn=!1;function ia(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function Jv(t,n){switch(t){case"compositionend":return Qa(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function $v(t,n){if(Fa)return t==="compositionend"||!Gt&&ia(t,n)?(t=cl(),Ws=ul=ci=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Wv[t.type]:n==="textarea"}function mm(t,n,s,l){ts?ui?ui.push(l):ui=[l]:ts=l,n=zu(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ml=null,gl=null;function tE(t){Zp(t,0)}function Zo(t){var n=un(t);if(Xs(n))return t}function gm(t,n){if(t==="change")return n}var pm=!1;if(xn){var Fc;if(xn){var Yc="oninput"in document;if(!Yc){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Yc=typeof ym.oninput=="function"}Fc=Yc}else Fc=!1;pm=Fc&&(!document.documentMode||9<document.documentMode)}function _m(){ml&&(ml.detachEvent("onpropertychange",vm),gl=ml=null)}function vm(t){if(t.propertyName==="value"&&Zo(gl)){var n=[];mm(n,gl,t,Tn(t)),es(tE,n)}}function eE(t,n,s){t==="focusin"?(_m(),ml=n,gl=s,ml.attachEvent("onpropertychange",vm)):t==="focusout"&&_m()}function nE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(gl)}function iE(t,n){if(t==="click")return Zo(n)}function sE(t,n){if(t==="input"||t==="change")return Zo(n)}function aE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:aE;function pl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,n){var s=Em(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Em(s)}}function Tm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Tm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=oi(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rE=xn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Xc=null,yl=null,Zc=!1;function Sm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zc||Ya==null||Ya!==oi(l)||(l=Ya,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=zu(Xc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ya)))}function sa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ka={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Jc={},Am={};xn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function aa(t){if(Jc[t])return Jc[t];if(!Ka[t])return t;var n=Ka[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Am)return Jc[t]=n[s];return t}var wm=aa("animationend"),Rm=aa("animationiteration"),Nm=aa("animationstart"),lE=aa("transitionrun"),oE=aa("transitionstart"),uE=aa("transitioncancel"),Cm=aa("transitionend"),Dm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Hn(t,n){Dm.set(t,n),ri(n,[t])}var Jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Xa=0,Wc=0;function $o(){for(var t=Xa,n=Wc=Xa=0;n<t;){var s=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Im(s,c,f)}}function Wo(t,n,s,l){An[Xa++]=t,An[Xa++]=n,An[Xa++]=s,An[Xa++]=l,Wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function th(t,n,s,l){return Wo(t,n,s,l),tu(t)}function ra(t,n){return Wo(t,null,null,n),tu(t)}function Im(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function tu(t){if(50<Ll)throw Ll=0,cf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={};function cE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,s,l){return new cE(t,n,s,l)}function eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var s=t.alternate;return s===null?(s=fn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Vm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")eh(t)&&(g=1);else if(typeof t=="string")g=gb(t,s,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=fn(31,s,n,c),t.elementType=I,t.lanes=f,t;case B:return la(s.children,c,f,n);case K:g=8,c|=24;break;case at:return t=fn(12,s,n,c|2),t.elementType=at,t.lanes=f,t;case It:return t=fn(13,s,n,c),t.elementType=It,t.lanes=f,t;case Tt:return t=fn(19,s,n,c),t.elementType=Tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:g=10;break t;case ht:g=9;break t;case Et:g=11;break t;case D:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,s,l){return t=fn(7,t,l,n),t.lanes=s,t}function nh(t,n,s){return t=fn(6,t,null,n),t.lanes=s,t}function Om(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function ih(t,n,s){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Mm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var s=Mm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kr(n)},Mm.set(t,n),n)}return{value:t,source:n,stack:Kr(n)}}var Ja=[],$a=0,nu=null,_l=0,Rn=[],Nn=0,as=null,gi=1,pi="";function Di(t,n){Ja[$a++]=_l,Ja[$a++]=nu,nu=t,_l=n}function jm(t,n,s){Rn[Nn++]=gi,Rn[Nn++]=pi,Rn[Nn++]=as,as=t;var l=gi;t=pi;var c=32-he(l)-1;l&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-he(n)+c|s<<c|l,pi=f+t}else gi=1<<f|s<<c|l,pi=t}function sh(t){t.return!==null&&(Di(t,1),jm(t,1,0))}function ah(t){for(;t===nu;)nu=Ja[--$a],Ja[$a]=null,_l=Ja[--$a],Ja[$a]=null;for(;t===as;)as=Rn[--Nn],Rn[Nn]=null,pi=Rn[--Nn],Rn[Nn]=null,gi=Rn[--Nn],Rn[Nn]=null}function km(t,n){Rn[Nn++]=gi,Rn[Nn++]=pi,Rn[Nn++]=as,gi=n.id,pi=n.overflow,as=t}var Le=null,ie=null,zt=!1,rs=null,Cn=!1,rh=Error(r(519));function ls(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(wn(n,t)),rh}function Um(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Ot(Pl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),jo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),$i(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ty(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ls(t,!0)}function zm(t){for(Le=t.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function Wa(t){if(t!==Le)return!1;if(!zt)return zm(t),zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Af(t.type,t.memoizedProps)),s=!s),s&&ie&&ls(t),zm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=uy(t)}else n===27?(n=ie,bs(t.type)?(t=Df,Df=null,ie=t):ie=n):ie=Le?In(t.stateNode.nextSibling):null;return!0}function oa(){ie=Le=null,zt=!1}function lh(){var t=rs;return t!==null&&(an===null?an=t:an.push.apply(an,t),rs=null),t}function vl(t){rs===null?rs=[t]:rs.push(t)}var oh=C(null),ua=null,Ii=null;function os(t,n,s){st(oh,n._currentValue),n._currentValue=s}function Vi(t){t._currentValue=oh.current,Y(oh)}function uh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ch(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=c;for(var O=0;O<n.length;O++)if(b.context===n[O]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),uh(f.return,s,t),l||(g=null);break t}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),uh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function tr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var b=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(b):t=[b])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&ch(n,t,s,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Lm(ua,t)}function su(t,n){return ua===null&&ca(t),Lm(t,n)}function Lm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(t===null)throw Error(r(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return s}var hE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},fE=a.unstable_scheduleCallback,dE=a.unstable_NormalPriority,be={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new hE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&fE(dE,function(){t.controller.abort()})}var bl=null,fh=0,er=0,nr=null;function mE(t,n){if(bl===null){var s=bl=[];fh=0,er=pf(),nr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return fh++,n.then(Bm,Bm),n}function Bm(){if(--fh===0&&bl!==null){nr!==null&&(nr.status="fulfilled");var t=bl;bl=null,er=0,nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Pm=z.S;z.S=function(t,n){Sp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&mE(t,n),Pm!==null&&Pm(t,n)};var ha=C(null);function dh(){var t=ha.current;return t!==null?t:te.pooledCache}function au(t,n){n===null?st(ha,ha.current):st(ha,n.pool)}function qm(){var t=dh();return t===null?null:{parent:be._currentValue,pool:t}}var ir=Error(r(460)),mh=Error(r(474)),ru=Error(r(542)),lu={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t}throw da=n,ir}}function fa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(da=s,ir):s}}var da=null;function Qm(){if(da===null)throw Error(r(459));var t=da;return da=null,t}function Fm(t){if(t===ir||t===ru)throw Error(r(483))}var sr=null,Tl=0;function ou(t){var n=Tl;return Tl+=1,sr===null&&(sr=[]),Gm(sr,t,n)}function xl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ym(t){function n(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function c(k,M){return k=Ci(k,M),k.index=0,k.sibling=null,k}function f(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,M,P,Z){return M===null||M.tag!==6?(M=nh(P,k.mode,Z),M.return=k,M):(M=c(M,P),M.return=k,M)}function O(k,M,P,Z){var pt=P.type;return pt===B?X(k,M,P.props.children,Z,P.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&fa(pt)===M.type)?(M=c(M,P.props),xl(M,P),M.return=k,M):(M=eu(P.type,P.key,P.props,null,k.mode,Z),xl(M,P),M.return=k,M)}function H(k,M,P,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=ih(P,k.mode,Z),M.return=k,M):(M=c(M,P.children||[]),M.return=k,M)}function X(k,M,P,Z,pt){return M===null||M.tag!==7?(M=la(P,k.mode,Z,pt),M.return=k,M):(M=c(M,P),M.return=k,M)}function J(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nh(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return P=eu(M.type,M.key,M.props,null,k.mode,P),xl(P,M),P.return=k,P;case W:return M=ih(M,k.mode,P),M.return=k,M;case w:return M=fa(M),J(k,M,P)}if(mt(M)||R(M))return M=la(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return J(k,ou(M),P);if(M.$$typeof===ft)return J(k,su(k,M),P);uu(k,M)}return null}function G(k,M,P,Z){var pt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:b(k,M,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===pt?O(k,M,P,Z):null;case W:return P.key===pt?H(k,M,P,Z):null;case w:return P=fa(P),G(k,M,P,Z)}if(mt(P)||R(P))return pt!==null?null:X(k,M,P,Z,null);if(typeof P.then=="function")return G(k,M,ou(P),Z);if(P.$$typeof===ft)return G(k,M,su(k,P),Z);uu(k,P)}return null}function F(k,M,P,Z,pt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(P)||null,b(M,k,""+Z,pt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case U:return k=k.get(Z.key===null?P:Z.key)||null,O(M,k,Z,pt);case W:return k=k.get(Z.key===null?P:Z.key)||null,H(M,k,Z,pt);case w:return Z=fa(Z),F(k,M,P,Z,pt)}if(mt(Z)||R(Z))return k=k.get(P)||null,X(M,k,Z,pt,null);if(typeof Z.then=="function")return F(k,M,P,ou(Z),pt);if(Z.$$typeof===ft)return F(k,M,P,su(M,Z),pt);uu(M,Z)}return null}function ct(k,M,P,Z){for(var pt=null,qt=null,dt=M,Dt=M=0,jt=null;dt!==null&&Dt<P.length;Dt++){dt.index>Dt?(jt=dt,dt=null):jt=dt.sibling;var Ht=G(k,dt,P[Dt],Z);if(Ht===null){dt===null&&(dt=jt);break}t&&dt&&Ht.alternate===null&&n(k,dt),M=f(Ht,M,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht,dt=jt}if(Dt===P.length)return s(k,dt),zt&&Di(k,Dt),pt;if(dt===null){for(;Dt<P.length;Dt++)dt=J(k,P[Dt],Z),dt!==null&&(M=f(dt,M,Dt),qt===null?pt=dt:qt.sibling=dt,qt=dt);return zt&&Di(k,Dt),pt}for(dt=l(dt);Dt<P.length;Dt++)jt=F(dt,k,Dt,P[Dt],Z),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?Dt:jt.key),M=f(jt,M,Dt),qt===null?pt=jt:qt.sibling=jt,qt=jt);return t&&dt.forEach(function(ws){return n(k,ws)}),zt&&Di(k,Dt),pt}function vt(k,M,P,Z){if(P==null)throw Error(r(151));for(var pt=null,qt=null,dt=M,Dt=M=0,jt=null,Ht=P.next();dt!==null&&!Ht.done;Dt++,Ht=P.next()){dt.index>Dt?(jt=dt,dt=null):jt=dt.sibling;var ws=G(k,dt,Ht.value,Z);if(ws===null){dt===null&&(dt=jt);break}t&&dt&&ws.alternate===null&&n(k,dt),M=f(ws,M,Dt),qt===null?pt=ws:qt.sibling=ws,qt=ws,dt=jt}if(Ht.done)return s(k,dt),zt&&Di(k,Dt),pt;if(dt===null){for(;!Ht.done;Dt++,Ht=P.next())Ht=J(k,Ht.value,Z),Ht!==null&&(M=f(Ht,M,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht);return zt&&Di(k,Dt),pt}for(dt=l(dt);!Ht.done;Dt++,Ht=P.next())Ht=F(dt,k,Dt,Ht.value,Z),Ht!==null&&(t&&Ht.alternate!==null&&dt.delete(Ht.key===null?Dt:Ht.key),M=f(Ht,M,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht);return t&&dt.forEach(function(wb){return n(k,wb)}),zt&&Di(k,Dt),pt}function Wt(k,M,P,Z){if(typeof P=="object"&&P!==null&&P.type===B&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:t:{for(var pt=P.key;M!==null;){if(M.key===pt){if(pt=P.type,pt===B){if(M.tag===7){s(k,M.sibling),Z=c(M,P.props.children),Z.return=k,k=Z;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&fa(pt)===M.type){s(k,M.sibling),Z=c(M,P.props),xl(Z,P),Z.return=k,k=Z;break t}s(k,M);break}else n(k,M);M=M.sibling}P.type===B?(Z=la(P.props.children,k.mode,Z,P.key),Z.return=k,k=Z):(Z=eu(P.type,P.key,P.props,null,k.mode,Z),xl(Z,P),Z.return=k,k=Z)}return g(k);case W:t:{for(pt=P.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),Z=c(M,P.children||[]),Z.return=k,k=Z;break t}else{s(k,M);break}else n(k,M);M=M.sibling}Z=ih(P,k.mode,Z),Z.return=k,k=Z}return g(k);case w:return P=fa(P),Wt(k,M,P,Z)}if(mt(P))return ct(k,M,P,Z);if(R(P)){if(pt=R(P),typeof pt!="function")throw Error(r(150));return P=pt.call(P),vt(k,M,P,Z)}if(typeof P.then=="function")return Wt(k,M,ou(P),Z);if(P.$$typeof===ft)return Wt(k,M,su(k,P),Z);uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),Z=c(M,P),Z.return=k,k=Z):(s(k,M),Z=nh(P,k.mode,Z),Z.return=k,k=Z),g(k)):s(k,M)}return function(k,M,P,Z){try{Tl=0;var pt=Wt(k,M,P,Z);return sr=null,pt}catch(dt){if(dt===ir||dt===ru)throw dt;var qt=fn(29,dt,null,k.mode);return qt.lanes=Z,qt.return=k,qt}finally{}}}var ma=Ym(!0),Km=Ym(!1),us=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),Im(t,null,s),n}return Wo(t,l,n,s),tu(t)}function Sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}function yh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var _h=!1;function Al(){if(_h){var t=nr;if(t!==null)throw t}}function wl(t,n,s,l){_h=!1;var c=t.updateQueue;us=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var O=b,H=O.next;O.next=null,g===null?f=H:g.next=H,g=O;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==g&&(b===null?X.firstBaseUpdate=H:b.next=H,X.lastBaseUpdate=O))}if(f!==null){var J=c.baseState;g=0,X=H=O=null,b=f;do{var G=b.lane&-536870913,F=G!==b.lane;if(F?(Mt&G)===G:(l&G)===G){G!==0&&G===er&&(_h=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ct=t,vt=b;G=n;var Wt=s;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){J=ct.call(Wt,J,G);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,G=typeof ct=="function"?ct.call(Wt,J,G):ct,G==null)break t;J=A({},J,G);break t;case 2:us=!0}}G=b.callback,G!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[G]:F.push(G))}else F={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(H=X=F,O=J):X=X.next=F,g|=G;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;F=b,b=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);X===null&&(O=J),c.baseState=O,c.firstBaseUpdate=H,c.lastBaseUpdate=X,f===null&&(c.shared.lanes=0),ps|=g,t.lanes=g,t.memoizedState=J}}function Xm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Zm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xm(s[t],n)}var ar=C(null),cu=C(0);function Jm(t,n){t=Pi,st(cu,t),st(ar,n),Pi=t|n.baseLanes}function vh(){st(cu,Pi),st(ar,ar.current)}function Eh(){Pi=cu.current,Y(ar),Y(cu)}var dn=C(null),Dn=null;function fs(t){var n=t.alternate;st(de,de.current&1),st(dn,t),Dn===null&&(n===null||ar.current!==null||n.memoizedState!==null)&&(Dn=t)}function bh(t){st(de,de.current),st(dn,t),Dn===null&&(Dn=t)}function $m(t){t.tag===22?(st(de,de.current),st(dn,t),Dn===null&&(Dn=t)):ds()}function ds(){st(de,de.current),st(dn,dn.current)}function mn(t){Y(dn),Dn===t&&(Dn=null),Y(de)}var de=C(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nf(s)||Cf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,Ct=null,Jt=null,Te=null,fu=!1,rr=!1,ga=!1,du=0,Rl=0,lr=null,pE=0;function ue(){throw Error(r(321))}function Th(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!hn(t[s],n[s]))return!1;return!0}function xh(t,n,s,l,c,f){return Oi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?jg:zh,ga=!1,f=s(l,c),ga=!1,rr&&(f=tg(n,s,l,c)),Wm(t),f}function Wm(t){z.H=Dl;var n=Jt!==null&&Jt.next!==null;if(Oi=0,Te=Jt=Ct=null,fu=!1,Rl=0,lr=null,n)throw Error(r(300));t===null||xe||(t=t.dependencies,t!==null&&iu(t)&&(xe=!0))}function tg(t,n,s,l){Ct=t;var c=0;do{if(rr&&(lr=null),Rl=0,rr=!1,25<=c)throw Error(r(301));if(c+=1,Te=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=kg,f=n(s,l)}while(rr);return f}function yE(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Sh(){var t=du!==0;return du=0,t}function Ah(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function wh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}Oi=0,Te=Jt=Ct=null,rr=!1,Rl=du=0,lr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ct.memoizedState=Te=t:Te=Te.next=t,Te}function me(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Te===null?Ct.memoizedState:Te.next;if(n!==null)Te=n,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?Ct.memoizedState=Te=t:Te=Te.next=t}return Te}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=Rl;return Rl+=1,lr===null&&(lr=[]),t=Gm(lr,t,n),n=Ct,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?jg:zh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===ft)return Be(t)}throw Error(r(438,String(t)))}function Rh(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=j;return n.index++,s}function Mi(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=me();return Nh(n,Jt,t)}function Nh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var b=g=null,O=null,H=n,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Mt&J)===J:(Oi&J)===J){var G=H.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===er&&(X=!0);else if((Oi&G)===G){H=H.next,G===er&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=J,g=f):O=O.next=J,Ct.lanes|=G,ps|=G;J=H.action,ga&&s(f,J),f=H.hasEagerState?H.eagerState:s(f,J)}else G={lane:J,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(b=O=G,g=f):O=O.next=G,Ct.lanes|=J,ps|=J;H=H.next}while(H!==null&&H!==n);if(O===null?g=f:O.next=b,!hn(f,t.memoizedState)&&(xe=!0,X&&(s=nr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=O,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ch(t){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function eg(t,n,s){var l=Ct,c=me(),f=zt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Jt||c).memoizedState,s);if(g&&(c.memoizedState=s,xe=!0),c=c.queue,Vh(sg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,or(9,{destroy:void 0},ig.bind(null,l,c,s,n),null),te===null)throw Error(r(349));f||(Oi&127)!==0||ng(l,n,s)}return s}function ng(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=mu(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ig(t,n,s,l){n.value=s,n.getSnapshot=l,ag(n)&&rg(t)}function sg(t,n,s){return s(function(){ag(n)&&rg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!hn(t,s)}catch{return!0}}function rg(t){var n=ra(t,2);n!==null&&rn(n,t,2)}function Dh(t){var n=$e();if(typeof t=="function"){var s=t;if(t=s(),ga){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function lg(t,n,s,l){return t.baseState=s,Nh(t,Jt,typeof l=="function"?l:Mi)}function _E(t,n,s,l,c){if(vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,og(n,f)):(f.next=s.next,n.pending=s.next=f)}}function og(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var b=s(c,l),O=z.S;O!==null&&O(g,b),ug(t,n,b)}catch(H){Ih(t,n,H)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=s(c,l),ug(t,n,f)}catch(H){Ih(t,n,H)}}function ug(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cg(t,n,l)},function(l){return Ih(t,n,l)}):cg(t,n,s)}function cg(t,n,s){n.status="fulfilled",n.value=s,hg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,og(t,s)))}function Ih(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(zt){var s=te.formState;if(s!==null){t:{var l=Ct;if(zt){if(ie){e:{for(var c=ie,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=In(c.nextSibling),l=c.data==="F!";break t}}ls(l)}l=!1}l&&(n=s[0])}}return s=$e(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},s.queue=l,s=Vg.bind(null,Ct,l),l.dispatch=s,l=Dh(!1),f=Uh.bind(null,Ct,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=_E.bind(null,Ct,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function mg(t){var n=me();return gg(n,Jt,t)}function gg(t,n,s){if(n=Nh(t,n,fg)[0],t=pu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(g){throw g===ir?ru:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,or(9,{destroy:void 0},vE.bind(null,c,s),null)),[l,f,t]}function vE(t,n){t.action=n}function pg(t){var n=me(),s=Jt;if(s!==null)return gg(n,s,t);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function or(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=mu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function yg(){return me().memoizedState}function yu(t,n,s,l){var c=$e();Ct.flags|=t,c.memoizedState=or(1|n,{destroy:void 0},s,l===void 0?null:l)}function _u(t,n,s,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&Th(l,Jt.memoizedState.deps)?c.memoizedState=or(n,f,s,l):(Ct.flags|=t,c.memoizedState=or(1|n,f,s,l))}function _g(t,n){yu(8390656,8,t,n)}function Vh(t,n){_u(2048,8,t,n)}function EE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=mu(),Ct.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vg(t){var n=me().memoizedState;return EE({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return _u(4,2,t,n)}function bg(t,n){return _u(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,s){s=s!=null?s.concat([t]):null,_u(4,4,Tg.bind(null,n,t),s)}function Oh(){}function Sg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ag(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=t(),ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Mh(t,n,s){return s===void 0||(Oi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=wp(),Ct.lanes|=t,ps|=t,s)}function wg(t,n,s,l){return hn(s,n)?s:ar.current!==null?(t=Mh(t,s,l),hn(t,n)||(xe=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Mt&261930)===0?(xe=!0,t.memoizedState=s):(t=wp(),Ct.lanes|=t,ps|=t,n)}function Rg(t,n,s,l,c){var f=q.p;q.p=f!==0&&8>f?f:8;var g=z.T,b={};z.T=b,Uh(t,!1,n,s);try{var O=c(),H=z.S;if(H!==null&&H(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=gE(O,l);Cl(t,n,X,yn(t))}else Cl(t,n,l,yn(t))}catch(J){Cl(t,n,{then:function(){},status:"rejected",reason:J},yn())}finally{q.p=f,g!==null&&b.types!==null&&(g.types=b.types),z.T=g}}function bE(){}function jh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Ng(t).queue;Rg(t,c,n,et,s===null?bE:function(){return Cg(t),s(l)})}function Ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cg(t){var n=Ng(t);n.next===null&&(n=t.alternate.memoizedState),Cl(t,n.next.queue,{},yn())}function kh(){return Be(Fl)}function Dg(){return me().memoizedState}function Ig(){return me().memoizedState}function TE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();t=cs(s);var l=hs(n,t,s);l!==null&&(rn(l,n,s),Sl(l,n,s)),n={cache:hh()},t.payload=n;return}n=n.return}}function xE(t,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vu(t)?Og(n,s):(s=th(t,n,s,l),s!==null&&(rn(s,t,l),Mg(s,n,l)))}function Vg(t,n,s){var l=yn();Cl(t,n,s,l)}function Cl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,s);if(c.hasEagerState=!0,c.eagerState=b,hn(b,g))return Wo(t,n,c,0),te===null&&$o(),!1}catch{}finally{}if(s=th(t,n,c,l),s!==null)return rn(s,t,l),Mg(s,n,l),!0}return!1}function Uh(t,n,s,l){if(l={lane:2,revertLane:pf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(r(479))}else n=th(t,s,l,2),n!==null&&rn(n,t,2)}function vu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Og(t,n){rr=fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Mg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}var Dl={readContext:Be,use:gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Dl.useEffectEvent=ue;var jg={readContext:Be,use:gu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:_g,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yu(4194308,4,Tg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var s=$e();n=n===void 0?null:n;var l=t();if(ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=$e();if(s!==void 0){var c=s(n);if(ga){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=xE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Dh(t);var n=t.queue,s=Vg.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Oh,useDeferredValue:function(t,n){var s=$e();return Mh(s,t,n)},useTransition:function(){var t=Dh(!1);return t=Rg.bind(null,Ct,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=$e();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Mt&127)!==0||ng(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,_g(sg.bind(null,l,f,t),[t]),l.flags|=2048,or(9,{destroy:void 0},ig.bind(null,l,f,s,n),null),s},useId:function(){var t=$e(),n=te.identifierPrefix;if(zt){var s=pi,l=gi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=du++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=pE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kh,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Uh.bind(null,Ct,!0,s),s.dispatch=n,[t,n]},useMemoCache:Rh,useCacheRefresh:function(){return $e().memoizedState=TE.bind(null,Ct)},useEffectEvent:function(t){var n=$e(),s={impl:t};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},zh={readContext:Be,use:gu,useCallback:Sg,useContext:Be,useEffect:Vh,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:bg,useMemo:Ag,useReducer:pu,useRef:yg,useState:function(){return pu(Mi)},useDebugValue:Oh,useDeferredValue:function(t,n){var s=me();return wg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=pu(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:eg,useId:Dg,useHostTransitionStatus:kh,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var s=me();return lg(s,Jt,t,n)},useMemoCache:Rh,useCacheRefresh:Ig};zh.useEffectEvent=vg;var kg={readContext:Be,use:gu,useCallback:Sg,useContext:Be,useEffect:Vh,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:bg,useMemo:Ag,useReducer:Ch,useRef:yg,useState:function(){return Ch(Mi)},useDebugValue:Oh,useDeferredValue:function(t,n){var s=me();return Jt===null?Mh(s,t,n):wg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=Ch(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:eg,useId:Dg,useHostTransitionStatus:kh,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var s=me();return Jt!==null?lg(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:Ig};kg.useEffectEvent=vg;function Lh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=yn(),c=cs(l);c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=yn(),c=cs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=yn(),l=cs(s);l.tag=2,n!=null&&(l.callback=n),n=hs(t,l,s),n!==null&&(rn(n,t,s),Sl(n,t,s))}};function Ug(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!pl(s,l)||!pl(c,f):!0}function zg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Bh.enqueueReplaceState(n,n.state,null)}function pa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Lg(t){Jo(t)}function Bg(t){console.error(t)}function Pg(t){Jo(t)}function Eu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ph(t,n,s){return s=cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Eu(t,n)},s}function Hg(t){return t=cs(t),t.tag=3,t}function Gg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){qg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function SE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&tr(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Vu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),df(t,l,c)),!1;case 22:return s.flags|=65536,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),df(t,l,c)),!1}throw Error(r(435,s.tag))}return df(t,l,c),Vu(),!1}if(zt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(r(422),{cause:l}),vl(wn(t,s)))):(l!==rh&&(n=Error(r(423),{cause:l}),vl(wn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,s),c=Ph(t.stateNode,l,c),yh(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=wn(f,s),zl===null?zl=[f]:zl.push(f),ce!==4&&(ce=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Ph(s.stateNode,l,t),yh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Hg(c),Gg(c,t,s,l),yh(s,c),!1}s=s.return}while(s!==null);return!1}var qh=Error(r(461)),xe=!1;function Pe(t,n,s,l){n.child=t===null?Km(n,null,s,l):ma(n,t.child,s,l)}function Qg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var b in l)b!=="ref"&&(g[b]=l[b])}else g=l;return ca(n),l=xh(t,n,s,g,f,c),b=Sh(),t!==null&&!xe?(Ah(t,n,c),ji(t,n,c)):(zt&&b&&sh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Fg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!eh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,l,c)):(t=eu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(g,l)&&t.ref===n.ref)return ji(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,Zh(t,c))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,ji(t,n,c)}return Hh(t,n,s,l,c)}function Kg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Xg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?Jm(n,f):vh(),$m(n);else return l=n.lanes=536870912,Xg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(au(n,f.cachePool),Jm(n,f),ds(),n.memoizedState=null):(t!==null&&au(n,null),vh(),ds());return Pe(t,n,c,s),n.child}function Il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(t,n,s,l,c){var f=dh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&au(n,null),vh(),$m(n),t!==null&&tr(t,n,l,!0),n.childLanes=c,null}function bu(t,n){return n=xu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Zg(t,n,s){return ma(n,t.child,null,s),t=bu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function AE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=bu(n,l),n.lanes=536870912,Il(null,t);if(bh(n),(t=ie)?(t=oy(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,Le=n,ie=null)):t=null,t===null)throw ls(n);return n.lanes=536870912,null}return bu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bh(n),c)if(n.flags&256)n.flags&=-257,n=Zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(xe||tr(t,n,s,!1),c=(s&t.childLanes)!==0,xe||c){if(l=te,l!==null&&(g=$r(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ra(t,g),rn(l,t,g),qh;Vu(),n=Zg(t,n,s)}else t=f.treeContext,ie=In(g.nextSibling),Le=n,zt=!0,rs=null,Cn=!1,t!==null&&km(n,t),n=bu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Hh(t,n,s,l,c){return ca(n),s=xh(t,n,s,l,void 0,c),l=Sh(),t!==null&&!xe?(Ah(t,n,c),ji(t,n,c)):(zt&&l&&sh(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Jg(t,n,s,l,c,f){return ca(n),n.updateQueue=null,s=tg(n,l,s,c),Wm(t),l=Sh(),t!==null&&!xe?(Ah(t,n,f),ji(t,n,f)):(zt&&l&&sh(n),n.flags|=1,Pe(t,n,s,f),n.child)}function $g(t,n,s,l,c){if(ca(n),n.stateNode===null){var f=Za,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Za,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Lh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bh.enqueueReplaceState(f,f.state,null),wl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,O=pa(s,b);f.props=O;var H=f.context,X=s.contextType;g=Za,typeof X=="object"&&X!==null&&(g=Be(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||H!==g)&&zg(n,f,l,g),us=!1;var G=n.memoizedState;f.state=G,wl(n,l,f,c),Al(),H=n.memoizedState,b||G!==H||us?(typeof J=="function"&&(Lh(n,s,J,l),H=n.memoizedState),(O=us||Ug(n,s,O,l,G,H,g))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=g,l=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),g=n.memoizedProps,X=pa(s,g),f.props=X,J=n.pendingProps,G=f.context,H=s.contextType,O=Za,typeof H=="object"&&H!==null&&(O=Be(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||G!==O)&&zg(n,f,l,O),us=!1,G=n.memoizedState,f.state=G,wl(n,l,f,c),Al();var F=n.memoizedState;g!==J||G!==F||us||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof b=="function"&&(Lh(n,s,b,l),F=n.memoizedState),(X=us||Ug(n,s,X,l,G,F,O)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=O,l=X):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Tu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ma(n,t.child,null,c),n.child=ma(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=ji(t,n,c),t}function Wg(t,n,s,l){return oa(),n.flags|=256,Pe(t,n,s,l),n.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:qm()}}function Fh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=pn),t}function tp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?fs(n):ds(),(t=ie)?(t=oy(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,Le=n,ie=null)):t=null,t===null)throw ls(n);return Cf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(ds(),c=n.mode,b=xu({mode:"hidden",children:b},c),l=la(l,c,s,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Qh(s),l.childLanes=Fh(t,g,s),n.memoizedState=Gh,Il(null,l)):(fs(n),Yh(n,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)n.flags&256?(fs(n),n.flags&=-257,n=Kh(t,n,s)):n.memoizedState!==null?(ds(),n.child=t.child,n.flags|=128,n=null):(ds(),b=l.fallback,c=n.mode,l=xu({mode:"visible",children:l.children},c),b=la(b,c,s,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,ma(n,t.child,null,s),l=n.child,l.memoizedState=Qh(s),l.childLanes=Fh(t,g,s),n.memoizedState=Gh,n=Il(null,l));else if(fs(n),Cf(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var H=g.dgst;g=H,l=Error(r(419)),l.stack="",l.digest=g,vl({value:l,source:null,stack:null}),n=Kh(t,n,s)}else if(xe||tr(t,n,s,!1),g=(s&t.childLanes)!==0,xe||g){if(g=te,g!==null&&(l=$r(g,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,ra(t,l),rn(g,t,l),qh;Nf(b)||Vu(),n=Kh(t,n,s)}else Nf(b)?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,ie=In(b.nextSibling),Le=n,zt=!0,rs=null,Cn=!1,t!==null&&km(n,t),n=Yh(n,l.children),n.flags|=4096);return n}return c?(ds(),b=l.fallback,c=n.mode,O=t.child,H=O.sibling,l=Ci(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?b=Ci(H,b):(b=la(b,c,s,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Il(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Qh(s):(c=b.cachePool,c!==null?(O=be._currentValue,c=c.parent!==O?{parent:O,pool:O}:c):c=qm(),b={baseLanes:b.baseLanes|s,cachePool:c}),l.memoizedState=b,l.childLanes=Fh(t,g,s),n.memoizedState=Gh,Il(t.child,l)):(fs(n),s=t.child,t=s.sibling,s=Ci(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Yh(t,n){return n=xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function xu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Kh(t,n,s){return ma(n,t.child,null,s),t=Yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ep(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,s)}function Xh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function np(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,st(de,g),Pe(t,n,l,s),l=zt?_l:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ep(t,s,n);else if(t.tag===19)ep(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&hu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Xh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Xh(n,!0,s,null,f,l);break;case"together":Xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(tr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ci(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ci(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function wE(t,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),os(n,be,t.memoizedState.cache),oa();break;case 27:case 5:qs(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?tp(t,n,s):(fs(n),t=ji(t,n,s),t!==null?t.sibling:null);fs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(tr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return np(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(de,de.current),l)break;return null;case 22:return n.lanes=0,Kg(t,n,s,n.pendingProps);case 24:os(n,be,t.memoizedState.cache)}return ji(t,n,s)}function ip(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!Zh(t,s)&&(n.flags&128)===0)return xe=!1,wE(t,n,s);xe=(t.flags&131072)!==0}else xe=!1,zt&&(n.flags&1048576)!==0&&jm(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=fa(n.elementType),n.type=t,typeof t=="function")eh(t)?(l=pa(t,l),n.tag=1,n=$g(null,n,t,l,s)):(n.tag=0,n=Hh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=Qg(null,n,t,l,s);break t}else if(c===D){n.tag=14,n=Fg(null,n,t,l,s);break t}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Hh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=pa(l,n.pendingProps),$g(t,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ph(t,n),wl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,os(n,be,l),l!==f.cache&&ch(n,[be],s,!0),Al(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(t,n,l,s);break t}else if(l!==c){c=wn(Error(r(424)),n),vl(c),n=Wg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=In(t.firstChild),Le=n,zt=!0,rs=null,Cn=!0,s=Km(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oa(),l===c){n=ji(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return Tu(t,n),t===null?(s=my(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,t=n.pendingProps,l=Lu(Rt.current).createElement(s),l[_e]=n,l[Oe]=t,qe(l,s,t),ve(l),n.stateNode=l):n.memoizedState=my(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qs(n),t===null&&zt&&(l=n.stateNode=hy(n.type,n.pendingProps,Rt.current),Le=n,Cn=!0,c=ie,bs(n.type)?(Df=c,ie=In(l.firstChild)):ie=c),Pe(t,n,n.pendingProps.children,s),Tu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ie)&&(l=nb(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Le=n,ie=In(l.firstChild),Cn=!1,c=!0):c=!1),c||ls(n)),qs(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Af(c,f)?l=null:g!==null&&Af(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=xh(t,n,yE,null,null,s),Fl._currentValue=c),Tu(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&zt&&((t=s=ie)&&(s=ib(s,n.pendingProps,Cn),s!==null?(n.stateNode=s,Le=n,ie=null,t=!0):t=!1),t||ls(n)),null;case 13:return tp(t,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ma(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,os(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=Be(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return np(t,n,s);case 31:return AE(t,n,s);case 22:return Kg(t,n,s,n.pendingProps);case 24:return ca(n),l=Be(be),t===null?(c=dh(),c===null&&(c=te,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},gh(n),os(n,be,c)):((t.lanes&s)!==0&&(ph(t,n),wl(n,null,null,s),Al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),os(n,be,l)):(l=f.cache,os(n,be,l),l!==c.cache&&ch(n,[be],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ki(t){t.flags|=4}function Jh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Dp())t.flags|=8192;else throw da=lu,mh}else t.flags&=-16777217}function sp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vy(n))if(Dp())t.flags|=8192;else throw da=lu,mh}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Do():536870912,t.lanes|=n,fr|=n)}function Vl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function RE(t,n,s){var l=n.pendingProps;switch(ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(be),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wa(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lh())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ki(n),f!==null?(se(n),sp(n,f)):(se(n),Jh(n,c,null,l,s))):f?f!==t.memoizedState?(ki(n),se(n),sp(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ki(n),se(n),Jh(n,c,t,l,s)),null;case 27:if(Ia(n),s=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}t=ot.current,Wa(n)?Um(n):(t=hy(c,l,s),n.stateNode=t,ki(n))}return se(n),null;case 5:if(Ia(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=ot.current,Wa(n))Um(n);else{var g=Lu(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ki(n)}}return se(n),Jh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Rt.current,Wa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Le,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ty(t.nodeValue,s)),t||ls(n,!0)}else t=Lu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return se(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Wa(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else s=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),se(n),null);case 4:return ae(),t===null&&Ef(n.stateNode.containerInfo),se(n),null;case 10:return Vi(n.type),se(n),null;case 19:if(Y(de),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Vl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Vm(s,t),s=s.sibling;return st(de,de.current&1|2),zt&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Cu&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=hu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return se(n),null}else 2*Ze()-l.renderingStartTime>Cu&&s!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=de.current,st(de,c?s&1|2:s&1),zt&&Di(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return mn(n),Eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Vi(be),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function NE(t,n){switch(ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(be),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ia(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(de),null;case 4:return ae(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),Eh(),t!==null&&Y(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(be),null;case 25:return null;default:return null}}function ap(t,n){switch(ah(n),n.tag){case 3:Vi(be),ae();break;case 26:case 27:case 5:Ia(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(de);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),Eh(),t!==null&&Y(ha);break;case 24:Vi(be)}}function Ol(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(b){Xt(n,n.return,b)}}function ms(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=n;var O=s,H=b;try{H()}catch(X){Xt(c,O,X)}}}l=l.next}while(l!==f)}}catch(X){Xt(n,n.return,X)}}function rp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Zm(n,s)}catch(l){Xt(t,t.return,l)}}}function lp(t,n,s){s.props=pa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Ml(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Xt(t,n,c)}}function yi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function op(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function $h(t,n,s){try{var l=t.stateNode;ZE(l,t.type,s,n),l[Oe]=n}catch(c){Xt(t,t.return,c)}}function up(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bs(t.type)||t.tag===4}function Wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&bs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(tf(t,n,s),t=t.sibling;t!==null;)tf(t,n,s),t=t.sibling}function Au(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&bs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Au(t,n,s),t=t.sibling;t!==null;)Au(t,n,s),t=t.sibling}function cp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[_e]=t,n[Oe]=s}catch(f){Xt(t,t.return,f)}}var Ui=!1,Se=!1,ef=!1,hp=typeof WeakSet=="function"?WeakSet:Set,je=null;function CE(t,n){if(t=t.containerInfo,xf=Fu,t=xm(t),Kc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,b=-1,O=-1,H=0,X=0,J=t,G=null;e:for(;;){for(var F;J!==s||c!==0&&J.nodeType!==3||(b=g+c),J!==f||l!==0&&J.nodeType!==3||(O=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(F=J.firstChild)!==null;)G=J,J=F;for(;;){if(J===t)break e;if(G===s&&++H===c&&(b=g),G===f&&++X===l&&(O=g),(F=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=F}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sf={focusedElem:t,selectionRange:s},Fu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=pa(s.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Xt(s,s.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Rf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function fp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),l&4&&Ol(5,s);break;case 1:if(Li(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var c=pa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}l&64&&rp(s),l&512&&Ml(s,s.return);break;case 3:if(Li(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zm(t,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&l&4&&cp(s);case 26:case 5:Li(t,s),n===null&&l&4&&op(s),l&512&&Ml(s,s.return);break;case 12:Li(t,s);break;case 31:Li(t,s),l&4&&gp(t,s);break;case 13:Li(t,s),l&4&&pp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zE.bind(null,s),sb(t,s))));break;case 22:if(l=s.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||Se,c=Ui;var f=Se;Ui=l,(Se=n)&&!f?Bi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),Ui=c,Se=f}break;case 30:break;default:Li(t,s)}}function dp(t){var n=t.alternate;n!==null&&(t.alternate=null,dp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function zi(t,n,s){for(s=s.child;s!==null;)mp(t,n,s),s=s.sibling}function mp(t,n,s){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Se||yi(s,n),zi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||yi(s,n);var l=le,c=en;bs(s.type)&&(le=s.stateNode,en=!1),zi(t,n,s),Hl(s.stateNode),le=l,en=c;break;case 5:Se||yi(s,n);case 6:if(l=le,c=en,le=null,zi(t,n,s),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:le!==null&&(en?(t=le,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Er(t)):ry(le,s.stateNode));break;case 4:l=le,c=en,le=s.stateNode.containerInfo,en=!0,zi(t,n,s),le=l,en=c;break;case 0:case 11:case 14:case 15:ms(2,s,n),Se||ms(4,s,n),zi(t,n,s);break;case 1:Se||(yi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&lp(s,n,l)),zi(t,n,s);break;case 21:zi(t,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,zi(t,n,s),Se=l;break;default:zi(t,n,s)}}function gp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Er(t)}catch(s){Xt(n,n.return,s)}}}function pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Er(t)}catch(s){Xt(n,n.return,s)}}function DE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hp),n;default:throw Error(r(435,t.tag))}}function wu(t,n){var s=DE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=LE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,b=g;t:for(;b!==null;){switch(b.tag){case 27:if(bs(b.type)){le=b.stateNode,en=!1;break t}break;case 5:le=b.stateNode,en=!1;break t;case 3:case 4:le=b.stateNode.containerInfo,en=!0;break t}b=b.return}if(le===null)throw Error(r(160));mp(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yp(n,t),n=n.sibling}var Gn=null;function yp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),sn(t),l&4&&(ms(3,t,t.return),Ol(3,t),ms(5,t,t.return));break;case 1:nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=yy("link","href",c).get(l+(s.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(b,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=yy("meta","content",c).get(l+(s.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(b,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else _y(c,t.type,t.stateNode);else t.stateNode=py(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?_y(c,t.type,t.stateNode):py(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$h(t,t.memoizedProps,s.memoizedProps)}break;case 27:nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),s!==null&&l&4&&$h(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(ct){Xt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,$h(t,c,s!==null?s.memoizedProps:c)),l&1024&&(ef=!0);break;case 6:if(nn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){Xt(t,t.return,ct)}}break;case 3:if(qu=null,c=Gn,Gn=Bu(n.containerInfo),nn(n,t),Gn=c,sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Er(n.containerInfo)}catch(ct){Xt(t,t.return,ct)}ef&&(ef=!1,_p(t));break;case 4:l=Gn,Gn=Bu(t.stateNode.containerInfo),nn(n,t),sn(t),Gn=l;break;case 12:nn(n,t),sn(t);break;case 31:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 13:nn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 22:c=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,H=Ui,X=Se;if(Ui=H||c,Se=X||O,nn(n,t),Se=X,Ui=H,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||O||Ui||Se||ya(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(f=O.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=O.stateNode;var J=O.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ct){Xt(O,O.return,ct)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(ct){Xt(O,O.return,ct)}}}else if(n.tag===18){if(s===null){O=n;try{var F=O.stateNode;c?ly(F,!0):ly(O.stateNode,!1)}catch(ct){Xt(O,O.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wu(t,s))));break;case 19:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(up(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Wh(t);Au(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(tn(g,""),s.flags&=-33);var b=Wh(t);Au(t,b,g);break;case 3:case 4:var O=s.stateNode.containerInfo,H=Wh(t);tf(t,H,O);break;default:throw Error(r(161))}}catch(X){Xt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _p(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fp(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),ya(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&lp(n,n.return,s),ya(n);break;case 27:Hl(n.stateNode);case 26:case 5:yi(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}t=t.sibling}}function Bi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,s),Ol(4,f);break;case 1:if(Bi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){Xt(l,l.return,H)}if(l=f,c=l.updateQueue,c!==null){var b=l.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Xm(O[c],b)}catch(H){Xt(l,l.return,H)}}s&&g&64&&rp(f),Ml(f,f.return);break;case 27:cp(f);case 26:case 5:Bi(c,f,s),s&&l===null&&g&4&&op(f),Ml(f,f.return);break;case 12:Bi(c,f,s);break;case 31:Bi(c,f,s),s&&g&4&&gp(c,f);break;case 13:Bi(c,f,s),s&&g&4&&pp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,s),Ml(f,f.return);break;case 30:break;default:Bi(c,f,s)}n=n.sibling}}function nf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&El(s))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Qn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vp(t,n,s,l),n=n.sibling}function vp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,s,l),c&2048&&Ol(9,n);break;case 1:Qn(t,n,s,l);break;case 3:Qn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){Qn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xt(n,n.return,O)}}else Qn(t,n,s,l);break;case 31:Qn(t,n,s,l);break;case 13:Qn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,s,l):jl(t,n):f._visibility&2?Qn(t,n,s,l):(f._visibility|=2,ur(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&nf(g,n);break;case 24:Qn(t,n,s,l),c&2048&&sf(n.alternate,n);break;default:Qn(t,n,s,l)}}function ur(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,b=s,O=l,H=g.flags;switch(g.tag){case 0:case 11:case 15:ur(f,g,b,O,c),Ol(8,g);break;case 23:break;case 22:var X=g.stateNode;g.memoizedState!==null?X._visibility&2?ur(f,g,b,O,c):jl(f,g):(X._visibility|=2,ur(f,g,b,O,c)),c&&H&2048&&nf(g.alternate,g);break;case 24:ur(f,g,b,O,c),c&&H&2048&&sf(g.alternate,g);break;default:ur(f,g,b,O,c)}n=n.sibling}}function jl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:jl(s,l),c&2048&&nf(l.alternate,l);break;case 24:jl(s,l),c&2048&&sf(l.alternate,l);break;default:jl(s,l)}n=n.sibling}}var kl=8192;function cr(t,n,s){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Ep(t,n,s),t=t.sibling}function Ep(t,n,s){switch(t.tag){case 26:cr(t,n,s),t.flags&kl&&t.memoizedState!==null&&pb(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:cr(t,n,s);break;case 3:case 4:var l=Gn;Gn=Bu(t.stateNode.containerInfo),cr(t,n,s),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,cr(t,n,s),kl=l):cr(t,n,s));break;default:cr(t,n,s)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,xp(l,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tp(t),t=t.sibling}function Tp(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&ms(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ru(t)):Ul(t);break;default:Ul(t)}}function Ru(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,xp(l,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ms(8,n,n.return),Ru(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ru(n));break;default:Ru(n)}t=t.sibling}}function xp(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(dp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var IE={getCacheForType:function(t){var n=Be(be),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Be(be).controller.signal}},VE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Vt=null,Mt=0,Kt=0,gn=null,gs=!1,hr=!1,af=!1,Pi=0,ce=0,ps=0,_a=0,rf=0,pn=0,fr=0,zl=null,an=null,lf=!1,Nu=0,Sp=0,Cu=1/0,Du=null,ys=null,Ie=0,_s=null,dr=null,qi=0,of=0,uf=null,Ap=null,Ll=0,cf=null;function yn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:z.T!==null?pf():Io()}function wp(){if(pn===0)if((Mt&536870912)===0||zt){var t=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,s){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(mr(t,0),vs(t,Mt,pn,!1)),Fs(t,s),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(_a|=s),ce===4&&vs(t,Mt,pn,!1)),_i(t))}function Rp(t,n,s){if((Qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),c=l?jE(t,n):ff(t,n,!0),f=l;do{if(c===0){hr&&!l&&vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!OE(s)){c=ff(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var b=t;c=zl;var O=b.current.memoizedState.isDehydrated;if(O&&(mr(b,g).flags|=256),g=ff(b,g,!1),g!==2){if(af&&!O){b.errorRecoveryDisabledLanes|=f,_a|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){mr(t,0),vs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,pn,!gs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Nu+300-Ze(),10<c)){if(vs(l,n,pn,!gs),ti(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=sy(Np.bind(null,l,s,an,Du,lf,n,pn,_a,fr,gs,f,"Throttled",-0,0),c);break t}Np(l,s,an,Du,lf,n,pn,_a,fr,gs,f,null,-0,0)}}break}while(!0);_i(t)}function Np(t,n,s,l,c,f,g,b,O,H,X,J,G,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Ep(n,f,J);var ct=(f&62914560)===f?Nu-Ze():(f&4194048)===f?Sp-Ze():0;if(ct=yb(J,ct),ct!==null){qi=f,t.cancelPendingCommit=ct(kp.bind(null,t,n,f,s,l,c,g,b,O,X,J,null,G,F)),vs(t,f,g,!H);return}}kp(t,n,f,s,l,c,g,b,O)}function OE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(t,n,s,l){n&=~rf,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ys(t,s,n)}function Iu(){return(Qt&6)===0?(Bl(0),!1):!0}function hf(){if(Vt!==null){if(Kt===0)var t=Vt.return;else t=Vt,Ii=ua=null,wh(t),sr=null,Tl=0,t=Vt;for(;t!==null;)ap(t.alternate,t),t=t.return;Vt=null}}function mr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,WE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,hf(),te=t,Vt=s=Ci(t.current,null),Mt=n,Kt=0,gn=null,gs=!1,hr=jn(t,n),af=!1,fr=pn=rf=_a=ps=ce=0,an=zl=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,$o(),s}function Cp(t,n){Ct=null,z.H=Dl,n===ir||n===ru?(n=Qm(),Kt=3):n===mh?(n=Qm(),Kt=4):Kt=n===qh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Vt===null&&(ce=1,Eu(t,wn(n,t.current)))}function Dp(){var t=dn.current;return t===null?!0:(Mt&4194048)===Mt?Dn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===Dn:!1}function Ip(){var t=z.H;return z.H=Dl,t===null?Dl:t}function Vp(){var t=z.A;return z.A=IE,t}function Vu(){ce=4,gs||(Mt&4194048)!==Mt&&dn.current!==null||(hr=!0),(ps&134217727)===0&&(_a&134217727)===0||te===null||vs(te,Mt,pn,!1)}function ff(t,n,s){var l=Qt;Qt|=2;var c=Ip(),f=Vp();(te!==t||Mt!==n)&&(Du=null,mr(t,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Vt!==null){var b=Vt,O=gn;switch(Kt){case 8:hf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var H=Kt;if(Kt=0,gn=null,gr(t,b,O,H),s&&hr){g=0;break t}break;default:H=Kt,Kt=0,gn=null,gr(t,b,O,H)}}ME(),g=ce;break}catch(X){Cp(t,X)}while(!0);return n&&t.shellSuspendCounter++,Ii=ua=null,Qt=l,z.H=c,z.A=f,Vt===null&&(te=null,Mt=0,$o()),g}function ME(){for(;Vt!==null;)Op(Vt)}function jE(t,n){var s=Qt;Qt|=2;var l=Ip(),c=Vp();te!==t||Mt!==n?(Du=null,Cu=Ze()+500,mr(t,n)):hr=jn(t,n);t:do try{if(Kt!==0&&Vt!==null){n=Vt;var f=gn;e:switch(Kt){case 1:Kt=0,gn=null,gr(t,n,f,1);break;case 2:case 9:if(Hm(f)){Kt=0,gn=null,Mp(n);break}n=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),_i(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Hm(f)?(Kt=0,gn=null,Mp(n)):(Kt=0,gn=null,gr(t,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var b=Vt;if(g?vy(g):b.stateNode.complete){Kt=0,gn=null;var O=b.sibling;if(O!==null)Vt=O;else{var H=b.return;H!==null?(Vt=H,Ou(H)):Vt=null}break e}}Kt=0,gn=null,gr(t,n,f,5);break;case 6:Kt=0,gn=null,gr(t,n,f,6);break;case 8:hf(),ce=6;break t;default:throw Error(r(462))}}kE();break}catch(X){Cp(t,X)}while(!0);return Ii=ua=null,z.H=l,z.A=c,Qt=s,Vt!==null?0:(te=null,Mt=0,$o(),ce)}function kE(){for(;Vt!==null&&!Pc();)Op(Vt)}function Op(t){var n=ip(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Ou(t):Vt=n}function Mp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Jg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Jg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:wh(n);default:ap(s,n),n=Vt=Vm(n,Pi),n=ip(s,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):Vt=n}function gr(t,n,s,l){Ii=ua=null,wh(n),sr=null,Tl=0;var c=n.return;try{if(SE(t,c,n,s,Mt)){ce=1,Eu(t,wn(s,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ce=1,Eu(t,wn(s,t.current)),Vt=null;return}n.flags&32768?(zt||l===1?t=!0:hr||(Mt&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){jp(n,gs);return}t=n.return;var s=RE(n.alternate,n,Pi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ce===0&&(ce=5)}function jp(t,n){do{var s=NE(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);ce=6,Vt=null}function kp(t,n,s,l,c,f,g,b,O){t.cancelPendingCommit=null;do Mu();while(Ie!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Wc,Gc(t,s,f,g,b,O),t===te&&(Vt=te=null,Mt=0),dr=n,_s=t,qi=s,of=f,uf=c,Ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BE(Xi,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=q.p,q.p=2,g=Qt,Qt|=4;try{CE(t,n,s)}finally{Qt=g,q.p=c,z.T=l}}Ie=1,Up(),zp(),Lp()}}function Up(){if(Ie===1){Ie=0;var t=_s,n=dr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=q.p;q.p=2;var c=Qt;Qt|=4;try{yp(n,t);var f=Sf,g=xm(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&Tm(b.ownerDocument.documentElement,b)){if(O!==null&&Kc(b)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var F=G.getSelection(),ct=b.textContent.length,vt=Math.min(O.start,ct),Wt=O.end===void 0?vt:Math.min(O.end,ct);!F.extend&&vt>Wt&&(g=Wt,Wt=vt,vt=g);var k=bm(b,vt),M=bm(b,Wt);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=J.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),vt>Wt?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(J=[],F=b;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Fu=!!xf,Sf=xf=null}finally{Qt=c,q.p=l,z.T=s}}t.current=n,Ie=2}}function zp(){if(Ie===2){Ie=0;var t=_s,n=dr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=q.p;q.p=2;var c=Qt;Qt|=4;try{fp(t,n.alternate,n)}finally{Qt=c,q.p=l,z.T=s}}Ie=3}}function Lp(){if(Ie===4||Ie===3){Ie=0,So();var t=_s,n=dr,s=qi,l=Ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,dr=_s=null,Bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),Ai(s),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=q.p,q.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var b=l[g];f(b.value,{componentStack:b.stack})}}finally{z.T=n,q.p=c}}(qi&3)!==0&&Mu(),_i(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===cf?Ll++:(Ll=0,cf=t):Ll=0,Bl(0)}}function Bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Mu(){return Up(),zp(),Lp(),Pp()}function Pp(){if(Ie!==5)return!1;var t=_s,n=of;of=0;var s=Ai(qi),l=z.T,c=q.p;try{q.p=32>s?32:s,z.T=null,s=uf,uf=null;var f=_s,g=qi;if(Ie=0,dr=_s=null,qi=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;if(Qt|=4,Tp(f.current),vp(f,f.current,g,s),Qt=b,Bl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{q.p=c,z.T=l,Bp(t,n)}}function qp(t,n,s){n=wn(s,n),n=Ph(t.stateNode,n,2),t=hs(t,n,2),t!==null&&(Fs(t,2),_i(t))}function Xt(t,n,s){if(t.tag===3)qp(t,t,s);else for(;n!==null;){if(n.tag===3){qp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=wn(s,t),s=Hg(2),l=hs(n,s,2),l!==null&&(Gg(s,l,n,t),Fs(l,2),_i(l));break}}n=n.return}}function df(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new VE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(af=!0,c.add(s),t=UE.bind(null,t,n,s),n.then(t,t))}function UE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Mt&s)===s&&(ce===4||ce===3&&(Mt&62914560)===Mt&&300>Ze()-Nu?(Qt&2)===0&&mr(t,0):rf|=s,fr===Mt&&(fr=0)),_i(t)}function Hp(t,n){n===0&&(n=Do()),t=ra(t,n),t!==null&&(Fs(t,n),_i(t))}function zE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Hp(t,s)}function LE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Hp(t,s)}function BE(t,n){return De(t,n)}var ju=null,pr=null,mf=!1,ku=!1,gf=!1,Es=0;function _i(t){t!==pr&&t.next===null&&(pr===null?ju=pr=t:pr=pr.next=t),ku=!0,mf||(mf=!0,qE())}function Bl(t,n){if(!gf&&ku){gf=!0;do for(var s=!1,l=ju;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yp(l,f))}else f=Mt,f=ti(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,Yp(l,f));l=l.next}while(s);gf=!1}}function PE(){Gp()}function Gp(){ku=mf=!1;var t=0;Es!==0&&$E()&&(t=Es);for(var n=Ze(),s=null,l=ju;l!==null;){var c=l.next,f=Qp(l,n);f===0?(l.next=null,s===null?ju=c:s.next=c,c===null&&(pr=s)):(s=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=c}Ie!==0&&Ie!==5||Bl(t),Es!==0&&(Es=0)}function Qp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),b=1<<g,O=c[g];O===-1?((b&s)===0||(b&l)!==0)&&(c[g]=Hc(b,n)):O<=n&&(t.expiredLanes|=b),f&=~b}if(n=te,s=Mt,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),Ai(s)){case 2:case 8:s=Zr;break;case 32:s=Xi;break;case 268435456:s=Ao;break;default:s=Xi}return l=Fp.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Fp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mu()&&t.callbackNode!==s)return null;var l=Mt;return l=ti(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Rp(t,l,n),Qp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?Fp.bind(null,t):null)}function Yp(t,n){if(Mu())return null;Rp(t,n,!0)}function qE(){tb(function(){(Qt&6)!==0?De(Xr,PE):Gp()})}function pf(){if(Es===0){var t=er;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Es=t}return Es}function Kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function Xp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function HE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Kp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Kp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new hi("action","action",null,l,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var O=g?Xp(c,g):new FormData(c);jh(s,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=g?Xp(c,g):new FormData(c),jh(s,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var yf=0;yf<$c.length;yf++){var _f=$c[yf],GE=_f.toLowerCase(),QE=_f[0].toUpperCase()+_f.slice(1);Hn(GE,"on"+QE)}Hn(wm,"onAnimationEnd"),Hn(Rm,"onAnimationIteration"),Hn(Nm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(lE,"onTransitionRun"),Hn(oE,"onTransitionStart"),Hn(uE,"onTransitionCancel"),Hn(Cm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Zp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var b=l[g],O=b.instance,H=b.currentTarget;if(b=b.listener,O!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=H;try{f(c)}catch(X){Jo(X)}c.currentTarget=null,f=O}else for(g=0;g<l.length;g++){if(b=l[g],O=b.instance,H=b.currentTarget,b=b.listener,O!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=H;try{f(c)}catch(X){Jo(X)}c.currentTarget=null,f=O}}}}function Ot(t,n){var s=n[ja];s===void 0&&(s=n[ja]=new Set);var l=t+"__bubble";s.has(l)||(Jp(n,t,2,!1),s.add(l))}function vf(t,n,s){var l=0;n&&(l|=4),Jp(s,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[Uu]){t[Uu]=!0,Wr.forEach(function(s){s!=="selectionchange"&&(FE.has(s)||vf(s,!1,t),vf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,vf("selectionchange",!1,n))}}function Jp(t,n,s,l){switch(wy(n)){case 2:var c=Eb;break;case 8:c=bb;break;default:c=jf}s=c.bind(null,n,s,t),c=void 0,!$s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function bf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var b=l.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=l.return;g!==null;){var O=g.tag;if((O===3||O===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=si(b),g===null)return;if(O=g.tag,O===5||O===6||O===26||O===27){l=f=g;continue t}b=b.parentNode}}l=l.return}es(function(){var H=f,X=Tn(s),J=[];t:{var G=Dm.get(t);if(G!==void 0){var F=hi,ct=t;switch(t){case"keypress":if(ta(s)===0)break t;case"keydown":case"keyup":F=Ko;break;case"focusin":ct="focus",F=na;break;case"focusout":ct="blur",F=na;break;case"beforeblur":case"afterblur":F=na;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case wm:case Rm:case Nm:F=Po;break;case Cm:F=x;break;case"scroll":case"scrollend":F=hl;break;case"wheel":F=Q;break;case"copy":case"cut":case"paste":F=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ni;break;case"toggle":case"beforetoggle":F=Nt}var vt=(n&4)!==0,Wt=!vt&&(t==="scroll"||t==="scrollend"),k=vt?G!==null?G+"Capture":null:G;vt=[];for(var M=H,P;M!==null;){var Z=M;if(P=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||P===null||k===null||(Z=Ln(M,k),Z!=null&&vt.push(ql(M,Z,P))),Wt)break;M=M.return}0<vt.length&&(G=new F(G,ct,null,s,X),J.push({event:G,listeners:vt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",G&&s!==ol&&(ct=s.relatedTarget||s.fromElement)&&(si(ct)||ct[ni]))break t;if((F||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,F?(ct=s.relatedTarget||s.toElement,F=H,ct=ct?si(ct):null,ct!==null&&(Wt=h(ct),vt=ct.tag,ct!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(F=null,ct=H),F!==ct)){if(vt=fl,Z="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Ni,Z="onPointerLeave",k="onPointerEnter",M="pointer"),Wt=F==null?G:un(F),P=ct==null?G:un(ct),G=new vt(Z,M+"leave",F,s,X),G.target=Wt,G.relatedTarget=P,Z=null,si(X)===H&&(vt=new vt(k,M+"enter",ct,s,X),vt.target=P,vt.relatedTarget=Wt,Z=vt),Wt=Z,F&&ct)e:{for(vt=YE,k=F,M=ct,P=0,Z=k;Z;Z=vt(Z))P++;Z=0;for(var pt=M;pt;pt=vt(pt))Z++;for(;0<P-Z;)k=vt(k),P--;for(;0<Z-P;)M=vt(M),Z--;for(;P--;){if(k===M||M!==null&&k===M.alternate){vt=k;break e}k=vt(k),M=vt(M)}vt=null}else vt=null;F!==null&&$p(J,G,F,vt,!1),ct!==null&&Wt!==null&&$p(J,Wt,ct,vt,!0)}}t:{if(G=H?un(H):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var qt=gm;else if(dm(G))if(pm)qt=sE;else{qt=nE;var dt=eE}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&La(H.elementType)&&(qt=gm):qt=iE;if(qt&&(qt=qt(t,H))){mm(J,qt,s,X);break t}dt&&dt(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&al(G,"number",G.value)}switch(dt=H?un(H):window,t){case"focusin":(dm(dt)||dt.contentEditable==="true")&&(Ya=dt,Xc=H,yl=null);break;case"focusout":yl=Xc=Ya=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Sm(J,s,X);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Sm(J,s,X)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Fa?ia(t,s)&&(jt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(mi&&s.locale!=="ko"&&(Fa||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Fa&&(Dt=cl()):(ci=X,ul="value"in ci?ci.value:ci.textContent,Fa=!0)),dt=zu(H,jt),0<dt.length&&(jt=new di(jt,t,null,s,X),J.push({event:jt,listeners:dt}),Dt?jt.data=Dt:(Dt=Qa(s),Dt!==null&&(jt.data=Dt)))),(Dt=Sn?Jv(t,s):$v(t,s))&&(jt=zu(H,"onBeforeInput"),0<jt.length&&(dt=new di("onBeforeInput","beforeinput",null,s,X),J.push({event:dt,listeners:jt}),dt.data=Dt)),HE(J,t,H,s,X)}Zp(J,n)})}function ql(t,n,s){return{instance:t,listener:n,currentTarget:s}}function zu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ln(t,s),c!=null&&l.unshift(ql(t,c,f)),c=Ln(t,n),c!=null&&l.push(ql(t,c,f))),t.tag===3)return l;t=t.return}return[]}function YE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $p(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var b=s,O=b.alternate,H=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||H===null||(O=H,c?(H=Ln(s,f),H!=null&&g.unshift(ql(s,H,O))):c||(H=Ln(s,f),H!=null&&g.push(ql(s,H,O)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var KE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Wp(t){return(typeof t=="string"?t:""+t).replace(KE,`
`).replace(XE,"")}function ty(t,n){return n=Wp(n),Wp(t)===n}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,s,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ba(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ba(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zo.get(s)||s,Ua(t,s,l))}}function Tf(t,n,s,l,c,f){switch(s){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Oe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ua(t,s,l)}}}function qe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,f,g,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":Ot("invalid",t);var b=f=g=c=null,O=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":c=X;break;case"type":g=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":f=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:$t(t,n,l,X,s,null)}}jo(t,f,b,O,H,g,c,!1);return;case"select":Ot("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":l=b;default:$t(t,n,c,b,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):s!=null&&Ji(t,!!l,s,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(b=s[g],b!=null))switch(g){case"value":l=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:$t(t,n,g,b,s,null)}$i(t,l,c,f);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,O,l,s,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ot(Pl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,H,l,s,null)}return;default:if(La(n)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&Tf(t,n,X,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&$t(t,n,b,l,s,null))}function ZE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,O=null,H=null,X=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=J;default:l.hasOwnProperty(F)||$t(t,n,F,null,l,J)}}for(var G in l){var F=l[G];if(J=s[G],l.hasOwnProperty(G)&&(F!=null||J!=null))switch(G){case"type":f=F;break;case"name":c=F;break;case"checked":H=F;break;case"defaultChecked":X=F;break;case"value":g=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==J&&$t(t,n,G,F,l,J)}}za(t,g,b,O,H,X,f,c);return;case"select":F=g=b=G=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":F=O;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,O)}for(c in l)if(f=l[c],O=s[c],l.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==O&&$t(t,n,c,f,l,O)}n=b,s=g,l=F,G!=null?Ji(t,!!s,G,!1):!!l!=!!s&&(n!=null?Ji(t,!!s,n,!0):Ji(t,!!s,s?[]:"",!1));return;case"textarea":F=G=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$t(t,n,b,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":G=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,n,g,c,l,f)}ko(t,G,F);return;case"option":for(var ct in s)if(G=s[ct],s.hasOwnProperty(ct)&&G!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,G)}for(O in l)if(G=l[O],F=s[O],l.hasOwnProperty(O)&&G!==F&&(G!=null||F!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$t(t,n,O,G,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)G=s[vt],s.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt)&&$t(t,n,vt,null,l,G);for(H in l)if(G=l[H],F=s[H],l.hasOwnProperty(H)&&G!==F&&(G!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:$t(t,n,H,G,l,F)}return;default:if(La(n)){for(var Wt in s)G=s[Wt],s.hasOwnProperty(Wt)&&G!==void 0&&!l.hasOwnProperty(Wt)&&Tf(t,n,Wt,void 0,l,G);for(X in l)G=l[X],F=s[X],!l.hasOwnProperty(X)||G===F||G===void 0&&F===void 0||Tf(t,n,X,G,l,F);return}}for(var k in s)G=s[k],s.hasOwnProperty(k)&&G!=null&&!l.hasOwnProperty(k)&&$t(t,n,k,null,l,G);for(J in l)G=l[J],F=s[J],!l.hasOwnProperty(J)||G===F||G==null&&F==null||$t(t,n,J,G,l,F)}function ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,b=c.duration;if(f&&b&&ey(g)){for(g=0,b=c.responseEnd,l+=1;l<s.length;l++){var O=s[l],H=O.startTime;if(H>b)break;var X=O.transferSize,J=O.initiatorType;X&&ey(J)&&(O=O.responseEnd,g+=X*(O<b?1:(b-H)/(O-H)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xf=null,Sf=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function $E(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(eb)}:sy;function eb(t){setTimeout(function(){throw t})}function bs(t){return t==="head"}function ry(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Er(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[ii]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Hl(t.ownerDocument.body);s=c}while(s);Er(n)}function ly(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rf(s),ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function nb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function ib(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=In(t.nextSibling),t===null))return null;return t}function oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function Nf(t){return t.data==="$?"||t.data==="$~"}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Df=null;function uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return In(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function hy(t,n,s){switch(n=Lu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ka(t)}var Vn=new Map,fy=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=q.d;q.d={f:ab,r:rb,D:lb,C:ob,L:ub,m:cb,X:fb,S:hb,M:db};function ab(){var t=Hi.f(),n=Iu();return t||n}function rb(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Hi.r(t)}var yr=typeof document>"u"?null:document;function dy(t,n,s){var l=yr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),fy.has(c)||(fy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function lb(t){Hi.D(t),dy("dns-prefetch",t,null)}function ob(t,n){Hi.C(t,n),dy("preconnect",t,n)}function ub(t,n,s){Hi.L(t,n,s);var l=yr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+We(s.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=_r(t);break;case"script":f=vr(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function cb(t,n){Hi.m(t,n);var s=yr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vr(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ql(f)))return}l=s.createElement("link"),qe(l,"link",t),ve(l),s.head.appendChild(l)}}}function hb(t,n,s){Hi.S(t,n,s);var l=yr;if(l&&t){var c=ai(l).hoistableStyles,f=_r(t);n=n||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=l.querySelector(Gl(f)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(f))&&If(t,s);var O=g=l.createElement("link");ve(O),qe(O,"link",t),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function fb(t,n){Hi.X(t,n);var s=yr;if(s&&t){var l=ai(s).hoistableScripts,c=vr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=A({src:t,async:!0},n),(n=Vn.get(c))&&Vf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function db(t,n){Hi.M(t,n);var s=yr;if(s&&t){var l=ai(s).hoistableScripts,c=vr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Vf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function my(t,n,s,l){var c=(c=Rt.current)?Bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=_r(s.href),s=ai(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=_r(s.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Gl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),f||mb(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vr(s),s=ai(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function _r(t){return'href="'+We(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function gy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function mb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ve(n),t.head.appendChild(n))}function vr(t){return'[src="'+We(t)+'"]'}function Ql(t){return"script[async]"+t}function py(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),Pu(l,s.precedence,t),n.instance=l;case"stylesheet":c=_r(s.href);var f=t.querySelector(Gl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=gy(s),(c=Vn.get(c))&&If(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(b,O){g.onload=b,g.onerror=O}),qe(f,"link",l),n.state.loading|=4,Pu(f,s.precedence,t),n.instance=f;case"script":return f=vr(s.src),(c=t.querySelector(Ql(f)))?(n.instance=c,ve(c),c):(l=s,(c=Vn.get(f))&&(l=A({},s),Vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,s.precedence,t));return n.instance}function Pu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var b=l[g];if(b.dataset.precedence===n)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function yy(t,n,s){if(qu===null){var l=new Map,c=qu=new Map;c.set(s,l)}else c=qu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var b=l.get(g);b?b.push(f):l.set(g,[f])}}return l}function _y(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function gb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=_r(l.href),f=n.querySelector(Gl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Hu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=gy(l),(c=Vn.get(c))&&If(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(b,O){g.onload=b,g.onerror=O}),qe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Hu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Of=0;function yb(t,n){return t.stylesheets&&t.count===0&&Qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Of===0&&(Of=62500*JE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Of?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(_b,t),Gu=null,Hu.call(t))}function _b(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function vb(t,n,s,l,c,f,g,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ey(t,n,s,l,c,f,g,b,O,H,X,J){return t=new vb(t,n,s,g,O,H,X,J,b),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=hh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},gh(f),t}function by(t){return t?(t=Za,t):Za}function Ty(t,n,s,l,c,f){c=by(c),l.context===null?l.context=c:l.pendingContext=c,l=cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=hs(t,l,n),s!==null&&(rn(s,t,n),Sl(s,t,n))}function xy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Mf(t,n){xy(t,n),(t=t.alternate)&&xy(t,n)}function Sy(t){if(t.tag===13||t.tag===31){var n=ra(t,67108864);n!==null&&rn(n,t,67108864),Mf(t,67108864)}}function Ay(t){if(t.tag===13||t.tag===31){var n=yn();n=Ks(n);var s=ra(t,n);s!==null&&rn(s,t,n),Mf(t,n)}}var Fu=!0;function Eb(t,n,s,l){var c=z.T;z.T=null;var f=q.p;try{q.p=2,jf(t,n,s,l)}finally{q.p=f,z.T=c}}function bb(t,n,s,l){var c=z.T;z.T=null;var f=q.p;try{q.p=8,jf(t,n,s,l)}finally{q.p=f,z.T=c}}function jf(t,n,s,l){if(Fu){var c=kf(l);if(c===null)bf(t,n,l,Yu,s),Ry(t,l);else if(xb(c,t,n,s,l))l.stopPropagation();else if(Ry(t,l),n&4&&-1<Tb.indexOf(t)){for(;c!==null;){var f=bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var O=1<<31-he(g);b.entanglements[1]|=O,g&=~O}_i(f),(Qt&6)===0&&(Cu=Ze()+500,Bl(0))}}break;case 31:case 13:b=ra(f,2),b!==null&&rn(b,f,2),Iu(),Mf(f,2)}if(f=kf(l),f===null&&bf(t,n,l,Yu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else bf(t,n,l,null,s)}}function kf(t){return t=Tn(t),Uf(t)}var Yu=null;function Uf(t){if(Yu=null,t=si(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gs()){case Xr:return 2;case Zr:return 8;case Xi:case qc:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var zf=!1,Ts=null,xs=null,Ss=null,Yl=new Map,Kl=new Map,As=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(t,n){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bn(n),n!==null&&Sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function xb(t,n,s,l,c){switch(n){case"focusin":return Ts=Xl(Ts,t,n,s,l,c),!0;case"dragenter":return xs=Xl(xs,t,n,s,l,c),!0;case"mouseover":return Ss=Xl(Ss,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,s,l,c)),!0}return!1}function Ny(t){var n=si(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Ay(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,kn(t.priority,function(){Ay(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=kf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ol=l,s.target.dispatchEvent(l),ol=null}else return n=bn(s),n!==null&&Sy(n),t.blockedOn=s,!1;n.shift()}return!0}function Cy(t,n,s){Ku(t)&&s.delete(n)}function Sb(){zf=!1,Ts!==null&&Ku(Ts)&&(Ts=null),xs!==null&&Ku(xs)&&(xs=null),Ss!==null&&Ku(Ss)&&(Ss=null),Yl.forEach(Cy),Kl.forEach(Cy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Sb)))}var Zu=null;function Dy(t){Zu!==t&&(Zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Uf(l||s)===null)continue;break}var f=bn(s);f!==null&&(t.splice(n,3),n-=3,jh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Er(t){function n(O){return Xu(O,t)}Ts!==null&&Xu(Ts,t),xs!==null&&Xu(xs,t),Ss!==null&&Xu(Ss,t),Yl.forEach(n),Kl.forEach(n);for(var s=0;s<As.length;s++){var l=As[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<As.length&&(s=As[0],s.blockedOn===null);)Ny(s),s.blockedOn===null&&As.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Oe]||null;if(typeof f=="function")g||Dy(s);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)b=g.formAction;else if(Uf(c)!==null)continue}else b=g.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Dy(s)}}}function Iy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Lf(t){this._internalRoot=t}Ju.prototype.render=Lf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=yn();Ty(s,l,t,n,null,null)},Ju.prototype.unmount=Lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ty(t.current,2,null,t,null,null),Iu(),n[ni]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var s=0;s<As.length&&n!==0&&n<As[s].priority;s++);As.splice(s,0,t),s===0&&Ny(t)}};var Vy=e.version;if(Vy!=="19.2.3")throw Error(r(527,Vy,"19.2.3"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Mn=$u.inject(Ab),Ue=$u}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Lg,f=Bg,g=Pg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Ey(t,1,!1,null,null,s,l,null,c,f,g,Iy),t[ni]=n.current,Ef(t),new Lf(n)},Jl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Lg,g=Bg,b=Pg,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),n=Ey(t,1,!0,n,s??null,l,c,O,f,g,b,Iy),n.context=by(null),s=n.current,l=yn(),l=Ks(l),c=cs(l),c.callback=null,hs(s,c,l),s=l,n.current.lanes=s,Fs(n,s),_i(n),t[ni]=n.current,Ef(t),new Ju(n)},Jl.version="19.2.3",Jl}var qy;function jb(){if(qy)return qf.exports;qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qf.exports=Mb(),qf.exports}var kb=jb();const Ub=()=>{};var Hy={};const u_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},zb=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],E=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},c_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,E=o+2<a.length,y=E?a[o+2]:0,T=h>>2,A=(h&3)<<4|p>>4;let N=(p&15)<<2|y>>6,U=y&63;E||(U=64,d||(N=64)),r.push(i[T],i[A],i[N],i[U])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(u_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):zb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||y==null||A==null)throw new Lb;const N=h<<2|p>>4;if(r.push(N),y!==64){const U=p<<4&240|y>>2;if(r.push(U),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(a){const e=u_(a);return c_.encodeByteArray(e,!0)},dc=function(a){return Bb(a).replace(/\./g,"")},Pb=function(a){try{return c_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hb=()=>qb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof Hy>"u")return;const a=Hy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Qb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Pb(a[1]);return e&&JSON.parse(e)},wd=()=>{try{return Ub()||Hb()||Gb()||Qb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Fb=a=>wd()?.emulatorHosts?.[a],Yb=a=>{const e=Fb(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},h_=()=>wd()?.config;class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Rd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xb(a){return(await fetch(a,{credentials:"include"})).ok}function Zb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}const ao={};function Jb(){const a={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?a.emulator.push(e):a.prod.push(e);return a}function $b(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Gy=!1;function Wb(a,e){if(typeof window>"u"||typeof document>"u"||!Rd(window.location.host)||ao[a]===e||ao[a]||Gy)return;ao[a]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=Jb().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function E(N,U){N.setAttribute("width","24"),N.setAttribute("id",U),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Gy=!0,d()},N}function T(N,U){N.setAttribute("id",U),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=$b(r),U=i("text"),W=document.getElementById(U)||document.createElement("span"),B=i("learnmore"),K=document.getElementById(B)||document.createElement("a"),at=i("preprendIcon"),ht=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ft=N.element;p(ft),T(K,B);const Et=y();E(ht,at),ft.append(ht,W,K,Et),document.body.appendChild(ft)}h?(W.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function tT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){const a=wd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nT(){return!eT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iT(){try{return typeof indexedDB=="object"}catch{return!1}}function sT(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const aT="FirebaseError";class Lr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=aT,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f_.prototype.create)}}class f_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?rT(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Lr(o,p,r)}}function rT(a,e){return a.replace(lT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const lT=/\{\$([^}]+)}/g;function Cr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Qy(h)&&Qy(d)){if(!Cr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Qy(a){return a!==null&&typeof a=="object"}function xi(a){return a&&a._delegate?a._delegate:a}class co{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class oT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Kb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cT(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(a){return a===Ea?void 0:a}function cT(a){return a.instantiationMode==="EAGER"}class hT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const fT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},dT=Pt.INFO,mT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},gT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=mT[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=dT,this._logHandler=gT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const pT=(a,e)=>e.some(i=>a instanceof i);let Fy,Yy;function yT(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _T(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,id=new WeakMap,g_=new WeakMap,Ff=new WeakMap,Nd=new WeakMap;function vT(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Cs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&m_.set(i,a)}).catch(()=>{}),Nd.set(e,a),e}function ET(a){if(id.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});id.set(a,e)}let sd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return id.get(a);if(e==="objectStoreNames")return a.objectStoreNames||g_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function bT(a){sd=a(sd)}function TT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Yf(this),e,...i);return g_.set(r,e.sort?e.sort():[e]),Cs(r)}:_T().includes(a)?function(...e){return a.apply(Yf(this),e),Cs(m_.get(this))}:function(...e){return Cs(a.apply(Yf(this),e))}}function xT(a){return typeof a=="function"?TT(a):(a instanceof IDBTransaction&&ET(a),pT(a,yT())?new Proxy(a,sd):a)}function Cs(a){if(a instanceof IDBRequest)return vT(a);if(Ff.has(a))return Ff.get(a);const e=xT(a);return e!==a&&(Ff.set(a,e),Nd.set(e,a)),e}const Yf=a=>Nd.get(a);function ST(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Cs(d);return r&&d.addEventListener("upgradeneeded",E=>{r(Cs(d.result),E.oldVersion,E.newVersion,Cs(d.transaction),E)}),i&&d.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),p.then(E=>{h&&E.addEventListener("close",()=>h()),o&&E.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AT=["get","getKey","getAll","getAllKeys","count"],wT=["put","add","delete","clear"],Kf=new Map;function Ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=wT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||AT.includes(i)))return;const h=async function(d,...p){const E=this.transaction(d,o?"readwrite":"readonly");let y=E.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&E.done]))[0]};return Kf.set(e,h),h}bT(a=>({...a,get:(e,i,r)=>Ky(e,i)||a.get(e,i,r),has:(e,i)=>!!Ky(e,i)||a.has(e,i)}));class RT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function NT(a){return a.getComponent()?.type==="VERSION"}const ad="@firebase/app",Xy="0.14.8";const Qi=new d_("@firebase/app"),CT="@firebase/app-compat",DT="@firebase/analytics-compat",IT="@firebase/analytics",VT="@firebase/app-check-compat",OT="@firebase/app-check",MT="@firebase/auth",jT="@firebase/auth-compat",kT="@firebase/database",UT="@firebase/data-connect",zT="@firebase/database-compat",LT="@firebase/functions",BT="@firebase/functions-compat",PT="@firebase/installations",qT="@firebase/installations-compat",HT="@firebase/messaging",GT="@firebase/messaging-compat",QT="@firebase/performance",FT="@firebase/performance-compat",YT="@firebase/remote-config",KT="@firebase/remote-config-compat",XT="@firebase/storage",ZT="@firebase/storage-compat",JT="@firebase/firestore",$T="@firebase/ai",WT="@firebase/firestore-compat",t1="firebase",e1="12.9.0";const rd="[DEFAULT]",n1={[ad]:"fire-core",[CT]:"fire-core-compat",[IT]:"fire-analytics",[DT]:"fire-analytics-compat",[OT]:"fire-app-check",[VT]:"fire-app-check-compat",[MT]:"fire-auth",[jT]:"fire-auth-compat",[kT]:"fire-rtdb",[UT]:"fire-data-connect",[zT]:"fire-rtdb-compat",[LT]:"fire-fn",[BT]:"fire-fn-compat",[PT]:"fire-iid",[qT]:"fire-iid-compat",[HT]:"fire-fcm",[GT]:"fire-fcm-compat",[QT]:"fire-perf",[FT]:"fire-perf-compat",[YT]:"fire-rc",[KT]:"fire-rc-compat",[XT]:"fire-gcs",[ZT]:"fire-gcs-compat",[JT]:"fire-fst",[WT]:"fire-fst-compat",[$T]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};const mc=new Map,i1=new Map,ld=new Map;function Zy(a,e){try{a.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function gc(a){const e=a.name;if(ld.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,a);for(const i of mc.values())Zy(i,a);for(const i of i1.values())Zy(i,a);return!0}function s1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function a1(a){return a==null?!1:a.settings!==void 0}const r1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new f_("app","Firebase",r1);class l1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const o1=e1;function p_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:rd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=h_()),!i)throw Ds.create("no-options");const h=mc.get(o);if(h){if(Cr(i,h.options)&&Cr(r,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new hT(o);for(const E of ld.values())d.addComponent(E);const p=new l1(i,r,d);return mc.set(o,p),p}function u1(a=rd){const e=mc.get(a);if(!e&&a===rd&&h_())return p_();if(!e)throw Ds.create("no-app",{appName:a});return e}function Ar(a,e,i){let r=n1[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}gc(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const c1="firebase-heartbeat-database",h1=1,ho="firebase-heartbeat-store";let Xf=null;function y_(){return Xf||(Xf=ST(c1,h1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ds.create("idb-open",{originalErrorMessage:a.message})})),Xf}async function f1(a){try{const i=(await y_()).transaction(ho),r=await i.objectStore(ho).get(__(a));return await i.done,r}catch(e){if(e instanceof Lr)Qi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function Jy(a,e){try{const r=(await y_()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,__(a)),await r.done}catch(i){if(i instanceof Lr)Qi.warn(i.message);else{const r=Ds.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(r.message)}}}function __(a){return`${a.name}!${a.options.appId}`}const d1=1024,m1=30;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new y1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$y();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>m1){const o=_1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$y(),{heartbeatsToSend:i,unsentEntries:r}=p1(this._heartbeatsCache.heartbeats),o=dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function $y(){return new Date().toISOString().substring(0,10)}function p1(a,e=d1){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Wy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iT()?sT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await f1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Wy(a){return dc(JSON.stringify({version:2,heartbeats:a})).length}function _1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function v1(a){gc(new co("platform-logger",e=>new RT(e),"PRIVATE")),gc(new co("heartbeat",e=>new g1(e),"PRIVATE")),Ar(ad,Xy,a),Ar(ad,Xy,"esm2020"),Ar("fire-js","")}v1("");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,v_;(function(){var a;function e(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(j,V,R){for(var S=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)S[rt-2]=arguments[rt];return w.prototype[V].apply(j,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,I){I||(I=0);const j=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)j[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;V<16;++V)j[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],V=D.g[2];let R=D.g[3],S;S=w+(R^I&(V^R))+j[0]+3614090360&4294967295,w=I+(S<<7&4294967295|S>>>25),S=R+(V^w&(I^V))+j[1]+3905402710&4294967295,R=w+(S<<12&4294967295|S>>>20),S=V+(I^R&(w^I))+j[2]+606105819&4294967295,V=R+(S<<17&4294967295|S>>>15),S=I+(w^V&(R^w))+j[3]+3250441966&4294967295,I=V+(S<<22&4294967295|S>>>10),S=w+(R^I&(V^R))+j[4]+4118548399&4294967295,w=I+(S<<7&4294967295|S>>>25),S=R+(V^w&(I^V))+j[5]+1200080426&4294967295,R=w+(S<<12&4294967295|S>>>20),S=V+(I^R&(w^I))+j[6]+2821735955&4294967295,V=R+(S<<17&4294967295|S>>>15),S=I+(w^V&(R^w))+j[7]+4249261313&4294967295,I=V+(S<<22&4294967295|S>>>10),S=w+(R^I&(V^R))+j[8]+1770035416&4294967295,w=I+(S<<7&4294967295|S>>>25),S=R+(V^w&(I^V))+j[9]+2336552879&4294967295,R=w+(S<<12&4294967295|S>>>20),S=V+(I^R&(w^I))+j[10]+4294925233&4294967295,V=R+(S<<17&4294967295|S>>>15),S=I+(w^V&(R^w))+j[11]+2304563134&4294967295,I=V+(S<<22&4294967295|S>>>10),S=w+(R^I&(V^R))+j[12]+1804603682&4294967295,w=I+(S<<7&4294967295|S>>>25),S=R+(V^w&(I^V))+j[13]+4254626195&4294967295,R=w+(S<<12&4294967295|S>>>20),S=V+(I^R&(w^I))+j[14]+2792965006&4294967295,V=R+(S<<17&4294967295|S>>>15),S=I+(w^V&(R^w))+j[15]+1236535329&4294967295,I=V+(S<<22&4294967295|S>>>10),S=w+(V^R&(I^V))+j[1]+4129170786&4294967295,w=I+(S<<5&4294967295|S>>>27),S=R+(I^V&(w^I))+j[6]+3225465664&4294967295,R=w+(S<<9&4294967295|S>>>23),S=V+(w^I&(R^w))+j[11]+643717713&4294967295,V=R+(S<<14&4294967295|S>>>18),S=I+(R^w&(V^R))+j[0]+3921069994&4294967295,I=V+(S<<20&4294967295|S>>>12),S=w+(V^R&(I^V))+j[5]+3593408605&4294967295,w=I+(S<<5&4294967295|S>>>27),S=R+(I^V&(w^I))+j[10]+38016083&4294967295,R=w+(S<<9&4294967295|S>>>23),S=V+(w^I&(R^w))+j[15]+3634488961&4294967295,V=R+(S<<14&4294967295|S>>>18),S=I+(R^w&(V^R))+j[4]+3889429448&4294967295,I=V+(S<<20&4294967295|S>>>12),S=w+(V^R&(I^V))+j[9]+568446438&4294967295,w=I+(S<<5&4294967295|S>>>27),S=R+(I^V&(w^I))+j[14]+3275163606&4294967295,R=w+(S<<9&4294967295|S>>>23),S=V+(w^I&(R^w))+j[3]+4107603335&4294967295,V=R+(S<<14&4294967295|S>>>18),S=I+(R^w&(V^R))+j[8]+1163531501&4294967295,I=V+(S<<20&4294967295|S>>>12),S=w+(V^R&(I^V))+j[13]+2850285829&4294967295,w=I+(S<<5&4294967295|S>>>27),S=R+(I^V&(w^I))+j[2]+4243563512&4294967295,R=w+(S<<9&4294967295|S>>>23),S=V+(w^I&(R^w))+j[7]+1735328473&4294967295,V=R+(S<<14&4294967295|S>>>18),S=I+(R^w&(V^R))+j[12]+2368359562&4294967295,I=V+(S<<20&4294967295|S>>>12),S=w+(I^V^R)+j[5]+4294588738&4294967295,w=I+(S<<4&4294967295|S>>>28),S=R+(w^I^V)+j[8]+2272392833&4294967295,R=w+(S<<11&4294967295|S>>>21),S=V+(R^w^I)+j[11]+1839030562&4294967295,V=R+(S<<16&4294967295|S>>>16),S=I+(V^R^w)+j[14]+4259657740&4294967295,I=V+(S<<23&4294967295|S>>>9),S=w+(I^V^R)+j[1]+2763975236&4294967295,w=I+(S<<4&4294967295|S>>>28),S=R+(w^I^V)+j[4]+1272893353&4294967295,R=w+(S<<11&4294967295|S>>>21),S=V+(R^w^I)+j[7]+4139469664&4294967295,V=R+(S<<16&4294967295|S>>>16),S=I+(V^R^w)+j[10]+3200236656&4294967295,I=V+(S<<23&4294967295|S>>>9),S=w+(I^V^R)+j[13]+681279174&4294967295,w=I+(S<<4&4294967295|S>>>28),S=R+(w^I^V)+j[0]+3936430074&4294967295,R=w+(S<<11&4294967295|S>>>21),S=V+(R^w^I)+j[3]+3572445317&4294967295,V=R+(S<<16&4294967295|S>>>16),S=I+(V^R^w)+j[6]+76029189&4294967295,I=V+(S<<23&4294967295|S>>>9),S=w+(I^V^R)+j[9]+3654602809&4294967295,w=I+(S<<4&4294967295|S>>>28),S=R+(w^I^V)+j[12]+3873151461&4294967295,R=w+(S<<11&4294967295|S>>>21),S=V+(R^w^I)+j[15]+530742520&4294967295,V=R+(S<<16&4294967295|S>>>16),S=I+(V^R^w)+j[2]+3299628645&4294967295,I=V+(S<<23&4294967295|S>>>9),S=w+(V^(I|~R))+j[0]+4096336452&4294967295,w=I+(S<<6&4294967295|S>>>26),S=R+(I^(w|~V))+j[7]+1126891415&4294967295,R=w+(S<<10&4294967295|S>>>22),S=V+(w^(R|~I))+j[14]+2878612391&4294967295,V=R+(S<<15&4294967295|S>>>17),S=I+(R^(V|~w))+j[5]+4237533241&4294967295,I=V+(S<<21&4294967295|S>>>11),S=w+(V^(I|~R))+j[12]+1700485571&4294967295,w=I+(S<<6&4294967295|S>>>26),S=R+(I^(w|~V))+j[3]+2399980690&4294967295,R=w+(S<<10&4294967295|S>>>22),S=V+(w^(R|~I))+j[10]+4293915773&4294967295,V=R+(S<<15&4294967295|S>>>17),S=I+(R^(V|~w))+j[1]+2240044497&4294967295,I=V+(S<<21&4294967295|S>>>11),S=w+(V^(I|~R))+j[8]+1873313359&4294967295,w=I+(S<<6&4294967295|S>>>26),S=R+(I^(w|~V))+j[15]+4264355552&4294967295,R=w+(S<<10&4294967295|S>>>22),S=V+(w^(R|~I))+j[6]+2734768916&4294967295,V=R+(S<<15&4294967295|S>>>17),S=I+(R^(V|~w))+j[13]+1309151649&4294967295,I=V+(S<<21&4294967295|S>>>11),S=w+(V^(I|~R))+j[4]+4149444226&4294967295,w=I+(S<<6&4294967295|S>>>26),S=R+(I^(w|~V))+j[11]+3174756917&4294967295,R=w+(S<<10&4294967295|S>>>22),S=V+(w^(R|~I))+j[2]+718787259&4294967295,V=R+(S<<15&4294967295|S>>>17),S=I+(R^(V|~w))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,j=this.C;let V=this.h,R=0;for(;R<w;){if(V==0)for(;R<=I;)o(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<w;)if(j[V++]=D.charCodeAt(R++),V==this.blockSize){o(this,j),V=0;break}}else for(;R<w;)if(j[V++]=D[R++],V==this.blockSize){o(this,j),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)D[w++]=this.g[I]>>>j&255;return D};function h(D,w){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function d(D,w){this.h=w;const I=[];let j=!0;for(let V=D.length-1;V>=0;V--){const R=D[V]|0;j&&R==w||(I[V]=R,j=!1)}this.g=I}var p={};function E(D){return-128<=D&&D<128?h(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return K(y(-D));const w=[];let I=1;for(let j=0;D>=I;j++)w[j]=D/I|0,I*=4294967296;return new d(w,0)}function T(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return K(T(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let j=A;for(let R=0;R<D.length;R+=8){var V=Math.min(8,D.length-R);const S=parseInt(D.substring(R,R+V),w);V<8?(V=y(Math.pow(w,V)),j=j.j(V).add(y(S))):(j=j.j(I),j=j.add(y(S)))}return j}var A=E(0),N=E(1),U=E(16777216);a=d.prototype,a.m=function(){if(B(this))return-K(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);D+=(j>=0?j:4294967296+j)*w,w*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(B(this))return"-"+K(this).toString(D);const w=y(Math.pow(D,6));var I=this;let j="";for(;;){const V=Et(I,w).g;I=at(I,V.j(w));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=V,W(I))return R+j;for(;R.length<6;)R="0"+R;j=R+j}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function B(D){return D.h==-1}a.l=function(D){return D=at(this,D),B(D)?-1:W(D)?0:1};function K(D){const w=D.g.length,I=[];for(let j=0;j<w;j++)I[j]=~D.g[j];return new d(I,~D.h).add(N)}a.abs=function(){return B(this)?K(this):this},a.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let j=0;for(let V=0;V<=w;V++){let R=j+(this.i(V)&65535)+(D.i(V)&65535),S=(R>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);j=S>>>16,R&=65535,S&=65535,I[V]=S<<16|R}return new d(I,I[I.length-1]&-2147483648?-1:0)};function at(D,w){return D.add(K(w))}a.j=function(D){if(W(this)||W(D))return A;if(B(this))return B(D)?K(this).j(K(D)):K(K(this).j(D));if(B(D))return K(this.j(K(D)));if(this.l(U)<0&&D.l(U)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var j=0;j<2*w;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<D.g.length;V++){const R=this.i(j)>>>16,S=this.i(j)&65535,rt=D.i(V)>>>16,mt=D.i(V)&65535;I[2*j+2*V]+=S*mt,ht(I,2*j+2*V),I[2*j+2*V+1]+=R*mt,ht(I,2*j+2*V+1),I[2*j+2*V+1]+=S*rt,ht(I,2*j+2*V+1),I[2*j+2*V+2]+=R*rt,ht(I,2*j+2*V+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new d(I,0)};function ht(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ft(D,w){this.g=D,this.h=w}function Et(D,w){if(W(w))throw Error("division by zero");if(W(D))return new ft(A,A);if(B(D))return w=Et(K(D),w),new ft(K(w.g),K(w.h));if(B(w))return w=Et(D,K(w)),new ft(K(w.g),w.h);if(D.g.length>30){if(B(D)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,j=w;j.l(D)<=0;)I=It(I),j=It(j);var V=Tt(I,1),R=Tt(j,1);for(j=Tt(j,2),I=Tt(I,2);!W(j);){var S=R.add(j);S.l(D)<=0&&(V=V.add(I),R=S),j=Tt(j,1),I=Tt(I,1)}return w=at(D,V.j(w)),new ft(V,w)}for(V=A;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),R=y(I),S=R.j(w);B(S)||S.l(D)>0;)I-=j,R=y(I),S=R.j(w);W(R)&&(R=N),V=V.add(R),D=at(D,S)}return new ft(V,D)}a.B=function(D){return Et(this,D).h},a.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)&D.i(j);return new d(I,this.h&D.h)},a.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)|D.i(j);return new d(I,this.h|D.h)},a.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let j=0;j<w;j++)I[j]=this.i(j)^D.i(j);return new d(I,this.h^D.h)};function It(D){const w=D.g.length+1,I=[];for(let j=0;j<w;j++)I[j]=D.i(j)<<1|D.i(j-1)>>>31;return new d(I,D.h)}function Tt(D,w){const I=w>>5;w%=32;const j=D.g.length-I,V=[];for(let R=0;R<j;R++)V[R]=w>0?D.i(R+I)>>>w|D.i(R+I+1)<<32-w:D.i(R+I);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Is=d}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E_,to,b_,rc,od,T_,x_,S_;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var L=u[x];if(!(L in _))break t;_=_[L]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=E,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,L,Q){for(var nt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)nt[Nt-2]=arguments[Nt];return m.prototype[L].apply(x,nt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function U(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function W(u,m){for(let x=1;x<arguments.length;x++){const L=arguments[x];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const Q=L.length||0;u.length=_+Q;for(let nt=0;nt<Q;nt++)u[_+nt]=L[nt]}else u.push(L)}}class B{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function at(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const x=ft.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ft=new B(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let It,Tt=!1,D=new ht,w=()=>{const u=Promise.resolve(void 0);It=()=>{u.then(I)}};function I(){for(var u;u=at();){try{u.h.call(u.g)}catch(_){K(_)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Tt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(rt,V),rt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),z=0;function q(u,m,_,x,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=L,this.key=++z,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function gt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let _,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(_ in x)u[_]=x[_];for(let Q=0;Q<Y.length;Q++)_=Y[Q],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,_,x,L){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const nt=Rt(u,m,x,L);return nt>-1?(m=u[nt],_||(m.fa=!1)):(m=new q(m,this.src,Q,!!x,L),m.fa=_,u.push(m)),m};function xt(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],L=Array.prototype.indexOf.call(x,m,void 0),Q;(Q=L>=0)&&Array.prototype.splice.call(x,L,1),Q&&(et(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Rt(u,m,_,x){for(let L=0;L<u.length;++L){const Q=u[L];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==x)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ae(u,m,_,x,L){if(Array.isArray(m)){for(let Q=0;Q<m.length;Q++)ae(u,m[Q],_,x,L);return null}return _=Kr(_),u&&u[mt]?u.J(m,_,p(x)?!!x.capture:!1,L):qs(u,m,_,!1,x,L)}function qs(u,m,_,x,L,Q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let Nt=Hs(u);if(Nt||(u[Lt]=Nt=new ot(u)),_=Nt.add(m,_,x,nt,Q),_.proxy)return _;if(x=Ia(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)R||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),x,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ia(){function u(_){return m.call(u.src,u.listener,_)}const m=Fr;return u}function Va(u,m,_,x,L){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Va(u,m[Q],_,x,L);else x=p(x)?!!x.capture:!!x,_=Kr(_),u&&u[mt]?(u=u.i,Q=String(m).toString(),Q in u.g&&(m=u.g[Q],_=Rt(m,_,x,L),_>-1&&(et(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,_,x,L)),(_=u>-1?m[u]:null)&&Oa(_))}function Oa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])xt(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(Jn(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Hs(m))?(xt(_,u),_.h==0&&(_.src=null,m[Lt]=null)):et(u)}}}function Jn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Fr(u,m){if(u.da)u=!0;else{m=new rt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&Oa(u),u=_.call(x,m)}return u}function Hs(u){return u=u[Lt],u instanceof ot?u:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(u){return typeof u=="function"?u:(u[Yr]||(u[Yr]=function(m){return u.handleEvent(m)}),u[Yr])}function pe(){j.call(this),this.i=new ot(this),this.M=this,this.G=null}A(pe,j),pe.prototype[mt]=!0,pe.prototype.removeEventListener=function(u,m,_,x){Va(this,u,m,_,x)};function De(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(x,u),st(m,L)}L=!0;let Q,nt;if(_)for(nt=_.length-1;nt>=0;nt--)Q=m.g=_[nt],L=Ki(Q,x,!0,m)&&L;if(Q=m.g=u,L=Ki(Q,x,!0,m)&&L,L=Ki(Q,x,!1,m)&&L,_)for(nt=0;nt<_.length;nt++)Q=m.g=_[nt],L=Ki(Q,x,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)et(_[x]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},pe.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function Ki(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let Q=0;Q<m.length;++Q){const nt=m[Q];if(nt&&!nt.da&&nt.capture==_){const Nt=nt.listener,fe=nt.ha||nt.src;nt.fa&&xt(u.i,nt),L=Nt.call(fe,x)!==!1&&L}}return L&&!x.defaultPrevented}function Pc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=Pc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends j{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(u){j.call(this),this.h=u,this.g={}}A(Gs,j);var Xr=[];function Zr(u){_t(u.g,function(m,_){this.g.hasOwnProperty(_)&&Oa(m)},u),u.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),Zr(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,qc=d.JSON.parse,Ao=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wo(){}function Ro(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){V.call(this,"d")}A(Ue,V);function En(){V.call(this,"c")}A(En,V);var he={},No=null;function Ma(){return No=No||new pe}he.Ia="serverreachability";function Co(u){V.call(this,he.Ia,u)}A(Co,V);function $n(u){const m=Ma();De(m,new Co(m))}he.STAT_EVENT="statevent";function Qs(u,m){V.call(this,he.STAT_EVENT,u),this.stat=m}A(Qs,V);function ye(u){const m=Ma();De(m,new Qs(m,u))}he.Ja="timingevent";function Wn(u,m){V.call(this,he.Ja,u),this.size=m}A(Wn,V);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Hc(u,m,_,x,L,Q){u.info(function(){if(u.g)if(Q){var nt="",Nt=Q.split("&");for(let Gt=0;Gt<Nt.length;Gt++){var fe=Nt[Gt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Sn=re.split("_");nt=Sn.length>=2&&Sn[1]=="type"?nt+(re+"="+fe+"&"):nt+(re+"=redacted&")}}}else nt=null;else nt=Q;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function Do(u,m,_,x,L,Q,nt){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+m+`
`+_+`
`+Q+" "+nt})}function ei(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gc(u,_)+(x?" "+x:"")})}function Fs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Gc(u,m){if(!u.g)return m;if(!m)return null;try{const Q=JSON.parse(m);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var _=Q[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var L=x[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<x.length;nt++)x[nt]=""}}}}return Xi(Q)}catch{return m}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function Ks(){}A(Ks,wo),Ks.prototype.g=function(){return new XMLHttpRequest},$r=new Ks;function Ai(u){return encodeURIComponent(String(u))}function Io(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function kn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ni(u,m,_){u.M=1,u.A=Xs(Ee(m)),u.u=_,u.R=!0,ja(u,null)}function ja(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),La(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Un,u.g=Fo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Xr[0]=L.toString()),L=Xr);for(let Q=0;Q<L.length;Q++){const nt=ae(_,L[Q],x||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Hc(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=Bn(this.g),fe=this.g.ya(),Gt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Nt!=4||fe==7||(fe==8||Gt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var _=Qc(this);if(this.o=m==200,Do(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,L=this.g;if((x=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(x)){var Q=x;break e}}Q=null}if(u=Q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),un(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Oo(this,_),re==Oe){Nt==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ai(this,re);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,_,"[Invalid Chunked Response]"),un(this),bn(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),dl(nt),nt.P=!0,ye(11))}}else ei(this.i,this.l,_,null),ai(this,_);Nt==4&&un(this),this.o&&!this.K&&(Nt==4?qo(this.j,this):(this.o=!1,ii(this)))}else Ri(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),bn(this)}}}catch{}finally{}};function Qc(u){if(!Vo(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const x=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),bn(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<x;Q++)u.h.h=!0,_+=u.h.i.decode(m[Q],{stream:!(L&&Q==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Oo(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?Oe:(_=Number(m.substring(_,x)),isNaN(_)?_e:(x+=1,x+_>m.length?Oe:(m=m.slice(x,x+_),u.C=x+_,m)))}kn.prototype.cancel=function(){this.K=!0,un(this)};function ii(u){u.T=Date.now()+u.H,ka(u,u.H)}function ka(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fs(this.i,this.B),this.M!=2&&($n(),ye(17)),un(this),this.m=2,bn(this)):ka(this,this.T-u)};function bn(u){u.j.I==0||u.K||qo(u.j,u)}function un(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ga(_),is(_);else break t;na(_),ye(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ti(y(_.Va,_),6e3));ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else di(_,11)}else if((u.L||_.g==u)&&Ga(_),!S(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const re=Gt[0];if(!(re<=_.K))if(_.K=re,Gt=Gt[1],_.I==2)if(Gt[0]=="c"){_.M=Gt[1],_.ba=Gt[2];const Sn=Gt[3];Sn!=null&&(_.ka=Sn,_.j.info("VER="+_.ka));const mi=Gt[4];mi!=null&&(_.za=mi,_.j.info("SVER="+_.za));const Pn=Gt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(x=1.5*Pn,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const qn=u.g;if(qn){const ia=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var Q=x.h;Q.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(el(Q,Q.h),Q.h=null))}if(x.G){const Qa=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(x.wa=Qa,Yt(x.J,x.G,Qa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var nt=u;if(x.na=Qo(x,x.L?x.ba:null,x.W),nt.L){nl(x.h,nt);var Nt=nt,fe=x.O;fe&&(Nt.H=fe),Nt.D&&(si(Nt),ii(Nt)),x.g=nt}else Bo(x);_.i.length>0&&fi(_)}else Gt[0]!="stop"&&Gt[0]!="close"||di(_,7);else _.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?di(_,7):hl(_):Gt[0]!="noop"&&_.l&&_.l.qa(Gt),_.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Wr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Wr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return U(u.i)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let L,Q=null;x>=0?(L=u[_].substring(0,x),Q=u[_].substring(x+1)):L=u[_],m(L,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,sl(this,zo(u.i)),this.m=u.m):u&&(m=String(u).match(Mo))?(this.l=!1,Me(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),Zi(this,m[4]),this.h=oi(m[5]||"",!0),sl(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Zs(m,za,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zs(m,za,!0),"@"),u.push(Ai(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Zs(_,_.charAt(0)=="/"?al:jo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Zs(_,ko)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)Zi(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var L=m.h.lastIndexOf("/");L!=-1&&(x=m.h.slice(0,L+1)+x)}if(L=x,L==".."||L==".")x="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){x=L.lastIndexOf("/",0)==0,L=L.split("/");const Q=[];for(let nt=0;nt<L.length;){const Nt=L[nt++];Nt=="."?x&&nt==L.length&&Q.push(""):Nt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&nt==L.length&&Q.push("")):(Q.push(Nt),x=!0)}x=Q.join("/")}else x=L}return _?m.h=x:_=u.i.toString()!=="",_?sl(m,zo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Me(u,m,_){u.j=_?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function sl(u,m,_){m instanceof $i?(u.i=m,Ba(u.i,u.l)):(_||(m=Zs(m,Ji)),u.i=new $i(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function Xs(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,We),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var za=/[#\/\?@]/g,jo=/[#\?:]/g,al=/[#\?]/g,Ji=/[#\?@]/g,ko=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ua(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=$i.prototype,a.add=function(u,m){tn(this),this.i=null,u=Wi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Uo(u,m){tn(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function rl(u,m){return tn(u),m=Wi(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(_,x){_.forEach(function(L){u.call(m,L,x,this)},this)},this)};function ll(u,m){tn(u);let _=[];if(typeof m=="string")rl(u,m)&&(_=_.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return tn(this),this.i=null,u=Wi(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function La(u,m,_){Uo(u,m),_.length>0&&(u.i=null,u.g.set(Wi(u,m),U(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const L=Ai(_);_=ll(this,_);for(let Q=0;Q<_.length;Q++){let nt=L;_[Q]!==""&&(nt+="="+Ai(_[Q])),u.push(nt)}}return this.i=u.join("&")};function zo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ba(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(_,x){const L=x.toLowerCase();x!=L&&(Uo(this,x),La(this,L,_))},u)),u.j=m}function zn(u,m){const _=new jn;if(d.Image){const x=new Image;x.onload=T(Tn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Tn,_,"TestLoadImage: error",!1,m,x),x.onabort=T(Tn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Tn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function ol(u,m){const _=new jn,x=new AbortController,L=setTimeout(()=>{x.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(Q=>{clearTimeout(L),Q.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(_)}catch{}}function ts(){this.g=new Ao}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ui,wo),ui.prototype.g=function(){return new Js(this.i,this.h)};function Js(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Js,pe),a=Js.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ln(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?es(this):Ln(this),this.readyState==3&&Pa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,es(this))},a.Na=function(u){this.g&&(this.response=u,es(this))},a.ga=function(){this.g&&es(this)};function es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ln(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return _t(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function $s(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=xn(_),typeof u=="string"?_!=null&&Ai(_):Yt(u,m,_))}function Zt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,pe);var ci=/^https?$/i,ul=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Ws(this,Q);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)_.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())_.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||x||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,nt]of _)this.g.setRequestHeader(Q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){Ws(this,Q)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),wi(u)}function cl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},a.Xa=function(){ta(this)};function ta(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const Q=u.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=Q===0){let nt=String(u.D).match(Mo)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),x=!ci.test(nt?nt.toLowerCase():"")}_=x}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",cl(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qc(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(S(u[x]))continue;var _=Io(u[x]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[L]||[];m[L]=Q,Q.push(_)}gt(m,function(x){return x.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ns(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wr(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ns.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,x){ye(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=Qo(this,null,this.W),fi(this)};function hl(u){if(qa(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),ea(u,_),m=new kn(u,u.j,m),m.M=2,m.A=Xs(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Fo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Go(u)}function is(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function qa(u){is(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;It||w(),Tt||(It(),Tt=!0),D.add(m,u),u.D=0}}function Ha(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),Ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=C(Q),st(Q,this.U)):Q=this.U),this.u!==null||this.R||(L.J=Q,Q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Lo(this,L,m),_=Ee(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),ea(this,_),Q&&(this.R?m="headers="+Ai(xn(Q))+"&"+m:this.u&&$s(_,this.u,Q)),el(this.h,L),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),L.U=!0,ni(L,_,null)):ni(L,_,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var _;m?_=m.l:_=u.V++;const x=Ee(u.J);Yt(x,"SID",u.M),Yt(x,"RID",_),Yt(x,"AID",u.K),ea(u,x),u.u&&u.o&&$s(x,u.u,u.o),_=new kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Lo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,_),ni(_,x,m)}function ea(u,m){u.H&&_t(u.H,function(_,x){Yt(m,x,_)}),u.l&&_t({},function(_,x){Yt(m,x,_)})}function Lo(u,m,_){_=Math.min(u.i.length,_);const x=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Nt=-1;for(;;){const fe=["count="+_];Nt==-1?_>0?(Nt=L[0].g,fe.push("ofs="+Nt)):Nt=0:fe.push("ofs="+Nt);let Gt=!0;for(let re=0;re<_;re++){var Q=L[re].g;const Sn=L[re].map;if(Q-=Nt,Q<0)Nt=Math.max(0,L[re].g-100),Gt=!1;else try{Q="req"+Q+"_"||"";try{var nt=Sn instanceof Map?Sn:Object.entries(Sn);for(const[mi,Pn]of nt){let qn=Pn;p(Pn)&&(qn=Xi(Pn)),fe.push(Q+mi+"="+encodeURIComponent(qn))}}catch(mi){throw fe.push(Q+"type="+encodeURIComponent("_badmap")),mi}}catch{x&&x(Sn)}}if(Gt){nt=fe.join("&");break t}}nt=void 0}return u=u.i.splice(0,_),m.G=u,nt}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;It||w(),Tt||(It(),Tt=!0),D.add(m,u),u.A=0}}function na(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),Ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),is(this),Po(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),ea(u,m),u.u&&u.o&&$s(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Xs(Ee(m)),_.u=null,_.R=!0,ja(_,u)}a.Va=function(){this.C!=null&&(this.C=null,is(this),na(this),ye(19))};function Ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qo(u,m){var _=null;if(u.g==m){Ga(u),dl(u),u.g=null;var x=2}else if(li(u.h,m))_=m.G,nl(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;x=Ma(),De(x,new Wn(x,_)),fi(u)}else Bo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(x==1&&Ha(u,m)||x==2&&na(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Ho(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),x=u.Ua;const L=!x;x=new cn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(x,"https"),Xs(x),L?zn(x.toString(),_):ol(x.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),Go(u),qa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.oa()}}function Qo(u,m,_){var x=_ instanceof cn?Ee(_):new cn(_);if(x.g!="")m&&(x.g=m+"."+x.g),Zi(x,x.u);else{var L=d.location;x=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const Q=new cn(null);x&&Me(Q,x),m&&(Q.g=m),L&&Zi(Q,L),_&&(Q.h=_),x=Q}return _=u.G,m=u.wa,_&&m&&Yt(x,_,m),Yt(x,"VER",u.ka),ea(u,x),x}function Fo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:_})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ss(){}ss.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}A(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){hl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Xi(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Je.Z.N.call(this)};function Ko(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ko,Ue);function Xo(){En.call(this),this.status=1}A(Xo,En);function Ni(u){this.g=u}A(Ni,Yo),Ni.prototype.ra=function(){De(this.g,"a")},Ni.prototype.qa=function(u){De(this.g,new Ko(u))},Ni.prototype.pa=function(u){De(this.g,new Xo)},Ni.prototype.oa=function(){De(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,S_=function(){return new ss},x_=function(){return Ma()},T_=he,od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,rc=Ys,Jr.COMPLETE="complete",b_=Jr,Ro.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,to=Ro,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,E_=Zt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Br="12.9.0";function E1(a){Br=a}const Sa=new d_("@firebase/firestore");function br(){return Sa.logLevel}function ut(a,...e){if(Sa.logLevel<=Pt.DEBUG){const i=e.map(Cd);Sa.debug(`Firestore (${Br}): ${a}`,...i)}}function Fi(a,...e){if(Sa.logLevel<=Pt.ERROR){const i=e.map(Cd);Sa.error(`Firestore (${Br}): ${a}`,...i)}}function Aa(a,...e){if(Sa.logLevel<=Pt.WARN){const i=e.map(Cd);Sa.warn(`Firestore (${Br}): ${a}`,...i)}}function Cd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function bt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,A_(a,r,i)}function A_(a,e,i){let r=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Fi(r),new Error(r)}function Ft(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||A_(e,o,r)}function wt(a,e){return a}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Lr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ta{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class w_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class T1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class x1{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let r=this.i;const o=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let h=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ta,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=h;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},p=E=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>p(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?p(E):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ta)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new w_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class S1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class A1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new S1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new e0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=R1(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function kt(a,e){return a<e?-1:a>e?1:0}function ud(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Zf(o)===Zf(h)?kt(o,h):Zf(o)?1:-1}return kt(a.length,e.length)}const N1=55296,C1=57343;function Zf(a){const e=a.charCodeAt(0);return e>=N1&&e<=C1}function Dr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const n0="__name__";class vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&bt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return kt(e.length,i.length)}static compareSegments(e,i){const r=vi.isNumericId(e),o=vi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):ud(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class ee extends vi{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const D1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return D1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new Ge([n0])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ee.fromString(e))}static fromName(e){return new yt(ee.fromString(e).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ee(e.slice()))}}function R_(a,e,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function I1(a,e,i,r){if(e===!0&&r===!0)throw new lt($.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function i0(a){if(!yt.isDocumentKey(a))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function s0(a){if(yt.isDocumentKey(a))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function N_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function wc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":bt(12329,{type:typeof a})}function Vs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wc(a);throw new lt($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Re(a,e){const i={typeString:a};return e&&(i.value=e),i}function vo(a,e){if(!N_(a))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const a0=-62135596800,r0=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*r0);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<a0)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new ne(0,0))}static max(){return new St(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fo=-1;function V1(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ms(o,yt.empty(),e)}function O1(a){return new Ms(a.readTime,a.key,fo)}class Ms{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ms(St.min(),yt.empty(),fo)}static max(){return new Ms(St.max(),yt.empty(),fo)}}function M1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,e.documentKey),i!==0?i:kt(a.largestBatchId,e.largestBatchId))}const j1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pr(a){if(a.code!==$.FAILED_PRECONDITION||a.message!==j1)throw a;ut("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.reject(i)}static resolve(e){return new tt(((i,r)=>{i(e)}))}static reject(e){return new tt(((i,r)=>{r(e)}))}static waitFor(e){return new tt(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(E=>r(E)))})),d=!0,h===o&&i()}))}static or(e){let i=tt.resolve(!1);for(const r of e)i=i.next((o=>o?tt.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new tt(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let E=0;E<h;E++){const y=E;i(e[y]).next((T=>{d[y]=T,++p,p===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new tt(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function U1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qr(a){return a.name==="IndexedDbTransactionError"}class Rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;const Id=-1;function Nc(a){return a==null}function pc(a){return a===0&&1/a==-1/0}function z1(a){return typeof a=="number"&&Number.isInteger(a)&&!pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const C_="";function L1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=l0(e)),e=B1(a.get(i),e);return l0(e)}function B1(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case C_:i+="";break;default:i+=h}}return i}function l0(a){return a+C_+""}function o0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Bs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function D_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ve(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Dr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class I_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new I_("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const P1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(a){if(Ft(!!a,39018),typeof a=="string"){let e=0;const i=P1.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ks(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const V_="server_timestamp",O_="__type__",M_="__previous_value__",j_="__local_write_time__";function Vd(a){return(a?.mapValue?.fields||{})[O_]?.stringValue===V_}function Cc(a){const e=a.mapValue.fields[M_];return Vd(e)?Cc(e):e}function mo(a){const e=js(a.mapValue.fields[j_].timestampValue);return new ne(e.seconds,e.nanos)}class q1{constructor(e,i,r,o,h,d,p,E,y,T,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=E,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=A}}const yc="(default)";class go{constructor(e,i){this.projectId=e,this.database=i||yc}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}function H1(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(a.options.projectId,e)}const k_="__type__",G1="__max__",ec={mapValue:{}},U_="__vector__",_c="value";function Us(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vd(a)?4:F1(a)?9007199254740991:Q1(a)?10:11:bt(28295,{value:a})}function Si(a,e){if(a===e)return!0;const i=Us(a);if(i!==Us(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return mo(a).isEqual(mo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=js(o.timestampValue),p=js(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return ks(o.bytesValue).isEqual(ks(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),p=ge(h.doubleValue);return d===p?pc(d)===pc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Dr(a.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(o0(d)!==o0(p))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(p[E]===void 0||!Si(d[E],p[E])))return!1;return!0})(a,e);default:return bt(52216,{left:a})}}function po(a,e){return(a.values||[]).find((i=>Si(i,e)))!==void 0}function Ir(a,e){if(a===e)return 0;const i=Us(a),r=Us(e);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),E=ge(d.integerValue||d.doubleValue);return p<E?-1:p>E?1:p===E?0:isNaN(p)?isNaN(E)?0:-1:1})(a,e);case 3:return c0(a.timestampValue,e.timestampValue);case 4:return c0(mo(a),mo(e));case 5:return ud(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=ks(h),E=ks(d);return p.compareTo(E)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),E=d.split("/");for(let y=0;y<p.length&&y<E.length;y++){const T=kt(p[y],E[y]);if(T!==0)return T}return kt(p.length,E.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=kt(ge(h.latitude),ge(d.latitude));return p!==0?p:kt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return h0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},E=d.fields||{},y=p[_c]?.arrayValue,T=E[_c]?.arrayValue,A=kt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:h0(y,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const p=h.fields||{},E=Object.keys(p),y=d.fields||{},T=Object.keys(y);E.sort(),T.sort();for(let A=0;A<E.length&&A<T.length;++A){const N=ud(E[A],T[A]);if(N!==0)return N;const U=Ir(p[E[A]],y[T[A]]);if(U!==0)return U}return kt(E.length,T.length)})(a.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function c0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return kt(a,e);const i=js(a),r=js(e),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function h0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ir(i[o],r[o]);if(h)return h}return kt(i.length,r.length)}function Vr(a){return cd(a)}function cd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=js(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ks(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=cd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"})(a.mapValue):bt(61005,{value:a})}function lc(a){switch(Us(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(a);return e?16+lc(e):16;case 5:return 2*a.stringValue.length;case 6:return ks(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+lc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Bs(r.fields,((h,d)=>{o+=h.length+lc(d)})),o})(a.mapValue);default:throw bt(13486,{value:a})}}function f0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function hd(a){return!!a&&"integerValue"in a}function Od(a){return!!a&&"arrayValue"in a}function d0(a){return!!a&&"nullValue"in a}function m0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function oc(a){return!!a&&"mapValue"in a}function Q1(a){return(a?.mapValue?.fields||{})[k_]?.stringValue===U_}function ro(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Bs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ro(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(a.arrayValue.values[i]);return e}return{...a}}function F1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===G1}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!oc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const E=this.getFieldsMap(i);this.applyChanges(E,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=ro(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Bs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new on(ro(this.value))}}function z_(a){const e=[];return Bs(a.fields,((i,r)=>{const o=new Ge([i]);if(oc(r)){const h=z_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Xe{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vc{constructor(e,i){this.position=e,this.inclusive=i}}function g0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),i.key):r=Ir(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function p0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Si(a.position[i],e.position[i]))return!1;return!0}class yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Y1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class L_{}class we extends L_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new X1(e,i,r):i==="array-contains"?new $1(e,r):i==="in"?new W1(e,r):i==="not-in"?new tx(e,r):i==="array-contains-any"?new ex(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Z1(e,r):new J1(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ir(i,this.value)):i!==null&&Us(this.value)===Us(i)&&this.matchesComparison(Ir(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends L_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return B_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B_(a){return a.op==="and"}function P_(a){return K1(a)&&B_(a)}function K1(a){for(const e of a.filters)if(e instanceof Zn)return!1;return!0}function fd(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Vr(a.value);if(P_(a))return a.filters.map((e=>fd(e))).join(",");{const e=a.filters.map((i=>fd(i))).join(",");return`${a.op}(${e})`}}function q_(a,e){return a instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Si(r.value,o.value)})(a,e):a instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&q_(d,o.filters[p])),!0):!1})(a,e):void bt(19439)}function H_(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vr(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(H_).join(" ,")+"}"})(a):"Filter"}class X1 extends we{constructor(e,i,r){super(e,i,r),this.key=yt.fromName(r.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Z1 extends we{constructor(e,i){super(e,"in",i),this.keys=G_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class J1 extends we{constructor(e,i){super(e,"not-in",i),this.keys=G_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function G_(a,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class $1 extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Od(i)&&po(i.arrayValue,this.value)}}class W1 extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&po(this.value.arrayValue,i)}}class tx extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!po(this.value.arrayValue,i)}}class ex extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Od(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>po(this.value.arrayValue,r)))}}class nx{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function y0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new nx(a,e,i,r,o,h,d)}function Md(a){const e=wt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>fd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Vr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Vr(r))).join(",")),e.Te=i}return e.Te}function jd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Y1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!q_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!p0(a.startAt,e.startAt)&&p0(a.endAt,e.endAt)}function dd(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Hr{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ix(a,e,i,r,o,h,d,p){return new Hr(a,e,i,r,o,h,d,p)}function kd(a){return new Hr(a)}function _0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function sx(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Q_(a){return a.collectionGroup!==null}function lo(a){const e=wt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new yo(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new yo(Ge.keyField(),r))}return e.Ie}function Ei(a){const e=wt(a);return e.Ee||(e.Ee=ax(e,lo(a))),e.Ee}function ax(a,e){if(a.limitType==="F")return y0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new yo(o.field,h)}));const i=a.endAt?new vc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new vc(a.startAt.position,a.startAt.inclusive):null;return y0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function md(a,e){const i=a.filters.concat([e]);return new Hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function rx(a,e){const i=a.explicitOrderBy.concat([e]);return new Hr(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function gd(a,e,i){return new Hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Dc(a,e){return jd(Ei(a),Ei(e))&&a.limitType===e.limitType}function F_(a){return`${Md(Ei(a))}|lt:${a.limitType}`}function Tr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>H_(o))).join(", ")}]`),Nc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Vr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Vr(o))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function Ic(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):yt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of lo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,E){const y=g0(d,p,E);return d.inclusive?y<=0:y<0})(r.startAt,lo(r),o)||r.endAt&&!(function(d,p,E){const y=g0(d,p,E);return d.inclusive?y>=0:y>0})(r.endAt,lo(r),o))})(a,e)}function lx(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Y_(a){return(e,i)=>{let r=!1;for(const o of lo(a)){const h=ox(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function ox(a,e,i){const r=a.field.isKeyField()?yt.comparator(e.key,i.key):(function(h,d,p){const E=d.data.field(h),y=p.data.field(h);return E!==null&&y!==null?Ir(E,y):bt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:a.dir})}}class Ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}const ux=new oe(yt.comparator);function Yi(){return ux}const K_=new oe(yt.comparator);function eo(...a){let e=K_;for(const i of a)e=e.insert(i.key,i);return e}function X_(a){let e=K_;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ba(){return oo()}function Z_(){return oo()}function oo(){return new Ra((a=>a.toString()),((a,e)=>a.isEqual(e)))}const cx=new oe(yt.comparator),hx=new Ve(yt.comparator);function Ut(...a){let e=hx;for(const i of a)e=e.add(i);return e}const fx=new Ve(kt);function dx(){return fx}function Ud(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function J_(a){return{integerValue:""+a}}function mx(a,e){return z1(e)?J_(e):Ud(a,e)}class Vc{constructor(){this._=void 0}}function gx(a,e,i){return a instanceof _o?(function(o,h){const d={fields:{[O_]:{stringValue:V_},[j_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Vd(h)&&(h=Cc(h)),h&&(d.fields[M_]=h),{mapValue:d}})(i,e):a instanceof Or?W_(a,e):a instanceof Mr?tv(a,e):(function(o,h){const d=$_(o,h),p=v0(d)+v0(o.Ae);return hd(d)&&hd(o.Ae)?J_(p):Ud(o.serializer,p)})(a,e)}function px(a,e,i){return a instanceof Or?W_(a,e):a instanceof Mr?tv(a,e):i}function $_(a,e){return a instanceof Ec?(function(r){return hd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class _o extends Vc{}class Or extends Vc{constructor(e){super(),this.elements=e}}function W_(a,e){const i=ev(e);for(const r of a.elements)i.some((o=>Si(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Mr extends Vc{constructor(e){super(),this.elements=e}}function tv(a,e){let i=ev(e);for(const r of a.elements)i=i.filter((o=>!Si(o,r)));return{arrayValue:{values:i}}}class Ec extends Vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function v0(a){return ge(a.integerValue||a.doubleValue)}function ev(a){return Od(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class zd{constructor(e,i){this.field=e,this.transform=i}}function yx(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Or&&o instanceof Or||r instanceof Mr&&o instanceof Mr?Dr(r.elements,o.elements,Si):r instanceof Ec&&o instanceof Ec?Si(r.Ae,o.Ae):r instanceof _o&&o instanceof _o})(a.transform,e.transform)}class _x{constructor(e,i){this.version=e,this.transformResults=i}}class Kn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Oc{}function nv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Ld(a.key,Kn.none()):new Eo(a.key,a.data,Kn.none());{const i=a.data,r=on.empty();let o=new Ve(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ps(a.key,r,new vn(o.toArray()),Kn.none())}}function vx(a,e,i){a instanceof Eo?(function(o,h,d){const p=o.value.clone(),E=b0(o.fieldTransforms,h,d.transformResults);p.setAll(E),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Ps?(function(o,h,d){if(!uc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=b0(o.fieldTransforms,h,d.transformResults),E=h.data;E.setAll(iv(o)),E.setAll(p),h.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function uo(a,e,i,r){return a instanceof Eo?(function(h,d,p,E){if(!uc(h.precondition,d))return p;const y=h.value.clone(),T=T0(h.fieldTransforms,E,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ps?(function(h,d,p,E){if(!uc(h.precondition,d))return p;const y=T0(h.fieldTransforms,E,d),T=d.data;return T.setAll(iv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(a,e,i,r):(function(h,d,p){return uc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function Ex(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=$_(r.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function E0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Dr(r,o,((h,d)=>yx(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Oc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Oc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function iv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function b0(a,e,i){const r=new Map;Ft(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,px(d,p,i[o]))}return r}function T0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,gx(h,d,e))}return r}class Ld extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bx extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&vx(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Z_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const E=nv(d,p);E!==null&&r.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Dr(this.mutations,e.mutations,((i,r)=>E0(i,r)))&&Dr(this.baseMutations,e.baseMutations,((i,r)=>E0(i,r)))}}class Bd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return cx})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Bd(e,i,r,o)}}class xx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ae,Bt;function Ax(a){switch(a){case $.OK:return bt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return bt(15467,{code:a})}}function sv(a){if(a===void 0)return Fi("GRPC error has no .code"),$.UNKNOWN;switch(a){case Ae.OK:return $.OK;case Ae.CANCELLED:return $.CANCELLED;case Ae.UNKNOWN:return $.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return $.INTERNAL;case Ae.UNAVAILABLE:return $.UNAVAILABLE;case Ae.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ae.NOT_FOUND:return $.NOT_FOUND;case Ae.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ae.ABORTED:return $.ABORTED;case Ae.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ae.DATA_LOSS:return $.DATA_LOSS;default:return bt(39323,{code:a})}}(Bt=Ae||(Ae={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function wx(){return new TextEncoder}const Rx=new Is([4294967295,4294967295],0);function x0(a){const e=wx().encode(a),i=new v_;return i.update(e),new Uint8Array(i.digest())}function S0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Is([i,r],0),new Is([o,h],0)]}class Pd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Is.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Is.fromNumber(r)));return o.compare(Rx)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=x0(e),[r,o]=S0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Pd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=x0(e),[r,o]=S0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mc(St.min(),o,new oe(kt),Yi(),Ut())}}class bo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new bo(r,i,Ut(),Ut(),Ut())}}class cc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class av{constructor(e,i){this.targetId=e,this.Ce=i}}class rv{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class A0{constructor(){this.ve=0,this.Fe=w0(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:h})}})),new bo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=w0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Nx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.He=nc(),this.Je=nc(),this.Ze=new oe(kt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(dd(h))if(r===0){const d=new yt(h.path);this.et(i,d,Xe.newNoDocument(d,St.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),E=p?this.ct(p,e,d):1;if(E!==0){this.it(i);const y=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=ks(r).toUint8Array()}catch(E){if(E instanceof I_)return Aa("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{p=new Pd(d,o,h)}catch(E){return Aa(E instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&dd(p.target)){const E=new yt(p.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,Xe.newNoDocument(E,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Ut();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((E=>{const y=this.ot(E);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Mc(e,i,this.Ze,this.je,r);return this.je=Yi(),this.He=nc(),this.Je=nc(),this.Ze=new oe(kt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new A0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ve(kt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ve(kt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new oe(yt.comparator)}function w0(){return new oe(yt.comparator)}const Cx={asc:"ASCENDING",desc:"DESCENDING"},Dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ix={and:"AND",or:"OR"};class Vx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(a,e){return a.useProto3Json||Nc(e)?e:{value:e}}function bc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Ox(a,e){return bc(a,e.toTimestamp())}function bi(a){return Ft(!!a,49232),St.fromTimestamp((function(i){const r=js(i);return new ne(r.seconds,r.nanos)})(a))}function qd(a,e){return yd(a,e).canonicalString()}function yd(a,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function ov(a){const e=ee.fromString(a);return Ft(dv(e),10190,{key:e.toString()}),e}function _d(a,e){return qd(a.databaseId,e.path)}function Jf(a,e){const i=ov(e);if(i.get(1)!==a.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(cv(i))}function uv(a,e){return qd(a.databaseId,e)}function Mx(a){const e=ov(a);return e.length===4?ee.emptyPath():cv(e)}function vd(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function cv(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function R0(a,e,i){return{name:_d(a,e),fields:i.value.mapValue.fields}}function jx(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:sv(y.code);return new lt(T,y.message||"")})(d);i=new rv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jf(a,r.document.name),h=bi(r.document.updateTime),d=r.document.createTime?bi(r.document.createTime):St.min(),p=new on({mapValue:{fields:r.document.fields}}),E=Xe.newFoundDocument(o,h,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new cc(y,T,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jf(a,r.document),h=r.readTime?bi(r.readTime):St.min(),d=Xe.newNoDocument(o,h),p=r.removedTargetIds||[];i=new cc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jf(a,r.document),h=r.removedTargetIds||[];i=new cc([],h,o,null)}else{if(!("filter"in e))return bt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new Sx(o,h),p=r.targetId;i=new av(p,d)}}return i}function kx(a,e){let i;if(e instanceof Eo)i={update:R0(a,e.key,e.value)};else if(e instanceof Ld)i={delete:_d(a,e.key)};else if(e instanceof Ps)i={update:R0(a,e.key,e.data),updateMask:Qx(e.fieldMask)};else{if(!(e instanceof bx))return bt(16599,{dt:e.type});i={verify:_d(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof _o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Or)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mr)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw bt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Ox(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(a,e.precondition)),i}function Ux(a,e){return a&&a.length>0?(Ft(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?bi(o.updateTime):bi(h);return d.isEqual(St.min())&&(d=bi(h)),new _x(d,o.transformResults||[])})(i,e)))):[]}function zx(a,e){return{documents:[uv(a,e.path)]}}function Lx(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=uv(a,o);const h=(function(y){if(y.length!==0)return fv(Zn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:xr(N.field),direction:qx(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=pd(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function Bx(a){let e=Mx(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const N=hv(A);return N instanceof Zn&&P_(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(W){return new yo(Sr(W.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,Nc(N)?null:N})(i.limit));let E=null;i.startAt&&(E=(function(A){const N=!!A.before,U=A.values||[];return new vc(U,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const N=!A.before,U=A.values||[];return new vc(U,N)})(i.endAt)),ix(e,o,d,h,p,"F",E,y)}function Px(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Sr(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sr(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Sr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Sr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(Sr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((r=>hv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(a):bt(30097,{filter:a})}function qx(a){return Cx[a]}function Hx(a){return Dx[a]}function Gx(a){return Ix[a]}function xr(a){return{fieldPath:a.canonicalString()}}function Sr(a){return Ge.fromServerFormat(a.fieldPath)}function fv(a){return a instanceof we?(function(i){if(i.op==="=="){if(m0(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NAN"}};if(d0(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(m0(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NOT_NAN"}};if(d0(i.value))return{unaryFilter:{field:xr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xr(i.field),op:Hx(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const r=i.getFilters().map((o=>fv(o)));return r.length===1?r[0]:{compositeFilter:{op:Gx(i.op),filters:r}}})(a):bt(54877,{filter:a})}function Qx(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function dv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function mv(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Ns{constructor(e,i,r,o,h=St.min(),d=St.min(),p=Qe.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=E}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fx{constructor(e){this.yt=e}}function Yx(a){const e=Bx({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?gd(e,e.limit,"L"):e}class Kx{constructor(){this.Sn=new Xx}addToCollectionParentIndex(e,i){return this.Sn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Ms.min())}updateCollectionGroup(e,i,r){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class Xx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ve(ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ve(ee.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(gv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class jr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jr(0)}static ar(){return new jr(-1)}}const C0="LruGarbageCollector",Zx=1048576;function D0([a,e],[i,r]){const o=kt(a,i);return o===0?kt(e,r):o}class Jx{constructor(e){this.Pr=e,this.buffer=new Ve(D0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();D0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $x{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ut(C0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qr(i)?ut(C0,"Ignoring IndexedDB error during garbage collection: ",i):await Pr(i)}await this.Ar(3e5)}))}}class Wx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(Rc.ce);const r=new Jx(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(N0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,p,E,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(h=A,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),br()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(E-p)+`ms
	Removed ${A} documents in `+(y-E)+`ms
Total Duration: ${y-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function tS(a,e){return new Wx(a,e)}class eS{constructor(){this.changes=new Ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?tt.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class iS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&uo(r.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ut()){const o=ba();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=eo();return h.forEach(((p,E)=>{d=d.insert(p,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ba();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ut())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=Yi();const d=oo(),p=(function(){return oo()})();return i.forEach(((E,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ps)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),uo(T.mutation,y,T.mutation.getFieldMask(),ne.now())):d.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((E=>(E.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new nS(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=oo();let o=new oe(((d,p)=>d-p)),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((E=>{const y=i.get(E);if(y===null)return;let T=r.get(E)||vn.empty();T=p.applyToLocalView(y,T),r.set(E,T);const A=(o.get(p.batchId)||Ut()).add(E);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const E=p.getNext(),y=E.key,T=E.value,A=Z_();T.forEach((N=>{if(!h.has(N)){const U=nv(i.get(N),r.get(N));U!==null&&A.set(N,U),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return tt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return sx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Q_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):tt.resolve(ba());let p=fo,E=h;return d.next((y=>tt.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{E=E.insert(T,N)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,E,y,Ut()))).next((T=>({batchId:p,changes:X_(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((r=>{let o=eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,h).next((p=>tt.forEach(p,(E=>{const y=(function(A,N){return new Hr(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,E.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((E,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))}));let p=eo();return d.forEach(((E,y)=>{const T=h.get(E);T!==void 0&&uo(T.mutation,y,vn.empty(),ne.now()),Ic(i,y)&&(p=p.insert(E,y))})),p}))}}class sS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return tt.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:bi(o.readTime)}})(i)),tt.resolve()}}class aS{constructor(){this.overlays=new oe(yt.comparator),this.Lr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ba();return tt.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),tt.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),tt.resolve()}getOverlaysForCollection(e,i,r){const o=ba(),h=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const E=p.getNext().value,y=E.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&E.largestBatchId>r&&o.set(E.getKey(),E)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=h.get(y.largestBatchId);T===null&&(T=ba(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=ba(),E=h.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return tt.resolve(p)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new xx(i,r));let h=this.Lr.get(i);h===void 0&&(h=Ut(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class rS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}class Hd{constructor(){this.kr=new Ve(ke.Kr),this.qr=new Ve(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new ke(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new ke(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new yt(new ee([])),r=new ke(i,e),o=new ke(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new yt(new ee([])),r=new ke(i,e),o=new ke(i,e+1);let h=Ut();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ke(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class ke{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return yt.comparator(e.key,i.key)||kt(e.Hr,i.Hr)}static Ur(e,i){return kt(e.Hr,i.Hr)||yt.comparator(e.key,i.key)}}class lS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(ke.Kr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tx(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new ke(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Id:this.Yn-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ve(kt);return i.forEach((o=>{const h=new ke(o,0),d=new ke(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{r=r.add(p.Hr)}))})),tt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;yt.isDocumentKey(h)||(h=h.child(""));const d=new ke(new yt(h),0);let p=new Ve(kt);return this.Jr.forEachWhile((E=>{const y=E.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(E.Hr)),!0)}),d),tt.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return tt.forEach(i.mutations,(o=>{const h=new ke(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new ke(i,0),o=this.Jr.firstAfterOrEqual(r);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oS{constructor(e){this.ti=e,this.docs=(function(){return new oe(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return tt.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Yi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Yi();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(p);for(;E.hasNext();){const{key:y,value:{document:T}}=E.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M1(O1(T),r)<=0||(o.has(T.key)||Ic(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(e,i,r,o){bt(9500)}ni(e,i){return tt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new uS(this)}getSize(e){return tt.resolve(this.size)}}class uS extends eS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),tt.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class cS{constructor(e){this.persistence=e,this.ri=new Ra((i=>Md(i)),jd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Hd,this.targetCount=0,this.oi=jr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),tt.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new jr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.lr(i),tt.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),tt.waitFor(h).next((()=>o))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return tt.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),tt.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),tt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return tt.resolve(r)}containsKey(e,i){return tt.resolve(this.si.containsKey(i))}}class pv{constructor(e,i){this._i={},this.overlays={},this.ai=new Rc(0),this.ui=!1,this.ui=!0,this.ci=new rS,this.referenceDelegate=e(this),this.li=new cS(this),this.indexManager=new Kx,this.remoteDocumentCache=(function(o){return new oS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Fx(i),this.Pi=new sS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new aS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new lS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ut("MemoryPersistence","Starting transaction:",e);const o=new hS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return tt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class hS extends k1{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new Hd,this.Ai=null}static Vi(e){return new Gd(e)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),tt.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(r=>{const o=yt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Tc{constructor(e,i){this.persistence=e,this.fi=new Ra((r=>L1(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=tS(this,i)}static Vi(e,i){return new Tc(e,i)}Ti(){}Ii(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return tt.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?tt.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),tt.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=lc(e.data.value)),i}wr(e,i,r){return tt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ut(),o=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Qd(e,i.fromCache,r,o)}}class fS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nT()?8:U1(tT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new fS;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(br()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(br()<=Pt.DEBUG&&ut("QueryEngine","Query:",Tr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(br()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):tt.resolve())}gs(e,i){if(_0(i))return tt.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ut(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((E=>{const y=this.bs(i,p);return this.Ss(i,y,d,E.readTime)?this.gs(e,gd(i,null,"F")):this.Ds(e,y,i,E)}))))})))))}ps(e,i,r,o){return _0(i)||o.isEqual(St.min())?tt.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?tt.resolve(null):(br()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.Ds(e,d,i,V1(o,fo)).next((p=>p)))}))}bs(e,i){let r=new Ve(Y_(e));return i.forEach(((o,h)=>{Ic(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return br()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ms.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Fd="LocalStore",mS=3e8;class gS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(kt),this.Fs=new Ra((h=>Md(h)),jd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function pS(a,e,i,r){return new gS(a,e,i,r)}async function yv(a,e){const i=wt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let E=Ut();for(const y of o){d.push(y.batchId);for(const T of y.mutations)E=E.add(T.key)}for(const y of h){p.push(y.batchId);for(const T of y.mutations)E=E.add(T.key)}return i.localDocuments.getDocuments(r,E).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function yS(a,e){const i=wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,E,y,T){const A=y.batch,N=A.keys();let U=tt.resolve();return N.forEach((W=>{U=U.next((()=>T.getEntry(E,W))).next((B=>{const K=y.docVersions.get(W);Ft(K!==null,48541),B.version.compareTo(K)<0&&(A.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),T.addEntry(B)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(E,A)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let E=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(E=E.add(p.batch.mutations[y].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function _v(a){const e=wt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function _S(a,e){const i=wt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((T,A)=>{const N=o.get(A);if(!N)return;p.push(i.li.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(h,T.addedDocuments,A))));let U=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),o=o.insert(A,U),(function(B,K,at){return B.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=mS?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(N,U,T)&&p.push(i.li.updateTargetData(h,U))}));let E=Yi(),y=Ut();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(vS(h,d,e.documentUpdates).next((T=>{E=T.Bs,y=T.Ls}))),!r.isEqual(St.min())){const T=i.li.getLastRemoteSnapshotVersion(h).next((A=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(T)}return tt.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,E,y))).next((()=>E))})).then((h=>(i.vs=o,h)))}function vS(a,e,i){let r=Ut(),o=Ut();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Yi();return i.forEach(((p,E)=>{const y=h.get(p);E.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),E.isNoDocument()&&E.version.isEqual(St.min())?(e.removeEntry(p,E.readTime),d=d.insert(p,E)):!y.isValidDocument()||E.version.compareTo(y.version)>0||E.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(E),d=d.insert(p,E)):ut(Fd,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",E.version)})),{Bs:d,Ls:o}}))}function ES(a,e){const i=wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Id),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bS(a,e){const i=wt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,tt.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ns(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Ed(a,e,i){const r=wt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!qr(d))throw d;ut(Fd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function I0(a,e,i){const r=wt(a);let o=St.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,y,T){const A=wt(E),N=A.Fs.get(T);return N!==void 0?tt.resolve(A.vs.get(N)):A.li.getTargetData(y,T)})(r,d,Ei(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((E=>{h=E}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Ut()))).next((p=>(TS(r,lx(e),p),{documents:p,ks:h})))))}function TS(a,e,i){let r=a.Ms.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class V0{constructor(){this.activeTargetIds=dx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(){this.vo=new V0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SS{Mo(e){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(O0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ut(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ic=null;function bd(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}const $f="RestConnection",AS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===yc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=bd(),p=this.Qo(e,i.toUriEncodedString());ut($f,`Sending RPC '${e}' ${d}:`,p,r);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,o,h);const{host:y}=new URL(p),T=Rd(y);return this.zo(e,p,E,r,T).then((A=>(ut($f,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Aa($f,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Br})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=AS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class RS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",$l=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class wr extends wS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wr.c_){const e=x_();$l(e,T_.STAT_EVENT,(i=>{i.stat===od.PROXY?ut(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===od.NOPROXY&&ut(Ye,"STAT_EVENT: detected no buffering proxy")})),wr.c_=!0}}zo(e,i,r,o,h){const d=bd();return new Promise(((p,E)=>{const y=new E_;y.setWithCredentials(!0),y.listenOnce(b_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rc.NO_ERROR:const A=y.getResponseJson();ut(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case rc.TIMEOUT:ut(Ye,`RPC '${e}' ${d} timed out`),E(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const N=y.getStatus();if(ut(Ye,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const W=U?.error;if(W&&W.status&&W.message){const B=(function(at){const ht=at.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ht)>=0?ht:$.UNKNOWN})(W.status);E(new lt(B,W.message))}else E(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else E(new lt($.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Ye,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ut(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=bd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(p.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const y=h.join("");ut(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let A=!1,N=!1;const U=new RS({Ho:W=>{N?ut(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(A||(ut(Ye,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ut(Ye,`RPC '${e}' stream ${o} sending:`,W),T.send(W))},Jo:()=>T.close()});return $l(T,to.EventType.OPEN,(()=>{N||(ut(Ye,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),$l(T,to.EventType.CLOSE,(()=>{N||(N=!0,ut(Ye,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(T))})),$l(T,to.EventType.ERROR,(W=>{N||(N=!0,Aa(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),U.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),$l(T,to.EventType.MESSAGE,(W=>{if(!N){const B=W.data[0];Ft(!!B,16349);const K=B,at=K?.error||K[0]?.error;if(at){ut(Ye,`RPC '${e}' stream ${o} received error:`,at);const ht=at.status;let ft=(function(Tt){const D=Ae[Tt];if(D!==void 0)return sv(D)})(ht),Et=at.message;ht==="NOT_FOUND"&&Et.includes("database")&&Et.includes("does not exist")&&Et.includes(this.databaseId.database)&&Aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ft===void 0&&(ft=$.INTERNAL,Et="Unknown error status: "+ht+" with message "+at.message),N=!0,U.o_(new lt(ft,Et)),T.close()}else ut(Ye,`RPC '${e}' stream ${o} received:`,B),U.__(B)}})),wr.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return S_()}}function NS(a){return new wr(a)}function Wf(){return typeof document<"u"?document:null}function jc(a){return new Vx(a,!0)}wr.c_=!1;class vv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const j0="PersistentStream";class Ev{constructor(e,i,r,o,h,d,p,E){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new lt($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ut(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CS extends Ev{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jx(this.serializer,e),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?bi(d.readTime):St.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=vd(this.serializer),i.addTarget=(function(h,d){let p;const E=d.target;if(p=dd(E)?{documents:zx(h,E)}:{query:Lx(h,E).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=lv(h,d.resumeToken);const y=pd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=bc(h,d.snapshotVersion.toTimestamp());const y=pd(h,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=Px(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=vd(this.serializer),i.removeTarget=e,this.K_(i)}}class DS extends Ev{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ux(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=vd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>kx(this.serializer,r)))};this.K_(i)}}class IS{}class VS extends IS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,yd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt($.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,yd(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OS(a,e,i,r){return new VS(a,e,i,r)}class MS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class jS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Na(this)&&(ut(wa,"Restarting streams for network reachability change."),await(async function(E){const y=wt(E);y.Ea.add(4),await To(y),y.Va.set("Unknown"),y.Ea.delete(4),await kc(y)})(this))}))})),this.Va=new MS(r,o)}}async function kc(a){if(Na(a))for(const e of a.Ra)await e(!0)}async function To(a){for(const e of a.Ra)await e(!1)}function bv(a,e){const i=wt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zd(i)?Xd(i):Gr(i).O_()&&Kd(i,e))}function Yd(a,e){const i=wt(a),r=Gr(i);i.Ia.delete(e),r.O_()&&Tv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Na(i)&&i.Va.set("Unknown"))}function Kd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gr(a).Z_(e)}function Tv(a,e){a.da.$e(e),Gr(a).X_(e)}function Xd(a){a.da=new Nx({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gr(a).start(),a.Va.ua()}function Zd(a){return Na(a)&&!Gr(a).x_()&&a.Ia.size>0}function Na(a){return wt(a).Ea.size===0}function xv(a){a.da=void 0}async function kS(a){a.Va.set("Online")}async function US(a){a.Ia.forEach(((e,i)=>{Kd(a,e)}))}async function zS(a,e){xv(a),Zd(a)?(a.Va.ha(e),Xd(a)):a.Va.set("Unknown")}async function LS(a,e,i){if(a.Va.set("Online"),e instanceof rv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,e)}catch(r){ut(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xc(a,r)}else if(e instanceof cc?a.da.Xe(e):e instanceof av?a.da.st(e):a.da.tt(e),!i.isEqual(St.min()))try{const r=await _v(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((E,y)=>{if(E.resumeToken.approximateByteSize()>0){const T=h.Ia.get(y);T&&h.Ia.set(y,T.withResumeToken(E.resumeToken,d))}})),p.targetMismatches.forEach(((E,y)=>{const T=h.Ia.get(E);if(!T)return;h.Ia.set(E,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),Tv(h,E);const A=new Ns(T.target,E,y,T.sequenceNumber);Kd(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ut(wa,"Failed to raise snapshot:",r),await xc(a,r)}}async function xc(a,e,i){if(!qr(e))throw e;a.Ea.add(1),await To(a),a.Va.set("Offline"),i||(i=()=>_v(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ut(wa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await kc(a)}))}function Sv(a,e){return e().catch((i=>xc(a,i,e)))}async function Uc(a){const e=wt(a),i=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Id;for(;BS(e);)try{const o=await ES(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,PS(e,o)}catch(o){await xc(e,o)}Av(e)&&wv(e)}function BS(a){return Na(a)&&a.Ta.length<10}function PS(a,e){a.Ta.push(e);const i=zs(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function Av(a){return Na(a)&&!zs(a).x_()&&a.Ta.length>0}function wv(a){zs(a).start()}async function qS(a){zs(a).ra()}async function HS(a){const e=zs(a);for(const i of a.Ta)e.ea(i.mutations)}async function GS(a,e,i){const r=a.Ta.shift(),o=Bd.from(r,e,i);await Sv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Uc(a)}async function QS(a,e){e&&zs(a).Y_&&await(async function(r,o){if((function(d){return Ax(d)&&d!==$.ABORTED})(o.code)){const h=r.Ta.shift();zs(r).B_(),await Sv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Uc(r)}})(a,e),Av(a)&&wv(a)}async function k0(a,e){const i=wt(a);i.asyncQueue.verifyOperationInProgress(),ut(wa,"RemoteStore received new credentials");const r=Na(i);i.Ea.add(3),await To(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kc(i)}async function FS(a,e){const i=wt(a);e?(i.Ea.delete(2),await kc(i)):e||(i.Ea.add(2),await To(i),i.Va.set("Unknown"))}function Gr(a){return a.ma||(a.ma=(function(i,r,o){const h=wt(i);return h.sa(),new CS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:kS.bind(null,a),Yo:US.bind(null,a),t_:zS.bind(null,a),J_:LS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Zd(a)?Xd(a):a.Va.set("Unknown")):(await a.ma.stop(),xv(a))}))),a.ma}function zs(a){return a.fa||(a.fa=(function(i,r,o){const h=wt(i);return h.sa(),new DS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qS.bind(null,a),t_:QS.bind(null,a),ta:HS.bind(null,a),na:GS.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Uc(a)):(await a.fa.stop(),a.Ta.length>0&&(ut(wa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Jd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Jd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(a,e){if(Fi("AsyncQueue",`${e}: ${a}`),qr(a))return new lt($.UNAVAILABLE,`${e}: ${a}`);throw a}class Rr{static emptySet(e){return new Rr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=eo(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Rr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class U0{constructor(){this.ga=new oe(yt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class kr{constructor(e,i,r,o,h,d,p,E,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=E,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new kr(e,i,Rr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class YS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class KS{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=wt(i),h=o.queries;o.queries=z0(),h.forEach(((d,p)=>{for(const E of p.ba)E.onError(r)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function z0(){return new Ra((a=>F_(a)),Dc)}async function XS(a,e){const i=wt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new YS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=$d(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Wd(i)}async function ZS(a,e){const i=wt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function JS(a,e){const i=wt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(r=!0);d.wa=o}}r&&Wd(i)}function $S(a,e,i){const r=wt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Wd(a){a.Ca.forEach((e=>{e.next()}))}var Td,L0;(L0=Td||(Td={})).Ma="default",L0.Cache="cache";class WS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new kr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=kr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Td.Cache}}class Rv{constructor(e){this.key=e}}class Nv{constructor(e){this.key=e}}class tA{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=Y_(e),this.tu=new Rr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new U0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const N=o.get(T),U=Ic(this.query,A)?A:null,W=!!N&&this.mutatedKeys.has(N.key),B=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let K=!1;N&&U?N.data.isEqual(U.data)?W!==B&&(r.track({type:3,doc:U}),K=!0):this.su(N,U)||(r.track({type:2,doc:U}),K=!0,(E&&this.eu(U,E)>0||y&&this.eu(U,y)<0)&&(p=!0)):!N&&U?(r.track({type:0,doc:U}),K=!0):N&&!U&&(r.track({type:1,doc:N}),K=!0,(E||y)&&(p=!0)),K&&(U?(d=d.add(U),h=B?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(U,W){const B=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:K})}};return B(U)-B(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],E=this.Ya.size===0&&this.current&&!o?1:0,y=E!==this.Xa;return this.Xa=E,d.length!==0||y?{snapshot:new kr(this.query,e.tu,h,d,e.mutatedKeys,E===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new Nv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Rv(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return kr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tm="SyncEngine";class eA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class nA{constructor(e){this.key=e,this.hu=!1}}class iA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ra((p=>F_(p)),Dc),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(yt.comparator),this.Au=new Map,this.Vu=new Hd,this.du={},this.mu=new Map,this.fu=jr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sA(a,e,i=!0){const r=Mv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Cv(r,e,i,!0),o}async function aA(a,e){const i=Mv(a);await Cv(i,e,!0,!1)}async function Cv(a,e,i,r){const o=await bS(a.localStore,Ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await rA(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&bv(a.remoteStore,o),p}async function rA(a,e,i,r,o){a.pu=(A,N,U)=>(async function(B,K,at,ht){let ft=K.view.ru(at);ft.Ss&&(ft=await I0(B.localStore,K.query,!1).then((({documents:D})=>K.view.ru(D,ft))));const Et=ht&&ht.targetChanges.get(K.targetId),It=ht&&ht.targetMismatches.get(K.targetId)!=null,Tt=K.view.applyChanges(ft,B.isPrimaryClient,Et,It);return P0(B,K.targetId,Tt.au),Tt.snapshot})(a,A,N,U);const h=await I0(a.localStore,e,!0),d=new tA(e,h.ks),p=d.ru(h.documents),E=bo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(p,a.isPrimaryClient,E);P0(a,i,y.au);const T=new eA(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function lA(a,e,i){const r=wt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Dc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Yd(r.remoteStore,o.targetId),xd(r,o.targetId)})).catch(Pr)):(xd(r,o.targetId),await Ed(r.localStore,o.targetId,!0))}async function oA(a,e){const i=wt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Yd(i.remoteStore,r.targetId))}async function uA(a,e,i){const r=pA(a);try{const o=await(function(d,p){const E=wt(d),y=ne.now(),T=p.reduce(((U,W)=>U.add(W.key)),Ut());let A,N;return E.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let W=Yi(),B=Ut();return E.xs.getEntries(U,T).next((K=>{W=K,W.forEach(((at,ht)=>{ht.isValidDocument()||(B=B.add(at))}))})).next((()=>E.localDocuments.getOverlayedDocuments(U,W))).next((K=>{A=K;const at=[];for(const ht of p){const ft=Ex(ht,A.get(ht.key).overlayedDocument);ft!=null&&at.push(new Ps(ht.key,ft,z_(ft.value.mapValue),Kn.exists(!0)))}return E.mutationQueue.addMutationBatch(U,y,at,p)})).next((K=>{N=K;const at=K.applyToLocalDocumentSet(A,B);return E.documentOverlayCache.saveOverlays(U,K.batchId,at)}))})).then((()=>({batchId:N.batchId,changes:X_(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,E){let y=d.du[d.currentUser.toKey()];y||(y=new oe(kt)),y=y.insert(p,E),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await xo(r,o.changes),await Uc(r.remoteStore)}catch(o){const h=$d(o,"Failed to persist write");i.reject(h)}}async function Dv(a,e){const i=wt(a);try{const r=await _S(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await xo(i,r,e)}catch(r){await Pr(r)}}function B0(a,e,i){const r=wt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const E=wt(d);E.onlineState=p;let y=!1;E.queries.forEach(((T,A)=>{for(const N of A.ba)N.va(p)&&(y=!0)})),y&&Wd(E)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cA(a,e,i){const r=wt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(yt.comparator);d=d.insert(h,Xe.newNoDocument(h,St.min()));const p=Ut().add(h),E=new Mc(St.min(),new Map,new oe(kt),d,p);await Dv(r,E),r.Ru=r.Ru.remove(h),r.Au.delete(e),em(r)}else await Ed(r.localStore,e,!1).then((()=>xd(r,e,i))).catch(Pr)}async function hA(a,e){const i=wt(a),r=e.batch.batchId;try{const o=await yS(i.localStore,e);Vv(i,r,null),Iv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xo(i,o)}catch(o){await Pr(o)}}async function fA(a,e,i){const r=wt(a);try{const o=await(function(d,p){const E=wt(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return E.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ft(A!==null,37113),T=A.keys(),E.mutationQueue.removeMutationBatch(y,A)))).next((()=>E.mutationQueue.performConsistencyCheck(y))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>E.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);Vv(r,e,i),Iv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await xo(r,o)}catch(o){await Pr(o)}}function Iv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Vv(a,e,i){const r=wt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function xd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||Ov(a,r)}))}function Ov(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Yd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),em(a))}function P0(a,e,i){for(const r of i)r instanceof Rv?(a.Vu.addReference(r.key,e),dA(a,r)):r instanceof Nv?(ut(tm,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||Ov(a,r.key)):bt(19791,{wu:r})}function dA(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(ut(tm,"New document in limbo: "+i),a.Eu.add(r),em(a))}function em(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new yt(ee.fromString(e)),r=a.fu.next();a.Au.set(r,new nA(i)),a.Ru=a.Ru.insert(i,r),bv(a.remoteStore,new Ns(Ei(kd(i.path)),r,"TargetPurposeLimboResolution",Rc.ce))}}async function xo(a,e,i){const r=wt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,E)=>{d.push(r.pu(E,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Qd.Es(E.targetId,y);h.push(T)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(E,y){const T=wt(E);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>tt.forEach(y,(N=>tt.forEach(N.Ts,(U=>T.persistence.referenceDelegate.addReference(A,N.targetId,U))).next((()=>tt.forEach(N.Is,(U=>T.persistence.referenceDelegate.removeReference(A,N.targetId,U)))))))))}catch(A){if(!qr(A))throw A;ut(Fd,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const U=T.vs.get(N),W=U.snapshotVersion,B=U.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(N,B)}}})(r.localStore,h))}async function mA(a,e){const i=wt(a);if(!i.currentUser.isEqual(e)){ut(tm,"User change. New user:",e.toKey());const r=await yv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((E=>{E.reject(new lt($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xo(i,r.Ns)}}function gA(a,e){const i=wt(a),r=i.Au.get(e);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Mv(a){const e=wt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cA.bind(null,e),e.Pu.J_=JS.bind(null,e.eventManager),e.Pu.yu=$S.bind(null,e.eventManager),e}function pA(a){const e=wt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fA.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return pS(this.persistence,new dS,e.initialUser,this.serializer)}Cu(e){return new pv(Gd.Vi,this.serializer)}Du(e){return new xS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class yA extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof Tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $x(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new pv((r=>Tc.Vi(r,i)),this.serializer)}}class Sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mA.bind(null,this.syncEngine),await FS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KS})()}createDatastore(e){const i=jc(e.databaseInfo.databaseId),r=NS(e.databaseInfo);return OS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new jS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>B0(this.syncEngine,i,0)),(function(){return M0.v()?new M0:new SS})())}createSyncEngine(e,i){return(function(o,h,d,p,E,y,T){const A=new iA(o,h,d,p,E,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=wt(i);ut(wa,"RemoteStore shutting down."),r.Ea.add(5),await To(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sd.provider={build:()=>new Sd};class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ls="FirestoreClient";class vA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ut(Ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(Ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=$d(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function td(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Ls,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function q0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await EA(a);ut(Ls,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>k0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>k0(e.remoteStore,o))),a._onlineComponents=e}async function EA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Ls,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Aa("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new Sc)}}else ut(Ls,"Using default OfflineComponentProvider"),await td(a,new yA(void 0));return a._offlineComponents}async function jv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Ls,"Using user provided OnlineComponentProvider"),await q0(a,a._uninitializedComponentsProvider._online)):(ut(Ls,"Using default OnlineComponentProvider"),await q0(a,new Sd))),a._onlineComponents}function bA(a){return jv(a).then((e=>e.syncEngine))}async function H0(a){const e=await jv(a),i=e.eventManager;return i.onListen=sA.bind(null,e.syncEngine),i.onUnlisten=lA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=oA.bind(null,e.syncEngine),i}function TA(a,e,i,r){const o=new _A(r),h=new WS(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>XS(await H0(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>ZS(await H0(a),h)))}}function xA(a,e){const i=new Ta;return a.asyncQueue.enqueueAndForget((async()=>uA(await bA(a),e,i))),i.promise}function kv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const SA="ComponentProvider",G0=new Map;function AA(a,e,i,r,o){return new q1(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,kv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Uv="firestore.googleapis.com",Q0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uv,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zx)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new b1;switch(r.type){case"firstParty":return new A1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=G0.get(i);r&&(ut(SA,"Removing Datastore"),G0.delete(i),r.terminate())})(this),Promise.resolve()}}function wA(a,e,i,r={}){a=Vs(a,zc);const o=Rd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(Xb(`https://${p}`),Wb("Firestore",!0)),h.host!==Uv&&h.host!==p&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...h,host:p,ssl:o,emulatorOptions:r};if(!Cr(E,d)&&(a._setSettings(E),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ke.MOCK_USER;else{y=Zb(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(A)}a._authCredentials=new T1(new w_(y,T))}}class Ca{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class Ne{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(vo(i,Ne._jsonSchema))return new Ne(e,r||null,new yt(ee.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Re("string",Ne._jsonSchemaVersion),referencePath:Re("string")};class Os extends Ca{constructor(e,i,r){super(e,i,kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new yt(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function ed(a,e,...i){if(a=xi(a),R_("collection","path",e),a instanceof zc){const r=ee.fromString(e,...i);return s0(r),new Os(a,null,r)}{if(!(a instanceof Ne||a instanceof Os))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return s0(r),new Os(a.firestore,null,r)}}function Gi(a,e,...i){if(a=xi(a),arguments.length===1&&(e=Dd.newId()),R_("doc","path",e),a instanceof zc){const r=ee.fromString(e,...i);return i0(r),new Ne(a,null,new yt(r))}{if(!(a instanceof Ne||a instanceof Os))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return i0(r),new Ne(a.firestore,a instanceof Os?a.converter:null,new yt(r))}}const Y0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vv(this,"async_queue_retry"),this._c=()=>{const r=Wf();r&&ut(Y0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qr(e))throw e;ut(Y0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",X0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Jd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:X0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function X0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Ur extends zc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function RA(a,e){const i=typeof a=="object"?a:u1(),r=typeof a=="string"?a:yc,o=s1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=Yb("firestore");h&&wA(o,...h)}return o}function zv(a){if(a._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||NA(a),a._firestoreClient}function NA(a){const e=a._freezeSettings(),i=AA(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new vA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vo(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};class nm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qr{constructor(e){this._methodName=e}}class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(vo(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Re("string",Ti._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Xn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vo(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Xn(e.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:Re("string",Xn._jsonSchemaVersion),vectorValues:Re("object")};const CA=/^__.*__$/;class DA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}class Lv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Bv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:a})}}class Lc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ac(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Bv(this.dataSource)&&CA.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class IA{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||jc(e)}createContext(e,i,r,o=!1){return new Lc({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(a){const e=a._freezeSettings(),i=jc(a._databaseId);return new IA(a._databaseId,!!e.ignoreUndefinedProperties,i)}function VA(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);lm("Data must be an object, but it was:",d,r);const p=qv(r,d);let E,y;if(h.merge)E=new vn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const N=zr(e,A,i);if(!d.contains(N))throw new lt($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Qv(T,N)||T.push(N)}E=new vn(T),y=d.fieldTransforms.filter((A=>E.covers(A.field)))}else E=null,y=d.fieldTransforms;return new DA(new on(p),E,y)}class Bc extends Qr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bc}}function Pv(a,e,i){return new Lc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sm extends Qr{_toFieldTransform(e){return new zd(e.path,new _o)}isEqual(e){return e instanceof sm}}class am extends Qr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Pv(this,e,!0),r=this.Ac.map((h=>Da(h,i))),o=new Or(r);return new zd(e.path,o)}isEqual(e){return e instanceof am&&Cr(this.Ac,e.Ac)}}class rm extends Qr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Pv(this,e,!0),r=this.Ac.map((h=>Da(h,i))),o=new Mr(r);return new zd(e.path,o)}isEqual(e){return e instanceof rm&&Cr(this.Ac,e.Ac)}}function OA(a,e,i,r){const o=a.createContext(1,e,i);lm("Data must be an object, but it was:",o,r);const h=[],d=on.empty();Bs(r,((E,y)=>{const T=Gv(e,E,i);y=xi(y);const A=o.childContextForFieldPath(T);if(y instanceof Bc)h.push(T);else{const N=Da(y,A);N!=null&&(h.push(T),d.set(T,N))}}));const p=new vn(h);return new Lv(d,p,o.fieldTransforms)}function MA(a,e,i,r,o,h){const d=a.createContext(1,e,i),p=[zr(e,r,i)],E=[o];if(h.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)p.push(zr(e,h[N])),E.push(h[N+1]);const y=[],T=on.empty();for(let N=p.length-1;N>=0;--N)if(!Qv(y,p[N])){const U=p[N];let W=E[N];W=xi(W);const B=d.childContextForFieldPath(U);if(W instanceof Bc)y.push(U);else{const K=Da(W,B);K!=null&&(y.push(U),T.set(U,K))}}const A=new vn(y);return new Lv(T,A,d.fieldTransforms)}function jA(a,e,i,r=!1){return Da(i,a.createContext(r?4:3,e))}function Da(a,e){if(Hv(a=xi(a)))return lm("Unsupported field value:",e,a),qv(a,e);if(a instanceof Qr)return(function(r,o){if(!Bv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let E=Da(p,o.childContextForArray(d));E==null&&(E={nullValue:"NULL_VALUE"}),h.push(E),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:bc(o.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bc(o.serializer,h)}}if(r instanceof Ti)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:lv(o.serializer,r._byteString)};if(r instanceof Ne){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xn)return(function(d,p){const E=d instanceof Xn?d.toArray():d;return{mapValue:{fields:{[k_]:{stringValue:U_},[_c]:{arrayValue:{values:E.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Ud(p.serializer,T)}))}}}}}})(r,o);if(mv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wc(r)}`)})(a,e)}function qv(a,e){const i={};return D_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(a,((r,o)=>{const h=Da(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Hv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Ti||a instanceof On||a instanceof Ne||a instanceof Qr||a instanceof Xn||mv(a))}function lm(a,e,i){if(!Hv(i)||!N_(i)){const r=wc(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function zr(a,e,i){if((e=xi(e))instanceof nm)return e._internalPath;if(typeof e=="string")return Gv(a,e);throw Ac("Field path arguments must be of type string or ",a,!1,void 0,i)}const kA=new RegExp("[~\\*/\\[\\]]");function Gv(a,e,i){if(e.search(kA)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new nm(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ac(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let E="";return(h||d)&&(E+=" (found",h&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new lt($.INVALID_ARGUMENT,p+a+E)}function Qv(a,e){return a.some((i=>i.isEqual(e)))}class UA{convertValue(e,i="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Bs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[_c].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Xn(i)}convertGeoPoint(e){return new Ti(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Cc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const i=js(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Ft(dv(r),9688,{name:e});const o=new go(r.get(1),r.get(3)),h=new yt(r.popFirst(5));return o.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Fv extends UA{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Z0(){return new sm("serverTimestamp")}function J0(...a){return new am("arrayUnion",a)}function $0(...a){return new rm("arrayRemove",a)}const W0="@firebase/firestore",t_="4.11.0";function e_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Yv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(zr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zA extends Yv{data(){return super.data()}}function LA(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class Kv extends om{}function BA(a,e,...i){let r=[];e instanceof om&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((E=>E instanceof cm)).length,p=h.filter((E=>E instanceof um)).length;if(d>1||d>0&&p>0)throw new lt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class um extends Kv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new um(e,i,r)}_apply(e){const i=this._parse(e);return Xv(e._query,i),new Ca(e.firestore,e.converter,md(e._query,i))}_parse(e){const i=im(e.firestore);return(function(h,d,p,E,y,T,A){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){i_(A,T);const W=[];for(const B of A)W.push(n_(E,h,B));N={arrayValue:{values:W}}}else N=n_(E,h,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||i_(A,T),N=jA(p,d,A,T==="in"||T==="not-in");return we.create(y,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class cm extends om{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new cm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const E of p)Xv(d,E),d=md(d,E)})(e._query,i),new Ca(e.firestore,e.converter,md(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hm extends Kv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new hm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new lt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yo(h,d)})(e._query,this._field,this._direction);return new Ca(e.firestore,e.converter,rx(e._query,i))}}function PA(a,e="asc"){const i=e,r=zr("orderBy",a);return hm._create(r,i)}function n_(a,e,i){if(typeof(i=xi(i))=="string"){if(i==="")throw new lt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q_(e)&&i.indexOf("/")!==-1)throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ee.fromString(i));if(!yt.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f0(a,new yt(r))}if(i instanceof Ne)return f0(a,i._key);throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wc(i)}.`)}function i_(a,e){if(!Array.isArray(a)||a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xv(a,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function qA(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends Yv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(zr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=xa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Re("string",xa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class hc extends xa{data(e={}){return super.data(e)}}class Nr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new hc(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const E=new hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const E=new hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:HA(p.type),doc:E,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:a})}}Nr._jsonSchemaVersion="firestore/querySnapshot/1.0",Nr._jsonSchema={type:Re("string",Nr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function Rs(a,e,i,...r){a=Vs(a,Ne);const o=Vs(a.firestore,Ur),h=im(o);let d;return d=typeof(e=xi(e))=="string"||e instanceof nm?MA(h,"updateDoc",a._key,e,i,r):OA(h,"updateDoc",a._key,e),fm(o,[d.toMutation(a._key,Kn.exists(!0))])}function GA(a){return fm(Vs(a.firestore,Ur),[new Ld(a._key,Kn.none())])}function s_(a,e){const i=Vs(a.firestore,Ur),r=Gi(a),o=qA(a.converter,e),h=im(a.firestore);return fm(i,[VA(h,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function QA(a,...e){a=xi(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||e_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(e_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,p;if(a instanceof Ne)d=Vs(a.firestore,Ur),p=kd(a._key.path),h={next:y=>{e[r]&&e[r](FA(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Vs(a,Ca);d=Vs(y.firestore,Ur),p=y._query;const T=new Fv(d);h={next:A=>{e[r]&&e[r](new Nr(d,T,y,A))},error:e[r+1],complete:e[r+2]},LA(a._query)}const E=zv(d);return TA(E,p,o,h)}function fm(a,e){const i=zv(a);return xA(i,e)}function FA(a,e,i){const r=i.docs.get(e._key),o=new Fv(a);return new xa(a,o,e._key,r,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){E1(o1),gc(new co("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Ur(new x1(r.getProvider("auth-internal")),new w1(d,r.getProvider("app-check-internal")),H1(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Ar(W0,t_,e),Ar(W0,t_,"esm2020")})();var YA="firebase",KA="12.9.0";Ar(YA,KA,"app");const fc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},XA=p_(fc),Fn=RA(XA),_n=()=>!!(fc.apiKey&&fc.projectId&&fc.apiKey!=="demo-key"),a_="quotebook_quotes",Yn="quotes";function ZA(){const[a,e]=it.useState([]),[i,r]=it.useState(!0),[o,h]=it.useState(null),[d,p]=it.useState(!1),[E,y]=it.useState("newest"),[T,A]=it.useState("");it.useEffect(()=>{if(_n()){p(!0);const R=BA(ed(Fn,Yn),PA("timestamp","desc")),S=QA(R,rt=>{const mt=[];rt.forEach(z=>{const q=z.data();mt.push({id:z.id,text:q.text,speaker:q.speaker,addedBy:q.addedBy,timestamp:q.timestamp instanceof ne?q.timestamp.toMillis():q.timestamp||Date.now(),likes:q.likes||[],comments:(q.comments||[]).map(et=>({...et,likes:et.likes||[],gifUrl:et.gifUrl||void 0,replies:(et.replies||[]).map(_t=>({..._t,likes:_t.likes||[],gifUrl:_t.gifUrl||void 0}))}))})}),e(mt),r(!1),h(null)},rt=>{console.error("Firestore error:",rt),h("Failed to connect to database. Check your Firebase config."),r(!1),N()});return()=>S()}else p(!1),N(),r(!1)},[]);const N=()=>{const R=localStorage.getItem(a_);if(R)try{const rt=JSON.parse(R).map(mt=>({...mt,likes:mt.likes||[],comments:(mt.comments||[]).map(z=>({...z,likes:z.likes||[],gifUrl:z.gifUrl||void 0,replies:(z.replies||[]).map(q=>({...q,likes:q.likes||[],gifUrl:q.gifUrl||void 0}))}))}));e(rt)}catch{e([])}},U=it.useCallback(R=>{localStorage.setItem(a_,JSON.stringify(R)),e(R)},[]),W=it.useCallback(()=>{let R=[...a];if(T.trim()){const S=T.toLowerCase().trim();R=R.filter(rt=>rt.text.toLowerCase().includes(S)||rt.speaker.toLowerCase().includes(S)||rt.addedBy.toLowerCase().includes(S))}switch(E){case"newest":return R.sort((S,rt)=>rt.timestamp-S.timestamp);case"oldest":return R.sort((S,rt)=>S.timestamp-rt.timestamp);case"mostLiked":return R.sort((S,rt)=>rt.likes.length-S.likes.length);default:return R}},[a,E,T]),B=it.useCallback(async(R,S,rt)=>{const mt={text:R,speaker:S.trim(),addedBy:rt.trim(),timestamp:Date.now(),likes:[],comments:[]};if(d&&_n())try{await s_(ed(Fn,Yn),{...mt,timestamp:Z0()})}catch(z){console.error("Error adding quote:",z),h("Failed to add quote. Please try again.")}else{const z={...mt,id:crypto.randomUUID()};U([z,...a])}},[a,d,U]),K=it.useCallback(async R=>{if(d&&_n())try{await GA(Gi(Fn,Yn,R))}catch(S){console.error("Error deleting quote:",S),h("Failed to delete quote. Please try again.")}else U(a.filter(S=>S.id!==R))},[a,d,U]),at=it.useCallback(async(R,S)=>{const rt=a.find(z=>z.id===R);if(!rt)return;const mt=rt.likes.includes(S);if(d&&_n())try{const z=Gi(Fn,Yn,R);mt?await Rs(z,{likes:$0(S)}):await Rs(z,{likes:J0(S)})}catch(z){console.error("Error toggling like:",z),h("Failed to update like. Please try again.")}else{const z=a.map(q=>q.id===R?{...q,likes:mt?q.likes.filter(et=>et!==S):[...q.likes,S]}:q);U(z)}},[a,d,U]),ht=it.useCallback(async(R,S,rt,mt)=>{const z={id:crypto.randomUUID(),text:S.trim(),gifUrl:mt||void 0,author:rt.trim(),timestamp:Date.now(),likes:[],replies:[]};if(d&&_n())try{const q=Gi(Fn,Yn,R);await Rs(q,{comments:J0(z)})}catch(q){console.error("Error adding comment:",q),h("Failed to add comment. Please try again.")}else{const q=a.map(et=>et.id===R?{...et,comments:[...et.comments,z]}:et);U(q)}},[a,d,U]),ft=it.useCallback(async(R,S)=>{const rt=a.find(z=>z.id===R);if(!rt)return;const mt=rt.comments.find(z=>z.id===S);if(mt)if(d&&_n())try{const z=Gi(Fn,Yn,R);await Rs(z,{comments:$0(mt)})}catch(z){console.error("Error deleting comment:",z),h("Failed to delete comment. Please try again.")}else{const z=a.map(q=>q.id===R?{...q,comments:q.comments.filter(et=>et.id!==S)}:q);U(z)}},[a,d,U]),Et=it.useCallback(async(R,S,rt)=>{const mt=a.find(q=>q.id===R);if(!mt)return;const z=mt.comments.map(q=>{if(q.id===S){const et=q.likes.includes(rt);return{...q,likes:et?q.likes.filter(_t=>_t!==rt):[...q.likes,rt]}}return q});if(d&&_n())try{const q=Gi(Fn,Yn,R);await Rs(q,{comments:z})}catch(q){console.error("Error toggling comment like:",q),h("Failed to update like. Please try again.")}else{const q=a.map(et=>et.id===R?{...et,comments:z}:et);U(q)}},[a,d,U]),It=it.useCallback(async(R,S,rt,mt,z)=>{const q=a.find(gt=>gt.id===R);if(!q)return;const et={id:crypto.randomUUID(),text:rt.trim(),gifUrl:z||void 0,author:mt.trim(),timestamp:Date.now(),likes:[]},_t=q.comments.map(gt=>gt.id===S?{...gt,replies:[...gt.replies,et]}:gt);if(d&&_n())try{const gt=Gi(Fn,Yn,R);await Rs(gt,{comments:_t})}catch(gt){console.error("Error adding reply:",gt),h("Failed to add reply. Please try again.")}else{const gt=a.map(C=>C.id===R?{...C,comments:_t}:C);U(gt)}},[a,d,U]),Tt=it.useCallback(async(R,S,rt)=>{const mt=a.find(q=>q.id===R);if(!mt)return;const z=mt.comments.map(q=>q.id===S?{...q,replies:q.replies.filter(et=>et.id!==rt)}:q);if(d&&_n())try{const q=Gi(Fn,Yn,R);await Rs(q,{comments:z})}catch(q){console.error("Error deleting reply:",q),h("Failed to delete reply. Please try again.")}else{const q=a.map(et=>et.id===R?{...et,comments:z}:et);U(q)}},[a,d,U]),D=it.useCallback(async(R,S,rt,mt)=>{const z=a.find(et=>et.id===R);if(!z)return;const q=z.comments.map(et=>{if(et.id===S){const _t=et.replies.map(gt=>{if(gt.id===rt){const C=gt.likes.includes(mt);return{...gt,likes:C?gt.likes.filter(Y=>Y!==mt):[...gt.likes,mt]}}return gt});return{...et,replies:_t}}return et});if(d&&_n())try{const et=Gi(Fn,Yn,R);await Rs(et,{comments:q})}catch(et){console.error("Error toggling reply like:",et),h("Failed to update like. Please try again.")}else{const et=a.map(_t=>_t.id===R?{..._t,comments:q}:_t);U(et)}},[a,d,U]),w=it.useCallback(()=>{const R=new Map;return a.forEach(S=>{const rt=R.get(S.speaker)||0;R.set(S.speaker,rt+1)}),Array.from(R.entries()).map(([S,rt])=>({name:S,quoteCount:rt})).sort((S,rt)=>rt.quoteCount-S.quoteCount)},[a]),I=it.useCallback(R=>a.filter(S=>S.speaker===R),[a]),j=it.useCallback(()=>{const R=JSON.stringify(a,null,2),S=new Blob([R],{type:"application/json"}),rt=URL.createObjectURL(S),mt=document.createElement("a");mt.href=rt,mt.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,mt.click(),URL.revokeObjectURL(rt)},[a]),V=it.useCallback(async R=>{const S=new FileReader;S.onload=async rt=>{try{const mt=JSON.parse(rt.target?.result);if(Array.isArray(mt)){const z=mt.filter(q=>q.text&&q.speaker&&q.addedBy);if(d&&_n())for(const q of z)await s_(ed(Fn,Yn),{text:q.text,speaker:q.speaker,addedBy:q.addedBy,timestamp:q.timestamp||Z0(),likes:q.likes||[],comments:q.comments||[]});else{const q=z.map(et=>({...et,id:et.id||crypto.randomUUID(),timestamp:et.timestamp||Date.now(),likes:et.likes||[],comments:et.comments||[]}));U([...q,...a])}}}catch{alert("Invalid file format")}},S.readAsText(R)},[a,d,U]);return{quotes:W(),allQuotes:a,loading:i,error:o,usingFirebase:d,sortOption:E,setSortOption:y,searchQuery:T,setSearchQuery:A,addQuote:B,deleteQuote:K,toggleLike:at,addComment:ht,deleteComment:ft,toggleCommentLike:Et,addReply:It,deleteReply:Tt,toggleReplyLike:D,getPeople:w,getQuotesBySpeaker:I,exportData:j,importData:V}}const nd=10;function sc(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function JA(a){const[e,i]=it.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:nd,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=it.useCallback(()=>[...new Set(a.map(y=>y.speaker))],[a]),o=it.useCallback((y,T)=>{const A=T.filter(W=>W!==y),N=sc(A),U=[y,...N.slice(0,3)];return sc(U)},[]),h=it.useCallback(()=>{const y=r();if(y.length<2||a.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const A=sc(a)[0],N=o(A.speaker,y);i({isPlaying:!0,currentQuote:A,options:N,score:0,totalRounds:Math.min(nd,a.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[a,r,o]),d=it.useCallback(y=>{if(!e.currentQuote||e.answered)return;const T=y===e.currentQuote.speaker;i(A=>({...A,answered:!0,selectedAnswer:y,isCorrect:T,score:T?A.score+1:A.score,gameHistory:[...A.gameHistory,{quote:A.currentQuote,correct:T,guessed:y}]}))},[e.currentQuote,e.answered]),p=it.useCallback(()=>{if(e.currentRound>=e.totalRounds){i(B=>({...B,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map(B=>B.quote.id);y.push(e.currentQuote?.id||"");const T=a.filter(B=>!y.includes(B.id));if(T.length===0){i(B=>({...B,isPlaying:!1,currentQuote:null}));return}const N=sc(T)[0],U=r(),W=o(N.speaker,U);i(B=>({...B,currentQuote:N,options:W,currentRound:B.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[a,e,r,o]),E=it.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:nd,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:p,endGame:E,canPlay:r().length>=2&&a.length>=3}}const Zv=[{name:"Kasey",password:"kaseyYork"},{name:"Liam",password:"liamYork"},{name:"Ethan",password:"ethanYork"},{name:"Teethan",password:"teethanPono"},{name:"Alex",password:"alexYork"},{name:"Harrison",password:"harrisonToro"},{name:"Patrick",password:"patrickYork"},{name:"Jaice",password:"jaiceYork"},{name:"Mergan",password:"merganYork"}];function r_(a,e){return!!Zv.find(r=>r.name.toLowerCase()===a.toLowerCase()&&r.password===e)}function $A(a){const e=Zv.find(i=>i.name.toLowerCase()===a.toLowerCase());return e?e.name:null}const va="quotebook_user",Wl="quotebook_auth";function WA(){const[a,e]=it.useState(null),[i,r]=it.useState(!1),[o,h]=it.useState(!0);it.useEffect(()=>{const A=localStorage.getItem(Wl),N=localStorage.getItem(va);if(A&&N)try{const U=JSON.parse(A),W=JSON.parse(N);r_(U.name,U.password)?(W.displayName||(W.displayName=W.name),e(W),r(!0)):(localStorage.removeItem(Wl),localStorage.removeItem(va))}catch{localStorage.removeItem(Wl),localStorage.removeItem(va)}h(!1)},[]);const d=it.useCallback((A,N)=>{if(r_(A,N)){const U=$A(A);if(!U)return!1;const W=localStorage.getItem(`quotebook_user_${U.toLowerCase()}`);let B={name:U,displayName:U,gamesPlayed:0,totalScore:0,bestScore:0};if(W)try{const K=JSON.parse(W);B={...B,displayName:K.displayName||U,gamesPlayed:K.gamesPlayed||0,totalScore:K.totalScore||0,bestScore:K.bestScore||0}}catch{}return localStorage.setItem(Wl,JSON.stringify({name:U,password:N})),localStorage.setItem(va,JSON.stringify(B)),e(B),r(!0),!0}return!1},[]),p=it.useCallback(()=>{a&&localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(a)),localStorage.removeItem(Wl),localStorage.removeItem(va),e(null),r(!1)},[a]),E=it.useCallback(A=>{if(!a)return;const N={...a,displayName:A.trim()};e(N),localStorage.setItem(va,JSON.stringify(N)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(N))},[a]),y=it.useCallback(A=>{E(A)},[E]),T=it.useCallback(A=>{if(!a)return;const N={...a,gamesPlayed:a.gamesPlayed+1,totalScore:a.totalScore+A,bestScore:Math.max(a.bestScore,A)};e(N),localStorage.setItem(va,JSON.stringify(N)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(N))},[a]);return{user:a,isAuthenticated:i,isLoading:o,login:d,logout:p,setUsername:y,setDisplayName:E,recordGameScore:T}}const ac="quotebook_weekly_winners";function t2(a){const[e,i]=it.useState(!1),[r,o]=it.useState(null),[h,d]=it.useState(null),p=B=>{const K=new Date(B),at=K.getDay(),ht=K.getDate()-at;return K.setDate(ht),K.setHours(0,0,0,0),K},E=B=>{const K=p(B),at=new Date(K);return at.setDate(at.getDate()+6),at.setHours(23,59,59,999),at},y=B=>{let K=0;return K+=B.likes.length,B.comments.forEach(at=>{at.gifUrl?K+=3:K+=2,K+=at.replies.length}),K},T=it.useCallback(()=>{const B=new Date,K=p(B);return a.filter(at=>{const ht=new Date(at.timestamp);return ht>=K&&ht<=B})},[a]),A=it.useCallback(()=>{const B=new Date,K=p(B),at=E(B),ht=T(),Et=ht.map(R=>({quote:R,points:y(R)})).sort((R,S)=>S.points-R.points).slice(0,3),It=new Map;ht.forEach(R=>{const S=It.get(R.speaker)||0;It.set(R.speaker,S+1)});let Tt=null,D=0;It.forEach((R,S)=>{R>D&&(D=R,Tt={name:S,count:R})});const w=new Map;ht.forEach(R=>{const S=w.get(R.addedBy)||0;w.set(R.addedBy,S+1)});let I=null,j=0;w.forEach((R,S)=>{R>j&&(j=R,I={name:S,count:R})});const V=Et.length>0?Et[0].quote.speaker:null;return{weekStartDate:K.toISOString(),weekEndDate:at.toISOString(),topQuotes:Et,weeklyQuotee:Tt,weeklyQuoter:I,quoteOfTheWeekSpeaker:V}},[T]);it.useEffect(()=>{const B=localStorage.getItem(ac);if(B)try{const K=JSON.parse(B),at=new Date(K.weekEndDate),ht=E(new Date);at>=p(new Date)?d(K):(localStorage.removeItem(ac),d(null))}catch{localStorage.removeItem(ac)}},[]),it.useEffect(()=>{const B=()=>{const at=new Date,ht=-300,ft=at.getTime()+at.getTimezoneOffset()*6e4,Et=new Date(ft+ht*6e4),It=Et.getDay()===0,Tt=Et.getHours(),D=Et.getMinutes();if(It&&Tt===18&&D>=30&&D<35){const w=localStorage.getItem("quotebook_last_wrapped_shown"),I=Et.toDateString();w!==I&&(N(),localStorage.setItem("quotebook_last_wrapped_shown",I))}};B();const K=setInterval(B,6e4);return()=>clearInterval(K)},[a]);const N=it.useCallback(()=>{const B=A();o(B),i(!0);const K={weekEndDate:B.weekEndDate,quoteOfTheWeekSpeaker:B.quoteOfTheWeekSpeaker,weeklyQuotee:B.weeklyQuotee?.name||null,weeklyQuoter:B.weeklyQuoter?.name||null};localStorage.setItem(ac,JSON.stringify(K)),d(K)},[A]),U=()=>{i(!1)},W=it.useCallback(B=>{if(!h)return[];const K=[],at=B.toLowerCase();return h.quoteOfTheWeekSpeaker?.toLowerCase()===at&&K.push("quote"),h.weeklyQuotee?.toLowerCase()===at&&K.push("quotee"),h.weeklyQuoter?.toLowerCase()===at&&K.push("quoter"),K},[h]);return{showWrapped:e,weeklyData:r,currentWinners:h,triggerWrapped:N,closeWrapped:U,getUserMedals:W,calculateWeeklyData:A}}function e2({medals:a,size:e="md"}){if(a.length===0)return null;const i={sm:"text-xs",md:"text-sm",lg:"text-base"},r=h=>{switch(h){case"quote":return"";case"quotee":return"";case"quoter":return"";default:return""}},o=h=>{switch(h){case"quote":return"Quote of the Week";case"quotee":return"Weekly Quotee";case"quoter":return"Weekly Quoter";default:return"Winner"}};return v.jsx("span",{className:`inline-flex items-center gap-0.5 ${i[e]}`,children:a.map((h,d)=>v.jsx("span",{title:o(h),className:"inline-block animate-pulse cursor-help",style:{filter:"drop-shadow(0 0 2px gold)",animation:"pulse 2s infinite"},children:r(h)},d))})}function so({name:a,medals:e=[],className:i="",size:r="md"}){return v.jsxs("span",{className:`inline-flex items-center gap-1 ${i}`,children:[v.jsx("span",{children:a}),v.jsx(e2,{medals:e,size:r})]})}function n2({user:a,activeTab:e,setActiveTab:i,getUserMedals:r,onOpenWrapped:o}){const h=r?r(a.displayName):[];return v.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:v.jsx("div",{className:"max-w-6xl mx-auto px-4",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-2xl",children:""}),v.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"The 423 Files"})]}),v.jsxs("nav",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="quotes"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Quotes"}),v.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="game"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Game"}),o&&v.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg font-medium text-purple-600 hover:bg-purple-100 transition-colors",title:"View Weekly Wrapped",children:" Wrapped"}),v.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="settings"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Settings"})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx("span",{children:""}),v.jsx(so,{name:a.displayName,medals:h})]})]})})})}const l_="jQCJuGogKJU8axQhh8rbJVMJBknLUHLX";function o_({onSelect:a,onClose:e}){const[i,r]=it.useState(""),[o,h]=it.useState([]),[d,p]=it.useState(!1),[E,y]=it.useState("");it.useEffect(()=>{T()},[]);const T=async()=>{p(!0),y("");try{const N=await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=${l_}&limit=20`);if(!N.ok){const W=await N.json().catch(()=>({}));throw console.error("GIPHY API Error:",N.status,W),new Error(`API Error: ${N.status}`)}const U=await N.json();if(U.data){const W=U.data.map(B=>({id:B.id,url:B.images.fixed_height.url,previewUrl:B.images.fixed_height_still?.url||B.images.fixed_height_small?.url||B.images.fixed_height.url}));h(W)}}catch(N){console.error("Error loading GIFs:",N),y("Failed to load GIFs")}p(!1)},A=async N=>{if(!N.trim()){T();return}p(!0),y("");try{const U=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=${l_}&q=${encodeURIComponent(N)}&limit=20`);if(!U.ok){const B=await U.json().catch(()=>({}));throw console.error("GIPHY API Error:",U.status,B),new Error(`API Error: ${U.status}`)}const W=await U.json();if(W.data){const B=W.data.map(K=>({id:K.id,url:K.images.fixed_height.url,previewUrl:K.images.fixed_height_still?.url||K.images.fixed_height_small?.url||K.images.fixed_height.url}));h(B)}}catch(U){console.error("Error searching GIFs:",U),y("Failed to search GIFs")}p(!1)};return it.useEffect(()=>{const N=setTimeout(()=>{i&&A(i)},500);return()=>clearTimeout(N)},[i]),v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Choose a GIF"}),v.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl leading-none p-1",children:""})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:i,onChange:N=>r(N.target.value),placeholder:"Search GIFs...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),v.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""}),i&&v.jsx("button",{onClick:()=>{r(""),T()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?v.jsx("div",{className:"flex items-center justify-center py-12",children:v.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):E?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("p",{className:"text-4xl mb-2",children:""}),v.jsx("p",{className:"text-red-500 mb-3",children:E}),v.jsx("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Try again"})]}):o.length===0?v.jsxs("div",{className:"text-center py-12 text-gray-500",children:[v.jsx("p",{className:"text-4xl mb-2",children:""}),v.jsx("p",{children:"No GIFs found. Try a different search."})]}):v.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(N=>v.jsx("button",{onClick:()=>a(N.url),className:"relative aspect-square overflow-hidden rounded-lg hover:ring-4 hover:ring-indigo-500 transition-all bg-gray-100",children:v.jsx("img",{src:N.previewUrl,alt:"GIF",className:"w-full h-full object-cover",loading:"lazy",onMouseEnter:U=>{U.target.src=N.url},onMouseLeave:U=>{U.target.src=N.previewUrl}})},N.id))})}),v.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:v.jsx("span",{className:"text-xs text-gray-400",children:"Powered by GIPHY"})})]})})}function i2({quote:a,currentUser:e,getUserMedals:i,onDelete:r,onToggleLike:o,onAddComment:h,onDeleteComment:d,onToggleCommentLike:p,onAddReply:E,onDeleteReply:y,onToggleReplyLike:T}){const[A,N]=it.useState(!1),[U,W]=it.useState(""),[B,K]=it.useState(null),[at,ht]=it.useState(!1),[ft,Et]=it.useState(!1),[It,Tt]=it.useState(null),[D,w]=it.useState(""),[I,j]=it.useState(null),[V,R]=it.useState(!1),S=a.likes.includes(e),rt=a.addedBy===e,mt=()=>{o(a.id,e)},z=async C=>{C.preventDefault(),!(!U.trim()&&!B||ft)&&(Et(!0),await h(a.id,U,e,B||void 0),W(""),K(null),Et(!1))},q=async C=>{!D.trim()&&!I||ft||(Et(!0),await E(a.id,C,D,e,I||void 0),w(""),j(null),Tt(null),Et(!1))},et=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_t=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),gt=()=>{let C=a.comments.length;return a.comments.forEach(Y=>{C+=Y.replies.length}),C};return v.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[v.jsxs("div",{className:"mb-4",children:[v.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',a.text,'"']}),v.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",v.jsx(so,{name:a.speaker,medals:i(a.speaker)})]})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[v.jsxs("span",{children:["Added by ",v.jsx(so,{name:a.addedBy,medals:i(a.addedBy),size:"sm"})]}),v.jsx("span",{children:et(a.timestamp)})]}),v.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[v.jsxs("button",{onClick:mt,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${S?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[v.jsx("span",{children:S?"":""}),v.jsx("span",{className:"font-medium",children:a.likes.length})]}),v.jsxs("button",{onClick:()=>N(!A),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[v.jsx("span",{children:""}),v.jsx("span",{className:"font-medium",children:gt()})]}),rt&&v.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&r(a.id)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),A&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[v.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",gt(),")"]}),a.comments.length>0?v.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:a.comments.map(C=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[v.jsxs("div",{className:"relative group",children:[C.text&&v.jsx("p",{className:"text-gray-700 text-sm",children:C.text}),C.gifUrl&&v.jsx("img",{src:C.gifUrl,alt:"GIF",className:"mt-2 rounded-lg max-w-full max-h-48 object-contain"}),v.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[v.jsx(so,{name:C.author,medals:i(C.author),size:"sm",className:"font-medium"}),v.jsx("span",{children:_t(C.timestamp)})]}),C.author===e&&v.jsx("button",{onClick:()=>d(a.id,C.id),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]}),v.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-200",children:[v.jsxs("button",{onClick:()=>p(a.id,C.id,e),className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${C.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[v.jsx("span",{children:C.likes.includes(e)?"":""}),v.jsx("span",{children:C.likes.length})]}),v.jsxs("button",{onClick:()=>{Tt(It===C.id?null:C.id),w(""),j(null)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[v.jsx("span",{children:""}),v.jsx("span",{children:"Reply"})]})]}),It===C.id&&v.jsxs("div",{className:"mt-3 space-y-2",children:[I&&v.jsxs("div",{className:"relative inline-block",children:[v.jsx("img",{src:I,alt:"Selected GIF",className:"rounded-lg max-h-24 object-contain"}),v.jsx("button",{onClick:()=>j(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>R(!0),className:"px-3 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 text-xs",children:"GIF"}),v.jsx("input",{type:"text",value:D,onChange:Y=>w(Y.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs"}),v.jsx("button",{onClick:()=>q(C.id),disabled:!D.trim()&&!I||ft,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium",children:ft?"...":"Reply"}),v.jsx("button",{onClick:()=>{Tt(null),w(""),j(null)},className:"px-3 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 text-xs",children:"Cancel"})]})]}),C.replies.length>0&&v.jsx("div",{className:"mt-3 ml-4 space-y-2 border-l-2 border-indigo-200 pl-3",children:C.replies.map(Y=>v.jsxs("div",{className:"bg-white rounded-lg p-2 relative group",children:[Y.text&&v.jsx("p",{className:"text-gray-700 text-xs",children:Y.text}),Y.gifUrl&&v.jsx("img",{src:Y.gifUrl,alt:"GIF",className:"mt-1 rounded-lg max-w-full max-h-32 object-contain"}),v.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-500",children:[v.jsx(so,{name:Y.author,medals:i(Y.author),size:"sm",className:"font-medium"}),v.jsx("span",{children:_t(Y.timestamp)})]}),v.jsx("div",{className:"flex items-center gap-2 mt-1",children:v.jsxs("button",{onClick:()=>T(a.id,C.id,Y.id,e),className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded transition-colors ${Y.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[v.jsx("span",{children:Y.likes.includes(e)?"":""}),v.jsx("span",{children:Y.likes.length})]})}),Y.author===e&&v.jsx("button",{onClick:()=>y(a.id,C.id,Y.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},Y.id))})]},C.id))}):v.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),B&&v.jsxs("div",{className:"mb-3 relative inline-block",children:[v.jsx("img",{src:B,alt:"Selected GIF",className:"rounded-lg max-h-32 object-contain"}),v.jsx("button",{onClick:()=>K(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-sm flex items-center justify-center",children:""})]}),v.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[v.jsx("button",{type:"button",onClick:()=>ht(!0),className:"px-4 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium",children:"GIF"}),v.jsx("input",{type:"text",value:U,onChange:C=>W(C.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),v.jsx("button",{type:"submit",disabled:!U.trim()&&!B||ft,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:ft?"...":"Post"})]})]}),at&&v.jsx(o_,{onSelect:C=>{K(C),ht(!1)},onClose:()=>ht(!1)}),V&&v.jsx(o_,{onSelect:C=>{j(C),R(!1)},onClose:()=>R(!1)})]})}function s2({quotes:a,people:e,currentUser:i,sortOption:r,searchQuery:o,getUserMedals:h,onSortChange:d,onSearchChange:p,onAddQuote:E,onDeleteQuote:y,onToggleLike:T,onAddComment:A,onDeleteComment:N,onToggleCommentLike:U,onAddReply:W,onDeleteReply:B,onToggleReplyLike:K}){const[at,ht]=it.useState(!1),[ft,Et]=it.useState(""),[It,Tt]=it.useState(""),[D,w]=it.useState(""),I=V=>{V.preventDefault(),!(!ft.trim()||!It.trim())&&(E(ft,It,i),Et(""),Tt(""),ht(!1))},j=D?a.filter(V=>V.speaker===D):a;return v.jsxs("div",{children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),v.jsxs("p",{className:"text-gray-500",children:[a.length," quote",a.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),v.jsx("button",{onClick:()=>ht(!at),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:at?" Cancel":"+ Add Quote"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:o,onChange:V=>p(V.target.value),placeholder:"Search quotes, speakers, or authors...",className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg bg-white shadow-sm"}),v.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:""}),o&&v.jsx("button",{onClick:()=>p(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xl",children:""})]}),o&&v.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",j.length," result",j.length!==1?"s":"",' for "',o,'"']})]}),at&&v.jsxs("form",{onSubmit:I,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),v.jsx("textarea",{value:ft,onChange:V=>Et(V.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),v.jsx("input",{type:"text",value:It,onChange:V=>Tt(V.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),v.jsx("datalist",{id:"speakers",children:e.map(V=>v.jsx("option",{value:V.name},V.name))})]}),v.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[v.jsx("div",{className:"flex-1",children:v.jsxs("select",{value:D,onChange:V=>w(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[v.jsx("option",{value:"",children:"All Speakers"}),e.map(V=>v.jsxs("option",{value:V.name,children:[V.name," (",V.quoteCount,")"]},V.name))]})}),v.jsx("div",{className:"flex-1",children:v.jsxs("select",{value:r,onChange:V=>d(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[v.jsx("option",{value:"newest",children:" Newest First"}),v.jsx("option",{value:"oldest",children:" Oldest First"}),v.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),j.length>0?v.jsx("div",{className:"grid gap-6",children:j.map(V=>v.jsx(i2,{quote:V,currentUser:i,getUserMedals:h,onDelete:y,onToggleLike:T,onAddComment:A,onDeleteComment:N,onToggleCommentLike:U,onAddReply:W,onDeleteReply:B,onToggleReplyLike:K},V.id))}):v.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[v.jsx("p",{className:"text-6xl mb-4",children:o?"":""}),v.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:o?"No quotes found":D?"No quotes from this person":"No quotes yet"}),v.jsx("p",{className:"text-gray-500",children:o?"Try a different search term.":D?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function a2({gameState:a,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:p}){const E=!a.isPlaying&&a.gameHistory.length>0;if(!a.isPlaying&&!E)return v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:v.jsx("span",{className:"text-4xl",children:""})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),v.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&v.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),v.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),v.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),v.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?v.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):v.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[v.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),v.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(E){const y=Math.round(a.score/a.gameHistory.length*100),T=()=>{p(a.score),d(),r()},A=()=>{p(a.score),d()};return v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:v.jsx("span",{className:"text-4xl",children:""})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),v.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[a.score,"/",a.gameHistory.length]}),v.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),v.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[v.jsx("button",{onClick:T,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),v.jsx("button",{onClick:A,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),v.jsxs("div",{className:"border-t pt-6",children:[v.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),v.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:a.gameHistory.map((N,U)=>v.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${N.correct?"bg-green-50":"bg-red-50"}`,children:[v.jsx("span",{className:"text-lg",children:N.correct?"":""}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',N.quote.text,'"']}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",v.jsx("span",{className:"font-semibold",children:N.quote.speaker}),!N.correct&&v.jsxs("span",{children:["  You guessed: ",N.guessed]})]})]})]},U))})]})]})})}return v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("span",{className:"font-medium",children:["Round ",a.currentRound," of ",a.totalRounds]}),v.jsxs("span",{className:"font-bold",children:["Score: ",a.score]})]}),v.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${a.currentRound/a.totalRounds*100}%`}})})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[v.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),v.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:a.currentQuote?.text})]}),v.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),v.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.options.map(y=>{let T="p-4 rounded-xl font-medium transition text-left border-2 ";return a.answered?y===a.currentQuote?.speaker?T+="border-green-500 bg-green-50 text-green-700":y===a.selectedAnswer&&!a.isCorrect?T+="border-red-500 bg-red-50 text-red-700":T+="border-gray-200 bg-gray-50 text-gray-400":T+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",v.jsx("button",{onClick:()=>o(y),disabled:a.answered,className:T,children:v.jsxs("span",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),a.answered&&v.jsxs("div",{className:"mt-6 text-center",children:[v.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${a.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isCorrect?" Correct!":` It was ${a.currentQuote?.speaker}`}),v.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:a.currentRound>=a.totalRounds?"See Results":"Next Question "})]})]})]}),v.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function r2({user:a,quotes:e,usingFirebase:i,onSetDisplayName:r,onLogout:o,onExport:h,onImport:d}){const[p,E]=it.useState(a.displayName),[y,T]=it.useState(!1),A=it.useRef(null),N=()=>{p.trim()&&p.trim()!==a.displayName&&(r(p.trim()),T(!0),setTimeout(()=>T(!1),2e3))},U=()=>{A.current?.click()},W=B=>{const K=B.target.files?.[0];K&&(d(K),B.target.value="")};return v.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Profile"}),v.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Account"}),v.jsx("p",{className:"font-medium text-gray-800",children:a.name})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("input",{type:"text",value:p,onChange:B=>E(B.target.value),placeholder:"Enter display name",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),v.jsx("button",{onClick:N,disabled:!p.trim()||p.trim()===a.displayName,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),y&&v.jsx("p",{className:"text-green-600 text-sm flex items-center gap-1",children:" Display name updated!"}),v.jsx("p",{className:"text-xs text-gray-500",children:"This is how your name will appear on quotes and comments."})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Game Stats"}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:a.gamesPlayed}),v.jsx("p",{className:"text-sm text-gray-500",children:"Games Played"})]}),v.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.bestScore}),v.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"})]}),v.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[v.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.gamesPlayed>0?Math.round(a.totalScore/a.gamesPlayed):0}),v.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Data Management"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-800",children:"Connection Status"}),v.jsx("p",{className:"text-sm text-gray-500",children:i?"Connected to Firebase":"Using local storage"})]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:i?" Online":" Local"})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:h,className:"flex-1 px-4 py-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:[" Export Quotes (",e.length,")"]}),v.jsx("button",{onClick:U,className:"flex-1 px-4 py-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Import Quotes"}),v.jsx("input",{ref:A,type:"file",accept:".json",onChange:W,className:"hidden"})]})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Account"}),v.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&o()},className:"w-full px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Log Out"})]})]})}function l2({onLogin:a}){const[e,i]=it.useState(""),[r,o]=it.useState(""),[h,d]=it.useState(!1),[p,E]=it.useState(""),[y,T]=it.useState(!1),A=N=>{if(N.preventDefault(),E(""),T(!0),!e.trim()||!r.trim()){E("Please enter both name and password"),T(!1);return}a(e.trim(),r)||(E("Invalid name or password"),T(!1))};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"text-6xl mb-4",children:""}),v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),v.jsx("p",{className:"text-gray-500",children:"Sign in to continue"})]}),v.jsxs("form",{onSubmit:A,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),v.jsx("input",{type:"text",value:e,onChange:N=>i(N.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"username",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:h?"text":"password",value:r,onChange:N=>o(N.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"current-password"}),v.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none p-1",children:h?v.jsx("span",{className:"text-xl",children:""}):v.jsx("span",{className:"text-xl",children:""})})]}),v.jsxs("label",{className:"flex items-center gap-2 mt-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:h,onChange:N=>d(N.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),v.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]}),p&&v.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center gap-2",children:[v.jsx("span",{children:""}),v.jsx("span",{children:p})]}),v.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-semibold text-lg shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:y?v.jsxs("span",{className:"flex items-center justify-center gap-2",children:[v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),v.jsx("div",{className:"mt-8 text-center text-sm text-gray-400",children:v.jsx("p",{children:"Access restricted to authorized users only"})})]})})}function o2({onDismiss:a}){return v.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-2xl",children:""}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),v.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),v.jsxs("details",{className:"text-sm",children:[v.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),v.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[v.jsxs("li",{children:["Go to ",v.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),v.jsx("li",{children:'Click "Create a project" (or "Add project")'}),v.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),v.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),v.jsx("li",{children:'Click "Create project"'})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[v.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),v.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),v.jsx("li",{children:'Click "Register app"'}),v.jsxs("li",{children:["Copy the ",v.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[v.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),v.jsx("li",{children:'Click "Create database"'}),v.jsxs("li",{children:['Select "Start in ',v.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),v.jsx("li",{children:"Choose a location close to you"}),v.jsx("li",{children:'Click "Enable"'})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[v.jsxs("li",{children:["Open ",v.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),v.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),v.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),v.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[v.jsxs("li",{children:["Run ",v.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),v.jsxs("li",{children:["Upload the new ",v.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),v.jsx("li",{children:"Share the URL with your friends! "})]})]}),v.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:v.jsxs("p",{className:"text-blue-800 text-sm",children:[v.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),a&&v.jsx("button",{onClick:a,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function u2({data:a,onClose:e}){const[i,r]=it.useState("intro"),[o,h]=it.useState(!0),d=["intro","stats","quote3","quote2","quote1","quotee","quoter","finale"],p=d.indexOf(i);it.useEffect(()=>{h(!0);const B=setTimeout(()=>h(!1),500);return()=>clearTimeout(B)},[i]);const E=()=>{const B=p+1;B<d.length&&r(d[B])},y=()=>{const B=p-1;B>=0&&r(d[B])},T=B=>new Date(B).toLocaleDateString("en-US",{month:"short",day:"numeric"}),A=a.topQuotes.length,N=a.topQuotes.reduce((B,K)=>B+K.points,0),U=B=>{switch(B){case"intro":return"from-purple-600 via-pink-500 to-orange-400";case"stats":return"from-blue-600 via-cyan-500 to-teal-400";case"quote3":return"from-amber-500 via-orange-500 to-red-500";case"quote2":return"from-gray-400 via-gray-300 to-gray-200";case"quote1":return"from-yellow-400 via-yellow-500 to-amber-500";case"quotee":return"from-emerald-500 via-green-500 to-teal-500";case"quoter":return"from-violet-600 via-purple-500 to-fuchsia-500";case"finale":return"from-indigo-600 via-purple-600 to-pink-500";default:return"from-purple-600 to-pink-500"}},W=()=>{switch(i){case"intro":return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),v.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-4 tracking-tight",children:"THE 423"}),v.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white/90 mb-6",children:"WEEKLY WRAPPED"}),v.jsxs("div",{className:"text-xl text-white/80",children:[T(a.weekStartDate)," - ",T(a.weekEndDate)]}),v.jsx("div",{className:"mt-12 text-white/60 animate-pulse",children:"Tap to continue "})]});case"stats":return v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-12",children:"This Week in Quotes"}),v.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto",children:[v.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[v.jsx("div",{className:"text-5xl font-black text-white",children:A}),v.jsx("div",{className:"text-white/80 mt-2",children:"Top Quotes"})]}),v.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[v.jsx("div",{className:"text-5xl font-black text-white",children:N}),v.jsx("div",{className:"text-white/80 mt-2",children:"Total Points"})]})]}),v.jsx("div",{className:"mt-12 text-6xl",children:""})]});case"quote3":return a.topQuotes.length<3?v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-6xl mb-6",children:""}),v.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"#3 Quote of the Week"}),v.jsx("p",{className:"text-xl text-white/80",children:"Not enough quotes this week!"})]}):v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-6xl mb-6",children:""}),v.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"#3 Quote of the Week"}),v.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto",children:[v.jsxs("p",{className:"text-2xl md:text-3xl text-white italic mb-6",children:['"',a.topQuotes[2].quote.text,'"']}),v.jsxs("p",{className:"text-xl text-white/90 font-semibold",children:[" ",a.topQuotes[2].quote.speaker]}),v.jsxs("div",{className:"mt-4 text-white/70",children:[a.topQuotes[2].points," points"]})]})]});case"quote2":return a.topQuotes.length<2?v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-6xl mb-6",children:""}),v.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"#2 Quote of the Week"}),v.jsx("p",{className:"text-xl text-gray-600",children:"Not enough quotes this week!"})]}):v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-6xl mb-6",children:""}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"#2 Quote of the Week"}),v.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-xl",children:[v.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6",children:['"',a.topQuotes[1].quote.text,'"']}),v.jsxs("p",{className:"text-xl text-gray-700 font-semibold",children:[" ",a.topQuotes[1].quote.speaker]}),v.jsxs("div",{className:"mt-4 text-gray-600",children:[a.topQuotes[1].points," points"]})]})]});case"quote1":return a.topQuotes.length<1?v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-8xl mb-6",children:""}),v.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Quote of the Week"}),v.jsx("p",{className:"text-xl text-gray-600",children:"No quotes this week!"})]}):v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:""}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"QUOTE OF THE WEEK"}),v.jsx("div",{className:"text-6xl mb-6",children:""}),v.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-2xl border-4 border-yellow-400",children:[v.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6 font-medium",children:['"',a.topQuotes[0].quote.text,'"']}),v.jsxs("p",{className:"text-2xl text-gray-700 font-bold",children:[" ",a.topQuotes[0].quote.speaker]}),v.jsxs("div",{className:"mt-4 text-yellow-600 font-semibold text-lg",children:[" ",a.topQuotes[0].points," points "]})]})]});case"quotee":return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-7xl mb-6",children:""}),v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTEE"}),v.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Most Quoted Person"}),a.weeklyQuotee?v.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuotee.name}),v.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuotee.count," quotes this week!"]})]}):v.jsx("p",{className:"text-xl text-white/80",children:"No quotees this week!"})]});case"quoter":return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-7xl mb-6",children:""}),v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTER"}),v.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Added the Most Quotes"}),a.weeklyQuoter?v.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[v.jsx("div",{className:"text-5xl mb-4",children:""}),v.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuoter.name}),v.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuoter.count," quotes added!"]})]}):v.jsx("p",{className:"text-xl text-white/80",children:"No quoters this week!"})]});case"finale":return v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-7xl mb-6",children:""}),v.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6",children:"That's a Wrap!"}),v.jsx("p",{className:"text-xl text-white/80 mb-8",children:"See you next Sunday for another Weekly Wrapped!"}),v.jsxs("div",{className:"flex justify-center gap-4 text-5xl mb-8",children:[v.jsx("span",{className:"animate-bounce",style:{animationDelay:"0ms"},children:""}),v.jsx("span",{className:"animate-bounce",style:{animationDelay:"100ms"},children:""}),v.jsx("span",{className:"animate-bounce",style:{animationDelay:"200ms"},children:""})]}),v.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-purple-600 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-xl",children:"Close Wrapped"})]})}};return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${U(i)} transition-all duration-500`}),v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((B,K)=>v.jsx("div",{className:"absolute w-2 h-2 bg-white/30 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`}},K))}),v.jsx("div",{className:`relative z-10 w-full max-w-2xl mx-4 transition-all duration-500 ${o?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:W()}),v.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center items-center gap-4 z-20",children:v.jsx("div",{className:"flex gap-2",children:d.map((B,K)=>v.jsx("button",{onClick:()=>r(B),className:`w-2 h-2 rounded-full transition-all ${K===p?"bg-white w-6":"bg-white/40 hover:bg-white/60"}`},B))})}),v.jsx("button",{onClick:y,disabled:p===0,className:"absolute left-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Previous slide"}),v.jsx("button",{onClick:E,disabled:p===d.length-1,className:"absolute right-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Next slide"}),v.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 text-white/80 hover:text-white text-3xl",children:""}),p>0&&v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),p<d.length-1&&v.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),v.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
          50% { transform: translateY(-20px) rotate(180deg); opacity: 0.6; }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
      `})]})}function c2(){const[a,e]=it.useState("quotes"),[i,r]=it.useState(!_n()),{user:o,isAuthenticated:h,isLoading:d,login:p,logout:E,setDisplayName:y,recordGameScore:T}=WA(),{quotes:A,allQuotes:N,loading:U,error:W,usingFirebase:B,sortOption:K,setSortOption:at,searchQuery:ht,setSearchQuery:ft,addQuote:Et,deleteQuote:It,toggleLike:Tt,addComment:D,deleteComment:w,toggleCommentLike:I,addReply:j,deleteReply:V,toggleReplyLike:R,getPeople:S,exportData:rt,importData:mt}=ZA(),{showWrapped:z,weeklyData:q,triggerWrapped:et,closeWrapped:_t,getUserMedals:gt}=t2(N||A),{gameState:C,startGame:Y,submitAnswer:st,nextRound:ot,endGame:xt,canPlay:Rt}=JA(A);return d?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!h||!o?v.jsx(l2,{onLogin:p}):v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[v.jsx(n2,{user:o,activeTab:a,setActiveTab:e,getUserMedals:gt,onOpenWrapped:et}),v.jsx("div",{className:`text-center py-2 text-sm font-medium ${B?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:B?v.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):v.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),W&&v.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",W]}),v.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!_n()&&a==="quotes"&&v.jsx(o2,{onDismiss:()=>r(!1)}),U?v.jsx("div",{className:"flex items-center justify-center py-20",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):v.jsxs(v.Fragment,{children:[a==="quotes"&&v.jsx(s2,{quotes:A,people:S(),currentUser:o.displayName,sortOption:K,searchQuery:ht,getUserMedals:gt,onSortChange:at,onSearchChange:ft,onAddQuote:Et,onDeleteQuote:It,onToggleLike:Tt,onAddComment:D,onDeleteComment:w,onToggleCommentLike:I,onAddReply:j,onDeleteReply:V,onToggleReplyLike:R}),a==="game"&&v.jsx(a2,{gameState:C,canPlay:Rt,user:o,onStartGame:Y,onSubmitAnswer:st,onNextRound:ot,onEndGame:xt,onRecordScore:T}),a==="settings"&&v.jsx(r2,{user:o,quotes:A,usingFirebase:B,onSetDisplayName:y,onLogout:E,onExport:rt,onImport:mt})]})]}),v.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[v.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),v.jsx("p",{className:"text-xs mt-1",children:B?" Real-time sync enabled":" Local mode"})]}),z&&q&&v.jsx(u2,{data:q,onClose:_t})]})}kb.createRoot(document.getElementById("root")).render(v.jsx(it.StrictMode,{children:v.jsx(c2,{})}));
