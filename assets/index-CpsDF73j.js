(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Uf={exports:{}},Yl={};var Dy;function TT(){if(Dy)return Yl;Dy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var Vy;function bT(){return Vy||(Vy=1,Uf.exports=TT()),Uf.exports}var T=bT(),zf={exports:{}},Et={};var Iy;function AT(){if(Iy)return Et;Iy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function mt(M,K,nt){this.props=M,this.context=K,this.refs=W,this.updater=nt||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},mt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ut(){}ut.prototype=mt.prototype;function pt(M,K,nt){this.props=M,this.context=K,this.refs=W,this.updater=nt||J}var ct=pt.prototype=new ut;ct.constructor=pt,$(ct,mt.prototype),ct.isPureReactComponent=!0;var $t=Array.isArray;function it(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(M,K,nt){var rt=nt.ref;return{$$typeof:s,type:M,key:K,ref:rt!==void 0?rt:null,props:nt}}function V(M,K){return R(M.type,K,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function j(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return K[nt]})}var N=/\/+/g;function ie(M,K){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):K.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(it,it):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,K,nt,rt,_t){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Mt=!1;if(M===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(M.$$typeof){case s:case e:Mt=!0;break;case A:return Mt=M._init,Q(Mt(M._payload),K,nt,rt,_t)}}if(Mt)return _t=_t(M),Mt=rt===""?"."+ie(M,0):rt,$t(_t)?(nt="",Mt!=null&&(nt=Mt.replace(N,"$&/")+"/"),Q(_t,K,nt,"",function(La){return La})):_t!=null&&(C(_t)&&(_t=V(_t,nt+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Mt)),K.push(_t)),1;Mt=0;var Ne=rt===""?".":rt+":";if($t(M))for(var ae=0;ae<M.length;ae++)rt=M[ae],St=Ne+ie(rt,ae),Mt+=Q(rt,K,nt,St,_t);else if(ae=G(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(rt=M.next()).done;)rt=rt.value,St=Ne+ie(rt,ae++),Mt+=Q(rt,K,nt,St,_t);else if(St==="object"){if(typeof M.then=="function")return Q(Ce(M),K,nt,rt,_t);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(M,K,nt){if(M==null)return M;var rt=[],_t=0;return Q(M,rt,"","",function(St){return K.call(nt,St,_t++)}),rt}function dt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:et,forEach:function(M,K,nt){et(M,function(){K.apply(this,arguments)},nt)},count:function(M){var K=0;return et(M,function(){K++}),K},toArray:function(M){return et(M,function(K){return K})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=x,Et.Children=Ht,Et.Component=mt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=pt,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,K,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=$({},M.props),_t=M.key;if(K!=null)for(St in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Mt=Array(St),Ne=0;Ne<St;Ne++)Mt[Ne]=arguments[Ne+2];rt.children=Mt}return R(M.type,_t,rt)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Et.createElement=function(M,K,nt){var rt,_t={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)S.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=K[rt]);var Mt=arguments.length-2;if(Mt===1)_t.children=nt;else if(1<Mt){for(var Ne=Array(Mt),ae=0;ae<Mt;ae++)Ne[ae]=arguments[ae+2];_t.children=Ne}if(M&&M.defaultProps)for(rt in Mt=M.defaultProps,Mt)_t[rt]===void 0&&(_t[rt]=Mt[rt]);return R(M,St,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:_,render:M}},Et.isValidElement=C,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:dt}},Et.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},Et.startTransition=function(M){var K=w.T,nt={};w.T=nt;try{var rt=M(),_t=w.S;_t!==null&&_t(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(it,zt)}catch(St){zt(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),w.T=K}},Et.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Et.use=function(M){return w.H.use(M)},Et.useActionState=function(M,K,nt){return w.H.useActionState(M,K,nt)},Et.useCallback=function(M,K){return w.H.useCallback(M,K)},Et.useContext=function(M){return w.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,K){return w.H.useDeferredValue(M,K)},Et.useEffect=function(M,K){return w.H.useEffect(M,K)},Et.useEffectEvent=function(M){return w.H.useEffectEvent(M)},Et.useId=function(){return w.H.useId()},Et.useImperativeHandle=function(M,K,nt){return w.H.useImperativeHandle(M,K,nt)},Et.useInsertionEffect=function(M,K){return w.H.useInsertionEffect(M,K)},Et.useLayoutEffect=function(M,K){return w.H.useLayoutEffect(M,K)},Et.useMemo=function(M,K){return w.H.useMemo(M,K)},Et.useOptimistic=function(M,K){return w.H.useOptimistic(M,K)},Et.useReducer=function(M,K,nt){return w.H.useReducer(M,K,nt)},Et.useRef=function(M){return w.H.useRef(M)},Et.useState=function(M){return w.H.useState(M)},Et.useSyncExternalStore=function(M,K,nt){return w.H.useSyncExternalStore(M,K,nt)},Et.useTransition=function(){return w.H.useTransition()},Et.version="19.2.3",Et}var Oy;function bd(){return Oy||(Oy=1,zf.exports=AT()),zf.exports}var wt=bd(),Lf={exports:{}},Kl={},Bf={exports:{}},kf={};var My;function ST(){return My||(My=1,(function(s){function e(Q,et){var dt=Q.length;Q.push(et);t:for(;0<dt;){var zt=dt-1>>>1,Ht=Q[zt];if(0<o(Ht,et))Q[zt]=et,Q[dt]=Ht,dt=zt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var et=Q[0],dt=Q.pop();if(dt!==et){Q[0]=dt;t:for(var zt=0,Ht=Q.length,M=Ht>>>1;zt<M;){var K=2*(zt+1)-1,nt=Q[K],rt=K+1,_t=Q[rt];if(0>o(nt,dt))rt<Ht&&0>o(_t,nt)?(Q[zt]=_t,Q[rt]=dt,zt=rt):(Q[zt]=nt,Q[K]=dt,zt=K);else if(rt<Ht&&0>o(_t,dt))Q[zt]=_t,Q[rt]=dt,zt=rt;else break t}}return et}function o(Q,et){var dt=Q.sortIndex-et.sortIndex;return dt!==0?dt:Q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var v=[],y=[],A=1,x=null,O=3,G=!1,J=!1,$=!1,W=!1,mt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function ct(Q){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=Q)r(y),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(y)}}function $t(Q){if($=!1,ct(Q),!J)if(i(v)!==null)J=!0,it||(it=!0,j());else{var et=i(y);et!==null&&Ce($t,et.startTime-Q)}}var it=!1,w=-1,S=5,R=-1;function V(){return W?!0:!(s.unstable_now()-R<S)}function C(){if(W=!1,it){var Q=s.unstable_now();R=Q;var et=!0;try{t:{J=!1,$&&($=!1,ut(w),w=-1),G=!0;var dt=O;try{e:{for(ct(Q),x=i(v);x!==null&&!(x.expirationTime>Q&&V());){var zt=x.callback;if(typeof zt=="function"){x.callback=null,O=x.priorityLevel;var Ht=zt(x.expirationTime<=Q);if(Q=s.unstable_now(),typeof Ht=="function"){x.callback=Ht,ct(Q),et=!0;break e}x===i(v)&&r(v),ct(Q)}else r(v);x=i(v)}if(x!==null)et=!0;else{var M=i(y);M!==null&&Ce($t,M.startTime-Q),et=!1}}break t}finally{x=null,O=dt,G=!1}et=void 0}}finally{et?j():it=!1}}}var j;if(typeof pt=="function")j=function(){pt(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ie=N.port2;N.port1.onmessage=C,j=function(){ie.postMessage(null)}}else j=function(){mt(C,0)};function Ce(Q,et){w=mt(function(){Q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var dt=O;O=et;try{return Q()}finally{O=dt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=O;O=Q;try{return et()}finally{O=dt}},s.unstable_scheduleCallback=function(Q,et,dt){var zt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,Q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=dt+Ht,Q={id:A++,callback:et,priorityLevel:Q,startTime:dt,expirationTime:Ht,sortIndex:-1},dt>zt?(Q.sortIndex=dt,e(y,Q),i(v)===null&&Q===i(y)&&($?(ut(w),w=-1):$=!0,Ce($t,dt-zt))):(Q.sortIndex=Ht,e(v,Q),J||G||(J=!0,it||(it=!0,j()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var et=O;return function(){var dt=O;O=et;try{return Q.apply(this,arguments)}finally{O=dt}}}})(kf)),kf}var jy;function xT(){return jy||(jy=1,Bf.exports=ST()),Bf.exports}var qf={exports:{}},Fe={};var Uy;function wT(){if(Uy)return Fe;Uy=1;var s=bd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,A)},Fe.flushSync=function(v){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=A,r.d.f()}},Fe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,x=_(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:x,integrity:O,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=_(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Fe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,x=_(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=_(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,y){return v(y)},Fe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var zy;function RT(){if(zy)return qf.exports;zy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=wT(),qf.exports}var Ly;function CT(){if(Ly)return Kl;Ly=1;var s=xT(),e=bd(),i=RT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case mt:return"Profiler";case W:return"StrictMode";case $t:return"Suspense";case it:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case pt:return t.displayName||"Context";case ut:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Ht=-1;function M(t){return{current:t}}function K(t){0>Ht||(t.current=zt[Ht],zt[Ht]=null,Ht--)}function nt(t,n){Ht++,zt[Ht]=t.current,t.current=n}var rt=M(null),_t=M(null),St=M(null),Mt=M(null);function Ne(t,n){switch(nt(St,n),nt(_t,t),nt(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wp(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(rt),nt(rt,t)}function ae(){K(rt),K(_t),K(St)}function La(t){t.memoizedState!==null&&nt(Mt,t);var n=rt.current,a=ty(n,t.type);n!==a&&(nt(_t,t),nt(rt,a))}function Cs(t){_t.current===t&&(K(rt),K(_t)),Mt.current===t&&(K(Mt),Hl._currentValue=dt)}var Ns,Ds;function Kn(t){if(Ns===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Ds}var Hr=!1;function Ba(t,n){if(!t||Hr)return"";Hr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var k=P}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(P){k=P}t.call(Y.prototype)}}else{try{throw Error()}catch(P){k=P}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),B=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var H=`
`+D[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Hr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function Gr(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Kn("Activity");default:return""}}function Qr(t){try{var n="",a=null;do n+=Gr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,Qi=s.unstable_cancelCallback,zc=s.unstable_shouldYield,Eo=s.unstable_requestPaint,Ze=s.unstable_now,ka=s.unstable_getCurrentPriorityLevel,Fr=s.unstable_ImmediatePriority,Yr=s.unstable_UserBlockingPriority,Fi=s.unstable_NormalPriority,Lc=s.unstable_LowPriority,To=s.unstable_IdlePriority,bo=s.log,Ao=s.unstable_setDisableYieldValue,On=null,ze=null;function vn(t){if(typeof bo=="function"&&Ao(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(On,t)}catch{}}var ce=Math.clz32?Math.clz32:xo,So=Math.log,Vs=Math.LN2;function xo(t){return t>>>=0,t===0?32:31-(So(t)/Vs|0)|0}var Xn=256,qa=262144,pe=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):a||(a=E&~t,a!==0&&(c=Zn(a))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):a||(a=l&~t,a!==0&&(c=Zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-ce(a),Y=1<<H;E[H]=0,D[H]=-1;var k=B[H];if(k!==null)for(B[H]=null,H=0;H<k.length;H++){var P=k[H];P!==null&&(P.lane&=-536870913)}a&=~Y}l!==0&&Ha(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ha(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Xr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ga(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ro(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function jn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Un=Math.random().toString(36).slice(2),ye="__reactFiber$"+Un,Oe="__reactProps$"+Un,Wn="__reactContainer$"+Un,Is="__reactEvents$"+Un,qc="__reactListeners$"+Un,Co="__reactHandles$"+Un,No="__reactResources$"+Un,ti="__reactMarker$"+Un;function Os(t){delete t[ye],delete t[Oe],delete t[Is],delete t[qc],delete t[Co]}function ei(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ly(t);t!==null;){if(a=t[ye])return a;t=ly(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ye]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ni(t){var n=t[No];return n||(n=t[No]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ti]=!0}var Zr=new Set,Jr={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(Jr[t]=n,t=0;t<n.length;t++)Zr.add(n[t])}var $r=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},tl={};function Do(t){return ge.call(tl,t)?!0:ge.call(Wr,t)?!1:$r.test(t)?tl[t]=!0:(Wr[t]=!0,!1)}function Ms(t,n,a){if(Do(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function el(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=el(t,n,""+t[n])}}function Qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fa=/[\n"\\]/g;function We(t){return t.replace(Fa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function js(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?nl(t,g,Me(n)):a!=null?nl(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Vo(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function nl(t,n,a){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ki(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Io(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Oo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function al(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&il(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&il(t,f,n[f])}function Us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(t){return Zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var sl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ri=null;function Ya(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(js(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));js(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qa(l)}break t;case"textarea":Io(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ki(t,!!a.multiple,n,!1)}}}var Ls=!1;function $i(t,n,a){if(Ls)return t(n,a);Ls=!0;try{var l=t(n);return l}finally{if(Ls=!1,(Ji!==null||ri!==null)&&(Ru(),Ji&&(n=Ji,t=ri,ri=Ji=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(bn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Ka=!1}var li=null,rl=null,Xa=null;function ll(){if(Xa)return Xa;var t,n=rl,a=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Xa=c.slice(t,1<l?1-l:void 0)}function Za(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Bn(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:Bn,this.isPropagationStopped=Bn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Le(xi),Wi=x({},xi,{view:0,detail:0}),ol=Le(Wi),ta,Bs,ui,ks=x({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(ta=t.screenX-ui.screenX,Bs=t.screenY-ui.screenY):Bs=ta=0,ui=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:Bs}}),ul=Le(ks),Ja=x({},ks,{dataTransfer:0}),jo=Le(Ja),Uo=x({},Wi,{relatedTarget:0}),$a=Le(Uo),cl=x({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Le(cl),qs=x({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lo=Le(qs),Bo=x({},xi,{data:0}),ci=Le(Bo),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function ea(){return Ho}var Je=x({},Wi,{key:function(t){if(t.key){var n=ko[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Go=Le(Je),Qo=x({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Le(Qo),u=x({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),m=Le(u),p=x({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Le(p),z=x({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(z),tt=x({},xi,{newState:0,oldState:0}),bt=Le(tt),he=[9,13,27,32],kt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var An=bn&&"TextEvent"in window&&!se,hi=bn&&(!kt||se&&8<se&&11>=se),kn=" ",qn=!1;function Wa(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function Qv(t,n){switch(t){case"compositionend":return Ps(n);case"keypress":return n.which!==32?null:(qn=!0,kn);case"textInput":return t=n.data,t===kn&&qn?null:t;default:return null}}function Fv(t,n){if(Hs)return t==="compositionend"||!kt&&Wa(t,n)?(t=ll(),Xa=rl=li=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Yv[t.type]:n==="textarea"}function hm(t,n,a,l){Ji?ri?ri.push(l):ri=[l]:Ji=l,n=Mu(n,"onChange"),0<n.length&&(a=new oi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var hl=null,fl=null;function Kv(t){Yp(t,0)}function Fo(t){var n=un(t);if(Qa(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(bn){var Pc;if(bn){var Hc="oninput"in document;if(!Hc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Hc=typeof mm.oninput=="function"}Pc=Hc}else Pc=!1;dm=Pc&&(!document.documentMode||9<document.documentMode)}function gm(){hl&&(hl.detachEvent("onpropertychange",pm),fl=hl=null)}function pm(t){if(t.propertyName==="value"&&Fo(fl)){var n=[];hm(n,fl,t,Tn(t)),$i(Kv,n)}}function Xv(t,n,a){t==="focusin"?(gm(),hl=n,fl=a,hl.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function Zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(fl)}function Jv(t,n){if(t==="click")return Fo(n)}function $v(t,n){if(t==="input"||t==="change")return Fo(n)}function Wv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:Wv;function dl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var a=ym(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ym(a)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=si(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tE=bn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Qc=null,ml=null,Fc=!1;function Tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||Gs==null||Gs!==si(l)||(l=Gs,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Mu(Qc,"onSelect"),0<l.length&&(n=new oi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Gs)))}function ts(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Qs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},Yc={},bm={};bn&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function es(t){if(Yc[t])return Yc[t];if(!Qs[t])return t;var n=Qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in bm)return Yc[t]=n[a];return t}var Am=es("animationend"),Sm=es("animationiteration"),xm=es("animationstart"),eE=es("transitionrun"),nE=es("transitionstart"),iE=es("transitioncancel"),wm=es("transitionend"),Rm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Pn(t,n){Rm.set(t,n),ii(n,[t])}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Fs=0,Xc=0;function Ko(){for(var t=Fs,n=Xc=Fs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Cm(a,c,f)}}function Xo(t,n,a,l){Sn[Fs++]=t,Sn[Fs++]=n,Sn[Fs++]=a,Sn[Fs++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,a,l){return Xo(t,n,a,l),Zo(t)}function ns(t,n){return Xo(t,null,null,n),Zo(t)}function Cm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Zo(t){if(50<Ul)throw Ul=0,rf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ys={};function aE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new aE(t,n,a,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Nm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=uT(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=fn(31,a,n,c),t.elementType=R,t.lanes=f,t;case $:return is(a.children,c,f,n);case W:g=8,c|=24;break;case mt:return t=fn(12,a,n,c|2),t.elementType=mt,t.lanes=f,t;case $t:return t=fn(13,a,n,c),t.elementType=$t,t.lanes=f,t;case it:return t=fn(19,a,n,c),t.elementType=it,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:g=10;break t;case ut:g=9;break t;case ct:g=11;break t;case w:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function is(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function $c(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Dm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Wc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vm=new WeakMap;function xn(t,n){if(typeof t=="object"&&t!==null){var a=Vm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Qr(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:Qr(n)}}var Ks=[],Xs=0,$o=null,gl=0,wn=[],Rn=0,na=null,fi=1,di="";function Ci(t,n){Ks[Xs++]=gl,Ks[Xs++]=$o,$o=t,gl=n}function Im(t,n,a){wn[Rn++]=fi,wn[Rn++]=di,wn[Rn++]=na,na=t;var l=fi;t=di;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-ce(n)+c|a<<c|l,di=f+t}else fi=1<<f|a<<c|l,di=t}function th(t){t.return!==null&&(Ci(t,1),Im(t,1,0))}function eh(t){for(;t===$o;)$o=Ks[--Xs],Ks[Xs]=null,gl=Ks[--Xs],Ks[Xs]=null;for(;t===na;)na=wn[--Rn],wn[Rn]=null,di=wn[--Rn],wn[Rn]=null,fi=wn[--Rn],wn[Rn]=null}function Om(t,n){wn[Rn++]=fi,wn[Rn++]=di,wn[Rn++]=na,fi=n.id,di=n.overflow,na=t}var Be=null,ee=null,Ot=!1,ia=null,Cn=!1,nh=Error(r(519));function aa(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(xn(n,t)),nh}function Mm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Ct(Ll[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Vo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Jp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||aa(t,!0)}function jm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Zs(t){if(t!==Be)return!1;if(!Ot)return jm(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tf(t.type,t.memoizedProps)),a=!a),a&&ee&&aa(t),jm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=ry(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=ry(t)}else n===27?(n=ee,_a(t.type)?(t=wf,wf=null,ee=t):ee=n):ee=Be?Dn(t.stateNode.nextSibling):null;return!0}function as(){ee=Be=null,Ot=!1}function ih(){var t=ia;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ia=null),t}function pl(t){ia===null?ia=[t]:ia.push(t)}var ah=M(null),ss=null,Ni=null;function sa(t,n,a){nt(ah,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=ah.current,K(ah)}function sh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function rh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),sh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Js(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}c=c.return}t!==null&&rh(n,t,a,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Um(ss,t)}function tu(t,n){return ss===null&&rs(t),Um(t,n)}function Um(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(r(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},rE=s.unstable_scheduleCallback,lE=s.unstable_NormalPriority,Ee={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new sE,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&rE(lE,function(){t.controller.abort()})}var _l=null,oh=0,$s=0,Ws=null;function oE(t,n){if(_l===null){var a=_l=[];oh=0,$s=ff(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return oh++,n.then(zm,zm),n}function zm(){if(--oh===0&&_l!==null){Ws!==null&&(Ws.status="fulfilled");var t=_l;_l=null,$s=0,Ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Lm=Q.S;Q.S=function(t,n){Tp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oE(t,n),Lm!==null&&Lm(t,n)};var ls=M(null);function uh(){var t=ls.current;return t!==null?t:Jt.pooledCache}function eu(t,n){n===null?nt(ls,ls.current):nt(ls,n.pool)}function Bm(){var t=uh();return t===null?null:{parent:Ee._currentValue,pool:t}}var tr=Error(r(460)),ch=Error(r(474)),nu=Error(r(542)),iu={then:function(){}};function km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw us=n,tr}}function os(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(us=a,tr):a}}var us=null;function Pm(){if(us===null)throw Error(r(459));var t=us;return us=null,t}function Hm(t){if(t===tr||t===nu)throw Error(r(483))}var er=null,vl=0;function au(t){var n=vl;return vl+=1,er===null&&(er=[]),qm(er,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gm(t){function n(U,I){if(t){var L=U.deletions;L===null?(U.deletions=[I],U.flags|=16):L.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=Ri(U,I),U.index=0,U.sibling=null,U}function f(U,I,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<I?(U.flags|=67108866,I):L):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,L,F){return I===null||I.tag!==6?(I=$c(L,U.mode,F),I.return=U,I):(I=c(I,L),I.return=U,I)}function D(U,I,L,F){var ht=L.type;return ht===$?H(U,I,L.props.children,F,L.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&os(ht)===I.type)?(I=c(I,L.props),El(I,L),I.return=U,I):(I=Jo(L.type,L.key,L.props,null,U.mode,F),El(I,L),I.return=U,I)}function B(U,I,L,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Wc(L,U.mode,F),I.return=U,I):(I=c(I,L.children||[]),I.return=U,I)}function H(U,I,L,F,ht){return I===null||I.tag!==7?(I=is(L,U.mode,F,ht),I.return=U,I):(I=c(I,L),I.return=U,I)}function Y(U,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=$c(""+I,U.mode,L),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return L=Jo(I.type,I.key,I.props,null,U.mode,L),El(L,I),L.return=U,L;case J:return I=Wc(I,U.mode,L),I.return=U,I;case S:return I=os(I),Y(U,I,L)}if(Ce(I)||j(I))return I=is(I,U.mode,L,null),I.return=U,I;if(typeof I.then=="function")return Y(U,au(I),L);if(I.$$typeof===pt)return Y(U,tu(U,I),L);su(U,I)}return null}function k(U,I,L,F){var ht=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(U,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ht?D(U,I,L,F):null;case J:return L.key===ht?B(U,I,L,F):null;case S:return L=os(L),k(U,I,L,F)}if(Ce(L)||j(L))return ht!==null?null:H(U,I,L,F,null);if(typeof L.then=="function")return k(U,I,au(L),F);if(L.$$typeof===pt)return k(U,I,tu(U,L),F);su(U,L)}return null}function P(U,I,L,F,ht){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,E(I,U,""+F,ht);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?L:F.key)||null,D(I,U,F,ht);case J:return U=U.get(F.key===null?L:F.key)||null,B(I,U,F,ht);case S:return F=os(F),P(U,I,L,F,ht)}if(Ce(F)||j(F))return U=U.get(L)||null,H(I,U,F,ht,null);if(typeof F.then=="function")return P(U,I,L,au(F),ht);if(F.$$typeof===pt)return P(U,I,L,tu(I,F),ht);su(I,F)}return null}function lt(U,I,L,F){for(var ht=null,Lt=null,ot=I,xt=I=0,Dt=null;ot!==null&&xt<L.length;xt++){ot.index>xt?(Dt=ot,ot=null):Dt=ot.sibling;var Bt=k(U,ot,L[xt],F);if(Bt===null){ot===null&&(ot=Dt);break}t&&ot&&Bt.alternate===null&&n(U,ot),I=f(Bt,I,xt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt,ot=Dt}if(xt===L.length)return a(U,ot),Ot&&Ci(U,xt),ht;if(ot===null){for(;xt<L.length;xt++)ot=Y(U,L[xt],F),ot!==null&&(I=f(ot,I,xt),Lt===null?ht=ot:Lt.sibling=ot,Lt=ot);return Ot&&Ci(U,xt),ht}for(ot=l(ot);xt<L.length;xt++)Dt=P(ot,U,xt,L[xt],F),Dt!==null&&(t&&Dt.alternate!==null&&ot.delete(Dt.key===null?xt:Dt.key),I=f(Dt,I,xt),Lt===null?ht=Dt:Lt.sibling=Dt,Lt=Dt);return t&&ot.forEach(function(Aa){return n(U,Aa)}),Ot&&Ci(U,xt),ht}function gt(U,I,L,F){if(L==null)throw Error(r(151));for(var ht=null,Lt=null,ot=I,xt=I=0,Dt=null,Bt=L.next();ot!==null&&!Bt.done;xt++,Bt=L.next()){ot.index>xt?(Dt=ot,ot=null):Dt=ot.sibling;var Aa=k(U,ot,Bt.value,F);if(Aa===null){ot===null&&(ot=Dt);break}t&&ot&&Aa.alternate===null&&n(U,ot),I=f(Aa,I,xt),Lt===null?ht=Aa:Lt.sibling=Aa,Lt=Aa,ot=Dt}if(Bt.done)return a(U,ot),Ot&&Ci(U,xt),ht;if(ot===null){for(;!Bt.done;xt++,Bt=L.next())Bt=Y(U,Bt.value,F),Bt!==null&&(I=f(Bt,I,xt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt);return Ot&&Ci(U,xt),ht}for(ot=l(ot);!Bt.done;xt++,Bt=L.next())Bt=P(ot,U,xt,Bt.value,F),Bt!==null&&(t&&Bt.alternate!==null&&ot.delete(Bt.key===null?xt:Bt.key),I=f(Bt,I,xt),Lt===null?ht=Bt:Lt.sibling=Bt,Lt=Bt);return t&&ot.forEach(function(ET){return n(U,ET)}),Ot&&Ci(U,xt),ht}function Zt(U,I,L,F){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var ht=L.key;I!==null;){if(I.key===ht){if(ht=L.type,ht===$){if(I.tag===7){a(U,I.sibling),F=c(I,L.props.children),F.return=U,U=F;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&os(ht)===I.type){a(U,I.sibling),F=c(I,L.props),El(F,L),F.return=U,U=F;break t}a(U,I);break}else n(U,I);I=I.sibling}L.type===$?(F=is(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=Jo(L.type,L.key,L.props,null,U.mode,F),El(F,L),F.return=U,U=F)}return g(U);case J:t:{for(ht=L.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(U,I.sibling),F=c(I,L.children||[]),F.return=U,U=F;break t}else{a(U,I);break}else n(U,I);I=I.sibling}F=Wc(L,U.mode,F),F.return=U,U=F}return g(U);case S:return L=os(L),Zt(U,I,L,F)}if(Ce(L))return lt(U,I,L,F);if(j(L)){if(ht=j(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),gt(U,I,L,F)}if(typeof L.then=="function")return Zt(U,I,au(L),F);if(L.$$typeof===pt)return Zt(U,I,tu(U,L),F);su(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(U,I.sibling),F=c(I,L),F.return=U,U=F):(a(U,I),F=$c(L,U.mode,F),F.return=U,U=F),g(U)):a(U,I)}return function(U,I,L,F){try{vl=0;var ht=Zt(U,I,L,F);return er=null,ht}catch(ot){if(ot===tr||ot===nu)throw ot;var Lt=fn(29,ot,null,U.mode);return Lt.lanes=F,Lt.return=U,Lt}finally{}}}var cs=Gm(!0),Qm=Gm(!1),ra=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Zo(t),Cm(t,null,a),n}return Xo(t,l,n,a),Zo(t)}function Tl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kr(t,a)}}function dh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var mh=!1;function bl(){if(mh){var t=Ws;if(t!==null)throw t}}function Al(t,n,a,l){mh=!1;var c=t.updateQueue;ra=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,B=D.next;D.next=null,g===null?f=B:g.next=B,g=D;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=D))}if(f!==null){var Y=c.baseState;g=0,H=B=D=null,E=f;do{var k=E.lane&-536870913,P=k!==E.lane;if(P?(Nt&k)===k:(l&k)===k){k!==0&&k===$s&&(mh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,gt=E;k=n;var Zt=a;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Y=lt.call(Zt,Y,k);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,k=typeof lt=="function"?lt.call(Zt,Y,k):lt,k==null)break t;Y=x({},Y,k);break t;case 2:ra=!0}}k=E.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[k]:P.push(k))}else P={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,D=Y):H=H.next=P,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(D=Y),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),da|=g,t.lanes=g,t.memoizedState=Y}}function Fm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ym(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fm(a[t],n)}var nr=M(null),ru=M(0);function Km(t,n){t=Bi,nt(ru,t),nt(nr,n),Bi=t|n.baseLanes}function gh(){nt(ru,Bi),nt(nr,nr.current)}function ph(){Bi=ru.current,K(nr),K(ru)}var dn=M(null),Nn=null;function ua(t){var n=t.alternate;nt(fe,fe.current&1),nt(dn,t),Nn===null&&(n===null||nr.current!==null||n.memoizedState!==null)&&(Nn=t)}function yh(t){nt(fe,fe.current),nt(dn,t),Nn===null&&(Nn=t)}function Xm(t){t.tag===22?(nt(fe,fe.current),nt(dn,t),Nn===null&&(Nn=t)):ca()}function ca(){nt(fe,fe.current),nt(dn,dn.current)}function mn(t){K(dn),Nn===t&&(Nn=null),K(fe)}var fe=M(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sf(a)||xf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,At=null,Kt=null,Te=null,ou=!1,ir=!1,hs=!1,uu=0,Sl=0,ar=null,cE=0;function oe(){throw Error(r(321))}function _h(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function vh(t,n,a,l,c,f){return Vi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Ig:Mh,hs=!1,f=a(l,c),hs=!1,ir&&(f=Jm(n,a,l,c)),Zm(t),f}function Zm(t){Q.H=Rl;var n=Kt!==null&&Kt.next!==null;if(Vi=0,Te=Kt=At=null,ou=!1,Sl=0,ar=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&Wo(t)&&(be=!0))}function Jm(t,n,a,l){At=t;var c=0;do{if(ir&&(ar=null),Sl=0,ir=!1,25<=c)throw Error(r(301));if(c+=1,Te=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Og,f=n(a,l)}while(ir);return f}function hE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(At.flags|=1024),n}function Eh(){var t=uu!==0;return uu=0,t}function Th(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bh(t){if(ou){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ou=!1}Vi=0,Te=Kt=At=null,ir=!1,Sl=uu=0,ar=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Kt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Kt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?At.memoizedState=Te=t:Te=Te.next=t}return Te}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=Sl;return Sl+=1,ar===null&&(ar=[]),t=qm(ar,t,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ig:Mh),t}function hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===pt)return ke(t)}throw Error(r(438,String(t)))}function Ah(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=cu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function fu(t){var n=de();return Sh(n,Kt,t)}function Sh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,B=n,H=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Nt&Y)===Y:(Vi&Y)===Y){var k=B.revertLane;if(k===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===$s&&(H=!0);else if((Vi&k)===k){B=B.next,k===$s&&(H=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=Y,g=f):D=D.next=Y,At.lanes|=k,da|=k;Y=B.action,hs&&a(f,Y),f=B.hasEagerState?B.eagerState:a(f,Y)}else k={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=k,g=f):D=D.next=k,At.lanes|=Y,da|=Y;B=B.next}while(B!==null&&B!==n);if(D===null?g=f:D.next=E,!hn(f,t.memoizedState)&&(be=!0,H&&(a=Ws,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xh(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function $m(t,n,a){var l=At,c=de(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,Ch(eg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,sr(9,{destroy:void 0},tg.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));f||(Vi&127)!==0||Wm(l,n,a)}return a}function Wm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=cu(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function tg(t,n,a,l){n.value=a,n.getSnapshot=l,ng(n)&&ig(t)}function eg(t,n,a){return a(function(){ng(n)&&ig(t)})}function ng(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function ig(t){var n=ns(t,2);n!==null&&rn(n,t,2)}function wh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),hs){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function ag(t,n,a,l){return t.baseState=a,Sh(t,Kt,typeof l=="function"?l:Ii)}function fE(t,n,a,l,c){if(gu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,sg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function sg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=a(c,l),D=Q.S;D!==null&&D(g,E),rg(t,n,E)}catch(B){Rh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=a(c,l),rg(t,n,f)}catch(B){Rh(t,n,B)}}function rg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lg(t,n,l)},function(l){return Rh(t,n,l)}):lg(t,n,a)}function lg(t,n,a){n.status="fulfilled",n.value=a,og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,sg(t,a)))}function Rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,og(n),n=n.next;while(n!==l)}t.action=null}function og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ug(t,n){return n}function cg(t,n){if(Ot){var a=Jt.formState;if(a!==null){t:{var l=At;if(Ot){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},a.queue=l,a=Ng.bind(null,At,l),l.dispatch=a,l=wh(!1),f=Oh.bind(null,At,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=fE.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function hg(t){var n=de();return fg(n,Kt,t)}function fg(t,n,a){if(n=Sh(t,n,ug)[0],t=fu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(g){throw g===tr?nu:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,sr(9,{destroy:void 0},dE.bind(null,c,a),null)),[l,f,t]}function dE(t,n){t.action=n}function dg(t){var n=de(),a=Kt;if(a!==null)return fg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function sr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=cu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function mg(){return de().memoizedState}function du(t,n,a,l){var c=$e();At.flags|=t,c.memoizedState=sr(1|n,{destroy:void 0},a,l===void 0?null:l)}function mu(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&_h(l,Kt.memoizedState.deps)?c.memoizedState=sr(n,f,a,l):(At.flags|=t,c.memoizedState=sr(1|n,f,a,l))}function gg(t,n){du(8390656,8,t,n)}function Ch(t,n){mu(2048,8,t,n)}function mE(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=cu(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function pg(t){var n=de().memoizedState;return mE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function yg(t,n){return mu(4,2,t,n)}function _g(t,n){return mu(4,4,t,n)}function vg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Eg(t,n,a){a=a!=null?a.concat([t]):null,mu(4,4,vg.bind(null,n,t),a)}function Nh(){}function Tg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function bg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),hs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Dh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ap(),At.lanes|=t,da|=t,a)}function Ag(t,n,a,l){return hn(a,n)?a:nr.current!==null?(t=Dh(t,a,l),hn(t,n)||(be=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Nt&261930)===0?(be=!0,t.memoizedState=a):(t=Ap(),At.lanes|=t,da|=t,n)}function Sg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Oh(t,!1,n,a);try{var D=c(),B=Q.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=uE(D,l);wl(t,n,H,yn(t))}else wl(t,n,l,yn(t))}catch(Y){wl(t,n,{then:function(){},status:"rejected",reason:Y},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function gE(){}function Vh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=xg(t).queue;Sg(t,c,n,dt,a===null?gE:function(){return wg(t),a(l)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},yn())}function Ih(){return ke(Hl)}function Rg(){return de().memoizedState}function Cg(){return de().memoizedState}function pE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=la(a);var l=oa(n,t,a);l!==null&&(rn(l,n,a),Tl(l,n,a)),n={cache:lh()},t.payload=n;return}n=n.return}}function yE(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gu(t)?Dg(n,a):(a=Zc(t,n,a,l),a!==null&&(rn(a,t,l),Vg(a,n,l)))}function Ng(t,n,a){var l=yn();wl(t,n,a,l)}function wl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(t))Dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Xo(t,n,c,0),Jt===null&&Ko(),!1}catch{}finally{}if(a=Zc(t,n,c,l),a!==null)return rn(a,t,l),Vg(a,n,l),!0}return!1}function Oh(t,n,a,l){if(l={lane:2,revertLane:ff(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(n)throw Error(r(479))}else n=Zc(t,a,l,2),n!==null&&rn(n,t,2)}function gu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Dg(t,n){ir=ou=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Vg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kr(t,a)}}var Rl={readContext:ke,use:hu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Rl.useEffectEvent=oe;var Ig={readContext:ke,use:hu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:gg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,du(4194308,4,vg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return du(4194308,4,t,n)},useInsertionEffect:function(t,n){du(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(hs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(hs){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,a=Ng.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(t,n){var a=$e();return Dh(a,t,n)},useTransition:function(){var t=wh(!1);return t=Sg.bind(null,At,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=$e();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Nt&127)!==0||Wm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,gg(eg.bind(null,l,f,t),[t]),l.flags|=2048,sr(9,{destroy:void 0},tg.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Ot){var a=di,l=fi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=uu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=cE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:cg,useActionState:cg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return $e().memoizedState=pE.bind(null,At)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mh={readContext:ke,use:hu,useCallback:Tg,useContext:ke,useEffect:Ch,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:fu,useRef:mg,useState:function(){return fu(Ii)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=de();return Ag(a,Kt.memoizedState,t,n)},useTransition:function(){var t=fu(Ii)[0],n=de().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Ih,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var a=de();return ag(a,Kt,t,n)},useMemoCache:Ah,useCacheRefresh:Cg};Mh.useEffectEvent=pg;var Og={readContext:ke,use:hu,useCallback:Tg,useContext:ke,useEffect:Ch,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:xh,useRef:mg,useState:function(){return xh(Ii)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=de();return Kt===null?Dh(a,t,n):Ag(a,Kt.memoizedState,t,n)},useTransition:function(){var t=xh(Ii)[0],n=de().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Ih,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var a=de();return Kt!==null?ag(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Cg};Og.useEffectEvent=pg;function jh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(rn(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(rn(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=oa(t,l,a),n!==null&&(rn(n,t,a),Tl(n,t,a))}};function Mg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(c,f):!0}function jg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function fs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ug(t){Yo(t)}function zg(t){console.error(t)}function Lg(t){Yo(t)}function pu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zh(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,n)},a}function kg(t){return t=la(t),t.tag=3,t}function qg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Bg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Bg(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _E(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Cu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return a.flags|=65536,l===iu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),uf(t,l,c)),!1}throw Error(r(435,a.tag))}return uf(t,l,c),Cu(),!1}if(Ot)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==nh&&(t=Error(r(422),{cause:l}),pl(xn(t,a)))):(l!==nh&&(n=Error(r(423),{cause:l}),pl(xn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=xn(l,a),c=zh(t.stateNode,l,c),dh(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=xn(f,a),jl===null?jl=[f]:jl.push(f),ue!==4&&(ue=2),n===null)return!0;l=xn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=zh(a.stateNode,l,t),dh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=kg(c),qg(c,t,a,l),dh(a,c),!1}a=a.return}while(a!==null);return!1}var Lh=Error(r(461)),be=!1;function qe(t,n,a,l){n.child=t===null?Qm(n,null,a,l):cs(n,t.child,a,l)}function Pg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rs(n),l=vh(t,n,a,g,f,c),E=Eh(),t!==null&&!be?(Th(t,n,c),Oi(t,n,c)):(Ot&&E&&th(n),n.flags|=1,qe(t,n,l,c),n.child)}function Hg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Gg(t,n,f,l,c)):(t=Jo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Fh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ri(f,l),t.ref=n.ref,t.return=n,n.child=t}function Gg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Fh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Bh(t,n,a,l,c)}function Qg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Fg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(n,f!==null?f.cachePool:null),f!==null?Km(n,f):gh(),Xm(n);else return l=n.lanes=536870912,Fg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(eu(n,f.cachePool),Km(n,f),ca(),n.memoizedState=null):(t!==null&&eu(n,null),gh(),ca());return qe(t,n,c,a),n.child}function Cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(t,n,a,l,c){var f=uh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&eu(n,null),gh(),Xm(n),t!==null&&Js(t,n,l,!0),n.childLanes=c,null}function yu(t,n){return n=vu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yg(t,n,a){return cs(n,t.child,null,a),t=yu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function vE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=yu(n,l),n.lanes=536870912,Cl(null,t);if(yh(n),(t=ee)?(t=sy(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Dm(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw aa(n);return n.lanes=536870912,null}return yu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(yh(n),c)if(n.flags&256)n.flags&=-257,n=Yg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Js(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=Jt,l!==null&&(g=Xr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ns(t,g),rn(l,t,g),Lh;Cu(),n=Yg(t,n,a)}else t=f.treeContext,ee=Dn(g.nextSibling),Be=n,Ot=!0,ia=null,Cn=!1,t!==null&&Om(n,t),n=yu(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function _u(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bh(t,n,a,l,c){return rs(n),a=vh(t,n,a,l,void 0,c),l=Eh(),t!==null&&!be?(Th(t,n,c),Oi(t,n,c)):(Ot&&l&&th(n),n.flags|=1,qe(t,n,a,c),n.child)}function Kg(t,n,a,l,c,f){return rs(n),n.updateQueue=null,a=Jm(n,l,a,c),Zm(t),l=Eh(),t!==null&&!be?(Th(t,n,f),Oi(t,n,f)):(Ot&&l&&th(n),n.flags|=1,qe(t,n,a,f),n.child)}function Xg(t,n,a,l,c){if(rs(n),n.stateNode===null){var f=Ys,g=a.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?ke(g):Ys,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(jh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uh.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=fs(a,E);f.props=D;var B=f.context,H=a.contextType;g=Ys,typeof H=="object"&&H!==null&&(g=ke(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&jg(n,f,l,g),ra=!1;var k=n.memoizedState;f.state=k,Al(n,l,f,c),bl(),B=n.memoizedState,E||k!==B||ra?(typeof Y=="function"&&(jh(n,a,Y,l),B=n.memoizedState),(D=ra||Mg(n,a,D,l,k,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),g=n.memoizedProps,H=fs(a,g),f.props=H,Y=n.pendingProps,k=f.context,B=a.contextType,D=Ys,typeof B=="object"&&B!==null&&(D=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||k!==D)&&jg(n,f,l,D),ra=!1,k=n.memoizedState,f.state=k,Al(n,l,f,c),bl();var P=n.memoizedState;g!==Y||k!==P||ra||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof E=="function"&&(jh(n,a,E,l),P=n.memoizedState),(H=ra||Mg(n,a,H,l,k,P,D)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=D,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,_u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=cs(n,t.child,null,c),n.child=cs(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Zg(t,n,a,l){return as(),n.flags|=256,qe(t,n,a,l),n.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:Bm()}}function Ph(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ua(n):ca(),(t=ee)?(t=sy(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Dm(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw aa(n);return xf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ca(),c=n.mode,E=vu({mode:"hidden",children:E},c),l=is(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qh(a),l.childLanes=Ph(t,g,a),n.memoizedState=kh,Cl(null,l)):(ua(n),Hh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(ua(n),n.flags&=-257,n=Gh(t,n,a)):n.memoizedState!==null?(ca(),n.child=t.child,n.flags|=128,n=null):(ca(),E=l.fallback,c=n.mode,l=vu({mode:"visible",children:l.children},c),E=is(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,cs(n,t.child,null,a),l=n.child,l.memoizedState=qh(a),l.childLanes=Ph(t,g,a),n.memoizedState=kh,n=Cl(null,l));else if(ua(n),xf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,pl({value:l,source:null,stack:null}),n=Gh(t,n,a)}else if(be||Js(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=Jt,g!==null&&(l=Xr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ns(t,l),rn(g,t,l),Lh;Sf(E)||Cu(),n=Gh(t,n,a)}else Sf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ee=Dn(E.nextSibling),Be=n,Ot=!0,ia=null,Cn=!1,t!==null&&Om(n,t),n=Hh(n,l.children),n.flags|=4096);return n}return c?(ca(),E=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=Ri(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=Ri(B,E):(E=is(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Cl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=qh(a):(c=E.cachePool,c!==null?(D=Ee._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Bm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Ph(t,g,a),n.memoizedState=kh,Cl(t.child,l)):(ua(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Hh(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Gh(t,n,a){return cs(n,t.child,null,a),t=Hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,a)}function Qh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Wg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(t,n,l,a),l=Ot?gl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,a,n);else if(t.tag===19)$g(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&lu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Qh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Qh(n,!0,a,null,f,l);break;case"together":Qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Js(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function EE(t,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),sa(n,Ee,t.memoizedState.cache),as();break;case 27:case 5:La(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ua(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Jg(t,n,a):(ua(n),t=Oi(t,n,a),t!==null?t.sibling:null);ua(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Js(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Wg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Qg(t,n,a,n.pendingProps);case 24:sa(n,Ee,t.memoizedState.cache)}return Oi(t,n,a)}function tp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Fh(t,a)&&(n.flags&128)===0)return be=!1,EE(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&Im(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=os(n.elementType),n.type=t,typeof t=="function")Jc(t)?(l=fs(t,l),n.tag=1,n=Xg(null,n,t,l,a)):(n.tag=0,n=Bh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===ct){n.tag=11,n=Pg(null,n,t,l,a);break t}else if(c===w){n.tag=14,n=Hg(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return Bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=fs(l,n.pendingProps),Xg(t,n,l,c,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),Al(n,l,null,a);var g=n.memoizedState;if(l=g.cache,sa(n,Ee,l),l!==f.cache&&rh(n,[Ee],a,!0),bl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(t,n,l,a);break t}else if(l!==c){c=xn(Error(r(424)),n),pl(c),n=Zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Dn(t.firstChild),Be=n,Ot=!0,ia=null,Cn=!0,a=Qm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(as(),l===c){n=Oi(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return _u(t,n),t===null?(a=hy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=ju(St.current).createElement(a),l[ye]=n,l[Oe]=t,Pe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&Ot&&(l=n.stateNode=oy(n.type,n.pendingProps,St.current),Be=n,Cn=!0,c=ee,_a(n.type)?(wf=c,ee=Dn(l.firstChild)):ee=c),qe(t,n,n.pendingProps.children,a),_u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ee)&&(l=ZE(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Be=n,ee=Dn(l.firstChild),Cn=!1,c=!0):c=!1),c||aa(n)),La(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:g!==null&&Tf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,hE,null,null,a),Hl._currentValue=c),_u(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ee)&&(a=JE(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,Be=n,ee=null,t=!0):t=!1),t||aa(n)),null;case 13:return Jg(t,n,a);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=cs(n,null,l,a):qe(t,n,l,a),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=ke(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Hg(t,n,n.type,n.pendingProps,a);case 15:return Gg(t,n,n.type,n.pendingProps,a);case 19:return Wg(t,n,a);case 31:return vE(t,n,a);case 22:return Qg(t,n,a,n.pendingProps);case 24:return rs(n),l=ke(Ee),t===null?(c=uh(),c===null&&(c=Jt,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},hh(n),sa(n,Ee,c)):((t.lanes&a)!==0&&(fh(t,n),Al(n,null,null,a),bl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ee,l)):(l=f.cache,sa(n,Ee,l),l!==c.cache&&rh(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(t){t.flags|=4}function Yh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Rp())t.flags|=8192;else throw us=iu,ch}else t.flags&=-16777217}function ep(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!py(n))if(Rp())t.flags|=8192;else throw us=iu,ch}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wo():536870912,t.lanes|=n,ur|=n)}function Nl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function TE(t,n,a){var l=n.pendingProps;switch(eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Mi(n),f!==null?(ne(n),ep(n,f)):(ne(n),Yh(n,c,null,l,a))):f?f!==t.memoizedState?(Mi(n),ne(n),ep(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),ne(n),Yh(n,c,t,l,a)),null;case 27:if(Cs(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=rt.current,Zs(n)?Mm(n):(t=oy(c,l,a),n.stateNode=t,Mi(n))}return ne(n),null;case 5:if(Cs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=rt.current,Zs(n))Mm(n);else{var g=ju(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return ne(n),Yh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=St.current,Zs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jp(t.nodeValue,a)),t||aa(n,!0)}else t=ju(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Zs(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&pf(n.stateNode.containerInfo),ne(n),null;case 10:return Di(n.type),ne(n),null;case 19:if(K(fe),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Nl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lu(t),f!==null){for(n.flags|=128,Nl(l,!1),t=f.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Nm(a,t),a=a.sibling;return nt(fe,fe.current&1|2),Ot&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>xu&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304)}else{if(!c)if(t=lu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ne(n),null}else 2*Ze()-l.renderingStartTime>xu&&a!==536870912&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,nt(fe,c?a&1|2:a&1),Ot&&Ci(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function bE(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(fe),null;case 4:return ae(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),ph(),t!==null&&K(ls),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ee),null;case 25:return null;default:return null}}function np(t,n){switch(eh(n),n.tag){case 3:Di(Ee),ae();break;case 26:case 27:case 5:Cs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(fe);break;case 10:Di(n.type);break;case 22:case 23:mn(n),ph(),t!==null&&K(ls);break;case 24:Di(Ee)}}function Dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function ha(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=a,B=E;try{B()}catch(H){Ft(c,D,H)}}}l=l.next}while(l!==f)}}catch(H){Ft(n,n.return,H)}}function ip(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ym(n,a)}catch(l){Ft(t,t.return,l)}}}function ap(t,n,a){a.props=fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Ft(t,n,c)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function sp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function Kh(t,n,a){try{var l=t.stateNode;GE(l,t.type,a,n),l[Oe]=n}catch(c){Ft(t,t.return,c)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,a),t=t.sibling;t!==null;)Zh(t,n,a),t=t.sibling}function Tu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tu(t,n,a),t=t.sibling;t!==null;)Tu(t,n,a),t=t.sibling}function lp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ye]=t,n[Oe]=a}catch(f){Ft(t,t.return,f)}}var ji=!1,Ae=!1,Jh=!1,op=typeof WeakSet=="function"?WeakSet:Set,je=null;function AE(t,n){if(t=t.containerInfo,vf=Pu,t=Em(t),Gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,D=-1,B=0,H=0,Y=t,k=null;e:for(;;){for(var P;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(D=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(P=Y.firstChild)!==null;)k=Y,Y=P;for(;;){if(Y===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++H===l&&(D=g),(P=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=P}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:t,selectionRange:a},Pu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var lt=fs(a.type,c);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Af(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function up(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&Dl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var c=fs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}l&64&&ip(a),l&512&&Vl(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ym(t,n)}catch(g){Ft(a,a.return,g)}}break;case 27:n===null&&l&4&&lp(a);case 26:case 5:zi(t,a),n===null&&l&4&&sp(a),l&512&&Vl(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&fp(t,a);break;case 13:zi(t,a),l&4&&dp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=IE.bind(null,a),$E(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||Ae,c=ji;var f=Ae;ji=l,(Ae=n)&&!f?Li(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),ji=c,Ae=f}break;case 30:break;default:zi(t,a)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Os(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Ui(t,n,a){for(a=a.child;a!==null;)hp(t,n,a),a=a.sibling}function hp(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||mi(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||mi(a,n);var l=re,c=en;_a(a.type)&&(re=a.stateNode,en=!1),Ui(t,n,a),kl(a.stateNode),re=l,en=c;break;case 5:Ae||mi(a,n);case 6:if(l=re,c=en,re=null,Ui(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Ft(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Ft(a,n,f)}break;case 18:re!==null&&(en?(t=re,iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yr(t)):iy(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Ui(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:ha(2,a,n),Ae||ha(4,a,n),Ui(t,n,a);break;case 1:Ae||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ap(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Ui(t,n,a),Ae=l;break;default:Ui(t,n,a)}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yr(t)}catch(a){Ft(n,n.return,a)}}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(a){Ft(n,n.return,a)}}function SE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new op),n;default:throw Error(r(435,t.tag))}}function bu(t,n){var a=SE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=OE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(_a(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(r(160));hp(f,g,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var Hn=null;function mp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ha(3,t,t.return),Dl(3,t),ha(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ae||a===null||mi(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(nn(n,t),an(t),l&512&&(Ae||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=my("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=my("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else gy(c,t.type,t.stateNode);else t.stateNode=dy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?gy(c,t.type,t.stateNode):dy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ae||a===null||mi(a,a.return)),a!==null&&l&4&&Kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ae||a===null||mi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(lt){Ft(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(lt){Ft(t,t.return,lt)}}break;case 3:if(Lu=null,c=Hn,Hn=Uu(n.containerInfo),nn(n,t),Hn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(n.containerInfo)}catch(lt){Ft(t,t.return,lt)}Jh&&(Jh=!1,gp(t));break;case 4:l=Hn,Hn=Uu(t.stateNode.containerInfo),nn(n,t),an(t),Hn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Su=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ji,H=Ae;if(ji=B||c,Ae=H||D,nn(n,t),Ae=H,ji=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||ji||Ae||ds(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var Y=D.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(lt){Ft(D,D.return,lt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(lt){Ft(D,D.return,lt)}}}else if(n.tag===18){if(a===null){D=n;try{var P=D.stateNode;c?ay(P,!0):ay(D.stateNode,!1)}catch(lt){Ft(D,D.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(rp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Xh(t);Tu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Xh(t);Tu(t,E,g);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Xh(t);Zh(t,B,D);break;default:throw Error(r(161))}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),ds(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ap(n,n.return,a),ds(n);break;case 27:kl(n.stateNode);case 26:case 5:mi(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}t=t.sibling}}function Li(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Li(c,f,a),Dl(4,f);break;case 1:if(Li(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Fm(D[c],E)}catch(B){Ft(l,l.return,B)}}a&&g&64&&ip(f),Vl(f,f.return);break;case 27:lp(f);case 26:case 5:Li(c,f,a),a&&l===null&&g&4&&sp(f),Vl(f,f.return);break;case 12:Li(c,f,a);break;case 31:Li(c,f,a),a&&g&4&&fp(c,f);break;case 13:Li(c,f,a),a&&g&4&&dp(c,f);break;case 22:f.memoizedState===null&&Li(c,f,a),Vl(f,f.return);break;case 30:break;default:Li(c,f,a)}n=n.sibling}}function $h(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function Wh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,a,l),n=n.sibling}function pp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&Dl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ft(n,n.return,D)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Il(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,rr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$h(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Wh(n.alternate,n);break;default:Gn(t,n,a,l)}}function rr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,D=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:rr(f,g,E,D,c),Dl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?rr(f,g,E,D,c):Il(f,g):(H._visibility|=2,rr(f,g,E,D,c)),c&&B&2048&&$h(g.alternate,g);break;case 24:rr(f,g,E,D,c),c&&B&2048&&Wh(g.alternate,g);break;default:rr(f,g,E,D,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Il(a,l),c&2048&&$h(l.alternate,l);break;case 24:Il(a,l),c&2048&&Wh(l.alternate,l);break;default:Il(a,l)}n=n.sibling}}var Ol=8192;function lr(t,n,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)yp(t,n,a),t=t.sibling}function yp(t,n,a){switch(t.tag){case 26:lr(t,n,a),t.flags&Ol&&t.memoizedState!==null&&cT(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:lr(t,n,a);break;case 3:case 4:var l=Hn;Hn=Uu(t.stateNode.containerInfo),lr(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,lr(t,n,a),Ol=l):lr(t,n,a));break;default:lr(t,n,a)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&ha(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Au(t)):Ml(t);break;default:Ml(t)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ha(8,n,n.return),Au(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Au(n));break;default:Au(n)}t=t.sibling}}function Ep(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(cp(l),l===a){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var xE={getCacheForType:function(t){var n=ke(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(Ee).controller.signal}},wE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Rt=null,Nt=0,Qt=0,gn=null,fa=!1,or=!1,tf=!1,Bi=0,ue=0,da=0,ms=0,ef=0,pn=0,ur=0,jl=null,sn=null,nf=!1,Su=0,Tp=0,xu=1/0,wu=null,ma=null,Ve=0,ga=null,cr=null,ki=0,af=0,sf=null,bp=null,Ul=0,rf=null;function yn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:Q.T!==null?ff():Ro()}function Ap(){if(pn===0)if((Nt&536870912)===0||Ot){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(hr(t,0),pa(t,Nt,pn,!1)),Pa(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(ms|=a),ue===4&&pa(t,Nt,pn,!1)),gi(t))}function Sp(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?NE(t,n):of(t,n,!0),f=l;do{if(c===0){or&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!RE(a)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=jl;var D=E.current.memoizedState.isDehydrated;if(D&&(hr(E,g).flags|=256),g=of(E,g,!1),g!==2){if(tf&&!D){E.errorRecoveryDisabledLanes|=f,ms|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){hr(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,pn,!fa);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Su+300-Ze(),10<c)){if(pa(l,n,pn,!fa),Jn(l,0,!0)!==0)break t;ki=n,l.timeoutHandle=ey(xp.bind(null,l,a,sn,wu,nf,n,pn,ms,ur,fa,f,"Throttled",-0,0),c);break t}xp(l,a,sn,wu,nf,n,pn,ms,ur,fa,f,null,-0,0)}}break}while(!0);gi(t)}function xp(t,n,a,l,c,f,g,E,D,B,H,Y,k,P){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},yp(n,f,Y);var lt=(f&62914560)===f?Su-Ze():(f&4194048)===f?Tp-Ze():0;if(lt=hT(Y,lt),lt!==null){ki=f,t.cancelPendingCommit=lt(Op.bind(null,t,n,f,a,l,c,g,E,D,H,Y,null,k,P)),pa(t,f,g,!B);return}}Op(t,n,f,a,l,c,g,E,D)}function RE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~ef,n&=~ms,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ha(t,a,n)}function Ru(){return(qt&6)===0?(zl(0),!1):!0}function lf(){if(Rt!==null){if(Qt===0)var t=Rt.return;else t=Rt,Ni=ss=null,bh(t),er=null,vl=0,t=Rt;for(;t!==null;)np(t.alternate,t),t=t.return;Rt=null}}function hr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ki=0,lf(),Jt=t,Rt=a=Ri(t.current,null),Nt=n,Qt=0,gn=null,fa=!1,or=Mn(t,n),tf=!1,ur=pn=ef=ms=da=ue=0,sn=jl=null,nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Ko(),a}function wp(t,n){At=null,Q.H=Rl,n===tr||n===nu?(n=Pm(),Qt=3):n===ch?(n=Pm(),Qt=4):Qt=n===Lh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ue=1,pu(t,xn(n,t.current)))}function Rp(){var t=dn.current;return t===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Nn:!1}function Cp(){var t=Q.H;return Q.H=Rl,t===null?Rl:t}function Np(){var t=Q.A;return Q.A=xE,t}function Cu(){ue=4,fa||(Nt&4194048)!==Nt&&dn.current!==null||(or=!0),(da&134217727)===0&&(ms&134217727)===0||Jt===null||pa(Jt,Nt,pn,!1)}function of(t,n,a){var l=qt;qt|=2;var c=Cp(),f=Np();(Jt!==t||Nt!==n)&&(wu=null,hr(t,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,D=gn;switch(Qt){case 8:lf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Qt;if(Qt=0,gn=null,fr(t,E,D,B),a&&or){g=0;break t}break;default:B=Qt,Qt=0,gn=null,fr(t,E,D,B)}}CE(),g=ue;break}catch(H){wp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ni=ss=null,qt=l,Q.H=c,Q.A=f,Rt===null&&(Jt=null,Nt=0,Ko()),g}function CE(){for(;Rt!==null;)Dp(Rt)}function NE(t,n){var a=qt;qt|=2;var l=Cp(),c=Np();Jt!==t||Nt!==n?(wu=null,xu=Ze()+500,hr(t,n)):or=Mn(t,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,fr(t,n,f,1);break;case 2:case 9:if(km(f)){Qt=0,gn=null,Vp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),gi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:km(f)?(Qt=0,gn=null,Vp(n)):(Qt=0,gn=null,fr(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?py(g):E.stateNode.complete){Qt=0,gn=null;var D=E.sibling;if(D!==null)Rt=D;else{var B=E.return;B!==null?(Rt=B,Nu(B)):Rt=null}break e}}Qt=0,gn=null,fr(t,n,f,5);break;case 6:Qt=0,gn=null,fr(t,n,f,6);break;case 8:lf(),ue=6;break t;default:throw Error(r(462))}}DE();break}catch(H){wp(t,H)}while(!0);return Ni=ss=null,Q.H=l,Q.A=c,qt=a,Rt!==null?0:(Jt=null,Nt=0,Ko(),ue)}function DE(){for(;Rt!==null&&!zc();)Dp(Rt)}function Dp(t){var n=tp(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Nu(t):Rt=n}function Vp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Kg(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Kg(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:bh(n);default:np(a,n),n=Rt=Nm(n,Bi),n=tp(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Nu(t):Rt=n}function fr(t,n,a,l){Ni=ss=null,bh(n),er=null,vl=0;var c=n.return;try{if(_E(t,c,n,a,Nt)){ue=1,pu(t,xn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ue=1,pu(t,xn(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:or||(Nt&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ip(n,t)):Nu(n)}function Nu(t){var n=t;do{if((n.flags&32768)!==0){Ip(n,fa);return}t=n.return;var a=TE(n.alternate,n,Bi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function Ip(t,n){do{var a=bE(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ue=6,Rt=null}function Op(t,n,a,l,c,f,g,E,D){t.cancelPendingCommit=null;do Du();while(Ve!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xc,kc(t,a,f,g,E,D),t===Jt&&(Rt=Jt=null,Nt=0),cr=n,ga=t,ki=a,af=f,sf=c,bp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ME(Fi,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,g=qt,qt|=4;try{AE(t,n,a)}finally{qt=g,et.p=c,Q.T=l}}Ve=1,Mp(),jp(),Up()}}function Mp(){if(Ve===1){Ve=0;var t=ga,n=cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{mp(n,t);var f=Ef,g=Em(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(D!==null&&Gc(E)){var B=D.start,H=D.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var P=k.getSelection(),lt=E.textContent.length,gt=Math.min(D.start,lt),Zt=D.end===void 0?gt:Math.min(D.end,lt);!P.extend&&gt>Zt&&(g=Zt,Zt=gt,gt=g);var U=_m(E,gt),I=_m(E,Zt);if(U&&I&&(P.rangeCount!==1||P.anchorNode!==U.node||P.anchorOffset!==U.offset||P.focusNode!==I.node||P.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),P.removeAllRanges(),gt>Zt?(P.addRange(L),P.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),P.addRange(L))}}}}for(Y=[],P=E;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Pu=!!vf,Ef=vf=null}finally{qt=c,et.p=l,Q.T=a}}t.current=n,Ve=2}}function jp(){if(Ve===2){Ve=0;var t=ga,n=cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{up(t,n.alternate,n)}finally{qt=c,et.p=l,Q.T=a}}Ve=3}}function Up(){if(Ve===4||Ve===3){Ve=0,Eo();var t=ga,n=cr,a=ki,l=bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,cr=ga=null,zp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),Ai(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,et.p=c}}(ki&3)!==0&&Du(),gi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===rf?Ul++:(Ul=0,rf=t):Ul=0,zl(0)}}function zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function Du(){return Mp(),jp(),Up(),Lp()}function Lp(){if(Ve!==5)return!1;var t=ga,n=af;af=0;var a=Ai(ki),l=Q.T,c=et.p;try{et.p=32>a?32:a,Q.T=null,a=sf,sf=null;var f=ga,g=ki;if(Ve=0,cr=ga=null,ki=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,vp(f.current),pp(f,f.current,g,a),qt=E,zl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{et.p=c,Q.T=l,zp(t,n)}}function Bp(t,n,a){n=xn(a,n),n=zh(t.stateNode,n,2),t=oa(t,n,2),t!==null&&(Pa(t,2),gi(t))}function Ft(t,n,a){if(t.tag===3)Bp(t,t,a);else for(;n!==null;){if(n.tag===3){Bp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=xn(a,t),a=kg(2),l=oa(n,a,2),l!==null&&(qg(a,l,n,t),Pa(l,2),gi(l));break}}n=n.return}}function uf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(tf=!0,c.add(a),t=VE.bind(null,t,n,a),n.then(t,t))}function VE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Nt&a)===a&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>Ze()-Su?(qt&2)===0&&hr(t,0):ef|=a,ur===Nt&&(ur=0)),gi(t)}function kp(t,n){n===0&&(n=wo()),t=ns(t,n),t!==null&&(Pa(t,n),gi(t))}function IE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),kp(t,a)}function OE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),kp(t,a)}function ME(t,n){return De(t,n)}var Vu=null,dr=null,cf=!1,Iu=!1,hf=!1,ya=0;function gi(t){t!==dr&&t.next===null&&(dr===null?Vu=dr=t:dr=dr.next=t),Iu=!0,cf||(cf=!0,UE())}function zl(t,n){if(!hf&&Iu){hf=!0;do for(var a=!1,l=Vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gp(l,f))}else f=Nt,f=Jn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,Gp(l,f));l=l.next}while(a);hf=!1}}function jE(){qp()}function qp(){Iu=cf=!1;var t=0;ya!==0&&FE()&&(t=ya);for(var n=Ze(),a=null,l=Vu;l!==null;){var c=l.next,f=Pp(l,n);f===0?(l.next=null,a===null?Vu=c:a.next=c,c===null&&(dr=a)):(a=l,(t!==0||(f&3)!==0)&&(Iu=!0)),l=c}Ve!==0&&Ve!==5||zl(t),ya!==0&&(ya=0)}function Pp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,D=c[g];D===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Bc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Nt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Ai(a)){case 2:case 8:a=Yr;break;case 32:a=Fi;break;case 268435456:a=To;break;default:a=Fi}return l=Hp.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Du()&&t.callbackNode!==a)return null;var l=Nt;return l=Jn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),Pp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Hp.bind(null,t):null)}function Gp(t,n){if(Du())return null;Sp(t,n,!0)}function UE(){KE(function(){(qt&6)!==0?De(Fr,jE):qp()})}function ff(){if(ya===0){var t=$s;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),ya=t}return ya}function Qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zs(""+t)}function Fp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function zE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Qp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Qp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new oi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var D=g?Fp(c,g):new FormData(c);Vh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Fp(c,g):new FormData(c),Vh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var df=0;df<Kc.length;df++){var mf=Kc[df],LE=mf.toLowerCase(),BE=mf[0].toUpperCase()+mf.slice(1);Pn(LE,"on"+BE)}Pn(Am,"onAnimationEnd"),Pn(Sm,"onAnimationIteration"),Pn(xm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(eE,"onTransitionRun"),Pn(nE,"onTransitionStart"),Pn(iE,"onTransitionCancel"),Pn(wm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Yp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Yo(H)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Yo(H)}c.currentTarget=null,f=D}}}}function Ct(t,n){var a=n[Is];a===void 0&&(a=n[Is]=new Set);var l=t+"__bubble";a.has(l)||(Kp(n,t,2,!1),a.add(l))}function gf(t,n,a){var l=0;n&&(l|=4),Kp(a,t,l,n)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Ou]){t[Ou]=!0,Zr.forEach(function(a){a!=="selectionchange"&&(kE.has(a)||gf(a,!1,t),gf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ou]||(n[Ou]=!0,gf("selectionchange",!1,n))}}function Kp(t,n,a,l){switch(Ay(n)){case 2:var c=mT;break;case 8:c=gT;break;default:c=Vf}a=c.bind(null,n,a,t),c=void 0,!Ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function yf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}$i(function(){var B=f,H=Tn(a),Y=[];t:{var k=Rm.get(t);if(k!==void 0){var P=oi,lt=t;switch(t){case"keypress":if(Za(a)===0)break t;case"keydown":case"keyup":P=Go;break;case"focusin":lt="focus",P=$a;break;case"focusout":lt="blur",P=$a;break;case"beforeblur":case"afterblur":P=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case Am:case Sm:case xm:P=zo;break;case wm:P=b;break;case"scroll":case"scrollend":P=ol;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=wi;break;case"toggle":case"beforetoggle":P=bt}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),U=gt?k!==null?k+"Capture":null:k;gt=[];for(var I=B,L;I!==null;){var F=I;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=Ln(I,U),F!=null&&gt.push(Bl(I,F,L))),Zt)break;I=I.return}0<gt.length&&(k=new P(k,lt,null,a,H),Y.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&a!==sl&&(lt=a.relatedTarget||a.fromElement)&&(ei(lt)||lt[Wn]))break t;if((P||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,P?(lt=a.relatedTarget||a.toElement,P=B,lt=lt?ei(lt):null,lt!==null&&(Zt=h(lt),gt=lt.tag,lt!==Zt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(P=null,lt=B),P!==lt)){if(gt=ul,F="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=wi,F="onPointerLeave",U="onPointerEnter",I="pointer"),Zt=P==null?k:un(P),L=lt==null?k:un(lt),k=new gt(F,I+"leave",P,a,H),k.target=Zt,k.relatedTarget=L,F=null,ei(H)===B&&(gt=new gt(U,I+"enter",lt,a,H),gt.target=L,gt.relatedTarget=Zt,F=gt),Zt=F,P&&lt)e:{for(gt=qE,U=P,I=lt,L=0,F=U;F;F=gt(F))L++;F=0;for(var ht=I;ht;ht=gt(ht))F++;for(;0<L-F;)U=gt(U),L--;for(;0<F-L;)I=gt(I),F--;for(;L--;){if(U===I||I!==null&&U===I.alternate){gt=U;break e}U=gt(U),I=gt(I)}gt=null}else gt=null;P!==null&&Xp(Y,k,P,gt,!1),lt!==null&&Zt!==null&&Xp(Y,Zt,lt,gt,!0)}}t:{if(k=B?un(B):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var Lt=fm;else if(cm(k))if(dm)Lt=$v;else{Lt=Zv;var ot=Xv}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Us(B.elementType)&&(Lt=fm):Lt=Jv;if(Lt&&(Lt=Lt(t,B))){hm(Y,Lt,a,H);break t}ot&&ot(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&nl(k,"number",k.value)}switch(ot=B?un(B):window,t){case"focusin":(cm(ot)||ot.contentEditable==="true")&&(Gs=ot,Qc=B,ml=null);break;case"focusout":ml=Qc=Gs=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Tm(Y,a,H);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":Tm(Y,a,H)}var xt;if(kt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Hs?Wa(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(hi&&a.locale!=="ko"&&(Hs||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Hs&&(xt=ll()):(li=H,rl="value"in li?li.value:li.textContent,Hs=!0)),ot=Mu(B,Dt),0<ot.length&&(Dt=new ci(Dt,t,null,a,H),Y.push({event:Dt,listeners:ot}),xt?Dt.data=xt:(xt=Ps(a),xt!==null&&(Dt.data=xt)))),(xt=An?Qv(t,a):Fv(t,a))&&(Dt=Mu(B,"onBeforeInput"),0<Dt.length&&(ot=new ci("onBeforeInput","beforeinput",null,a,H),Y.push({event:ot,listeners:Dt}),ot.data=xt)),zE(Y,t,B,a,H)}Yp(Y,n)})}function Bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Mu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ln(t,a),c!=null&&l.unshift(Bl(t,c,f)),c=Ln(t,n),c!=null&&l.push(Bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function qE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||B===null||(D=B,c?(B=Ln(a,f),B!=null&&g.unshift(Bl(a,B,D))):c||(B=Ln(a,f),B!=null&&g.push(Bl(a,B,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var PE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Zp(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(HE,"")}function Jp(t,n){return n=Zp(n),Zp(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":al(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ms(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mo.get(a)||a,Ms(t,a,l))}}function _f(t,n,a,l,c,f){switch(a){case"style":al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ms(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":D=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(t,n,l,H,a,null)}}Vo(t,f,E,D,B,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ki(t,!!l,n,!1):a!=null&&Ki(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,a,null)}Xi(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,D,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ct(Ll[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(Us(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&_f(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function GE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,B=null,H=null;for(P in a){var Y=a[P];if(a.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":D=Y;default:l.hasOwnProperty(P)||Xt(t,n,P,null,l,Y)}}for(var k in l){var P=l[k];if(Y=a[k],l.hasOwnProperty(k)&&(P!=null||Y!=null))switch(k){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==Y&&Xt(t,n,k,P,l,Y)}}js(t,g,E,D,B,H,f,c);return;case"select":P=g=E=k=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":P=D;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Xt(t,n,c,f,l,D)}n=E,a=g,l=P,k!=null?Ki(t,!!a,k,!1):!!l!=!!a&&(n!=null?Ki(t,!!a,n,!0):Ki(t,!!a,a?[]:"",!1));return;case"textarea":P=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Io(t,k,P);return;case"option":for(var lt in a)if(k=a[lt],a.hasOwnProperty(lt)&&k!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Xt(t,n,lt,null,l,k)}for(D in l)if(k=l[D],P=a[D],l.hasOwnProperty(D)&&k!==P&&(k!=null||P!=null))switch(D){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(t,n,D,k,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)k=a[gt],a.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Xt(t,n,gt,null,l,k);for(B in l)if(k=l[B],P=a[B],l.hasOwnProperty(B)&&k!==P&&(k!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Xt(t,n,B,k,l,P)}return;default:if(Us(n)){for(var Zt in a)k=a[Zt],a.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&_f(t,n,Zt,void 0,l,k);for(H in l)k=l[H],P=a[H],!l.hasOwnProperty(H)||k===P||k===void 0&&P===void 0||_f(t,n,H,k,l,P);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,k);for(Y in l)k=l[Y],P=a[Y],!l.hasOwnProperty(Y)||k===P||k==null&&P==null||Xt(t,n,Y,k,l,P)}function $p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&$p(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>E)break;var H=D.transferSize,Y=D.initiatorType;H&&$p(Y)&&(D=D.responseEnd,g+=H*(D<E?1:(E-B)/(D-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vf=null,Ef=null;function ju(t){return t.nodeType===9?t:t.ownerDocument}function Wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function FE(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(XE)}:ey;function XE(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function iy(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),yr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&kl(t.ownerDocument.body);a=c}while(a);yr(n)}function ay(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ZE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function JE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function sy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $E(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wf=null;function ry(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function oy(t,n,a){switch(n=ju(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Os(t)}var Vn=new Map,uy=new Set;function Uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=et.d;et.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:aT,X:rT,S:sT,M:lT};function WE(){var t=qi.f(),n=Ru();return t||n}function tT(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):qi.r(t)}var mr=typeof document>"u"?null:document;function cy(t,n,a){var l=mr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),uy.has(c)||(uy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function eT(t){qi.D(t),cy("dns-prefetch",t,null)}function nT(t,n){qi.C(t,n),cy("preconnect",t,n)}function iT(t,n,a){qi.L(t,n,a);var l=mr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=gr(t);break;case"script":f=pr(t)}Vn.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ql(f))||n==="script"&&l.querySelector(Pl(f))||(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function aT(t,n){qi.m(t,n);var a=mr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pr(t)}if(!Vn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),Pe(l,"link",t),_e(l),a.head.appendChild(l)}}}function sT(t,n,a){qi.S(t,n,a);var l=mr;if(l&&t){var c=ni(l).hoistableStyles,f=gr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ql(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Rf(t,a);var D=g=l.createElement("link");_e(D),Pe(D,"link",t),D._p=new Promise(function(B,H){D.onload=B,D.onerror=H}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function rT(t,n){qi.X(t,n);var a=mr;if(a&&t){var l=ni(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(Pl(c)),f||(t=x({src:t,async:!0},n),(n=Vn.get(c))&&Cf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lT(t,n){qi.M(t,n);var a=mr;if(a&&t){var l=ni(a).hoistableScripts,c=pr(t),f=l.get(c);f||(f=a.querySelector(Pl(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Cf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hy(t,n,a,l){var c=(c=St.current)?Uu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gr(a.href),a=ni(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gr(a.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(ql(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||oT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pr(a),a=ni(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function gr(t){return'href="'+We(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),_e(n),t.head.appendChild(n))}function pr(t){return'[src="'+We(t)+'"]'}function Pl(t){return"script[async]"+t}function dy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Pe(l,"style",c),zu(l,a.precedence,t),n.instance=l;case"stylesheet":c=gr(a.href);var f=t.querySelector(ql(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=fy(a),(c=Vn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Pe(f,"link",l),n.state.loading|=4,zu(f,a.precedence,t),n.instance=f;case"script":return f=pr(a.src),(c=t.querySelector(Pl(f)))?(n.instance=c,_e(c),c):(l=a,(c=Vn.get(f))&&(l=x({},a),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,a.precedence,t));return n.instance}function zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function my(t,n,a){if(Lu===null){var l=new Map,c=Lu=new Map;c.set(a,l)}else c=Lu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ti]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function gy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=gr(l.href),f=n.querySelector(ql(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Bu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=fy(l),(c=Vn.get(c))&&Rf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nf=0;function hT(t,n){return t.stylesheets&&t.count===0&&qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nf===0&&(Nf=62500*QE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,n.forEach(fT,t),ku=null,Bu.call(t))}function fT(t,n){if(!(n.state.loading&4)){var a=ku.get(t);if(a)var l=a.get(null);else{a=new Map,ku.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function dT(t,n,a,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function yy(t,n,a,l,c,f,g,E,D,B,H,Y){return t=new dT(t,n,a,g,D,B,H,Y,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},hh(f),t}function _y(t){return t?(t=Ys,t):Ys}function vy(t,n,a,l,c,f){c=_y(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=oa(t,l,n),a!==null&&(rn(a,t,n),Tl(a,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Df(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ty(t){if(t.tag===13||t.tag===31){var n=ns(t,67108864);n!==null&&rn(n,t,67108864),Df(t,67108864)}}function by(t){if(t.tag===13||t.tag===31){var n=yn();n=Ga(n);var a=ns(t,n);a!==null&&rn(a,t,n),Df(t,n)}}var Pu=!0;function mT(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=2,Vf(t,n,a,l)}finally{et.p=f,Q.T=c}}function gT(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=8,Vf(t,n,a,l)}finally{et.p=f,Q.T=c}}function Vf(t,n,a,l){if(Pu){var c=If(l);if(c===null)yf(t,n,l,Hu,a),Sy(t,l);else if(yT(c,t,n,a,l))l.stopPropagation();else if(Sy(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-ce(g);E.entanglements[1]|=D,g&=~D}gi(f),(qt&6)===0&&(xu=Ze()+500,zl(0))}}break;case 31:case 13:E=ns(f,2),E!==null&&rn(E,f,2),Ru(),Df(f,2)}if(f=If(l),f===null&&yf(t,n,l,Hu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,a)}}function If(t){return t=Tn(t),Of(t)}var Hu=null;function Of(t){if(Hu=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=_(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Fr:return 2;case Yr:return 8;case Fi:case Lc:return 32;case To:return 268435456;default:return 32}default:return 32}}var Mf=!1,va=null,Ea=null,Ta=null,Gl=new Map,Ql=new Map,ba=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(t,n){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Fl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yT(t,n,a,l,c){switch(n){case"focusin":return va=Fl(va,t,n,a,l,c),!0;case"dragenter":return Ea=Fl(Ea,t,n,a,l,c),!0;case"mouseover":return Ta=Fl(Ta,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Fl(Gl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ql.set(f,Fl(Ql.get(f)||null,t,n,a,l,c)),!0}return!1}function xy(t){var n=ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,jn(t.priority,function(){by(a)});return}}else if(n===31){if(n=_(a),n!==null){t.blockedOn=n,jn(t.priority,function(){by(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=If(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);sl=l,a.target.dispatchEvent(l),sl=null}else return n=En(a),n!==null&&Ty(n),t.blockedOn=a,!1;n.shift()}return!0}function wy(t,n,a){Gu(t)&&a.delete(n)}function _T(){Mf=!1,va!==null&&Gu(va)&&(va=null),Ea!==null&&Gu(Ea)&&(Ea=null),Ta!==null&&Gu(Ta)&&(Ta=null),Gl.forEach(wy),Ql.forEach(wy)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_T)))}var Fu=null;function Ry(t){Fu!==t&&(Fu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function yr(t){function n(D){return Qu(D,t)}va!==null&&Qu(va,t),Ea!==null&&Qu(Ea,t),Ta!==null&&Qu(Ta,t),Gl.forEach(n),Ql.forEach(n);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)xy(a),a.blockedOn===null&&ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||Ry(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Of(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ry(a)}}}function Cy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function jf(t){this._internalRoot=t}Yu.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();vy(a,l,t,n,null,null)},Yu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vy(t.current,2,null,t,null,null),Ru(),n[Wn]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ro();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ba.length&&n!==0&&n<ba[a].priority;a++);ba.splice(a,0,t),a===0&&xy(t)}};var Ny=e.version;if(Ny!=="19.2.3")throw Error(r(527,Ny,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var vT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{On=Ku.inject(vT),ze=Ku}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Ug,f=zg,g=Lg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=yy(t,1,!1,null,null,a,l,null,c,f,g,Cy),t[Wn]=n.current,pf(t),new jf(n)},Kl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ug,g=zg,E=Lg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=yy(t,1,!0,n,a??null,l,c,D,f,g,E,Cy),n.context=_y(null),a=n.current,l=yn(),l=Ga(l),c=la(l),c.callback=null,oa(a,c,l),a=l,n.current.lanes=a,Pa(n,a),gi(n),t[Wn]=n.current,pf(t),new Yu(n)},Kl.version="19.2.3",Kl}var By;function NT(){if(By)return Lf.exports;By=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=CT(),Lf.exports}var DT=NT();const VT=()=>{};var ky={};const i0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},IT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],_=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,_=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,A=h>>2,x=(h&3)<<4|_>>4;let O=(_&15)<<2|y>>6,G=y&63;v||(G=64,d||(O=64)),r.push(i[A],i[x],i[O],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(i0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):IT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||_==null||y==null||x==null)throw new OT;const O=h<<2|_>>4;if(r.push(O),y!==64){const G=_<<4&240|y>>2;if(r.push(G),x!==64){const J=y<<6&192|x;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(s){const e=i0(s);return a0.encodeByteArray(e,!0)},uc=function(s){return MT(s).replace(/\./g,"")},jT=function(s){try{return a0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zT=()=>UT().__FIREBASE_DEFAULTS__,LT=()=>{if(typeof process>"u"||typeof ky>"u")return;const s=ky.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&jT(s[1]);return e&&JSON.parse(e)},Ad=()=>{try{return VT()||zT()||LT()||BT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kT=s=>Ad()?.emulatorHosts?.[s],qT=s=>{const e=kT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},s0=()=>Ad()?.config;class PT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Sd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HT(s){return(await fetch(s,{credentials:"include"})).ok}function GT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uc(JSON.stringify(i)),uc(JSON.stringify(d)),""].join(".")}const eo={};function QT(){const s={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?s.emulator.push(e):s.prod.push(e);return s}function FT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let qy=!1;function YT(s,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||eo[s]===e||eo[s]||qy)return;eo[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",h=QT().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function _(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{qy=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=FT(r),G=i("text"),J=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),W=document.getElementById($)||document.createElement("a"),mt=i("preprendIcon"),ut=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pt=O.element;_(pt),A(W,$);const ct=y();v(ut,mt),pt.append(ut,J,W,ct),document.body.appendChild(pt)}h?(J.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function KT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XT(){const s=Ad()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return!XT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const WT="FirebaseError";class Ur extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=WT,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r0.prototype.create)}}class r0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?t1(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Ur(o,_,r)}}function t1(s,e){return s.replace(e1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const e1=/\{\$([^}]+)}/g;function wr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Py(h)&&Py(d)){if(!wr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Py(s){return s!==null&&typeof s=="object"}function Ti(s){return s&&s._delegate?s._delegate:s}class ro{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ys="[DEFAULT]";class n1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new PT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a1(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(s){return s===ys?void 0:s}function a1(s){return s.instantiationMode==="EAGER"}class s1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new n1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const r1={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},l1=Ut.INFO,o1={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},u1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=o1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=l1,this._logHandler=u1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const c1=(s,e)=>e.some(i=>s instanceof i);let Hy,Gy;function h1(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f1(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,td=new WeakMap,u0=new WeakMap,Pf=new WeakMap,xd=new WeakMap;function d1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(xa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&o0.set(i,s)}).catch(()=>{}),xd.set(e,s),e}function m1(s){if(td.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});td.set(s,e)}let ed={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return td.get(s);if(e==="objectStoreNames")return s.objectStoreNames||u0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function g1(s){ed=s(ed)}function p1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Hf(this),e,...i);return u0.set(r,e.sort?e.sort():[e]),xa(r)}:f1().includes(s)?function(...e){return s.apply(Hf(this),e),xa(o0.get(this))}:function(...e){return xa(s.apply(Hf(this),e))}}function y1(s){return typeof s=="function"?p1(s):(s instanceof IDBTransaction&&m1(s),c1(s,h1())?new Proxy(s,ed):s)}function xa(s){if(s instanceof IDBRequest)return d1(s);if(Pf.has(s))return Pf.get(s);const e=y1(s);return e!==s&&(Pf.set(s,e),xd.set(e,s)),e}const Hf=s=>xd.get(s);function _1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),_=xa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(xa(d.result),v.oldVersion,v.newVersion,xa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const v1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],Gf=new Map;function Qy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=E1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||v1.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&v.done]))[0]};return Gf.set(e,h),h}g1(s=>({...s,get:(e,i,r)=>Qy(e,i)||s.get(e,i,r),has:(e,i)=>!!Qy(e,i)||s.has(e,i)}));class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(b1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function b1(s){return s.getComponent()?.type==="VERSION"}const nd="@firebase/app",Fy="0.14.8";const Pi=new l0("@firebase/app"),A1="@firebase/app-compat",S1="@firebase/analytics-compat",x1="@firebase/analytics",w1="@firebase/app-check-compat",R1="@firebase/app-check",C1="@firebase/auth",N1="@firebase/auth-compat",D1="@firebase/database",V1="@firebase/data-connect",I1="@firebase/database-compat",O1="@firebase/functions",M1="@firebase/functions-compat",j1="@firebase/installations",U1="@firebase/installations-compat",z1="@firebase/messaging",L1="@firebase/messaging-compat",B1="@firebase/performance",k1="@firebase/performance-compat",q1="@firebase/remote-config",P1="@firebase/remote-config-compat",H1="@firebase/storage",G1="@firebase/storage-compat",Q1="@firebase/firestore",F1="@firebase/ai",Y1="@firebase/firestore-compat",K1="firebase",X1="12.9.0";const id="[DEFAULT]",Z1={[nd]:"fire-core",[A1]:"fire-core-compat",[x1]:"fire-analytics",[S1]:"fire-analytics-compat",[R1]:"fire-app-check",[w1]:"fire-app-check-compat",[C1]:"fire-auth",[N1]:"fire-auth-compat",[D1]:"fire-rtdb",[V1]:"fire-data-connect",[I1]:"fire-rtdb-compat",[O1]:"fire-fn",[M1]:"fire-fn-compat",[j1]:"fire-iid",[U1]:"fire-iid-compat",[z1]:"fire-fcm",[L1]:"fire-fcm-compat",[B1]:"fire-perf",[k1]:"fire-perf-compat",[q1]:"fire-rc",[P1]:"fire-rc-compat",[H1]:"fire-gcs",[G1]:"fire-gcs-compat",[Q1]:"fire-fst",[Y1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};const cc=new Map,J1=new Map,ad=new Map;function Yy(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function hc(s){const e=s.name;if(ad.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,s);for(const i of cc.values())Yy(i,s);for(const i of J1.values())Yy(i,s);return!0}function $1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function W1(s){return s==null?!1:s.settings!==void 0}const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new r0("app","Firebase",tb);class eb{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}const nb=X1;function c0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:id,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(i||(i=s0()),!i)throw wa.create("no-options");const h=cc.get(o);if(h){if(wr(i,h.options)&&wr(r,h.config))return h;throw wa.create("duplicate-app",{appName:o})}const d=new s1(o);for(const v of ad.values())d.addComponent(v);const _=new eb(i,r,d);return cc.set(o,_),_}function ib(s=id){const e=cc.get(s);if(!e&&s===id&&s0())return c0();if(!e)throw wa.create("no-app",{appName:s});return e}function br(s,e,i){let r=Z1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}hc(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ab="firebase-heartbeat-database",sb=1,lo="firebase-heartbeat-store";let Qf=null;function h0(){return Qf||(Qf=_1(ab,sb,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(s=>{throw wa.create("idb-open",{originalErrorMessage:s.message})})),Qf}async function rb(s){try{const i=(await h0()).transaction(lo),r=await i.objectStore(lo).get(f0(s));return await i.done,r}catch(e){if(e instanceof Ur)Pi.warn(e.message);else{const i=wa.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function Ky(s,e){try{const r=(await h0()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,f0(s)),await r.done}catch(i){if(i instanceof Ur)Pi.warn(i.message);else{const r=wa.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(r.message)}}}function f0(s){return`${s.name}!${s.options.appId}`}const lb=1024,ob=30;class ub{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ob){const o=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xy(),{heartbeatsToSend:i,unsentEntries:r}=cb(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function cb(s,e=lb){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Zy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zy(s){return uc(JSON.stringify({version:2,heartbeats:s})).length}function fb(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function db(s){hc(new ro("platform-logger",e=>new T1(e),"PRIVATE")),hc(new ro("heartbeat",e=>new ub(e),"PRIVATE")),br(nd,Fy,s),br(nd,Fy,"esm2020"),br("fire-js","")}db("");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ra,d0;(function(){var s;function e(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(V,C,j){for(var N=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)N[ie-2]=arguments[ie];return S.prototype[C].apply(V,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)V[C]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(C=0;C<16;++C)V[C]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],C=w.g[2];let j=w.g[3],N;N=S+(j^R&(C^j))+V[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(C^S&(R^C))+V[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(R^j&(S^R))+V[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=R+(S^C&(j^S))+V[3]+3250441966&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(j^R&(C^j))+V[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(C^S&(R^C))+V[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(R^j&(S^R))+V[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=R+(S^C&(j^S))+V[7]+4249261313&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(j^R&(C^j))+V[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(C^S&(R^C))+V[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(R^j&(S^R))+V[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=R+(S^C&(j^S))+V[11]+2304563134&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(j^R&(C^j))+V[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(C^S&(R^C))+V[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=C+(R^j&(S^R))+V[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=R+(S^C&(j^S))+V[15]+1236535329&4294967295,R=C+(N<<22&4294967295|N>>>10),N=S+(C^j&(R^C))+V[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^C&(S^R))+V[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(j^S))+V[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(C^j))+V[0]+3921069994&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(R^C))+V[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^C&(S^R))+V[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(j^S))+V[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(C^j))+V[4]+3889429448&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(R^C))+V[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^C&(S^R))+V[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(j^S))+V[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(C^j))+V[8]+1163531501&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(C^j&(R^C))+V[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^C&(S^R))+V[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=C+(S^R&(j^S))+V[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(C^j))+V[12]+2368359562&4294967295,R=C+(N<<20&4294967295|N>>>12),N=S+(R^C^j)+V[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^C)+V[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^R)+V[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=R+(C^j^S)+V[14]+4259657740&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^j)+V[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^C)+V[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^R)+V[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=R+(C^j^S)+V[10]+3200236656&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^j)+V[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^C)+V[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^R)+V[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=R+(C^j^S)+V[6]+76029189&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(R^C^j)+V[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^C)+V[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=C+(j^S^R)+V[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=R+(C^j^S)+V[2]+3299628645&4294967295,R=C+(N<<23&4294967295|N>>>9),N=S+(C^(R|~j))+V[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~C))+V[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~R))+V[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=R+(j^(C|~S))+V[5]+4237533241&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~j))+V[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~C))+V[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~R))+V[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=R+(j^(C|~S))+V[1]+2240044497&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~j))+V[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~C))+V[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~R))+V[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=R+(j^(C|~S))+V[13]+1309151649&4294967295,R=C+(N<<21&4294967295|N>>>11),N=S+(C^(R|~j))+V[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~C))+V[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=C+(S^(j|~R))+V[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=R+(j^(C|~S))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+j&4294967295}r.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,V=this.C;let C=this.h,j=0;for(;j<S;){if(C==0)for(;j<=R;)o(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<S;)if(V[C++]=w.charCodeAt(j++),C==this.blockSize){o(this,V),C=0;break}}else for(;j<S;)if(V[C++]=w[j++],C==this.blockSize){o(this,V),C=0;break}}this.h=C,this.o+=S},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)w[S++]=this.g[R]>>>V&255;return w};function h(w,S){var R=_;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let V=!0;for(let C=w.length-1;C>=0;C--){const j=w[C]|0;V&&j==S||(R[C]=j,V=!1)}this.g=R}var _={};function v(w){return-128<=w&&w<128?h(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return x;if(w<0)return W(y(-w));const S=[];let R=1;for(let V=0;w>=R;V++)S[V]=w/R|0,R*=4294967296;return new d(S,0)}function A(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return W(A(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let V=x;for(let j=0;j<w.length;j+=8){var C=Math.min(8,w.length-j);const N=parseInt(w.substring(j,j+C),S);C<8?(C=y(Math.pow(S,C)),V=V.j(C).add(y(N))):(V=V.j(R),V=V.add(y(N)))}return V}var x=v(0),O=v(1),G=v(16777216);s=d.prototype,s.m=function(){if($(this))return-W(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);w+=(V>=0?V:4294967296+V)*S,S*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(J(this))return"0";if($(this))return"-"+W(this).toString(w);const S=y(Math.pow(w,6));var R=this;let V="";for(;;){const C=ct(R,S).g;R=mt(R,C.j(S));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=C,J(R))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function J(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function $(w){return w.h==-1}s.l=function(w){return w=mt(this,w),$(w)?-1:J(w)?0:1};function W(w){const S=w.g.length,R=[];for(let V=0;V<S;V++)R[V]=~w.g[V];return new d(R,~w.h).add(O)}s.abs=function(){return $(this)?W(this):this},s.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let V=0;for(let C=0;C<=S;C++){let j=V+(this.i(C)&65535)+(w.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);V=N>>>16,j&=65535,N&=65535,R[C]=N<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(w,S){return w.add(W(S))}s.j=function(w){if(J(this)||J(w))return x;if($(this))return $(w)?W(this).j(W(w)):W(W(this).j(w));if($(w))return W(this.j(W(w)));if(this.l(G)<0&&w.l(G)<0)return y(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let C=0;C<w.g.length;C++){const j=this.i(V)>>>16,N=this.i(V)&65535,ie=w.i(C)>>>16,Ce=w.i(C)&65535;R[2*V+2*C]+=N*Ce,ut(R,2*V+2*C),R[2*V+2*C+1]+=j*Ce,ut(R,2*V+2*C+1),R[2*V+2*C+1]+=N*ie,ut(R,2*V+2*C+1),R[2*V+2*C+2]+=j*ie,ut(R,2*V+2*C+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function ut(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function pt(w,S){this.g=w,this.h=S}function ct(w,S){if(J(S))throw Error("division by zero");if(J(w))return new pt(x,x);if($(w))return S=ct(W(w),S),new pt(W(S.g),W(S.h));if($(S))return S=ct(w,W(S)),new pt(W(S.g),S.h);if(w.g.length>30){if($(w)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,V=S;V.l(w)<=0;)R=$t(R),V=$t(V);var C=it(R,1),j=it(V,1);for(V=it(V,2),R=it(R,2);!J(V);){var N=j.add(V);N.l(w)<=0&&(C=C.add(R),j=N),V=it(V,1),R=it(R,1)}return S=mt(w,C.j(S)),new pt(C,S)}for(C=x;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=y(R),N=j.j(S);$(N)||N.l(w)>0;)R-=V,j=y(R),N=j.j(S);J(j)&&(j=O),C=C.add(j),w=mt(w,N)}return new pt(C,w)}s.B=function(w){return ct(this,w).h},s.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&w.i(V);return new d(R,this.h&w.h)},s.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|w.i(V);return new d(R,this.h|w.h)},s.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^w.i(V);return new d(R,this.h^w.h)};function $t(w){const S=w.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=w.i(V)<<1|w.i(V-1)>>>31;return new d(R,w.h)}function it(w,S){const R=S>>5;S%=32;const V=w.g.length-R,C=[];for(let j=0;j<V;j++)C[j]=S>0?w.i(j+R)>>>S|w.i(j+R+1)<<32-S:w.i(j+R);return new d(C,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ra=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m0,Zl,g0,nc,sd,p0,y0,_0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in p))break t;p=p[z]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function y(u,m,p){return y=v,y.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(b,z,q){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[z].apply(b,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const q=z.length||0;u.length=p+q;for(let tt=0;tt<q;tt++)u[p+tt]=z[tt]}else u.push(z)}}class ${constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,p){const b=pt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new $(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,it=!1,w=new ut,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(p){W(p)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}it=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(ie,C),ie.prototype.init=function(u,m){const p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,p,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=z,this.key=++Q,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(p in b)u[p]=b[p];for(let q=0;q<K.length;q++)p=K[q],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,b,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=St(u,m,b,z);return tt>-1?(m=u[tt],p||(m.fa=!1)):(m=new et(m,this.src,q,!!b,z),m.fa=p,u.push(m)),m};function _t(u,m){const p=m.type;if(p in u.g){var b=u.g[p],z=Array.prototype.indexOf.call(b,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(b,z,1),q&&(dt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function St(u,m,p,b){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return z}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,p,b,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],p,b,z);return null}return p=Qr(p),u&&u[Ce]?u.J(m,p,_(b)?!!b.capture:!1,z):La(u,m,p,!1,b,z)}function La(u,m,p,b,z,q){if(!m)throw Error("Invalid event type");const tt=_(z)?!!z.capture:!!z;let bt=Ba(u);if(bt||(u[Mt]=bt=new rt(u)),p=bt.add(m,p,b,tt,q),p.proxy)return p;if(b=Cs(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)j||(z=tt),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Cs(){function u(p){return m.call(u.src,u.listener,p)}const m=Hr;return u}function Ns(u,m,p,b,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(u,m[q],p,b,z);else b=_(b)?!!b.capture:!!b,p=Qr(p),u&&u[Ce]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=St(m,p,b,z),p>-1&&(dt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ba(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,p,b,z)),(p=u>-1?m[u]:null)&&Ds(p))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])_t(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(Kn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Ba(m))?(_t(p,u),p.h==0&&(p.src=null,m[Mt]=null)):dt(u)}}}function Kn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function Hr(u,m){if(u.da)u=!0;else{m=new ie(m,this);const p=u.listener,b=u.ha||u.src;u.fa&&Ds(u),u=p.call(b,m)}return u}function Ba(u){return u=u[Mt],u instanceof rt?u:null}var Gr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qr(u){return typeof u=="function"?u:(u[Gr]||(u[Gr]=function(m){return u.handleEvent(m)}),u[Gr])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}x(ge,V),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,p,b){Ns(this,u,m,p,b)};function De(u,m){var p,b=u.G;if(b)for(p=[];b;b=b.G)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var z=m;m=new C(b,u),nt(m,z)}z=!0;let q,tt;if(p)for(tt=p.length-1;tt>=0;tt--)q=m.g=p[tt],z=Qi(q,b,!0,m)&&z;if(q=m.g=u,z=Qi(q,b,!0,m)&&z,z=Qi(q,b,!1,m)&&z,p)for(tt=0;tt<p.length;tt++)q=m.g=p[tt],z=Qi(q,b,!1,m)&&z}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let b=0;b<p.length;b++)dt(p[b]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},ge.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function Qi(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==p){const bt=tt.listener,he=tt.ha||tt.src;tt.fa&&_t(u.i,tt),z=bt.call(he,b)!==!1&&z}}return z&&!b.defaultPrevented}function zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Eo(u){u.g=zc(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends V{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){V.call(this),this.h=u,this.g={}}x(ka,V);var Fr=[];function Yr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ds(m)},u),u.g={}}ka.prototype.N=function(){ka.Z.N.call(this),Yr(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,Lc=d.JSON.parse,To=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bo(){}function Ao(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){C.call(this,"d")}x(ze,C);function vn(){C.call(this,"c")}x(vn,C);var ce={},So=null;function Vs(){return So=So||new ge}ce.Ia="serverreachability";function xo(u){C.call(this,ce.Ia,u)}x(xo,C);function Xn(u){const m=Vs();De(m,new xo(m))}ce.STAT_EVENT="statevent";function qa(u,m){C.call(this,ce.STAT_EVENT,u),this.stat=m}x(qa,C);function pe(u){const m=Vs();De(m,new qa(m,u))}ce.Ja="timingevent";function Zn(u,m){C.call(this,ce.Ja,u),this.size=m}x(Zn,C);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Bc(u,m,p,b,z,q){u.info(function(){if(u.g)if(q){var tt="",bt=q.split("&");for(let kt=0;kt<bt.length;kt++){var he=bt[kt].split("=");if(he.length>1){const se=he[0];he=he[1];const An=se.split("_");tt=An.length>=2&&An[1]=="type"?tt+(se+"="+he+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+p+`
`+tt})}function wo(u,m,p,b,z,q,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+tt})}function $n(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kc(u,p)+(b?" "+b:"")})}function Pa(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function kc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return Fi(q)}catch{return m}}var Ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function Ga(){}x(Ga,bo),Ga.prototype.g=function(){return new XMLHttpRequest},Xr=new Ga;function Ai(u){return encodeURIComponent(String(u))}function Ro(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function jn(u,m,p,b){this.j=u,this.i=m,this.l=p,this.S=b||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function Wn(u,m,p){u.M=1,u.A=Qa(ve(m)),u.u=p,u.R=!0,Is(u,null)}function Is(u,m){u.F=Date.now(),ti(u),u.B=ve(u.A);var p=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Us(p.i,"t",b),u.C=0,p=u.j.L,u.h=new Un,u.g=Po(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,p=u.g,b=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Fr[0]=z.toString()),z=Fr);for(let q=0;q<z.length;q++){const tt=ae(p,z[q],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Bc(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Bn(this.g),he=this.g.ya(),kt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||bt!=4||he==7||(he==8||kt<=0?Xn(3):Xn(2)),ei(this);var m=this.g.ca();this.X=m;var p=qc(this);if(this.o=m==200,wo(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var q=b;break e}}q=null}if(u=q)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,pe(12),un(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=No(this,p),se==Oe){bt==4&&(this.m=4,pe(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),$n(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,se,null),ni(this,se);if(Co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),cl(tt),tt.P=!0,pe(11))}}else $n(this.i,this.l,p,null),ni(this,p);bt==4&&un(this),this.o&&!this.K&&(bt==4?Lo(this.j,this):(this.o=!1,ti(this)))}else xi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),un(this),En(this)}}}catch{}finally{}};function qc(u){if(!Co(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let p="";const b=m.length,z=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(z&&q==b-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Co(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function No(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?Oe:(p=Number(m.substring(p,b)),isNaN(p)?ye:(b+=1,b+p>m.length?Oe:(m=m.slice(b,b+p),u.C=b+p,m)))}jn.prototype.cancel=function(){this.K=!0,un(this)};function ti(u){u.T=Date.now()+u.H,Os(u,u.H)}function Os(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(y(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Pa(this.i,this.B),this.M!=2&&(Xn(),pe(17)),un(this),this.m=2,En(this)):Os(this,this.T-u)};function En(u){u.j.I==0||u.K||Lo(u.j,u)}function un(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Yr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ai(p.h,u))){if(!u.L&&ai(p.h,u)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)qs(p),ta(p);else break t;$a(p),pe(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Jn(y(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((u.L||p.g==u)&&qs(p),!N(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let kt=z[m];const se=kt[0];if(!(se<=p.K))if(p.K=se,kt=kt[1],p.I==2)if(kt[0]=="c"){p.M=kt[1],p.ba=kt[2];const An=kt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const hi=kt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const kn=kt[5];kn!=null&&typeof kn=="number"&&kn>0&&(b=1.5*kn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const qn=u.g;if(qn){const Wa=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var q=b.h;q.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&($r(q,q.h),q.h=null))}if(b.G){const Ps=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(b.wa=Ps,Gt(b.J,b.G,Ps))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var tt=u;if(b.na=qo(b,b.L?b.ba:null,b.W),tt.L){Wr(b.h,tt);var bt=tt,he=b.O;he&&(bt.H=he),bt.D&&(ei(bt),ti(bt)),b.g=tt}else Uo(b);p.i.length>0&&ui(p)}else kt[0]!="stop"&&kt[0]!="close"||ci(p,7);else p.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?ci(p,7):ol(p):kt[0]!="noop"&&p.l&&p.l.qa(kt),p.A=0)}}Xn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function Wr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Zr.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const b=u[p].indexOf("=");let z,q=null;b>=0?(z=u[p].substring(0,b),q=u[p].substring(b+1)):z=u[p],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.u),this.h=u.h,el(this,Mo(u.i)),this.m=u.m):u&&(m=String(u).match(Do))?(this.l=!1,Me(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),Yi(this,m[4]),this.h=si(m[5]||"",!0),el(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Fa(m,js,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fa(m,js,!0),"@"),u.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Fa(p,p.charAt(0)=="/"?nl:Vo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Fa(p,Io)),u.join("")},cn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var b=u.h;if(p)Yi(m,u.u);else if(p=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let tt=0;tt<z.length;){const bt=z[tt++];bt=="."?b&&tt==z.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&tt==z.length&&q.push("")):(q.push(bt),b=!0)}b=q.join("/")}else b=z}return p?m.h=b:p=u.i.toString()!=="",p?el(m,Mo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new cn(u)}function Me(u,m,p){u.j=p?si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function el(u,m,p){m instanceof Xi?(u.i=m,zs(u.i,u.l)):(p||(m=Fa(m,Ki)),u.i=new Xi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function Qa(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var js=/[#\/\?@]/g,Vo=/[#\?:]/g,nl=/[#\?]/g,Ki=/[#\?@]/g,Io=/#/g;function Xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ms(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Xi.prototype,s.add=function(u,m){tn(this),this.i=null,u=Zi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Oo(u,m){tn(u),m=Zi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function il(u,m){return tn(u),m=Zi(u,m),u.g.has(m)}s.forEach=function(u,m){tn(this),this.g.forEach(function(p,b){p.forEach(function(z){u.call(m,z,b,this)},this)},this)};function al(u,m){tn(u);let p=[];if(typeof m=="string")il(u,m)&&(p=p.concat(u.g.get(Zi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return tn(this),this.i=null,u=Zi(this,u),il(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=al(this,u),u.length>0?String(u[0]):m):m};function Us(u,m,p){Oo(u,m),p.length>0&&(u.i=null,u.g.set(Zi(u,m),G(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const z=Ai(p);p=al(this,p);for(let q=0;q<p.length;q++){let tt=z;p[q]!==""&&(tt+="="+Ai(p[q])),u.push(tt)}}return this.i=u.join("&")};function Mo(u){const m=new Xi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Zi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zs(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,b){const z=b.toLowerCase();b!=z&&(Oo(this,b),Us(this,z,p))},u)),u.j=m}function zn(u,m){const p=new Mn;if(d.Image){const b=new Image;b.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Tn,p,"TestLoadImage: error",!1,m,b),b.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function sl(u,m){const p=new Mn,b=new AbortController,z=setTimeout(()=>{b.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(z),q.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(p)}catch{}}function Ji(){this.g=new To}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}x(ri,bo),ri.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ya,ge),s=Ya.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ln(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ls(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ls(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$i(this):Ln(this),this.readyState==3&&Ls(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,$i(this))},s.Na=function(u){this.g&&(this.response=u,$i(this))},s.ga=function(){this.g&&$i(this)};function $i(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ln(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return zt(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function Ka(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=bn(p),typeof u=="string"?p!=null&&Ai(p):Gt(u,m,p))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Yt,ge);var li=/^https?$/i,rl=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Xa(this,q);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)p.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(rl,m,void 0)>=0)||b||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Xa(this,q)}};function Xa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ll(u),Si(u)}function ll(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Za(this):this.Xa())},s.Xa=function(){Za(this)};function Za(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=q===0){let tt=String(u.D).match(Do)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!li.test(tt?tt.toLowerCase():"")}p=b}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var z=Bn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ll(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(N(u[b]))continue;var p=Ro(u[b]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}Ht(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Wi(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,u),this.Za=oi("retryDelaySeedMs",1e4,u),this.Ta=oi("forwardChannelMaxRetries",2,u),this.va=oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zr(u&&u.concurrentRequestLimit),this.Ba=new Ji,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Wi.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,b){pe(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=qo(this,null,this.W),ui(this)};function ol(u){if(Bs(u),u.I==3){var m=u.V++,p=ve(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Ja(u,p),m=new jn(u,u.j,m),m.M=2,m.A=Qa(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Po(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}ko(u)}function ta(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Bs(u){ta(u),u.v&&(d.clearTimeout(u.v),u.v=null),qs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!Jr(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),it||($t(),it=!0),w.add(m,u),u.D=0}}function ks(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(y(u.Ea,u,m),Bo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=jo(this,z,m),p=ve(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Ja(this,p),q&&(this.R?m="headers="+Ai(bn(q))+"&"+m:this.u&&Ka(p,this.u,q)),$r(this.h,z),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),z.U=!0,Wn(z,p,null)):Wn(z,p,m),this.I=2}}else this.I==3&&(u?ul(this,u):this.i.length==0||Jr(this.h)||ul(this))};function ul(u,m){var p;m?p=m.l:p=u.V++;const b=ve(u.J);Gt(b,"SID",u.M),Gt(b,"RID",p),Gt(b,"AID",u.K),Ja(u,b),u.u&&u.o&&Ka(b,u.u,u.o),p=new jn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=jo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$r(u.h,p),Wn(p,b,m)}function Ja(u,m){u.H&&zt(u.H,function(p,b){Gt(m,b,p)}),u.l&&zt({},function(p,b){Gt(m,b,p)})}function jo(u,m,p){p=Math.min(u.i.length,p);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let bt=-1;for(;;){const he=["count="+p];bt==-1?p>0?(bt=z[0].g,he.push("ofs="+bt)):bt=0:he.push("ofs="+bt);let kt=!0;for(let se=0;se<p;se++){var q=z[se].g;const An=z[se].map;if(q-=bt,q<0)bt=Math.max(0,z[se].g-100),kt=!1;else try{q="req"+q+"_"||"";try{var tt=An instanceof Map?An:Object.entries(An);for(const[hi,kn]of tt){let qn=kn;_(kn)&&(qn=Fi(kn)),he.push(q+hi+"="+encodeURIComponent(qn))}}catch(hi){throw he.push(q+"type="+encodeURIComponent("_badmap")),hi}}catch{b&&b(An)}}if(kt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,p),m.G=u,tt}function Uo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),it||($t(),it=!0),w.add(m,u),u.A=0}}function $a(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(y(u.Da,u),Bo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ta(this),zo(this))};function cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function zo(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Ja(u,m),u.u&&u.o&&Ka(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Qa(ve(m)),p.u=null,p.R=!0,Is(p,u)}s.Va=function(){this.C!=null&&(this.C=null,ta(this),$a(this),pe(19))};function qs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lo(u,m){var p=null;if(u.g==m){qs(u),cl(u),u.g=null;var b=2}else if(ai(u.h,m))p=m.G,Wr(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;b=Vs(),De(b,new Zn(b,p)),ui(u)}else Uo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&ks(u,m)||b==2&&$a(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function Bo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.bb,u),b=u.Ua;const z=!b;b=new cn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(b,"https"),Qa(b),z?zn(b.toString(),p):sl(b.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),ko(u),Bs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ko(u){if(u.I=0,u.ja=[],u.l){const m=tl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function qo(u,m,p){var b=p instanceof cn?ve(p):new cn(p);if(b.g!="")m&&(b.g=m+"."+b.g),Yi(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new cn(null);b&&Me(q,b),m&&(q.g=m),z&&Yi(q,z),p&&(q.h=p),b=q}return p=u.G,m=u.wa,p&&m&&Gt(b,p,m),Gt(b,"VER",u.ka),Ja(u,b),b}function Po(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ri({ab:p})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}s=Ho.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ea(){}ea.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new Wi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new wi(this)}x(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ol(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Fi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&ui(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Je.Z.N.call(this)};function Go(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Go,ze);function Qo(){vn.call(this),this.status=1}x(Qo,vn);function wi(u){this.g=u}x(wi,Ho),wi.prototype.ra=function(){De(this.g,"a")},wi.prototype.qa=function(u){De(this.g,new Go(u))},wi.prototype.pa=function(u){De(this.g,new Qo)},wi.prototype.oa=function(){De(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,_0=function(){return new ea},y0=function(){return Vs()},p0=ce,sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,nc=Ha,Kr.COMPLETE="complete",g0=Kr,Ao.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Zl=Ao,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,m0=Yt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let zr="12.9.0";function mb(s){zr=s}const Ts=new l0("@firebase/firestore");function _r(){return Ts.logLevel}function st(s,...e){if(Ts.logLevel<=Ut.DEBUG){const i=e.map(wd);Ts.debug(`Firestore (${zr}): ${s}`,...i)}}function Hi(s,...e){if(Ts.logLevel<=Ut.ERROR){const i=e.map(wd);Ts.error(`Firestore (${zr}): ${s}`,...i)}}function bs(s,...e){if(Ts.logLevel<=Ut.WARN){const i=e.map(wd);Ts.warn(`Firestore (${zr}): ${s}`,...i)}}function wd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,v0(s,r,i)}function v0(s,e,i){let r=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Hi(r),new Error(r)}function Pt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||v0(e,o,r)}function Tt(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ur{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class yb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new vs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},_=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new vs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new E0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class _b{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new _b(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,W1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $y(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Rd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Tb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function rd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Ff(o)===Ff(h)?Vt(o,h):Ff(o)?1:-1}return Vt(s.length,e.length)}const bb=55296,Ab=57343;function Ff(s){const e=s.charCodeAt(0);return e>=bb&&e<=Ab}function Rr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Wy="__name__";class pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=pi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=pi.isNumericId(e),o=pi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?pi.extractNumericId(e).compare(pi.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class Wt extends pi{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends pi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return Sb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new Ge([Wy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}function T0(s,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xb(s,e,i,r){if(e===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function t_(s){if(!ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function e_(s){if(ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Ca(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bc(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function go(s,e){if(!b0(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const n_=-62135596800,i_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*i_);return new te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<n_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:we("string",te._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new te(0,0))}static max(){return new vt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oo=-1;function wb(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Da(o,ft.empty(),e)}function Rb(s){return new Da(s.readTime,s.key,oo)}class Da{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Da(vt.min(),ft.empty(),oo)}static max(){return new Da(vt.max(),ft.empty(),oo)}}function Cb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}const Nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lr(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Nb)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++_,_===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function Vb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Br(s){return s.name==="IndexedDbTransactionError"}class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;const Cd=-1;function Sc(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function Ib(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const A0="";function Ob(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=a_(e)),e=Mb(s.get(i),e);return a_(e)}function Mb(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case A0:i+="";break;default:i+=h}}return i}function a_(s){return s+A0+""}function s_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ua(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function S0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ie(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new x0("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(s){if(Pt(!!s,39018),typeof s=="string"){let e=0;const i=jb.exec(s);if(Pt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ia(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const w0="server_timestamp",R0="__type__",C0="__previous_value__",N0="__local_write_time__";function Nd(s){return(s?.mapValue?.fields||{})[R0]?.stringValue===w0}function xc(s){const e=s.mapValue.fields[C0];return Nd(e)?xc(e):e}function uo(s){const e=Va(s.mapValue.fields[N0].timestampValue);return new te(e.seconds,e.nanos)}class Ub{constructor(e,i,r,o,h,d,_,v,y,A,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=x}}const dc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}function zb(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(s.options.projectId,e)}const D0="__type__",Lb="__max__",Ju={mapValue:{}},V0="__vector__",mc="value";function Oa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nd(s)?4:kb(s)?9007199254740991:Bb(s)?10:11:yt(28295,{value:s})}function bi(s,e){if(s===e)return!0;const i=Oa(s);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return uo(s).isEqual(uo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Va(o.timestampValue),_=Va(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Ia(o.bytesValue).isEqual(Ia(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),_=me(h.doubleValue);return d===_?fc(d)===fc(_):isNaN(d)&&isNaN(_)}return!1})(s,e);case 9:return Rr(s.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(s_(d)!==s_(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!bi(d[v],_[v])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function ho(s,e){return(s.values||[]).find((i=>bi(i,e)))!==void 0}function Cr(s,e){if(s===e)return 0;const i=Oa(s),r=Oa(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(s,e);case 3:return l_(s.timestampValue,e.timestampValue);case 4:return l_(uo(s),uo(e));case 5:return rd(s.stringValue,e.stringValue);case 6:return(function(h,d){const _=Ia(h),v=Ia(d);return _.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const A=Vt(_[y],v[y]);if(A!==0)return A}return Vt(_.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Vt(me(h.latitude),me(d.latitude));return _!==0?_:Vt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return o_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[mc]?.arrayValue,A=v[mc]?.arrayValue,x=Vt(y?.values?.length||0,A?.values?.length||0);return x!==0?x:o_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ju.mapValue&&d===Ju.mapValue)return 0;if(h===Ju.mapValue)return 1;if(d===Ju.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const O=rd(v[x],A[x]);if(O!==0)return O;const G=Cr(_[v[x]],y[A[x]]);if(G!==0)return G}return Vt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function l_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Va(s),r=Va(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function o_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Cr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function Nr(s){return ld(s)}function ld(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Va(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ia(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ld(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function ic(s){switch(Oa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(s);return e?16+ic(e):16;case 5:return 2*s.stringValue.length;case 6:return Ia(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ic(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ua(r.fields,((h,d)=>{o+=h.length+ic(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function u_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function od(s){return!!s&&"integerValue"in s}function Dd(s){return!!s&&"arrayValue"in s}function c_(s){return!!s&&"nullValue"in s}function h_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ac(s){return!!s&&"mapValue"in s}function Bb(s){return(s?.mapValue?.fields||{})[D0]?.stringValue===V0}function no(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ua(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=no(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(s.arrayValue.values[i]);return e}return{...s}}function kb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Lb}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ac(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=no(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ua(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new on(no(this.value))}}function I0(s){const e=[];return Ua(s.fields,((i,r)=>{const o=new Ge([i]);if(ac(r)){const h=I0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}class Xe{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Xe(e,0,vt.min(),vt.min(),vt.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,vt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,vt.min(),vt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,vt.min(),vt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Cr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!bi(s.position[i],e.position[i]))return!1;return!0}class fo{constructor(e,i="asc"){this.field=e,this.dir=i}}function qb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class O0{}class xe extends O0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Hb(e,i,r):i==="array-contains"?new Fb(e,r):i==="in"?new Yb(e,r):i==="not-in"?new Kb(e,r):i==="array-contains-any"?new Xb(e,r):new xe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Gb(e,r):new Qb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends O0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return M0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M0(s){return s.op==="and"}function j0(s){return Pb(s)&&M0(s)}function Pb(s){for(const e of s.filters)if(e instanceof Yn)return!1;return!0}function ud(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+Nr(s.value);if(j0(s))return s.filters.map((e=>ud(e))).join(",");{const e=s.filters.map((i=>ud(i))).join(",");return`${s.op}(${e})`}}function U0(s,e){return s instanceof xe?(function(r,o){return o instanceof xe&&r.op===o.op&&r.field.isEqual(o.field)&&bi(r.value,o.value)})(s,e):s instanceof Yn?(function(r,o){return o instanceof Yn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&U0(d,o.filters[_])),!0):!1})(s,e):void yt(19439)}function z0(s){return s instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Nr(i.value)}`})(s):s instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(z0).join(" ,")+"}"})(s):"Filter"}class Hb extends xe{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class Gb extends xe{constructor(e,i){super(e,"in",i),this.keys=L0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Qb extends xe{constructor(e,i){super(e,"not-in",i),this.keys=L0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function L0(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class Fb extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&ho(i.arrayValue,this.value)}}class Yb extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class Kb extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class Xb extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ho(this.value.arrayValue,r)))}}class Zb{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function m_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new Zb(s,e,i,r,o,h,d)}function Vd(s){const e=Tt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Nr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Nr(r))).join(",")),e.Te=i}return e.Te}function Id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!U0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!d_(s.startAt,e.startAt)&&d_(s.endAt,e.endAt)}function cd(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class kr{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jb(s,e,i,r,o,h,d,_){return new kr(s,e,i,r,o,h,d,_)}function Od(s){return new kr(s)}function g_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $b(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function B0(s){return s.collectionGroup!==null}function io(s){const e=Tt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new fo(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new fo(Ge.keyField(),r))}return e.Ie}function _i(s){const e=Tt(s);return e.Ee||(e.Ee=Wb(e,io(s))),e.Ee}function Wb(s,e){if(s.limitType==="F")return m_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new fo(o.field,h)}));const i=s.endAt?new gc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new gc(s.startAt.position,s.startAt.inclusive):null;return m_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function hd(s,e){const i=s.filters.concat([e]);return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function tA(s,e){const i=s.explicitOrderBy.concat([e]);return new kr(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function fd(s,e,i){return new kr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function wc(s,e){return Id(_i(s),_i(e))&&s.limitType===e.limitType}function k0(s){return`${Vd(_i(s))}|lt:${s.limitType}`}function vr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>z0(o))).join(", ")}]`),Sc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Nr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Nr(o))).join(",")),`Target(${r})`})(_i(s))}; limitType=${s.limitType})`}function Rc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of io(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,v){const y=f_(d,_,v);return d.inclusive?y<=0:y<0})(r.startAt,io(r),o)||r.endAt&&!(function(d,_,v){const y=f_(d,_,v);return d.inclusive?y>=0:y>0})(r.endAt,io(r),o))})(s,e)}function eA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function q0(s){return(e,i)=>{let r=!1;for(const o of io(s)){const h=nA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function nA(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?Cr(v,y):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class Ss{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const iA=new le(ft.comparator);function Gi(){return iA}const P0=new le(ft.comparator);function Jl(...s){let e=P0;for(const i of s)e=e.insert(i.key,i);return e}function H0(s){let e=P0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _s(){return ao()}function G0(){return ao()}function ao(){return new Ss((s=>s.toString()),((s,e)=>s.isEqual(e)))}const aA=new le(ft.comparator),sA=new Ie(ft.comparator);function It(...s){let e=sA;for(const i of s)e=e.add(i);return e}const rA=new Ie(Vt);function lA(){return rA}function Md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Q0(s){return{integerValue:""+s}}function oA(s,e){return Ib(e)?Q0(e):Md(s,e)}class Cc{constructor(){this._=void 0}}function uA(s,e,i){return s instanceof mo?(function(o,h){const d={fields:{[R0]:{stringValue:w0},[N0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Nd(h)&&(h=xc(h)),h&&(d.fields[C0]=h),{mapValue:d}})(i,e):s instanceof Dr?Y0(s,e):s instanceof Vr?K0(s,e):(function(o,h){const d=F0(o,h),_=p_(d)+p_(o.Ae);return od(d)&&od(o.Ae)?Q0(_):Md(o.serializer,_)})(s,e)}function cA(s,e,i){return s instanceof Dr?Y0(s,e):s instanceof Vr?K0(s,e):i}function F0(s,e){return s instanceof pc?(function(r){return od(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class mo extends Cc{}class Dr extends Cc{constructor(e){super(),this.elements=e}}function Y0(s,e){const i=X0(e);for(const r of s.elements)i.some((o=>bi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Vr extends Cc{constructor(e){super(),this.elements=e}}function K0(s,e){let i=X0(e);for(const r of s.elements)i=i.filter((o=>!bi(o,r)));return{arrayValue:{values:i}}}class pc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function p_(s){return me(s.integerValue||s.doubleValue)}function X0(s){return Dd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jd{constructor(e,i){this.field=e,this.transform=i}}function hA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Dr&&o instanceof Dr||r instanceof Vr&&o instanceof Vr?Rr(r.elements,o.elements,bi):r instanceof pc&&o instanceof pc?bi(r.Ae,o.Ae):r instanceof mo&&o instanceof mo})(s.transform,e.transform)}class fA{constructor(e,i){this.version=e,this.transformResults=i}}class Qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nc{}function Z0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ud(s.key,Qn.none()):new po(s.key,s.data,Qn.none());{const i=s.data,r=on.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new za(s.key,r,new _n(o.toArray()),Qn.none())}}function dA(s,e,i){s instanceof po?(function(o,h,d){const _=o.value.clone(),v=__(o.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):s instanceof za?(function(o,h,d){if(!sc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=__(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(J0(o)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function so(s,e,i,r){return s instanceof po?(function(h,d,_,v){if(!sc(h.precondition,d))return _;const y=h.value.clone(),A=v_(h.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof za?(function(h,d,_,v){if(!sc(h.precondition,d))return _;const y=v_(h.fieldTransforms,v,d),A=d.data;return A.setAll(J0(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(h,d,_){return sc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,e,i)}function mA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=F0(r.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function y_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Rr(r,o,((h,d)=>hA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class po extends Nc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class za extends Nc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function J0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function __(s,e,i){const r=new Map;Pt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,cA(d,_,i[o]))}return r}function v_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,uA(h,d,e))}return r}class Ud extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gA extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&dA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=G0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const v=Z0(d,_);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,((i,r)=>y_(i,r)))&&Rr(this.baseMutations,e.baseMutations,((i,r)=>y_(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return aA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new zd(e,i,r,o)}}class yA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _A{constructor(e,i){this.count=e,this.unchangedNames=i}}var Se,jt;function vA(s){switch(s){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function $0(s){if(s===void 0)return Hi("GRPC error has no .code"),X.UNKNOWN;switch(s){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:s})}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function EA(){return new TextEncoder}const TA=new Ra([4294967295,4294967295],0);function E_(s){const e=EA().encode(s),i=new d0;return i.update(e),new Uint8Array(i.digest())}function T_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ra([i,r],0),new Ra([o,h],0)]}class Ld{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ra.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ra.fromNumber(r)));return o.compare(TA)===1&&(o=new Ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dc(vt.min(),o,new le(Vt),Gi(),It())}}class yo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yo(r,i,It(),It(),It())}}class rc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class W0{constructor(e,i){this.targetId=e,this.Ce=i}}class tv{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class b_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:h})}})),new yo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=A_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.He=$u(),this.Je=$u(),this.Ze=new le(Vt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(cd(h))if(r===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,vt.min()))}else Pt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Ia(r).toUint8Array()}catch(v){if(v instanceof x0)return bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Ld(d,o,h)}catch(v){return bs(v instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&cd(_.target)){const v=new ft(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=It();this.Je.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Dc(e,i,this.Ze,this.je,r);return this.je=Gi(),this.He=$u(),this.Je=$u(),this.Ze=new le(Vt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(Vt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(Vt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function $u(){return new le(ft.comparator)}function A_(){return new le(ft.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},SA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(s,e){return s.useProto3Json||Sc(e)?e:{value:e}}function yc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ev(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function RA(s,e){return yc(s,e.toTimestamp())}function vi(s){return Pt(!!s,49232),vt.fromTimestamp((function(i){const r=Va(i);return new te(r.seconds,r.nanos)})(s))}function Bd(s,e){return md(s,e).canonicalString()}function md(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nv(s){const e=Wt.fromString(s);return Pt(lv(e),10190,{key:e.toString()}),e}function gd(s,e){return Bd(s.databaseId,e.path)}function Yf(s,e){const i=nv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(av(i))}function iv(s,e){return Bd(s.databaseId,e)}function CA(s){const e=nv(s);return e.length===4?Wt.emptyPath():av(e)}function pd(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function av(s){return Pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S_(s,e,i){return{name:gd(s,e),fields:i.value.mapValue.fields}}function NA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,A){return y.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:$0(y.code);return new at(A,y.message||"")})(d);i=new tv(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yf(s,r.document.name),h=vi(r.document.updateTime),d=r.document.createTime?vi(r.document.createTime):vt.min(),_=new on({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,_),y=r.targetIds||[],A=r.removedTargetIds||[];i=new rc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yf(s,r.document),h=r.readTime?vi(r.readTime):vt.min(),d=Xe.newNoDocument(o,h),_=r.removedTargetIds||[];i=new rc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yf(s,r.document),h=r.removedTargetIds||[];i=new rc([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new _A(o,h),_=r.targetId;i=new W0(_,d)}}return i}function DA(s,e){let i;if(e instanceof po)i={update:S_(s,e.key,e.value)};else if(e instanceof Ud)i={delete:gd(s,e.key)};else if(e instanceof za)i={update:S_(s,e.key,e.data),updateMask:BA(e.fieldMask)};else{if(!(e instanceof gA))return yt(16599,{dt:e.type});i={verify:gd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof mo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Dr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Vr)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof pc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:RA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(s,e.precondition)),i}function VA(s,e){return s&&s.length>0?(Pt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?vi(o.updateTime):vi(h);return d.isEqual(vt.min())&&(d=vi(h)),new fA(d,o.transformResults||[])})(i,e)))):[]}function IA(s,e){return{documents:[iv(s,e.path)]}}function OA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iv(s,o);const h=(function(y){if(y.length!==0)return rv(Yn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Er(O.field),direction:UA(O.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=dd(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function MA(s){let e=CA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Pt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(x){const O=sv(x);return O instanceof Yn&&j0(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((O=>(function(J){return new fo(Tr(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let _=null;i.limit&&(_=(function(x){let O;return O=typeof x=="object"?x.value:x,Sc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(x){const O=!!x.before,G=x.values||[];return new gc(G,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const O=!x.before,G=x.values||[];return new gc(G,O)})(i.endAt)),Jb(e,o,d,h,_,"F",v,y)}function jA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Tr(i.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Tr(i.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Tr(i.unaryFilter.field);return xe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Tr(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return xe.create(Tr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((r=>sv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function UA(s){return AA[s]}function zA(s){return SA[s]}function LA(s){return xA[s]}function Er(s){return{fieldPath:s.canonicalString()}}function Tr(s){return Ge.fromServerFormat(s.fieldPath)}function rv(s){return s instanceof xe?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(i.field),op:zA(i.op),value:i.value}}})(s):s instanceof Yn?(function(i){const r=i.getFilters().map((o=>rv(o)));return r.length===1?r[0]:{compositeFilter:{op:LA(i.op),filters:r}}})(s):yt(54877,{filter:s})}function BA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function ov(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Sa{constructor(e,i,r,o,h=vt.min(),d=vt.min(),_=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kA{constructor(e){this.yt=e}}function qA(s){const e=MA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fd(e,e.limit,"L"):e}class PA{constructor(){this.Sn=new HA}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Da.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class HA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ie(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ie(Wt.comparator)).toArray()}}const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(uv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Ir{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ir(0)}static ar(){return new Ir(-1)}}const w_="LruGarbageCollector",GA=1048576;function R_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class QA{constructor(e){this.Pr=e,this.buffer=new Ie(R_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();R_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Br(i)?st(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Lr(i)}await this.Ar(3e5)}))}}class YA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ac.ce);const r=new QA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(x_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,_,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,_=Date.now(),this.removeTargets(e,r,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),_r()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${x} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function KA(s,e){return new YA(s,e)}class XA{constructor(){this.changes=new Ss((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class JA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&so(r.mutation,o,_n.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Jl();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_s();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=Gi();const d=ao(),_=(function(){return ao()})();return i.forEach(((v,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof za)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),so(A.mutation,y,A.mutation.getFieldMask(),te.now())):d.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>_.set(y,new ZA(A,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=ao();let o=new le(((d,_)=>d-_)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=r.get(v)||_n.empty();A=_.applyToLocalView(y,A),r.set(v,A);const x=(o.get(_.batchId)||It()).add(v);o=o.insert(_.batchId,x)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,A=v.value,x=G0();A.forEach((O=>{if(!h.has(O)){const G=Z0(i.get(O),r.get(O));G!==null&&x.set(O,G),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return $b(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):B0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(_s());let _=oo,v=h;return d.next((y=>Z.forEach(y,((A,x)=>(_<x.largestBatchId&&(_=x.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,It()))).next((A=>({batchId:_,changes:H0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,h).next((_=>Z.forEach(_,(v=>{const y=(function(x,O){return new kr(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((A=>{A.forEach(((x,O)=>{d=d.insert(x,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let _=Jl();return d.forEach(((v,y)=>{const A=h.get(v);A!==void 0&&so(A.mutation,y,_n.empty(),te.now()),Rc(i,y)&&(_=_.insert(v,y))})),_}))}}class $A{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:qA(o.bundledQuery),readTime:vi(o.readTime)}})(i)),Z.resolve()}}class WA{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=_s(),h=i.length+1,d=new ft(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=h.get(y.largestBatchId);A===null&&(A=_s(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const _=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>_.set(y,A))),!(_.size()>=o)););return Z.resolve(_)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new yA(i,r));let h=this.Lr.get(i);h===void 0&&(h=It(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class tS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class kd{constructor(){this.kr=new Ie(Ue.Kr),this.qr=new Ie(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=It();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||Vt(e.Hr,i.Hr)}static Ur(e,i){return Vt(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}class eS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(Ue.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pA(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Ue(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Cd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const _=this.Zr(d.Hr);h.push(_)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ie(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(_=>{r=r.add(_.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let _=new Ie(Vt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nS{constructor(e){this.ti=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Gi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Gi();const d=i.path,_=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Cb(Rb(A),r)<=0||(o.has(A.key)||Rc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new iS(this)}getSize(e){return Z.resolve(this.size)}}class iS extends XA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class aS{constructor(e){this.persistence=e,this.ri=new Ss((i=>Vd(i)),Id),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new kd,this.targetCount=0,this.oi=Ir._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Ir(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class cv{constructor(e,i){this._i={},this.overlays={},this.ai=new Ac(0),this.ui=!1,this.ui=!0,this.ci=new tS,this.referenceDelegate=e(this),this.li=new aS(this),this.indexManager=new PA,this.remoteDocumentCache=(function(o){return new nS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kA(i),this.Pi=new $A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new eS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new sS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class sS extends Db{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.Ri=new kd,this.Ai=null}static Vi(e){return new qd(e)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ft.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.fi=new Ss((r=>Ob(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=KA(this,i)}static Vi(e,i){return new _c(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(r++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Pd(e,i.fromCache,r,o)}}class rS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZT()?8:Vb(KT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new rS;return this.ys(e,i,d).next((_=>{if(h.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(_r()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",vr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(_r()<=Ut.DEBUG&&st("QueryEngine","Query:",vr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(_r()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",vr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):Z.resolve())}gs(e,i){if(g_(i))return Z.resolve(null);let r=_i(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fd(i,null,"F"),r=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=It(...h);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.bs(i,_);return this.Ss(i,y,d,v.readTime)?this.gs(e,fd(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,r,o){return g_(i)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?Z.resolve(null):(_r()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vr(i)),this.Ds(e,d,i,wb(o,oo)).next((_=>_)))}))}bs(e,i){let r=new Ie(q0(e));return i.forEach(((o,h)=>{Rc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return _r()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",vr(i)),this.fs.getDocumentsMatchingQuery(e,i,Da.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Hd="LocalStore",oS=3e8;class uS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new le(Vt),this.Fs=new Ss((h=>Vd(h)),Id),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function cS(s,e,i,r){return new uS(s,e,i,r)}async function hv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let v=It();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of h){_.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function hS(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,A){const x=y.batch,O=x.keys();let G=Z.resolve();return O.forEach((J=>{G=G.next((()=>A.getEntry(v,J))).next(($=>{const W=y.docVersions.get(J);Pt(W!==null,48541),$.version.compareTo(W)<0&&(x.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),A.addEntry($)))}))})),G.next((()=>_.mutationQueue.removeMutationBatch(v,x)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=It();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function fv(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function fS(s,e){const i=Tt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((A,x)=>{const O=o.get(x);if(!O)return;_.push(i.li.removeMatchingKeys(h,A.removedDocuments,x).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,x))));let G=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(x,G),(function($,W,mt){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=oS?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(O,G,A)&&_.push(i.li.updateTargetData(h,G))}));let v=Gi(),y=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),_.push(dS(h,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!r.isEqual(vt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((x=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(A)}return Z.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.vs=o,h)))}function dS(s,e,i){let r=It(),o=It();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Gi();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):st(Hd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function mS(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gS(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function yd(s,e,i){const r=Tt(s),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Br(d))throw d;st(Hd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function C_(s,e,i){const r=Tt(s);let o=vt.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const x=Tt(v),O=x.Fs.get(A);return O!==void 0?Z.resolve(x.vs.get(O)):x.li.getTargetData(y,A)})(r,d,_i(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:It()))).next((_=>(pS(r,eA(e),_),{documents:_,ks:h})))))}function pS(s,e,i){let r=s.Ms.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Ms.set(e,r)}class N_{constructor(){this.activeTargetIds=lA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(){this.vo=new N_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new N_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _S{Mo(e){}shutdown(){}}const D_="ConnectivityMonitor";class V_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wu=null;function _d(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}const Kf="RestConnection",vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ES{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===dc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=_d(),_=this.Qo(e,i.toUriEncodedString());st(Kf,`Sending RPC '${e}' ${d}:`,_,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:y}=new URL(_),A=Sd(y);return this.zo(e,_,v,r,A).then((x=>(st(Kf,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw bs(Kf,`RPC '${e}' ${d} failed with error: `,x,"url: ",_,"request:",r),x}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=vS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class TS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",Xl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ar extends ES{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ar.c_){const e=y0();Xl(e,p0.STAT_EVENT,(i=>{i.stat===sd.PROXY?st(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===sd.NOPROXY&&st(Ye,"STAT_EVENT: detected no buffering proxy")})),Ar.c_=!0}}zo(e,i,r,o,h){const d=_d();return new Promise(((_,v)=>{const y=new m0;y.setWithCredentials(!0),y.listenOnce(g0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nc.NO_ERROR:const x=y.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),_(x);break;case nc.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const O=y.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const $=(function(mt){const ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN})(J.status);v(new at($,J.message))}else v(new at(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=_d(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const y=h.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,_);const A=d.createWebChannel(y,_);this.I_(A);let x=!1,O=!1;const G=new TS({Ho:J=>{O?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Jo:()=>A.close()});return Xl(A,Zl.EventType.OPEN,(()=>{O||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),Xl(A,Zl.EventType.CLOSE,(()=>{O||(O=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(A))})),Xl(A,Zl.EventType.ERROR,(J=>{O||(O=!0,bs(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),G.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),Xl(A,Zl.EventType.MESSAGE,(J=>{if(!O){const $=J.data[0];Pt(!!$,16349);const W=$,mt=W?.error||W[0]?.error;if(mt){st(Ye,`RPC '${e}' stream ${o} received error:`,mt);const ut=mt.status;let pt=(function(it){const w=Se[it];if(w!==void 0)return $0(w)})(ut),ct=mt.message;ut==="NOT_FOUND"&&ct.includes("database")&&ct.includes("does not exist")&&ct.includes(this.databaseId.database)&&bs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),pt===void 0&&(pt=X.INTERNAL,ct="Unknown error status: "+ut+" with message "+mt.message),O=!0,G.o_(new at(pt,ct)),A.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,$),G.__($)}})),Ar.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _0()}}function bS(s){return new Ar(s)}function Xf(){return typeof document<"u"?document:null}function Vc(s){return new wA(s,!0)}Ar.c_=!1;class dv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const I_="PersistentStream";class mv{constructor(e,i,r,o,h,d,_,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AS extends mv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=NA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?vi(d.readTime):vt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=cd(v)?{documents:IA(h,v)}:{query:OA(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=ev(h,d.resumeToken);const y=dd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){_.readTime=yc(h,d.snapshotVersion.toTimestamp());const y=dd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=jA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.K_(i)}}class SS extends mv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=VA(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>DA(this.serializer,r)))};this.K_(i)}}class xS{}class wS extends xS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,md(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,md(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RS(s,e,i,r){return new wS(s,e,i,r)}class CS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const As="RemoteStore";class NS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{xs(this)&&(st(As,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await _o(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ic(y)})(this))}))})),this.Va=new CS(r,o)}}async function Ic(s){if(xs(s))for(const e of s.Ra)await e(!0)}async function _o(s){for(const e of s.Ra)await e(!1)}function gv(s,e){const i=Tt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Yd(i)?Fd(i):qr(i).O_()&&Qd(i,e))}function Gd(s,e){const i=Tt(s),r=qr(i);i.Ia.delete(e),r.O_()&&pv(i,e),i.Ia.size===0&&(r.O_()?r.L_():xs(i)&&i.Va.set("Unknown"))}function Qd(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qr(s).Z_(e)}function pv(s,e){s.da.$e(e),qr(s).X_(e)}function Fd(s){s.da=new bA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),qr(s).start(),s.Va.ua()}function Yd(s){return xs(s)&&!qr(s).x_()&&s.Ia.size>0}function xs(s){return Tt(s).Ea.size===0}function yv(s){s.da=void 0}async function DS(s){s.Va.set("Online")}async function VS(s){s.Ia.forEach(((e,i)=>{Qd(s,e)}))}async function IS(s,e){yv(s),Yd(s)?(s.Va.ha(e),Fd(s)):s.Va.set("Unknown")}async function OS(s,e,i){if(s.Va.set("Online"),e instanceof tv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(s,e)}catch(r){st(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(s,r)}else if(e instanceof rc?s.da.Xe(e):e instanceof W0?s.da.st(e):s.da.tt(e),!i.isEqual(vt.min()))try{const r=await fv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.da.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(y);A&&h.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),pv(h,v);const x=new Sa(A.target,v,y,A.sequenceNumber);Qd(h,x)})),h.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(r){st(As,"Failed to raise snapshot:",r),await vc(s,r)}}async function vc(s,e,i){if(!Br(e))throw e;s.Ea.add(1),await _o(s),s.Va.set("Offline"),i||(i=()=>fv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(As,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ic(s)}))}function _v(s,e){return e().catch((i=>vc(s,i,e)))}async function Oc(s){const e=Tt(s),i=Ma(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;MS(e);)try{const o=await mS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,jS(e,o)}catch(o){await vc(e,o)}vv(e)&&Ev(e)}function MS(s){return xs(s)&&s.Ta.length<10}function jS(s,e){s.Ta.push(e);const i=Ma(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function vv(s){return xs(s)&&!Ma(s).x_()&&s.Ta.length>0}function Ev(s){Ma(s).start()}async function US(s){Ma(s).ra()}async function zS(s){const e=Ma(s);for(const i of s.Ta)e.ea(i.mutations)}async function LS(s,e,i){const r=s.Ta.shift(),o=zd.from(r,e,i);await _v(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Oc(s)}async function BS(s,e){e&&Ma(s).Y_&&await(async function(r,o){if((function(d){return vA(d)&&d!==X.ABORTED})(o.code)){const h=r.Ta.shift();Ma(r).B_(),await _v(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(r)}})(s,e),vv(s)&&Ev(s)}async function O_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(As,"RemoteStore received new credentials");const r=xs(i);i.Ea.add(3),await _o(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function kS(s,e){const i=Tt(s);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await _o(i),i.Va.set("Unknown"))}function qr(s){return s.ma||(s.ma=(function(i,r,o){const h=Tt(i);return h.sa(),new AS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:DS.bind(null,s),Yo:VS.bind(null,s),t_:IS.bind(null,s),J_:OS.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Yd(s)?Fd(s):s.Va.set("Unknown")):(await s.ma.stop(),yv(s))}))),s.ma}function Ma(s){return s.fa||(s.fa=(function(i,r,o){const h=Tt(i);return h.sa(),new SS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:US.bind(null,s),t_:BS.bind(null,s),ta:zS.bind(null,s),na:LS.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Oc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(As,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Kd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new Kd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(s,e){if(Hi("AsyncQueue",`${e}: ${s}`),Br(s))return new at(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Jl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Sr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class M_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Or{constructor(e,i,r,o,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new Or(e,i,Sr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class qS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class PS{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Tt(i),h=o.queries;o.queries=j_(),h.forEach(((d,_)=>{for(const v of _.ba)v.onError(r)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function j_(){return new Ss((s=>k0(s)),wc)}async function HS(s,e){const i=Tt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new qS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Xd(d,`Initialization of query '${vr(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Zd(i)}async function GS(s,e){const i=Tt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function QS(s,e){const i=Tt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.ba)_.Fa(o)&&(r=!0);d.wa=o}}r&&Zd(i)}function FS(s,e,i){const r=Tt(s),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Zd(s){s.Ca.forEach((e=>{e.next()}))}var vd,U_;(U_=vd||(vd={})).Ma="default",U_.Cache="cache";class YS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Or(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Or.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}class Tv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class KS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=q0(e),this.tu=new Sr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new M_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,x)=>{const O=o.get(A),G=Rc(this.query,x)?x:null,J=!!O&&this.mutatedKeys.has(O.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;O&&G?O.data.isEqual(G.data)?J!==$&&(r.track({type:3,doc:G}),W=!0):this.su(O,G)||(r.track({type:2,doc:G}),W=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(_=!0)):!O&&G?(r.track({type:0,doc:G}),W=!0):O&&!G&&(r.track({type:1,doc:O}),W=!0,(v||y)&&(_=!0)),W&&(G?(d=d.add(G),h=$?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(G,J){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:W})}};return $(G)-$(J)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Or(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new bv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Tv(r))})),i}cu(e){this.Za=e.ks,this.Ya=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Or.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jd="SyncEngine";class XS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ZS{constructor(e){this.key=e,this.hu=!1}}class JS{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ss((_=>k0(_)),wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new kd,this.du={},this.mu=new Map,this.fu=Ir.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $S(s,e,i=!0){const r=Cv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Av(r,e,i,!0),o}async function WS(s,e){const i=Cv(s);await Av(i,e,!0,!1)}async function Av(s,e,i,r){const o=await gS(s.localStore,_i(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await t2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&gv(s.remoteStore,o),_}async function t2(s,e,i,r,o){s.pu=(x,O,G)=>(async function($,W,mt,ut){let pt=W.view.ru(mt);pt.Ss&&(pt=await C_($.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,pt))));const ct=ut&&ut.targetChanges.get(W.targetId),$t=ut&&ut.targetMismatches.get(W.targetId)!=null,it=W.view.applyChanges(pt,$.isPrimaryClient,ct,$t);return L_($,W.targetId,it.au),it.snapshot})(s,x,O,G);const h=await C_(s.localStore,e,!0),d=new KS(e,h.ks),_=d.ru(h.documents),v=yo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(_,s.isPrimaryClient,v);L_(s,i,y.au);const A=new XS(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function e2(s,e,i){const r=Tt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!wc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Gd(r.remoteStore,o.targetId),Ed(r,o.targetId)})).catch(Lr)):(Ed(r,o.targetId),await yd(r.localStore,o.targetId,!0))}async function n2(s,e){const i=Tt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(i.remoteStore,r.targetId))}async function i2(s,e,i){const r=c2(s);try{const o=await(function(d,_){const v=Tt(d),y=te.now(),A=_.reduce(((G,J)=>G.add(J.key)),It());let x,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=Gi(),$=It();return v.xs.getEntries(G,A).next((W=>{J=W,J.forEach(((mt,ut)=>{ut.isValidDocument()||($=$.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next((W=>{x=W;const mt=[];for(const ut of _){const pt=mA(ut,x.get(ut.key).overlayedDocument);pt!=null&&mt.push(new za(ut.key,pt,I0(pt.value.mapValue),Qn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,mt,_)})).next((W=>{O=W;const mt=W.applyToLocalDocumentSet(x,$);return v.documentOverlayCache.saveOverlays(G,W.batchId,mt)}))})).then((()=>({batchId:O.batchId,changes:H0(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Vt)),y=y.insert(_,v),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await vo(r,o.changes),await Oc(r.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function Sv(s,e){const i=Tt(s);try{const r=await fS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await vo(i,r,e)}catch(r){await Lr(r)}}function z_(s,e,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const v=Tt(d);v.onlineState=_;let y=!1;v.queries.forEach(((A,x)=>{for(const O of x.ba)O.va(_)&&(y=!0)})),y&&Zd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a2(s,e,i){const r=Tt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new le(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,vt.min()));const _=It().add(h),v=new Dc(vt.min(),new Map,new le(Vt),d,_);await Sv(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),$d(r)}else await yd(r.localStore,e,!1).then((()=>Ed(r,e,i))).catch(Lr)}async function s2(s,e){const i=Tt(s),r=e.batch.batchId;try{const o=await hS(i.localStore,e);wv(i,r,null),xv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vo(i,o)}catch(o){await Lr(o)}}async function r2(s,e,i){const r=Tt(s);try{const o=await(function(d,_){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,_).next((x=>(Pt(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(y,x)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);wv(r,e,i),xv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vo(r,o)}catch(o){await Lr(o)}}function xv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function wv(s,e,i){const r=Tt(s);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||Rv(s,r)}))}function Rv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Gd(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),$d(s))}function L_(s,e,i){for(const r of i)r instanceof Tv?(s.Vu.addReference(r.key,e),l2(s,r)):r instanceof bv?(st(Jd,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||Rv(s,r.key)):yt(19791,{wu:r})}function l2(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(st(Jd,"New document in limbo: "+i),s.Eu.add(r),$d(s))}function $d(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new ZS(i)),s.Ru=s.Ru.insert(i,r),gv(s.remoteStore,new Sa(_i(Od(i.path)),r,"TargetPurposeLimboResolution",Ac.ce))}}async function vo(s,e,i){const r=Tt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Pd.Es(v.targetId,y);h.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,y){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(y,(O=>Z.forEach(O.Ts,(G=>A.persistence.referenceDelegate.addReference(x,O.targetId,G))).next((()=>Z.forEach(O.Is,(G=>A.persistence.referenceDelegate.removeReference(x,O.targetId,G)))))))))}catch(x){if(!Br(x))throw x;st(Hd,"Failed to update sequence numbers: "+x)}for(const x of y){const O=x.targetId;if(!x.fromCache){const G=A.vs.get(O),J=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(O,$)}}})(r.localStore,h))}async function o2(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){st(Jd,"User change. New user:",e.toKey());const r=await hv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vo(i,r.Ns)}}function u2(s,e){const i=Tt(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function Cv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a2.bind(null,e),e.Pu.J_=QS.bind(null,e.eventManager),e.Pu.yu=FS.bind(null,e.eventManager),e}function c2(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cS(this.persistence,new lS,e.initialUser,this.serializer)}Cu(e){return new cv(qd.Vi,this.serializer)}Du(e){return new yS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class h2 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof _c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new cv((r=>_c.Vi(r,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PS})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=bS(e.databaseInfo);return RS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new NS(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>z_(this.syncEngine,i,0)),(function(){return V_.v()?new V_:new _S})())}createSyncEngine(e,i){return(function(o,h,d,_,v,y,A){const x=new JS(o,h,d,_,v,y);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);st(As,"RemoteStore shutting down."),r.Ea.add(5),await _o(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Td.provider={build:()=>new Td};class f2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ja="FirestoreClient";class d2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zf(s,e){s.asyncQueue.verifyOperationInProgress(),st(ja,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function B_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await m2(s);st(ja,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>O_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>O_(e.remoteStore,o))),s._onlineComponents=e}async function m2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(ja,"Using user provided OfflineComponentProvider");try{await Zf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;bs("Error using user provided cache. Falling back to memory cache: "+i),await Zf(s,new Ec)}}else st(ja,"Using default OfflineComponentProvider"),await Zf(s,new h2(void 0));return s._offlineComponents}async function Nv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(ja,"Using user provided OnlineComponentProvider"),await B_(s,s._uninitializedComponentsProvider._online)):(st(ja,"Using default OnlineComponentProvider"),await B_(s,new Td))),s._onlineComponents}function g2(s){return Nv(s).then((e=>e.syncEngine))}async function k_(s){const e=await Nv(s),i=e.eventManager;return i.onListen=$S.bind(null,e.syncEngine),i.onUnlisten=e2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),i}function p2(s,e,i,r){const o=new f2(r),h=new YS(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>HS(await k_(s),h))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>GS(await k_(s),h)))}}function y2(s,e){const i=new vs;return s.asyncQueue.enqueueAndForget((async()=>i2(await g2(s),e,i))),i.promise}function Dv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _2="ComponentProvider",q_=new Map;function v2(s,e,i,r,o){return new Ub(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Dv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Vv="firestore.googleapis.com",P_=!0;class H_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vv,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gb;switch(r.type){case"firstParty":return new vb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=q_.get(i);r&&(st(_2,"Removing Datastore"),q_.delete(i),r.terminate())})(this),Promise.resolve()}}function E2(s,e,i,r={}){s=Ca(s,Mc);const o=Sd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},_=`${e}:${i}`;o&&(HT(`https://${_}`),YT("Firestore",!0)),h.host!==Vv&&h.host!==_&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:o,emulatorOptions:r};if(!wr(v,d)&&(s._setSettings(v),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Ke.MOCK_USER;else{y=GT(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(x)}s._authCredentials=new pb(new E0(y,A))}}class ws{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class Re{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(go(i,Re._jsonSchema))return new Re(e,r||null,new ft(Wt.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),referencePath:we("string")};class Na extends ws{constructor(e,i,r){super(e,i,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new ft(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Jf(s,e,...i){if(s=Ti(s),T0("collection","path",e),s instanceof Mc){const r=Wt.fromString(e,...i);return e_(r),new Na(s,null,r)}{if(!(s instanceof Re||s instanceof Na))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return e_(r),new Na(s.firestore,null,r)}}function Wl(s,e,...i){if(s=Ti(s),arguments.length===1&&(e=Rd.newId()),T0("doc","path",e),s instanceof Mc){const r=Wt.fromString(e,...i);return t_(r),new Re(s,null,new ft(r))}{if(!(s instanceof Re||s instanceof Na))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return t_(r),new Re(s.firestore,s instanceof Na?s.converter:null,new ft(r))}}const G_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dv(this,"async_queue_retry"),this._c=()=>{const r=Xf();r&&st(G_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Br(e))throw e;st(G_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Kd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Mr extends Mc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Q_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function T2(s,e){const i=typeof s=="object"?s:ib(),r=typeof s=="string"?s:dc,o=$1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=qT("firestore");h&&E2(o,...h)}return o}function Iv(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||b2(s),s._firestoreClient}function b2(s){const e=s._freezeSettings(),i=v2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new d2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Qe.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:we("string",In._jsonSchemaVersion),bytes:we("string")};class Wd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pr{constructor(e){this._methodName=e}}class Ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(go(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:we("string",Ei._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Fn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Fn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fn(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fn._jsonSchemaVersion="firestore/vectorValue/1.0",Fn._jsonSchema={type:we("string",Fn._jsonSchemaVersion),vectorValues:we("object")};const A2=/^__.*__$/;class S2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}class Ov{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new za(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Mv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:s})}}class jc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Tc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Mv(this.dataSource)&&A2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class x2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}createContext(e,i,r,o=!1){return new jc({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(s){const e=s._freezeSettings(),i=Vc(s._databaseId);return new x2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function w2(s,e,i,r,o,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,r);const _=Uv(r,d);let v,y;if(h.merge)v=new _n(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const x of h.mergeFields){const O=jr(e,x,i);if(!d.contains(O))throw new at(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Bv(A,O)||A.push(O)}v=new _n(A),y=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,y=d.fieldTransforms;return new S2(new on(_),v,y)}class Uc extends Pr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function jv(s,e,i){return new jc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class em extends Pr{_toFieldTransform(e){return new jd(e.path,new mo)}isEqual(e){return e instanceof em}}class nm extends Pr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=jv(this,e,!0),r=this.Ac.map((h=>Rs(h,i))),o=new Dr(r);return new jd(e.path,o)}isEqual(e){return e instanceof nm&&wr(this.Ac,e.Ac)}}class im extends Pr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=jv(this,e,!0),r=this.Ac.map((h=>Rs(h,i))),o=new Vr(r);return new jd(e.path,o)}isEqual(e){return e instanceof im&&wr(this.Ac,e.Ac)}}function R2(s,e,i,r){const o=s.createContext(1,e,i);am("Data must be an object, but it was:",o,r);const h=[],d=on.empty();Ua(r,((v,y)=>{const A=Lv(e,v,i);y=Ti(y);const x=o.childContextForFieldPath(A);if(y instanceof Uc)h.push(A);else{const O=Rs(y,x);O!=null&&(h.push(A),d.set(A,O))}}));const _=new _n(h);return new Ov(d,_,o.fieldTransforms)}function C2(s,e,i,r,o,h){const d=s.createContext(1,e,i),_=[jr(e,r,i)],v=[o];if(h.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)_.push(jr(e,h[O])),v.push(h[O+1]);const y=[],A=on.empty();for(let O=_.length-1;O>=0;--O)if(!Bv(y,_[O])){const G=_[O];let J=v[O];J=Ti(J);const $=d.childContextForFieldPath(G);if(J instanceof Uc)y.push(G);else{const W=Rs(J,$);W!=null&&(y.push(G),A.set(G,W))}}const x=new _n(y);return new Ov(A,x,d.fieldTransforms)}function N2(s,e,i,r=!1){return Rs(i,s.createContext(r?4:3,e))}function Rs(s,e){if(zv(s=Ti(s)))return am("Unsupported field value:",e,s),Uv(s,e);if(s instanceof Pr)return(function(r,o){if(!Mv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let v=Rs(_,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:yc(o.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(r instanceof Ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:ev(o.serializer,r._byteString)};if(r instanceof Re){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fn)return(function(d,_){const v=d instanceof Fn?d.toArray():d;return{mapValue:{fields:{[D0]:{stringValue:V0},[mc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw _.createError("VectorValues must only contain numeric values.");return Md(_.serializer,A)}))}}}}}})(r,o);if(ov(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bc(r)}`)})(s,e)}function Uv(s,e){const i={};return S0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(s,((r,o)=>{const h=Rs(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function zv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof Ei||s instanceof In||s instanceof Re||s instanceof Pr||s instanceof Fn||ov(s))}function am(s,e,i){if(!zv(i)||!b0(i)){const r=bc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function jr(s,e,i){if((e=Ti(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return Lv(s,e);throw Tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function Lv(s,e,i){if(e.search(D2)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Wd(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new at(X.INVALID_ARGUMENT,_+s+v)}function Bv(s,e){return s.some((i=>i.isEqual(e)))}class V2{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ua(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[mc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Fn(i)}convertGeoPoint(e){return new Ei(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Va(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);Pt(lv(r),9688,{name:e});const o=new co(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class kv extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function Y_(){return new em("serverTimestamp")}function K_(...s){return new nm("arrayUnion",s)}function X_(...s){return new im("arrayRemove",s)}const Z_="@firebase/firestore",J_="4.11.0";function $_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class qv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(jr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I2 extends qv{data(){return super.data()}}function O2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sm{}class Pv extends sm{}function M2(s,e,...i){let r=[];e instanceof sm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof lm)).length,_=h.filter((v=>v instanceof rm)).length;if(d>1||d>0&&_>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class rm extends Pv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new rm(e,i,r)}_apply(e){const i=this._parse(e);return Hv(e._query,i),new ws(e.firestore,e.converter,hd(e._query,i))}_parse(e){const i=tm(e.firestore);return(function(h,d,_,v,y,A,x){let O;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){t0(x,A);const J=[];for(const $ of x)J.push(W_(v,h,$));O={arrayValue:{values:J}}}else O=W_(v,h,x)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||t0(x,A),O=N2(_,d,x,A==="in"||A==="not-in");return xe.create(y,A,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class lm extends sm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new lm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const _=h.getFlattenedFilters();for(const v of _)Hv(d,v),d=hd(d,v)})(e._query,i),new ws(e.firestore,e.converter,hd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class om extends Pv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new om(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fo(h,d)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,tA(e._query,i))}}function j2(s,e="asc"){const i=e,r=jr("orderBy",s);return om._create(r,i)}function W_(s,e,i){if(typeof(i=Ti(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B0(e)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return u_(s,new ft(r))}if(i instanceof Re)return u_(s,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(i)}.`)}function t0(s,e){if(!Array.isArray(s)||s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hv(s,e){const i=(function(o,h){for(const d of o)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function U2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends qv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(jr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Es._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:we("string",Es._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class lc extends Es{data(e={}){return super.data(e)}}class xr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lc(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const v=new lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new to(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new to(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),A=d.indexOf(_.doc.key)),{type:z2(_.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}xr._jsonSchemaVersion="firestore/querySnapshot/1.0",xr._jsonSchema={type:we("string",xr._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};function tc(s,e,i,...r){s=Ca(s,Re);const o=Ca(s.firestore,Mr),h=tm(o);let d;return d=typeof(e=Ti(e))=="string"||e instanceof Wd?C2(h,"updateDoc",s._key,e,i,r):R2(h,"updateDoc",s._key,e),um(o,[d.toMutation(s._key,Qn.exists(!0))])}function L2(s){return um(Ca(s.firestore,Mr),[new Ud(s._key,Qn.none())])}function e0(s,e){const i=Ca(s.firestore,Mr),r=Wl(s),o=U2(s.converter,e),h=tm(s.firestore);return um(i,[w2(h,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function B2(s,...e){s=Ti(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,_;if(s instanceof Re)d=Ca(s.firestore,Mr),_=Od(s._key.path),h={next:y=>{e[r]&&e[r](k2(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Ca(s,ws);d=Ca(y.firestore,Mr),_=y._query;const A=new kv(d);h={next:x=>{e[r]&&e[r](new xr(d,A,y,x))},error:e[r+1],complete:e[r+2]},O2(s._query)}const v=Iv(d);return p2(v,_,o,h)}function um(s,e){const i=Iv(s);return y2(i,e)}function k2(s,e,i){const r=i.docs.get(e._key),o=new kv(s);return new Es(s,o,e._key,r,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){mb(nb),hc(new ro("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new Mr(new yb(r.getProvider("auth-internal")),new Eb(d,r.getProvider("app-check-internal")),zb(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),br(Z_,J_,e),br(Z_,J_,"esm2020")})();var q2="firebase",P2="12.9.0";br(q2,P2,"app");const oc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},H2=c0(oc),gs=T2(H2),yi=()=>!!(oc.apiKey&&oc.projectId&&oc.apiKey!=="demo-key"),n0="quotebook_quotes",ps="quotes";function G2(){const[s,e]=wt.useState([]),[i,r]=wt.useState(!0),[o,h]=wt.useState(null),[d,_]=wt.useState(!1),[v,y]=wt.useState("newest");wt.useEffect(()=>{if(yi()){_(!0);const it=M2(Jf(gs,ps),j2("timestamp","desc")),w=B2(it,S=>{const R=[];S.forEach(V=>{const C=V.data();R.push({id:V.id,text:C.text,speaker:C.speaker,addedBy:C.addedBy,timestamp:C.timestamp instanceof te?C.timestamp.toMillis():C.timestamp||Date.now(),likes:C.likes||[],comments:C.comments||[]})}),e(R),r(!1),h(null)},S=>{console.error("Firestore error:",S),h("Failed to connect to database. Check your Firebase config."),r(!1),A()});return()=>w()}else _(!1),A(),r(!1)},[]);const A=()=>{const it=localStorage.getItem(n0);if(it)try{const S=JSON.parse(it).map(R=>({...R,likes:R.likes||[],comments:R.comments||[]}));e(S)}catch{e([])}},x=wt.useCallback(it=>{localStorage.setItem(n0,JSON.stringify(it)),e(it)},[]),O=wt.useCallback(()=>{const it=[...s];switch(v){case"newest":return it.sort((w,S)=>S.timestamp-w.timestamp);case"oldest":return it.sort((w,S)=>w.timestamp-S.timestamp);case"mostLiked":return it.sort((w,S)=>S.likes.length-w.likes.length);default:return it}},[s,v]),G=wt.useCallback(async(it,w,S)=>{const R={text:it,speaker:w.trim(),addedBy:S.trim(),timestamp:Date.now(),likes:[],comments:[]};if(d&&yi())try{await e0(Jf(gs,ps),{...R,timestamp:Y_()})}catch(V){console.error("Error adding quote:",V),h("Failed to add quote. Please try again.")}else{const V={...R,id:crypto.randomUUID()};x([V,...s])}},[s,d,x]),J=wt.useCallback(async it=>{if(d&&yi())try{await L2(Wl(gs,ps,it))}catch(w){console.error("Error deleting quote:",w),h("Failed to delete quote. Please try again.")}else x(s.filter(w=>w.id!==it))},[s,d,x]),$=wt.useCallback(async(it,w)=>{const S=s.find(V=>V.id===it);if(!S)return;const R=S.likes.includes(w);if(d&&yi())try{const V=Wl(gs,ps,it);R?await tc(V,{likes:X_(w)}):await tc(V,{likes:K_(w)})}catch(V){console.error("Error toggling like:",V),h("Failed to update like. Please try again.")}else{const V=s.map(C=>C.id===it?{...C,likes:R?C.likes.filter(j=>j!==w):[...C.likes,w]}:C);x(V)}},[s,d,x]),W=wt.useCallback(async(it,w,S)=>{const R={id:crypto.randomUUID(),text:w.trim(),author:S.trim(),timestamp:Date.now()};if(d&&yi())try{const V=Wl(gs,ps,it);await tc(V,{comments:K_(R)})}catch(V){console.error("Error adding comment:",V),h("Failed to add comment. Please try again.")}else{const V=s.map(C=>C.id===it?{...C,comments:[...C.comments,R]}:C);x(V)}},[s,d,x]),mt=wt.useCallback(async(it,w)=>{const S=s.find(V=>V.id===it);if(!S)return;const R=S.comments.find(V=>V.id===w);if(R)if(d&&yi())try{const V=Wl(gs,ps,it);await tc(V,{comments:X_(R)})}catch(V){console.error("Error deleting comment:",V),h("Failed to delete comment. Please try again.")}else{const V=s.map(C=>C.id===it?{...C,comments:C.comments.filter(j=>j.id!==w)}:C);x(V)}},[s,d,x]),ut=wt.useCallback(()=>{const it=new Map;return s.forEach(w=>{const S=it.get(w.speaker)||0;it.set(w.speaker,S+1)}),Array.from(it.entries()).map(([w,S])=>({name:w,quoteCount:S})).sort((w,S)=>S.quoteCount-w.quoteCount)},[s]),pt=wt.useCallback(it=>s.filter(w=>w.speaker===it),[s]),ct=wt.useCallback(()=>{const it=JSON.stringify(s,null,2),w=new Blob([it],{type:"application/json"}),S=URL.createObjectURL(w),R=document.createElement("a");R.href=S,R.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,R.click(),URL.revokeObjectURL(S)},[s]),$t=wt.useCallback(async it=>{const w=new FileReader;w.onload=async S=>{try{const R=JSON.parse(S.target?.result);if(Array.isArray(R)){const V=R.filter(C=>C.text&&C.speaker&&C.addedBy);if(d&&yi())for(const C of V)await e0(Jf(gs,ps),{text:C.text,speaker:C.speaker,addedBy:C.addedBy,timestamp:C.timestamp||Y_(),likes:C.likes||[],comments:C.comments||[]});else{const C=V.map(j=>({...j,id:j.id||crypto.randomUUID(),timestamp:j.timestamp||Date.now(),likes:j.likes||[],comments:j.comments||[]}));x([...C,...s])}}}catch{alert("Invalid file format")}},w.readAsText(it)},[s,d,x]);return{quotes:O(),loading:i,error:o,usingFirebase:d,sortOption:v,setSortOption:y,addQuote:G,deleteQuote:J,toggleLike:$,addComment:W,deleteComment:mt,getPeople:ut,getQuotesBySpeaker:pt,exportData:ct,importData:$t}}const $f=10;function ec(s){const e=[...s];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function Q2(s){const[e,i]=wt.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:$f,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=wt.useCallback(()=>[...new Set(s.map(y=>y.speaker))],[s]),o=wt.useCallback((y,A)=>{const x=A.filter(J=>J!==y),O=ec(x),G=[y,...O.slice(0,3)];return ec(G)},[]),h=wt.useCallback(()=>{const y=r();if(y.length<2||s.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const x=ec(s)[0],O=o(x.speaker,y);i({isPlaying:!0,currentQuote:x,options:O,score:0,totalRounds:Math.min($f,s.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[s,r,o]),d=wt.useCallback(y=>{if(!e.currentQuote||e.answered)return;const A=y===e.currentQuote.speaker;i(x=>({...x,answered:!0,selectedAnswer:y,isCorrect:A,score:A?x.score+1:x.score,gameHistory:[...x.gameHistory,{quote:x.currentQuote,correct:A,guessed:y}]}))},[e.currentQuote,e.answered]),_=wt.useCallback(()=>{if(e.currentRound>=e.totalRounds){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map($=>$.quote.id);y.push(e.currentQuote?.id||"");const A=s.filter($=>!y.includes($.id));if(A.length===0){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const O=ec(A)[0],G=r(),J=o(O.speaker,G);i($=>({...$,currentQuote:O,options:J,currentRound:$.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[s,e,r,o]),v=wt.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:$f,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:_,endGame:v,canPlay:r().length>=2&&s.length>=3}}const Wf="quotebook_user";function F2(){const[s,e]=wt.useState(null);wt.useEffect(()=>{const d=localStorage.getItem(Wf);if(d)try{e(JSON.parse(d))}catch{e(null)}},[]);const i=wt.useCallback(d=>{localStorage.setItem(Wf,JSON.stringify(d)),e(d)},[]),r=wt.useCallback(d=>{const _=s?{...s,name:d}:{name:d,gamesPlayed:0,totalScore:0,bestScore:0};i(_)},[s,i]),o=wt.useCallback(d=>{if(!s)return;const _={...s,gamesPlayed:s.gamesPlayed+1,totalScore:s.totalScore+d,bestScore:Math.max(s.bestScore,d)};i(_)},[s,i]),h=wt.useCallback(()=>{localStorage.removeItem(Wf),e(null)},[]);return{user:s,setUsername:r,recordGameScore:o,logout:h}}function Y2({user:s,activeTab:e,setActiveTab:i}){return T.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-bold",children:"Quote Book"}),s&&T.jsxs("p",{className:"text-sm text-white/70",children:["Welcome, ",s.name,"!"]})]})]}),T.jsxs("nav",{className:"flex gap-1 bg-white/10 rounded-lg p-1",children:[T.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="quotes"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Quotes"}),T.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="game"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Game"}),T.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="settings"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Settings"})]})]})})})}function K2({quote:s,currentUser:e,onDelete:i,onToggleLike:r,onAddComment:o,onDeleteComment:h}){const[d,_]=wt.useState(!1),[v,y]=wt.useState(""),[A,x]=wt.useState(!1),O=s.likes.includes(e),G=s.addedBy===e,J=()=>{r(s.id,e)},$=async ut=>{ut.preventDefault(),!(!v.trim()||A)&&(x(!0),await o(s.id,v,e),y(""),x(!1))},W=ut=>new Date(ut).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),mt=ut=>new Date(ut).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return T.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[T.jsxs("div",{className:"mb-4",children:[T.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',s.text,'"']}),T.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",s.speaker]})]}),T.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[T.jsxs("span",{children:["Added by ",s.addedBy]}),T.jsx("span",{children:W(s.timestamp)})]}),T.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[T.jsxs("button",{onClick:J,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${O?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.jsx("span",{children:O?"":""}),T.jsx("span",{className:"font-medium",children:s.likes.length})]}),T.jsxs("button",{onClick:()=>_(!d),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[T.jsx("span",{children:""}),T.jsx("span",{className:"font-medium",children:s.comments.length})]}),G&&T.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&i(s.id)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),d&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[T.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",s.comments.length,")"]}),s.comments.length>0?T.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:s.comments.map(ut=>T.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 relative group",children:[T.jsx("p",{className:"text-gray-700 text-sm",children:ut.text}),T.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[T.jsx("span",{className:"font-medium",children:ut.author}),T.jsx("span",{children:mt(ut.timestamp)})]}),ut.author===e&&T.jsx("button",{onClick:()=>h(s.id,ut.id),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},ut.id))}):T.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),T.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[T.jsx("input",{type:"text",value:v,onChange:ut=>y(ut.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),T.jsx("button",{type:"submit",disabled:!v.trim()||A,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:A?"...":"Post"})]})]})]})}function X2({quotes:s,people:e,currentUser:i,sortOption:r,onSortChange:o,onAddQuote:h,onDeleteQuote:d,onToggleLike:_,onAddComment:v,onDeleteComment:y}){const[A,x]=wt.useState(!1),[O,G]=wt.useState(""),[J,$]=wt.useState(""),[W,mt]=wt.useState(""),ut=ct=>{ct.preventDefault(),!(!O.trim()||!J.trim())&&(h(O,J,i),G(""),$(""),x(!1))},pt=W?s.filter(ct=>ct.speaker===W):s;return T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),T.jsxs("p",{className:"text-gray-500",children:[s.length," quote",s.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),T.jsx("button",{onClick:()=>x(!A),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:A?" Cancel":"+ Add Quote"})]}),A&&T.jsxs("form",{onSubmit:ut,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),T.jsx("textarea",{value:O,onChange:ct=>G(ct.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),T.jsx("input",{type:"text",value:J,onChange:ct=>$(ct.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),T.jsx("datalist",{id:"speakers",children:e.map(ct=>T.jsx("option",{value:ct.name},ct.name))})]}),T.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[T.jsx("div",{className:"flex-1",children:T.jsxs("select",{value:W,onChange:ct=>mt(ct.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[T.jsx("option",{value:"",children:"All Speakers"}),e.map(ct=>T.jsxs("option",{value:ct.name,children:[ct.name," (",ct.quoteCount,")"]},ct.name))]})}),T.jsx("div",{className:"flex-1",children:T.jsxs("select",{value:r,onChange:ct=>o(ct.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[T.jsx("option",{value:"newest",children:" Newest First"}),T.jsx("option",{value:"oldest",children:" Oldest First"}),T.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),pt.length>0?T.jsx("div",{className:"grid gap-6",children:pt.map(ct=>T.jsx(K2,{quote:ct,currentUser:i,onDelete:d,onToggleLike:_,onAddComment:v,onDeleteComment:y},ct.id))}):T.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[T.jsx("p",{className:"text-6xl mb-4",children:""}),T.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:W?"No quotes from this person":"No quotes yet"}),T.jsx("p",{className:"text-gray-500",children:W?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function Z2({gameState:s,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:_}){const v=!s.isPlaying&&s.gameHistory.length>0;if(!s.isPlaying&&!v)return T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),T.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),T.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),T.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?T.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):T.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[T.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),T.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(v){const y=Math.round(s.score/s.gameHistory.length*100),A=()=>{_(s.score),d(),r()},x=()=>{_(s.score),d()};return T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),T.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[s.score,"/",s.gameHistory.length]}),T.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),T.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[T.jsx("button",{onClick:A,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),T.jsx("button",{onClick:x,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),T.jsxs("div",{className:"border-t pt-6",children:[T.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),T.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:s.gameHistory.map((O,G)=>T.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${O.correct?"bg-green-50":"bg-red-50"}`,children:[T.jsx("span",{className:"text-lg",children:O.correct?"":""}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',O.quote.text,'"']}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",T.jsx("span",{className:"font-semibold",children:O.quote.speaker}),!O.correct&&T.jsxs("span",{children:["  You guessed: ",O.guessed]})]})]})]},G))})]})]})})}return T.jsxs("div",{className:"max-w-2xl mx-auto",children:[T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[T.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsxs("span",{className:"font-medium",children:["Round ",s.currentRound," of ",s.totalRounds]}),T.jsxs("span",{className:"font-bold",children:["Score: ",s.score]})]}),T.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${s.currentRound/s.totalRounds*100}%`}})})]}),T.jsxs("div",{className:"p-8",children:[T.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[T.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),T.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:s.currentQuote?.text})]}),T.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.options.map(y=>{let A="p-4 rounded-xl font-medium transition text-left border-2 ";return s.answered?y===s.currentQuote?.speaker?A+="border-green-500 bg-green-50 text-green-700":y===s.selectedAnswer&&!s.isCorrect?A+="border-red-500 bg-red-50 text-red-700":A+="border-gray-200 bg-gray-50 text-gray-400":A+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",T.jsx("button",{onClick:()=>o(y),disabled:s.answered,className:A,children:T.jsxs("span",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),s.answered&&T.jsxs("div",{className:"mt-6 text-center",children:[T.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${s.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.isCorrect?" Correct!":` It was ${s.currentQuote?.speaker}`}),T.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:s.currentRound>=s.totalRounds?"See Results":"Next Question "})]})]})]}),T.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function Gv({onDismiss:s}){return T.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:T.jsxs("div",{className:"flex items-start justify-between gap-4",children:[T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("span",{className:"text-2xl",children:""}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),T.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),T.jsxs("details",{className:"text-sm",children:[T.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),T.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Go to ",T.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),T.jsx("li",{children:'Click "Create a project" (or "Add project")'}),T.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),T.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),T.jsx("li",{children:'Click "Create project"'})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),T.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),T.jsx("li",{children:'Click "Register app"'}),T.jsxs("li",{children:["Copy the ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),T.jsx("li",{children:'Click "Create database"'}),T.jsxs("li",{children:['Select "Start in ',T.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),T.jsx("li",{children:"Choose a location close to you"}),T.jsx("li",{children:'Click "Enable"'})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Open ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),T.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),T.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Run ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),T.jsxs("li",{children:["Upload the new ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),T.jsx("li",{children:"Share the URL with your friends! "})]})]}),T.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:T.jsxs("p",{className:"text-blue-800 text-sm",children:[T.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),s&&T.jsx("button",{onClick:s,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function J2({user:s,quotes:e,usingFirebase:i,onSetUsername:r,onLogout:o,onExport:h,onImport:d}){const _=wt.useRef(null),v=y=>{const A=y.target.files?.[0];A&&(d(A),y.target.value="")};return T.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[T.jsx("div",{className:`rounded-xl shadow-md p-6 ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-white"}`,children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-white/20":"bg-amber-100"}`,children:T.jsx("span",{className:"text-2xl",children:i?"":""})}),T.jsxs("div",{children:[T.jsx("h2",{className:`text-lg font-semibold ${i?"text-white":"text-gray-800"}`,children:i?"Real-Time Sync Enabled!":"Local Storage Mode"}),T.jsx("p",{className:i?"text-green-100":"text-gray-500",children:i?"All quotes sync automatically with your friends":"Quotes are saved only on this device"})]})]})}),!yi()&&T.jsx(Gv,{}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"User Profile"]}),s?T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:s.name.charAt(0).toUpperCase()}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.name}),T.jsx("p",{className:"text-gray-500",children:"Quote Collector"})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:s.gamesPlayed}),T.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.bestScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.totalScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Total Points"})]})]}),T.jsx("button",{onClick:o,className:"text-red-500 hover:text-red-600 text-sm font-medium",children:"Change Username"})]}):T.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=y.target.elements.namedItem("username");x.value.trim()&&(r(x.value.trim()),x.value="")},children:[T.jsx("p",{className:"text-gray-500 mb-4",children:"Set your username to track your game scores and quotes you add."}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("input",{name:"username",type:"text",placeholder:"Enter your name",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),T.jsx("button",{type:"submit",className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition",children:"Save"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:""}),"Data Management"]}),T.jsx("p",{className:"text-gray-500 mb-4",children:i?"Export quotes for backup, or import quotes from a file.":"Export your quotes to share with friends or import quotes from others."}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:h,disabled:e.length===0,className:"flex-1 py-3 bg-green-100 text-green-700 font-medium rounded-lg hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export (",e.length," quotes)"]}),T.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 py-3 bg-blue-100 text-blue-700 font-medium rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import"]}),T.jsx("input",{ref:_,type:"file",accept:".json",onChange:v,className:"hidden"})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"Share with Friends"]}),i?T.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4",children:[T.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Easy Sharing!"}),T.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Just share this website's URL with your friends. Everyone who visits will see the same quotes and can add new ones!"}),T.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("URL copied to clipboard!")},className:"w-full py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:" Copy Link to Share"})]}):T.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4",children:[T.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:" Manual Sharing"}),T.jsx("p",{className:"text-sm text-amber-700",children:"Without Firebase, you'll need to manually share quotes:"}),T.jsxs("ol",{className:"text-sm text-amber-700 mt-2 space-y-1 list-decimal list-inside",children:[T.jsx("li",{children:"Export your quotes using the button above"}),T.jsx("li",{children:"Send the JSON file to your friends"}),T.jsx("li",{children:"Have them import the file"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:""}),"Statistics"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[T.jsx("p",{className:"text-3xl font-bold",children:e.length}),T.jsx("p",{className:"text-sm opacity-80",children:"Total Quotes"})]}),T.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-4 text-white",children:[T.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(y=>y.speaker)).size}),T.jsx("p",{className:"text-sm opacity-80",children:"People"})]})]})]})]})}function $2({onSetUsername:s}){const e=i=>{i.preventDefault();const o=i.target.elements.namedItem("username");o.value.trim()&&s(o.value.trim())};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg transform -rotate-6",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),T.jsx("p",{className:"text-gray-500",children:"Collect memorable quotes from your friends and play the guessing game!"})]}),T.jsxs("div",{className:"space-y-4 mb-8",children:[T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Collect Quotes"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Save memorable things your friends say"})]})]}),T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Play Games"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Guess who said what in fun rounds"})]})]}),T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Share & Collaborate"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Export and import quotes with friends"})]})]})]}),T.jsxs("form",{onSubmit:e,children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your name?"}),T.jsx("input",{name:"username",type:"text",placeholder:"Enter your name to get started",autoFocus:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent mb-4"}),T.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg",children:"Get Started "})]})]})})}function W2(){const[s,e]=wt.useState("quotes"),[i,r]=wt.useState(!yi()),{user:o,setUsername:h,recordGameScore:d,logout:_}=F2(),{quotes:v,loading:y,error:A,usingFirebase:x,sortOption:O,setSortOption:G,addQuote:J,deleteQuote:$,toggleLike:W,addComment:mt,deleteComment:ut,getPeople:pt,exportData:ct,importData:$t}=G2(),{gameState:it,startGame:w,submitAnswer:S,nextRound:R,endGame:V,canPlay:C}=Q2(v);return o?T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[T.jsx(Y2,{user:o,activeTab:s,setActiveTab:e}),T.jsx("div",{className:`text-center py-2 text-sm font-medium ${x?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:x?T.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):T.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),A&&T.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",A]}),T.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!yi()&&s==="quotes"&&T.jsx(Gv,{onDismiss:()=>r(!1)}),y?T.jsx("div",{className:"flex items-center justify-center py-20",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):T.jsxs(T.Fragment,{children:[s==="quotes"&&T.jsx(X2,{quotes:v,people:pt(),currentUser:o.name,sortOption:O,onSortChange:G,onAddQuote:J,onDeleteQuote:$,onToggleLike:W,onAddComment:mt,onDeleteComment:ut}),s==="game"&&T.jsx(Z2,{gameState:it,canPlay:C,user:o,onStartGame:w,onSubmitAnswer:S,onNextRound:R,onEndGame:V,onRecordScore:d}),s==="settings"&&T.jsx(J2,{user:o,quotes:v,usingFirebase:x,onSetUsername:h,onLogout:_,onExport:ct,onImport:$t})]})]}),T.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[T.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),T.jsx("p",{className:"text-xs mt-1",children:x?" Real-time sync enabled":" Local mode"})]})]}):T.jsx($2,{onSetUsername:h})}DT.createRoot(document.getElementById("root")).render(T.jsx(wt.StrictMode,{children:T.jsx(W2,{})}));
