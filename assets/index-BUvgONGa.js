(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Lf={exports:{}},Zl={};var Vy;function xT(){if(Vy)return Zl;Vy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var Iy;function wT(){return Iy||(Iy=1,Lf.exports=xT()),Lf.exports}var E=wT(),kf={exports:{}},At={};var Oy;function RT(){if(Oy)return At;Oy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),R=Symbol.iterator;function L(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,et={};function dt(I,K,st){this.props=I,this.context=K,this.refs=et,this.updater=st||J}dt.prototype.isReactComponent={},dt.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},dt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function yt(){}yt.prototype=dt.prototype;function mt(I,K,st){this.props=I,this.context=K,this.refs=et,this.updater=st||J}var Dt=mt.prototype=new yt;Dt.constructor=mt,W(Dt,dt.prototype),Dt.isPureReactComponent=!0;var Pt=Array.isArray;function Tt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(I,K,st){var ut=st.ref;return{$$typeof:a,type:I,key:K,ref:ut!==void 0?ut:null,props:st}}function O(I,K){return C(I.type,K,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function N(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return K[st]})}var A=/\/+/g;function at(I,K){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):K.toString(36)}function ft(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Tt,Tt):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function z(I,K,st,ut,bt){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var Lt=!1;if(I===null)Lt=!0;else switch(Ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(I.$$typeof){case a:case e:Lt=!0;break;case S:return Lt=I._init,z(Lt(I._payload),K,st,ut,bt)}}if(Lt)return bt=bt(I),Lt=ut===""?"."+at(I,0):ut,Pt(bt)?(st="",Lt!=null&&(st=Lt.replace(A,"$&/")+"/"),z(bt,K,st,"",function(qs){return qs})):bt!=null&&(M(bt)&&(bt=O(bt,st+(bt.key==null||I&&I.key===bt.key?"":(""+bt.key).replace(A,"$&/")+"/")+Lt)),K.push(bt)),1;Lt=0;var Ne=ut===""?".":ut+":";if(Pt(I))for(var ae=0;ae<I.length;ae++)ut=I[ae],Ct=Ne+at(ut,ae),Lt+=z(ut,K,st,Ct,bt);else if(ae=L(I),typeof ae=="function")for(I=ae.call(I),ae=0;!(ut=I.next()).done;)ut=ut.value,Ct=Ne+at(ut,ae++),Lt+=z(ut,K,st,Ct,bt);else if(Ct==="object"){if(typeof I.then=="function")return z(ft(I),K,st,ut,bt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function q(I,K,st){if(I==null)return I;var ut=[],bt=0;return z(I,ut,"","",function(Ct){return K.call(st,Ct,bt++)}),ut}function tt(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var _t=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},nt={map:q,forEach:function(I,K,st){q(I,function(){K.apply(this,arguments)},st)},count:function(I){var K=0;return q(I,function(){K++}),K},toArray:function(I){return q(I,function(K){return K})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return At.Activity=x,At.Children=nt,At.Component=dt,At.Fragment=i,At.Profiler=o,At.PureComponent=mt,At.StrictMode=r,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},At.cache=function(I){return function(){return I.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(I,K,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ut=W({},I.props),bt=I.key;if(K!=null)for(Ct in K.key!==void 0&&(bt=""+K.key),K)!w.call(K,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&K.ref===void 0||(ut[Ct]=K[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=st;else if(1<Ct){for(var Lt=Array(Ct),Ne=0;Ne<Ct;Ne++)Lt[Ne]=arguments[Ne+2];ut.children=Lt}return C(I.type,bt,ut)},At.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},At.createElement=function(I,K,st){var ut,bt={},Ct=null;if(K!=null)for(ut in K.key!==void 0&&(Ct=""+K.key),K)w.call(K,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=K[ut]);var Lt=arguments.length-2;if(Lt===1)bt.children=st;else if(1<Lt){for(var Ne=Array(Lt),ae=0;ae<Lt;ae++)Ne[ae]=arguments[ae+2];bt.children=Ne}if(I&&I.defaultProps)for(ut in Lt=I.defaultProps,Lt)bt[ut]===void 0&&(bt[ut]=Lt[ut]);return C(I,Ct,bt)},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:_,render:I}},At.isValidElement=M,At.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:tt}},At.memo=function(I,K){return{$$typeof:y,type:I,compare:K===void 0?null:K}},At.startTransition=function(I){var K=D.T,st={};D.T=st;try{var ut=I(),bt=D.S;bt!==null&&bt(st,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Tt,_t)}catch(Ct){_t(Ct)}finally{K!==null&&st.types!==null&&(K.types=st.types),D.T=K}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(I){return D.H.use(I)},At.useActionState=function(I,K,st){return D.H.useActionState(I,K,st)},At.useCallback=function(I,K){return D.H.useCallback(I,K)},At.useContext=function(I){return D.H.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I,K){return D.H.useDeferredValue(I,K)},At.useEffect=function(I,K){return D.H.useEffect(I,K)},At.useEffectEvent=function(I){return D.H.useEffectEvent(I)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(I,K,st){return D.H.useImperativeHandle(I,K,st)},At.useInsertionEffect=function(I,K){return D.H.useInsertionEffect(I,K)},At.useLayoutEffect=function(I,K){return D.H.useLayoutEffect(I,K)},At.useMemo=function(I,K){return D.H.useMemo(I,K)},At.useOptimistic=function(I,K){return D.H.useOptimistic(I,K)},At.useReducer=function(I,K,st){return D.H.useReducer(I,K,st)},At.useRef=function(I){return D.H.useRef(I)},At.useState=function(I){return D.H.useState(I)},At.useSyncExternalStore=function(I,K,st){return D.H.useSyncExternalStore(I,K,st)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.3",At}var My;function Sd(){return My||(My=1,kf.exports=RT()),kf.exports}var lt=Sd(),Bf={exports:{}},Jl={},Pf={exports:{}},qf={};var jy;function CT(){return jy||(jy=1,(function(a){function e(z,q){var tt=z.length;z.push(q);t:for(;0<tt;){var _t=tt-1>>>1,nt=z[_t];if(0<o(nt,q))z[_t]=q,z[tt]=nt,tt=_t;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],tt=z.pop();if(tt!==q){z[0]=tt;t:for(var _t=0,nt=z.length,I=nt>>>1;_t<I;){var K=2*(_t+1)-1,st=z[K],ut=K+1,bt=z[ut];if(0>o(st,tt))ut<nt&&0>o(bt,st)?(z[_t]=bt,z[ut]=tt,_t=ut):(z[_t]=st,z[K]=tt,_t=K);else if(ut<nt&&0>o(bt,tt))z[_t]=bt,z[ut]=tt,_t=ut;else break t}}return q}function o(z,q){var tt=z.sortIndex-q.sortIndex;return tt!==0?tt:z.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();a.unstable_now=function(){return d.now()-_}}var v=[],y=[],S=1,x=null,R=3,L=!1,J=!1,W=!1,et=!1,dt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Dt(z){for(var q=i(y);q!==null;){if(q.callback===null)r(y);else if(q.startTime<=z)r(y),q.sortIndex=q.expirationTime,e(v,q);else break;q=i(y)}}function Pt(z){if(W=!1,Dt(z),!J)if(i(v)!==null)J=!0,Tt||(Tt=!0,N());else{var q=i(y);q!==null&&ft(Pt,q.startTime-z)}}var Tt=!1,D=-1,w=5,C=-1;function O(){return et?!0:!(a.unstable_now()-C<w)}function M(){if(et=!1,Tt){var z=a.unstable_now();C=z;var q=!0;try{t:{J=!1,W&&(W=!1,yt(D),D=-1),L=!0;var tt=R;try{e:{for(Dt(z),x=i(v);x!==null&&!(x.expirationTime>z&&O());){var _t=x.callback;if(typeof _t=="function"){x.callback=null,R=x.priorityLevel;var nt=_t(x.expirationTime<=z);if(z=a.unstable_now(),typeof nt=="function"){x.callback=nt,Dt(z),q=!0;break e}x===i(v)&&r(v),Dt(z)}else r(v);x=i(v)}if(x!==null)q=!0;else{var I=i(y);I!==null&&ft(Pt,I.startTime-z),q=!1}}break t}finally{x=null,R=tt,L=!1}q=void 0}}finally{q?N():Tt=!1}}}var N;if(typeof mt=="function")N=function(){mt(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,at=A.port2;A.port1.onmessage=M,N=function(){at.postMessage(null)}}else N=function(){dt(M,0)};function ft(z,q){D=dt(function(){z(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(z){switch(R){case 1:case 2:case 3:var q=3;break;default:q=R}var tt=R;R=q;try{return z()}finally{R=tt}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var tt=R;R=z;try{return q()}finally{R=tt}},a.unstable_scheduleCallback=function(z,q,tt){var _t=a.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?_t+tt:_t):tt=_t,z){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=tt+nt,z={id:S++,callback:q,priorityLevel:z,startTime:tt,expirationTime:nt,sortIndex:-1},tt>_t?(z.sortIndex=tt,e(y,z),i(v)===null&&z===i(y)&&(W?(yt(D),D=-1):W=!0,ft(Pt,tt-_t))):(z.sortIndex=nt,e(v,z),J||L||(J=!0,Tt||(Tt=!0,N()))),z},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(z){var q=R;return function(){var tt=R;R=q;try{return z.apply(this,arguments)}finally{R=tt}}}})(qf)),qf}var Uy;function NT(){return Uy||(Uy=1,Pf.exports=CT()),Pf.exports}var Hf={exports:{}},Fe={};var zy;function DT(){if(zy)return Fe;zy=1;var a=Sd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:y,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,S)},Fe.flushSync=function(v){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=S,r.d.f()}},Fe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,x=_(S,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:R,fetchPriority:L}):S==="script"&&r.d.X(v,{crossOrigin:x,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=_(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Fe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,x=_(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=_(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,y){return v(y)},Fe.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var Ly;function VT(){if(Ly)return Hf.exports;Ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Hf.exports=DT(),Hf.exports}var ky;function IT(){if(ky)return Jl;ky=1;var a=NT(),e=Sd(),i=VT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===s){g=!0,s=c,l=f;break}if(T===l){g=!0,l=c,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=c;break}if(T===l){g=!0,l=f,s=c;break}T=T.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case dt:return"Profiler";case et:return"StrictMode";case Pt:return"Suspense";case Tt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case mt:return t.displayName||"Context";case yt:return(t._context.displayName||"Context")+".Consumer";case Dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var ft=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},_t=[],nt=-1;function I(t){return{current:t}}function K(t){0>nt||(t.current=_t[nt],_t[nt]=null,nt--)}function st(t,n){nt++,_t[nt]=t.current,t.current=n}var ut=I(null),bt=I(null),Ct=I(null),Lt=I(null);function Ne(t,n){switch(st(Ct,n),st(bt,t),st(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=ey(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ut),st(ut,t)}function ae(){K(ut),K(bt),K(Ct)}function qs(t){t.memoizedState!==null&&st(Lt,t);var n=ut.current,s=ey(n,t.type);n!==s&&(st(bt,t),st(ut,s))}function Va(t){bt.current===t&&(K(ut),K(bt)),Lt.current===t&&(K(Lt),Fl._currentValue=tt)}var Ia,Oa;function Jn(t){if(Ia===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ia=n&&n[1]||"",Oa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+Oa}var Fr=!1;function Hs(t,n){if(!t||Fr)return"";Fr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(Q){var H=Q}Reflect.construct(t,[],X)}else{try{X.call()}catch(Q){H=Q}t.call(X.prototype)}}else{try{throw Error()}catch(Q){H=Q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var V=g.split(`
`),P=T.split(`
`);for(c=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===V.length||c===P.length)for(l=V.length-1,c=P.length-1;1<=l&&0<=c&&V[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(V[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||V[l]!==P[c]){var F=`
`+V[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Fr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Jn(s):""}function Yr(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return Jn("Activity");default:return""}}function Kr(t){try{var n="",s=null;do n+=Yr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,Ki=a.unstable_cancelCallback,kc=a.unstable_shouldYield,So=a.unstable_requestPaint,Ze=a.unstable_now,Gs=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,Zr=a.unstable_UserBlockingPriority,Xi=a.unstable_NormalPriority,Bc=a.unstable_LowPriority,Ao=a.unstable_IdlePriority,xo=a.log,wo=a.unstable_setDisableYieldValue,Mn=null,ze=null;function En(t){if(typeof xo=="function"&&wo(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:Co,Ro=Math.log,Ma=Math.LN2;function Co(t){return t>>>=0,t===0?32:31-(Ro(t)/Ma|0)|0}var $n=256,Qs=262144,ye=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=Wn(l):(g&=T,g!==0?c=Wn(g):s||(s=T&~t,s!==0&&(c=Wn(s))))):(T=l&~f,T!==0?c=Wn(T):g!==0?c=Wn(g):s||(s=l&~t,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ei(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,V=t.expirationTimes,P=t.hiddenUpdates;for(s=g&~s;0<s;){var F=31-he(s),X=1<<F;T[F]=0,V[F]=-1;var H=P[F];if(H!==null)for(P[F]=null,F=0;F<H.length;F++){var Q=H[F];Q!==null&&(Q.lane&=-536870913)}s&=~X}l!==0&&Ys(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ys(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Jr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-he(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function $r(t,n){var s=n&-n;return s=(s&42)!==0?1:Ks(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Do(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function Un(t,n){var s=q.p;try{return q.p=t,n()}finally{q.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Oe="__reactProps$"+zn,ni="__reactContainer$"+zn,ja="__reactEvents$"+zn,Hc="__reactListeners$"+zn,Vo="__reactHandles$"+zn,Io="__reactResources$"+zn,ii="__reactMarker$"+zn;function Ua(t){delete t[_e],delete t[Oe],delete t[ja],delete t[Hc],delete t[Vo]}function si(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=oy(t);t!==null;){if(s=t[_e])return s;t=oy(t)}return n}t=s,s=t.parentNode}return null}function Tn(t){if(t=t[_e]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ai(t){var n=t[Io];return n||(n=t[Io]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ii]=!0}var Wr=new Set,tl={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(tl[t]=n,t=0;t<n.length;t++)Wr.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Oo(t){return pe.call(il,t)?!0:pe.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function za(t,n,s){if(Oo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function cn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ee(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=sl(t,n,""+t[n])}}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zs=/[\n"\\]/g;function We(t){return t.replace(Zs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function La(t,n,s,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?al(t,g,Me(n)):s!=null?al(t,g,Me(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Me(T):t.removeAttribute("name")}function Mo(t,n,s,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function al(t,n,s){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ji(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function jo(t,n,s){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Me(s):""}function $i(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Me(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Yt(t)}function tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ll(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&rl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&rl(t,f,n[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var ol=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,ui=null;function Js(t){var n=Tn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(La(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));La(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Xs(l)}break t;case"textarea":jo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ji(t,!!s.multiple,n,!1)}}}var Pa=!1;function es(t,n,s){if(Pa)return t(n,s);Pa=!0;try{var l=t(n);return l}finally{if(Pa=!1,(ts!==null||ui!==null)&&(Du(),ts&&(n=ts,t=ui,ui=ts=null,Js(n),t)))for(n=0;n<t.length;n++)Js(t[n])}}function kn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(Sn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$s=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{$s=!1}var ci=null,ul=null,Ws=null;function cl(){if(Ws)return Ws;var t,n=ul,s=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Ws=c.slice(t,1<l?1-l:void 0)}function ta(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Bn(){return!1}function Le(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:Bn,this.isPropagationStopped=Bn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Le(Ri),ns=x({},Ri,{view:0,detail:0}),hl=Le(ns),is,qa,fi,Ha=x({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(is=t.screenX-fi.screenX,qa=t.screenY-fi.screenY):qa=is=0,fi=t),is)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),fl=Le(Ha),ea=x({},Ha,{dataTransfer:0}),Lo=Le(ea),ko=x({},ns,{relatedTarget:0}),na=Le(ko),dl=x({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=Le(dl),Ga=x({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Po=Le(Ga),qo=x({},Ri,{data:0}),di=Le(qo),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qo[t])?!!n[t]:!1}function ss(){return Fo}var Je=x({},ns,{key:function(t){if(t.key){var n=Ho[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Go[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yo=Le(Je),Ko=x({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Le(Ko),u=x({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),m=Le(u),p=x({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Le(p),k=x({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Le(k),it=x({},Ri,{newState:0,oldState:0}),wt=Le(it),fe=[9,13,27,32],Gt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var An=Sn&&"TextEvent"in window&&!re,mi=Sn&&(!Gt||re&&8<re&&11>=re),Pn=" ",qn=!1;function ia(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function Xv(t,n){switch(t){case"compositionend":return Qa(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function Zv(t,n){if(Fa)return t==="compositionend"||!Gt&&ia(t,n)?(t=cl(),Ws=ul=ci=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Jv[t.type]:n==="textarea"}function fm(t,n,s,l){ts?ui?ui.push(l):ui=[l]:ts=l,n=zu(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ml=null,gl=null;function $v(t){Kp(t,0)}function Xo(t){var n=un(t);if(Xs(n))return t}function dm(t,n){if(t==="change")return n}var mm=!1;if(Sn){var Gc;if(Sn){var Qc="oninput"in document;if(!Qc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Qc=typeof gm.oninput=="function"}Gc=Qc}else Gc=!1;mm=Gc&&(!document.documentMode||9<document.documentMode)}function pm(){ml&&(ml.detachEvent("onpropertychange",ym),gl=ml=null)}function ym(t){if(t.propertyName==="value"&&Xo(gl)){var n=[];fm(n,gl,t,bn(t)),es($v,n)}}function Wv(t,n,s){t==="focusin"?(pm(),ml=n,gl=s,ml.attachEvent("onpropertychange",ym)):t==="focusout"&&pm()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(gl)}function eE(t,n){if(t==="click")return Xo(n)}function nE(t,n){if(t==="input"||t==="change")return Xo(n)}function iE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:iE;function pl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vm(t,n){var s=_m(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_m(s)}}function Em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=oi(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sE=Sn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Yc=null,yl=null,Kc=!1;function bm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kc||Ya==null||Ya!==oi(l)||(l=Ya,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=zu(Yc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ya)))}function sa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ka={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Xc={},Sm={};Sn&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function aa(t){if(Xc[t])return Xc[t];if(!Ka[t])return t;var n=Ka[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sm)return Xc[t]=n[s];return t}var Am=aa("animationend"),xm=aa("animationiteration"),wm=aa("animationstart"),aE=aa("transitionrun"),rE=aa("transitionstart"),lE=aa("transitioncancel"),Rm=aa("transitionend"),Cm=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function Hn(t,n){Cm.set(t,n),ri(n,[t])}var Zo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Xa=0,Jc=0;function Jo(){for(var t=Xa,n=Jc=Xa=0;n<t;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Nm(s,c,f)}}function $o(t,n,s,l){xn[Xa++]=t,xn[Xa++]=n,xn[Xa++]=s,xn[Xa++]=l,Jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,s,l){return $o(t,n,s,l),Wo(t)}function ra(t,n){return $o(t,null,null,n),Wo(t)}function Nm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Wo(t){if(50<kl)throw kl=0,of=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={};function oE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,s,l){return new oE(t,n,s,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,n){var s=t.alternate;return s===null?(s=fn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Dm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Wc(t)&&(g=1);else if(typeof t=="string")g=dT(t,s,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,s,n,c),t.elementType=C,t.lanes=f,t;case W:return la(s.children,c,f,n);case et:g=8,c|=24;break;case dt:return t=fn(12,s,n,c|2),t.elementType=dt,t.lanes=f,t;case Pt:return t=fn(13,s,n,c),t.elementType=Pt,t.lanes=f,t;case Tt:return t=fn(19,s,n,c),t.elementType=Tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case yt:g=9;break t;case Dt:g=11;break t;case D:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,s,l){return t=fn(7,t,l,n),t.lanes=s,t}function th(t,n,s){return t=fn(6,t,null,n),t.lanes=s,t}function Vm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function eh(t,n,s){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Im=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var s=Im.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kr(n)},Im.set(t,n),n)}return{value:t,source:n,stack:Kr(n)}}var Ja=[],$a=0,eu=null,_l=0,Rn=[],Cn=0,as=null,gi=1,pi="";function Di(t,n){Ja[$a++]=_l,Ja[$a++]=eu,eu=t,_l=n}function Om(t,n,s){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=as,as=t;var l=gi;t=pi;var c=32-he(l)-1;l&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-he(n)+c|s<<c|l,pi=f+t}else gi=1<<f|s<<c|l,pi=t}function nh(t){t.return!==null&&(Di(t,1),Om(t,1,0))}function ih(t){for(;t===eu;)eu=Ja[--$a],Ja[$a]=null,_l=Ja[--$a],Ja[$a]=null;for(;t===as;)as=Rn[--Cn],Rn[Cn]=null,pi=Rn[--Cn],Rn[Cn]=null,gi=Rn[--Cn],Rn[Cn]=null}function Mm(t,n){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=as,gi=n.id,pi=n.overflow,as=t}var ke=null,ie=null,zt=!1,rs=null,Nn=!1,sh=Error(r(519));function ls(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(wn(n,t)),sh}function jm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)It(Pl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Mo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),$i(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$p(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ls(t,!0)}function Um(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ke=ke.return}}function Wa(t){if(t!==ke)return!1;if(!zt)return Um(t),zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Sf(t.type,t.memoizedProps)),s=!s),s&&ie&&ls(t),Um(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=ly(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=ly(t)}else n===27?(n=ie,Ts(t.type)?(t=Cf,Cf=null,ie=t):ie=n):ie=ke?Vn(t.stateNode.nextSibling):null;return!0}function oa(){ie=ke=null,zt=!1}function ah(){var t=rs;return t!==null&&(an===null?an=t:an.push.apply(an,t),rs=null),t}function vl(t){rs===null?rs=[t]:rs.push(t)}var rh=I(null),ua=null,Vi=null;function os(t,n,s){st(rh,n._currentValue),n._currentValue=s}function Ii(t){t._currentValue=rh.current,K(rh)}function lh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function oh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var V=0;V<n.length;V++)if(T.context===n[V]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),lh(f.return,s,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),lh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function tr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&oh(n,t,s,l),n.flags|=262144}function nu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return zm(ua,t)}function iu(t,n){return ua===null&&ca(t),zm(t,n)}function zm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(t===null)throw Error(r(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return s}var uE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},cE=a.unstable_scheduleCallback,hE=a.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new uE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&cE(hE,function(){t.controller.abort()})}var Tl=null,ch=0,er=0,nr=null;function fE(t,n){if(Tl===null){var s=Tl=[];ch=0,er=mf(),nr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ch++,n.then(Lm,Lm),n}function Lm(){if(--ch===0&&Tl!==null){nr!==null&&(nr.status="fulfilled");var t=Tl;Tl=null,er=0,nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var km=z.S;z.S=function(t,n){bp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fE(t,n),km!==null&&km(t,n)};var ha=I(null);function hh(){var t=ha.current;return t!==null?t:te.pooledCache}function su(t,n){n===null?st(ha,ha.current):st(ha,n.pool)}function Bm(){var t=hh();return t===null?null:{parent:Te._currentValue,pool:t}}var ir=Error(r(460)),fh=Error(r(474)),au=Error(r(542)),ru={then:function(){}};function Pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ln,Ln),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Gm(t),t}throw da=n,ir}}function fa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(da=s,ir):s}}var da=null;function Hm(){if(da===null)throw Error(r(459));var t=da;return da=null,t}function Gm(t){if(t===ir||t===au)throw Error(r(483))}var sr=null,bl=0;function lu(t){var n=bl;return bl+=1,sr===null&&(sr=[]),qm(sr,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qm(t){function n(U,j){if(t){var B=U.deletions;B===null?(U.deletions=[j],U.flags|=16):B.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function c(U,j){return U=Ni(U,j),U.index=0,U.sibling=null,U}function f(U,j,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<j?(U.flags|=67108866,j):B):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,j,B,Y){return j===null||j.tag!==6?(j=th(B,U.mode,Y),j.return=U,j):(j=c(j,B),j.return=U,j)}function V(U,j,B,Y){var gt=B.type;return gt===W?F(U,j,B.props.children,Y,B.key):j!==null&&(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&fa(gt)===j.type)?(j=c(j,B.props),Sl(j,B),j.return=U,j):(j=tu(B.type,B.key,B.props,null,U.mode,Y),Sl(j,B),j.return=U,j)}function P(U,j,B,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=eh(B,U.mode,Y),j.return=U,j):(j=c(j,B.children||[]),j.return=U,j)}function F(U,j,B,Y,gt){return j===null||j.tag!==7?(j=la(B,U.mode,Y,gt),j.return=U,j):(j=c(j,B),j.return=U,j)}function X(U,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=th(""+j,U.mode,B),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return B=tu(j.type,j.key,j.props,null,U.mode,B),Sl(B,j),B.return=U,B;case J:return j=eh(j,U.mode,B),j.return=U,j;case w:return j=fa(j),X(U,j,B)}if(ft(j)||N(j))return j=la(j,U.mode,B,null),j.return=U,j;if(typeof j.then=="function")return X(U,lu(j),B);if(j.$$typeof===mt)return X(U,iu(U,j),B);ou(U,j)}return null}function H(U,j,B,Y){var gt=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return gt!==null?null:T(U,j,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===gt?V(U,j,B,Y):null;case J:return B.key===gt?P(U,j,B,Y):null;case w:return B=fa(B),H(U,j,B,Y)}if(ft(B)||N(B))return gt!==null?null:F(U,j,B,Y,null);if(typeof B.then=="function")return H(U,j,lu(B),Y);if(B.$$typeof===mt)return H(U,j,iu(U,B),Y);ou(U,B)}return null}function Q(U,j,B,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(B)||null,T(j,U,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return U=U.get(Y.key===null?B:Y.key)||null,V(j,U,Y,gt);case J:return U=U.get(Y.key===null?B:Y.key)||null,P(j,U,Y,gt);case w:return Y=fa(Y),Q(U,j,B,Y,gt)}if(ft(Y)||N(Y))return U=U.get(B)||null,F(j,U,Y,gt,null);if(typeof Y.then=="function")return Q(U,j,B,lu(Y),gt);if(Y.$$typeof===mt)return Q(U,j,B,iu(j,Y),gt);ou(j,Y)}return null}function ct(U,j,B,Y){for(var gt=null,qt=null,ht=j,Nt=j=0,Mt=null;ht!==null&&Nt<B.length;Nt++){ht.index>Nt?(Mt=ht,ht=null):Mt=ht.sibling;var Ht=H(U,ht,B[Nt],Y);if(Ht===null){ht===null&&(ht=Mt);break}t&&ht&&Ht.alternate===null&&n(U,ht),j=f(Ht,j,Nt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht,ht=Mt}if(Nt===B.length)return s(U,ht),zt&&Di(U,Nt),gt;if(ht===null){for(;Nt<B.length;Nt++)ht=X(U,B[Nt],Y),ht!==null&&(j=f(ht,j,Nt),qt===null?gt=ht:qt.sibling=ht,qt=ht);return zt&&Di(U,Nt),gt}for(ht=l(ht);Nt<B.length;Nt++)Mt=Q(ht,U,Nt,B[Nt],Y),Mt!==null&&(t&&Mt.alternate!==null&&ht.delete(Mt.key===null?Nt:Mt.key),j=f(Mt,j,Nt),qt===null?gt=Mt:qt.sibling=Mt,qt=Mt);return t&&ht.forEach(function(ws){return n(U,ws)}),zt&&Di(U,Nt),gt}function vt(U,j,B,Y){if(B==null)throw Error(r(151));for(var gt=null,qt=null,ht=j,Nt=j=0,Mt=null,Ht=B.next();ht!==null&&!Ht.done;Nt++,Ht=B.next()){ht.index>Nt?(Mt=ht,ht=null):Mt=ht.sibling;var ws=H(U,ht,Ht.value,Y);if(ws===null){ht===null&&(ht=Mt);break}t&&ht&&ws.alternate===null&&n(U,ht),j=f(ws,j,Nt),qt===null?gt=ws:qt.sibling=ws,qt=ws,ht=Mt}if(Ht.done)return s(U,ht),zt&&Di(U,Nt),gt;if(ht===null){for(;!Ht.done;Nt++,Ht=B.next())Ht=X(U,Ht.value,Y),Ht!==null&&(j=f(Ht,j,Nt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return zt&&Di(U,Nt),gt}for(ht=l(ht);!Ht.done;Nt++,Ht=B.next())Ht=Q(ht,U,Nt,Ht.value,Y),Ht!==null&&(t&&Ht.alternate!==null&&ht.delete(Ht.key===null?Nt:Ht.key),j=f(Ht,j,Nt),qt===null?gt=Ht:qt.sibling=Ht,qt=Ht);return t&&ht.forEach(function(AT){return n(U,AT)}),zt&&Di(U,Nt),gt}function Wt(U,j,B,Y){if(typeof B=="object"&&B!==null&&B.type===W&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:t:{for(var gt=B.key;j!==null;){if(j.key===gt){if(gt=B.type,gt===W){if(j.tag===7){s(U,j.sibling),Y=c(j,B.props.children),Y.return=U,U=Y;break t}}else if(j.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&fa(gt)===j.type){s(U,j.sibling),Y=c(j,B.props),Sl(Y,B),Y.return=U,U=Y;break t}s(U,j);break}else n(U,j);j=j.sibling}B.type===W?(Y=la(B.props.children,U.mode,Y,B.key),Y.return=U,U=Y):(Y=tu(B.type,B.key,B.props,null,U.mode,Y),Sl(Y,B),Y.return=U,U=Y)}return g(U);case J:t:{for(gt=B.key;j!==null;){if(j.key===gt)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){s(U,j.sibling),Y=c(j,B.children||[]),Y.return=U,U=Y;break t}else{s(U,j);break}else n(U,j);j=j.sibling}Y=eh(B,U.mode,Y),Y.return=U,U=Y}return g(U);case w:return B=fa(B),Wt(U,j,B,Y)}if(ft(B))return ct(U,j,B,Y);if(N(B)){if(gt=N(B),typeof gt!="function")throw Error(r(150));return B=gt.call(B),vt(U,j,B,Y)}if(typeof B.then=="function")return Wt(U,j,lu(B),Y);if(B.$$typeof===mt)return Wt(U,j,iu(U,B),Y);ou(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(s(U,j.sibling),Y=c(j,B),Y.return=U,U=Y):(s(U,j),Y=th(B,U.mode,Y),Y.return=U,U=Y),g(U)):s(U,j)}return function(U,j,B,Y){try{bl=0;var gt=Wt(U,j,B,Y);return sr=null,gt}catch(ht){if(ht===ir||ht===au)throw ht;var qt=fn(29,ht,null,U.mode);return qt.lanes=Y,qt.return=U,qt}finally{}}}var ma=Qm(!0),Fm=Qm(!1),us=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Wo(t),Nm(t,null,s),n}return $o(t,l,n,s),Wo(t)}function Al(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}function gh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ph=!1;function xl(){if(ph){var t=nr;if(t!==null)throw t}}function wl(t,n,s,l){ph=!1;var c=t.updateQueue;us=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var V=T,P=V.next;V.next=null,g===null?f=P:g.next=P,g=V;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=V))}if(f!==null){var X=c.baseState;g=0,F=P=V=null,T=f;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(Ot&H)===H:(l&H)===H){H!==0&&H===er&&(ph=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,vt=T;H=n;var Wt=s;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){X=ct.call(Wt,X,H);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,H=typeof ct=="function"?ct.call(Wt,X,H):ct,H==null)break t;X=x({},X,H);break t;case 2:us=!0}}H=T.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=c.callbacks,Q===null?c.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=Q,V=X):F=F.next=Q,g|=H;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,c.lastBaseUpdate=Q,c.shared.pending=null}}while(!0);F===null&&(V=X),c.baseState=V,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ps|=g,t.lanes=g,t.memoizedState=X}}function Ym(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Km(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ym(s[t],n)}var ar=I(null),uu=I(0);function Xm(t,n){t=Pi,st(uu,t),st(ar,n),Pi=t|n.baseLanes}function yh(){st(uu,Pi),st(ar,ar.current)}function _h(){Pi=uu.current,K(ar),K(uu)}var dn=I(null),Dn=null;function fs(t){var n=t.alternate;st(de,de.current&1),st(dn,t),Dn===null&&(n===null||ar.current!==null||n.memoizedState!==null)&&(Dn=t)}function vh(t){st(de,de.current),st(dn,t),Dn===null&&(Dn=t)}function Zm(t){t.tag===22?(st(de,de.current),st(dn,t),Dn===null&&(Dn=t)):ds()}function ds(){st(de,de.current),st(dn,dn.current)}function mn(t){K(dn),Dn===t&&(Dn=null),K(de)}var de=I(0);function cu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||wf(s)||Rf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,Rt=null,Jt=null,be=null,hu=!1,rr=!1,ga=!1,fu=0,Rl=0,lr=null,mE=0;function ue(){throw Error(r(321))}function Eh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!hn(t[s],n[s]))return!1;return!0}function Th(t,n,s,l,c,f){return Oi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Og:Uh,ga=!1,f=s(l,c),ga=!1,rr&&(f=$m(n,s,l,c)),Jm(t),f}function Jm(t){z.H=Dl;var n=Jt!==null&&Jt.next!==null;if(Oi=0,be=Jt=Rt=null,hu=!1,Rl=0,lr=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&nu(t)&&(Se=!0))}function $m(t,n,s,l){Rt=t;var c=0;do{if(rr&&(lr=null),Rl=0,rr=!1,25<=c)throw Error(r(301));if(c+=1,be=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Mg,f=n(s,l)}while(rr);return f}function gE(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Cl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function bh(){var t=fu!==0;return fu=0,t}function Sh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Ah(t){if(hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}hu=!1}Oi=0,be=Jt=Rt=null,rr=!1,Rl=fu=0,lr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Rt.memoizedState=be=t:be=be.next=t,be}function me(){if(Jt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=be===null?Rt.memoizedState:be.next;if(n!==null)be=n,Jt=t;else{if(t===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?Rt.memoizedState=be=t:be=be.next=t}return be}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var n=Rl;return Rl+=1,lr===null&&(lr=[]),t=qm(lr,t,n),n=Rt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Og:Uh),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===mt)return Be(t)}throw Error(r(438,String(t)))}function xh(t){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=du(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Mi(t,n){return typeof n=="function"?n(t):n}function gu(t){var n=me();return wh(n,Jt,t)}function wh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,V=null,P=n,F=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ot&X)===X:(Oi&X)===X){var H=P.revertLane;if(H===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===er&&(F=!0);else if((Oi&H)===H){P=P.next,H===er&&(F=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(T=V=X,g=f):V=V.next=X,Rt.lanes|=H,ps|=H;X=P.action,ga&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else H={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(T=V=H,g=f):V=V.next=H,Rt.lanes|=X,ps|=X;P=P.next}while(P!==null&&P!==n);if(V===null?g=f:V.next=T,!hn(f,t.memoizedState)&&(Se=!0,F&&(s=nr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=V,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Wm(t,n,s){var l=Rt,c=me(),f=zt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Jt||c).memoizedState,s);if(g&&(c.memoizedState=s,Se=!0),c=c.queue,Dh(ng.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,or(9,{destroy:void 0},eg.bind(null,l,c,s,n),null),te===null)throw Error(r(349));f||(Oi&127)!==0||tg(l,n,s)}return s}function tg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=du(),Rt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function eg(t,n,s,l){n.value=s,n.getSnapshot=l,ig(n)&&sg(t)}function ng(t,n,s){return s(function(){ig(n)&&sg(t)})}function ig(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!hn(t,s)}catch{return!0}}function sg(t){var n=ra(t,2);n!==null&&rn(n,t,2)}function Ch(t){var n=$e();if(typeof t=="function"){var s=t;if(t=s(),ga){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function ag(t,n,s,l){return t.baseState=s,wh(t,Jt,typeof l=="function"?l:Mi)}function pE(t,n,s,l,c){if(_u(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var T=s(c,l),V=z.S;V!==null&&V(g,T),lg(t,n,T)}catch(P){Nh(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=s(c,l),lg(t,n,f)}catch(P){Nh(t,n,P)}}function lg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){og(t,n,l)},function(l){return Nh(t,n,l)}):og(t,n,s)}function og(t,n,s){n.status="fulfilled",n.value=s,ug(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,rg(t,s)))}function Nh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,ug(n),n=n.next;while(n!==l)}t.action=null}function ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cg(t,n){return n}function hg(t,n){if(zt){var s=te.formState;if(s!==null){t:{var l=Rt;if(zt){if(ie){e:{for(var c=ie,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=Vn(c.nextSibling),l=c.data==="F!";break t}}ls(l)}l=!1}l&&(n=s[0])}}return s=$e(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},s.queue=l,s=Dg.bind(null,Rt,l),l.dispatch=s,l=Ch(!1),f=jh.bind(null,Rt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=pE.bind(null,Rt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function fg(t){var n=me();return dg(n,Jt,t)}function dg(t,n,s){if(n=wh(t,n,cg)[0],t=gu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(g){throw g===ir?au:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,or(9,{destroy:void 0},yE.bind(null,c,s),null)),[l,f,t]}function yE(t,n){t.action=n}function mg(t){var n=me(),s=Jt;if(s!==null)return dg(n,s,t);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function or(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=du(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function gg(){return me().memoizedState}function pu(t,n,s,l){var c=$e();Rt.flags|=t,c.memoizedState=or(1|n,{destroy:void 0},s,l===void 0?null:l)}function yu(t,n,s,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&Eh(l,Jt.memoizedState.deps)?c.memoizedState=or(n,f,s,l):(Rt.flags|=t,c.memoizedState=or(1|n,f,s,l))}function pg(t,n){pu(8390656,8,t,n)}function Dh(t,n){yu(2048,8,t,n)}function _E(t){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=du(),Rt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function yg(t){var n=me().memoizedState;return _E({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function _g(t,n){return yu(4,2,t,n)}function vg(t,n){return yu(4,4,t,n)}function Eg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tg(t,n,s){s=s!=null?s.concat([t]):null,yu(4,4,Eg.bind(null,n,t),s)}function Vh(){}function bg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Eh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Sg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Eh(n,l[1]))return l[0];if(l=t(),ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Ih(t,n,s){return s===void 0||(Oi&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ap(),Rt.lanes|=t,ps|=t,s)}function Ag(t,n,s,l){return hn(s,n)?s:ar.current!==null?(t=Ih(t,s,l),hn(t,n)||(Se=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Ot&261930)===0?(Se=!0,t.memoizedState=s):(t=Ap(),Rt.lanes|=t,ps|=t,n)}function xg(t,n,s,l,c){var f=q.p;q.p=f!==0&&8>f?f:8;var g=z.T,T={};z.T=T,jh(t,!1,n,s);try{var V=c(),P=z.S;if(P!==null&&P(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var F=dE(V,l);Nl(t,n,F,yn(t))}else Nl(t,n,l,yn(t))}catch(X){Nl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{q.p=f,g!==null&&T.types!==null&&(g.types=T.types),z.T=g}}function vE(){}function Oh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=wg(t).queue;xg(t,c,n,tt,s===null?vE:function(){return Rg(t),s(l)})}function wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:tt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Rg(t){var n=wg(t);n.next===null&&(n=t.alternate.memoizedState),Nl(t,n.next.queue,{},yn())}function Mh(){return Be(Fl)}function Cg(){return me().memoizedState}function Ng(){return me().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();t=cs(s);var l=hs(n,t,s);l!==null&&(rn(l,n,s),Al(l,n,s)),n={cache:uh()},t.payload=n;return}n=n.return}}function TE(t,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_u(t)?Vg(n,s):(s=$c(t,n,s,l),s!==null&&(rn(s,t,l),Ig(s,n,l)))}function Dg(t,n,s){var l=yn();Nl(t,n,s,l)}function Nl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(_u(t))Vg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(c.hasEagerState=!0,c.eagerState=T,hn(T,g))return $o(t,n,c,0),te===null&&Jo(),!1}catch{}finally{}if(s=$c(t,n,c,l),s!==null)return rn(s,t,l),Ig(s,n,l),!0}return!1}function jh(t,n,s,l){if(l={lane:2,revertLane:mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(n)throw Error(r(479))}else n=$c(t,s,l,2),n!==null&&rn(n,t,2)}function _u(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Vg(t,n){rr=hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ig(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}var Dl={readContext:Be,use:mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Dl.useEffectEvent=ue;var Og={readContext:Be,use:mu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:pg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,pu(4194308,4,Eg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return pu(4194308,4,t,n)},useInsertionEffect:function(t,n){pu(4,2,t,n)},useMemo:function(t,n){var s=$e();n=n===void 0?null:n;var l=t();if(ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=$e();if(s!==void 0){var c=s(n);if(ga){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=TE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,s=Dg.bind(null,Rt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Vh,useDeferredValue:function(t,n){var s=$e();return Ih(s,t,n)},useTransition:function(){var t=Ch(!1);return t=xg.bind(null,Rt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Rt,c=$e();if(zt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Ot&127)!==0||tg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,pg(ng.bind(null,l,f,t),[t]),l.flags|=2048,or(9,{destroy:void 0},eg.bind(null,l,f,s,n),null),s},useId:function(){var t=$e(),n=te.identifierPrefix;if(zt){var s=pi,l=gi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=fu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=mE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mh,useFormState:hg,useActionState:hg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jh.bind(null,Rt,!0,s),s.dispatch=n,[t,n]},useMemoCache:xh,useCacheRefresh:function(){return $e().memoizedState=EE.bind(null,Rt)},useEffectEvent:function(t){var n=$e(),s={impl:t};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Uh={readContext:Be,use:mu,useCallback:bg,useContext:Be,useEffect:Dh,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:gu,useRef:gg,useState:function(){return gu(Mi)},useDebugValue:Vh,useDeferredValue:function(t,n){var s=me();return Ag(s,Jt.memoizedState,t,n)},useTransition:function(){var t=gu(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:Wm,useId:Cg,useHostTransitionStatus:Mh,useFormState:fg,useActionState:fg,useOptimistic:function(t,n){var s=me();return ag(s,Jt,t,n)},useMemoCache:xh,useCacheRefresh:Ng};Uh.useEffectEvent=yg;var Mg={readContext:Be,use:mu,useCallback:bg,useContext:Be,useEffect:Dh,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Rh,useRef:gg,useState:function(){return Rh(Mi)},useDebugValue:Vh,useDeferredValue:function(t,n){var s=me();return Jt===null?Ih(s,t,n):Ag(s,Jt.memoizedState,t,n)},useTransition:function(){var t=Rh(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:Wm,useId:Cg,useHostTransitionStatus:Mh,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var s=me();return Jt!==null?ag(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:xh,useCacheRefresh:Ng};Mg.useEffectEvent=yg;function zh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=yn(),c=cs(l);c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=yn(),c=cs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=yn(),l=cs(s);l.tag=2,n!=null&&(l.callback=n),n=hs(t,l,s),n!==null&&(rn(n,t,s),Al(n,t,s))}};function jg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!pl(s,l)||!pl(c,f):!0}function Ug(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Lh.enqueueReplaceState(n,n.state,null)}function pa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=x({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function zg(t){Zo(t)}function Lg(t){console.error(t)}function kg(t){Zo(t)}function vu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function kh(t,n,s){return s=cs(s),s.tag=3,s.payload={element:null},s.callback=function(){vu(t,n)},s}function Pg(t){return t=cs(t),t.tag=3,t}function qg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Bg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Bg(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&tr(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Vu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),hf(t,l,c)),!1;case 22:return s.flags|=65536,l===ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),hf(t,l,c)),!1}throw Error(r(435,s.tag))}return hf(t,l,c),Vu(),!1}if(zt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==sh&&(t=Error(r(422),{cause:l}),vl(wn(t,s)))):(l!==sh&&(n=Error(r(423),{cause:l}),vl(wn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,s),c=kh(t.stateNode,l,c),gh(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=wn(f,s),Ll===null?Ll=[f]:Ll.push(f),ce!==4&&(ce=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=kh(s.stateNode,l,t),gh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Pg(c),qg(c,t,s,l),gh(s,c),!1}s=s.return}while(s!==null);return!1}var Bh=Error(r(461)),Se=!1;function Pe(t,n,s,l){n.child=t===null?Fm(n,null,s,l):ma(n,t.child,s,l)}function Hg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return ca(n),l=Th(t,n,s,g,f,c),T=bh(),t!==null&&!Se?(Sh(t,n,c),ji(t,n,c)):(zt&&T&&nh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Gg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,c)):(t=tu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(g,l)&&t.ref===n.ref)return ji(t,n,c)}return n.flags|=1,t=Ni(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Kh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,ji(t,n,c)}return Ph(t,n,s,l,c)}function Fg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Yg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(n,f!==null?f.cachePool:null),f!==null?Xm(n,f):yh(),Zm(n);else return l=n.lanes=536870912,Yg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(su(n,f.cachePool),Xm(n,f),ds(),n.memoizedState=null):(t!==null&&su(n,null),yh(),ds());return Pe(t,n,c,s),n.child}function Vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(t,n,s,l,c){var f=hh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&su(n,null),yh(),Zm(n),t!==null&&tr(t,n,l,!0),n.childLanes=c,null}function Eu(t,n){return n=bu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Kg(t,n,s){return ma(n,t.child,null,s),t=Eu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function SE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=Eu(n,l),n.lanes=536870912,Vl(null,t);if(vh(n),(t=ie)?(t=ry(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Vm(t),s.return=n,n.child=s,ke=n,ie=null)):t=null,t===null)throw ls(n);return n.lanes=536870912,null}return Eu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vh(n),c)if(n.flags&256)n.flags&=-257,n=Kg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||tr(t,n,s,!1),c=(s&t.childLanes)!==0,Se||c){if(l=te,l!==null&&(g=$r(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ra(t,g),rn(l,t,g),Bh;Vu(),n=Kg(t,n,s)}else t=f.treeContext,ie=Vn(g.nextSibling),ke=n,zt=!0,rs=null,Nn=!1,t!==null&&Mm(n,t),n=Eu(n,l),n.flags|=4096;return n}return t=Ni(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Tu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Ph(t,n,s,l,c){return ca(n),s=Th(t,n,s,l,void 0,c),l=bh(),t!==null&&!Se?(Sh(t,n,c),ji(t,n,c)):(zt&&l&&nh(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Xg(t,n,s,l,c,f){return ca(n),n.updateQueue=null,s=$m(n,l,s,c),Jm(t),l=bh(),t!==null&&!Se?(Sh(t,n,f),ji(t,n,f)):(zt&&l&&nh(n),n.flags|=1,Pe(t,n,s,f),n.child)}function Zg(t,n,s,l,c){if(ca(n),n.stateNode===null){var f=Za,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},dh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Za,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(zh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lh.enqueueReplaceState(f,f.state,null),wl(n,l,f,c),xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,V=pa(s,T);f.props=V;var P=f.context,F=s.contextType;g=Za,typeof F=="object"&&F!==null&&(g=Be(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Ug(n,f,l,g),us=!1;var H=n.memoizedState;f.state=H,wl(n,l,f,c),xl(),P=n.memoizedState,T||H!==P||us?(typeof X=="function"&&(zh(n,s,X,l),P=n.memoizedState),(V=us||jg(n,s,V,l,H,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=V):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mh(t,n),g=n.memoizedProps,F=pa(s,g),f.props=F,X=n.pendingProps,H=f.context,P=s.contextType,V=Za,typeof P=="object"&&P!==null&&(V=Be(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||H!==V)&&Ug(n,f,l,V),us=!1,H=n.memoizedState,f.state=H,wl(n,l,f,c),xl();var Q=n.memoizedState;g!==X||H!==Q||us||t!==null&&t.dependencies!==null&&nu(t.dependencies)?(typeof T=="function"&&(zh(n,s,T,l),Q=n.memoizedState),(F=us||jg(n,s,F,l,H,Q,V)||t!==null&&t.dependencies!==null&&nu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,V),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,V)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=V,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Tu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ma(n,t.child,null,c),n.child=ma(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=ji(t,n,c),t}function Jg(t,n,s,l){return oa(),n.flags|=256,Pe(t,n,s,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:Bm()}}function Gh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=pn),t}function $g(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?fs(n):ds(),(t=ie)?(t=ry(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Vm(t),s.return=n,n.child=s,ke=n,ie=null)):t=null,t===null)throw ls(n);return Rf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(ds(),c=n.mode,T=bu({mode:"hidden",children:T},c),l=la(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Hh(s),l.childLanes=Gh(t,g,s),n.memoizedState=qh,Vl(null,l)):(fs(n),Qh(n,T))}var V=t.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(f)n.flags&256?(fs(n),n.flags&=-257,n=Fh(t,n,s)):n.memoizedState!==null?(ds(),n.child=t.child,n.flags|=128,n=null):(ds(),T=l.fallback,c=n.mode,l=bu({mode:"visible",children:l.children},c),T=la(T,c,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ma(n,t.child,null,s),l=n.child,l.memoizedState=Hh(s),l.childLanes=Gh(t,g,s),n.memoizedState=qh,n=Vl(null,l));else if(fs(n),Rf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,vl({value:l,source:null,stack:null}),n=Fh(t,n,s)}else if(Se||tr(t,n,s,!1),g=(s&t.childLanes)!==0,Se||g){if(g=te,g!==null&&(l=$r(g,s),l!==0&&l!==V.retryLane))throw V.retryLane=l,ra(t,l),rn(g,t,l),Bh;wf(T)||Vu(),n=Fh(t,n,s)}else wf(T)?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,ie=Vn(T.nextSibling),ke=n,zt=!0,rs=null,Nn=!1,t!==null&&Mm(n,t),n=Qh(n,l.children),n.flags|=4096);return n}return c?(ds(),T=l.fallback,c=n.mode,V=t.child,P=V.sibling,l=Ni(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,P!==null?T=Ni(P,T):(T=la(T,c,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Vl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Hh(s):(c=T.cachePool,c!==null?(V=Te._currentValue,c=c.parent!==V?{parent:V,pool:V}:c):c=Bm(),T={baseLanes:T.baseLanes|s,cachePool:c}),l.memoizedState=T,l.childLanes=Gh(t,g,s),n.memoizedState=qh,Vl(t.child,l)):(fs(n),s=t.child,t=s.sibling,s=Ni(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Qh(t,n){return n=bu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Fh(t,n,s){return ma(n,t.child,null,s),t=Qh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lh(t.return,n,s)}function Yh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function tp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,st(de,g),Pe(t,n,l,s),l=zt?_l:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,s,n);else if(t.tag===19)Wg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&cu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Yh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&cu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Yh(n,!0,s,null,f,l);break;case"together":Yh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(tr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ni(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ni(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nu(t)))}function AE(t,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),os(n,Te,t.memoizedState.cache),oa();break;case 27:case 5:qs(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(t,n,s):(fs(n),t=ji(t,n,s),t!==null?t.sibling:null);fs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(tr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return tp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(de,de.current),l)break;return null;case 22:return n.lanes=0,Fg(t,n,s,n.pendingProps);case 24:os(n,Te,t.memoizedState.cache)}return ji(t,n,s)}function ep(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Kh(t,s)&&(n.flags&128)===0)return Se=!1,AE(t,n,s);Se=(t.flags&131072)!==0}else Se=!1,zt&&(n.flags&1048576)!==0&&Om(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=fa(n.elementType),n.type=t,typeof t=="function")Wc(t)?(l=pa(t,l),n.tag=1,n=Zg(null,n,t,l,s)):(n.tag=0,n=Ph(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Dt){n.tag=11,n=Hg(null,n,t,l,s);break t}else if(c===D){n.tag=14,n=Gg(null,n,t,l,s);break t}}throw n=at(t)||t,Error(r(306,n,""))}}return n;case 0:return Ph(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=pa(l,n.pendingProps),Zg(t,n,l,c,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,mh(t,n),wl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,os(n,Te,l),l!==f.cache&&oh(n,[Te],s,!0),xl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jg(t,n,l,s);break t}else if(l!==c){c=wn(Error(r(424)),n),vl(c),n=Jg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=Vn(t.firstChild),ke=n,zt=!0,rs=null,Nn=!0,s=Fm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oa(),l===c){n=ji(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return Tu(t,n),t===null?(s=fy(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,t=n.pendingProps,l=Lu(Ct.current).createElement(s),l[_e]=n,l[Oe]=t,qe(l,s,t),ve(l),n.stateNode=l):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qs(n),t===null&&zt&&(l=n.stateNode=uy(n.type,n.pendingProps,Ct.current),ke=n,Nn=!0,c=ie,Ts(n.type)?(Cf=c,ie=Vn(l.firstChild)):ie=c),Pe(t,n,n.pendingProps.children,s),Tu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ie)&&(l=tT(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,ke=n,ie=Vn(l.firstChild),Nn=!1,c=!0):c=!1),c||ls(n)),qs(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Sf(c,f)?l=null:g!==null&&Sf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Th(t,n,gE,null,null,s),Fl._currentValue=c),Tu(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&zt&&((t=s=ie)&&(s=eT(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ke=n,ie=null,t=!0):t=!1),t||ls(n)),null;case 13:return $g(t,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ma(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return Hg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,os(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=Be(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Gg(t,n,n.type,n.pendingProps,s);case 15:return Qg(t,n,n.type,n.pendingProps,s);case 19:return tp(t,n,s);case 31:return SE(t,n,s);case 22:return Fg(t,n,s,n.pendingProps);case 24:return ca(n),l=Be(Te),t===null?(c=hh(),c===null&&(c=te,f=uh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},dh(n),os(n,Te,c)):((t.lanes&s)!==0&&(mh(t,n),wl(n,null,null,s),xl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),os(n,Te,l)):(l=f.cache,os(n,Te,l),l!==c.cache&&oh(n,[Te],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ui(t){t.flags|=4}function Xh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Cp())t.flags|=8192;else throw da=ru,fh}else t.flags&=-16777217}function np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n))if(Cp())t.flags|=8192;else throw da=ru,fh}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?No():536870912,t.lanes|=n,fr|=n)}function Il(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function xE(t,n,s){var l=n.pendingProps;switch(ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Te),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wa(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ah())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(se(n),np(n,f)):(se(n),Xh(n,c,null,l,s))):f?f!==t.memoizedState?(Ui(n),se(n),np(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),se(n),Xh(n,c,t,l,s)),null;case 27:if(Va(n),s=Ct.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}t=ut.current,Wa(n)?jm(n):(t=uy(c,l,s),n.stateNode=t,Ui(n))}return se(n),null;case 5:if(Va(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=ut.current,Wa(n))jm(n);else{var g=Lu(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return se(n),Xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ct.current,Wa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$p(t.nodeValue,s)),t||ls(n,!0)}else t=Lu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return se(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Wa(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else s=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),se(n),null);case 4:return ae(),t===null&&_f(n.stateNode.containerInfo),se(n),null;case 10:return Ii(n.type),se(n),null;case 19:if(K(de),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Il(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=cu(t),f!==null){for(n.flags|=128,Il(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Dm(s,t),s=s.sibling;return st(de,de.current&1|2),zt&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Cu&&(n.flags|=128,c=!0,Il(l,!1),n.lanes=4194304)}else{if(!c)if(t=cu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return se(n),null}else 2*Ze()-l.renderingStartTime>Cu&&s!==536870912&&(n.flags|=128,c=!0,Il(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=de.current,st(de,c?s&1|2:s&1),zt&&Di(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return mn(n),_h(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(Te),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function wE(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Va(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(de),null;case 4:return ae(),null;case 10:return Ii(n.type),null;case 22:case 23:return mn(n),_h(),t!==null&&K(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function ip(t,n){switch(ih(n),n.tag){case 3:Ii(Te),ae();break;case 26:case 27:case 5:Va(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(de);break;case 10:Ii(n.type);break;case 22:case 23:mn(n),_h(),t!==null&&K(ha);break;case 24:Ii(Te)}}function Ol(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(T){Xt(n,n.return,T)}}function ms(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var V=s,P=T;try{P()}catch(F){Xt(c,V,F)}}}l=l.next}while(l!==f)}}catch(F){Xt(n,n.return,F)}}function sp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Km(n,s)}catch(l){Xt(t,t.return,l)}}}function ap(t,n,s){s.props=pa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Ml(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Xt(t,n,c)}}function yi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function rp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function Zh(t,n,s){try{var l=t.stateNode;KE(l,t.type,s,n),l[Oe]=n}catch(c){Xt(t,t.return,c)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ts(t.type)||t.tag===4}function Jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,s),t=t.sibling;t!==null;)$h(t,n,s),t=t.sibling}function Au(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Au(t,n,s),t=t.sibling;t!==null;)Au(t,n,s),t=t.sibling}function op(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[_e]=t,n[Oe]=s}catch(f){Xt(t,t.return,f)}}var zi=!1,Ae=!1,Wh=!1,up=typeof WeakSet=="function"?WeakSet:Set,je=null;function RE(t,n){if(t=t.containerInfo,Tf=Qu,t=Tm(t),Fc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,V=-1,P=0,F=0,X=t,H=null;e:for(;;){for(var Q;X!==s||c!==0&&X.nodeType!==3||(T=g+c),X!==f||l!==0&&X.nodeType!==3||(V=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(Q=X.firstChild)!==null;)H=X,X=Q;for(;;){if(X===t)break e;if(H===s&&++P===c&&(T=g),H===f&&++F===l&&(V=g),(Q=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=Q}s=T===-1||V===-1?null:{start:T,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(bf={focusedElem:t,selectionRange:s},Qu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=pa(s.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Xt(s,s.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)xf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function cp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ki(t,s),l&4&&Ol(5,s);break;case 1:if(ki(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var c=pa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}l&64&&sp(s),l&512&&Ml(s,s.return);break;case 3:if(ki(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Km(t,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&l&4&&op(s);case 26:case 5:ki(t,s),n===null&&l&4&&rp(s),l&512&&Ml(s,s.return);break;case 12:ki(t,s);break;case 31:ki(t,s),l&4&&dp(t,s);break;case 13:ki(t,s),l&4&&mp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=UE.bind(null,s),nT(t,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=zi;var f=Ae;zi=l,(Ae=n)&&!f?Bi(t,s,(s.subtreeFlags&8772)!==0):ki(t,s),zi=c,Ae=f}break;case 30:break;default:ki(t,s)}}function hp(t){var n=t.alternate;n!==null&&(t.alternate=null,hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function Li(t,n,s){for(s=s.child;s!==null;)fp(t,n,s),s=s.sibling}function fp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Ae||yi(s,n),Li(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||yi(s,n);var l=le,c=en;Ts(s.type)&&(le=s.stateNode,en=!1),Li(t,n,s),Hl(s.stateNode),le=l,en=c;break;case 5:Ae||yi(s,n);case 6:if(l=le,c=en,le=null,Li(t,n,s),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:le!==null&&(en?(t=le,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Er(t)):sy(le,s.stateNode));break;case 4:l=le,c=en,le=s.stateNode.containerInfo,en=!0,Li(t,n,s),le=l,en=c;break;case 0:case 11:case 14:case 15:ms(2,s,n),Ae||ms(4,s,n),Li(t,n,s);break;case 1:Ae||(yi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ap(s,n,l)),Li(t,n,s);break;case 21:Li(t,n,s);break;case 22:Ae=(l=Ae)||s.memoizedState!==null,Li(t,n,s),Ae=l;break;default:Li(t,n,s)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Er(t)}catch(s){Xt(n,n.return,s)}}}function mp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Er(t)}catch(s){Xt(n,n.return,s)}}function CE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new up),n;default:throw Error(r(435,t.tag))}}function xu(t,n){var s=CE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=zE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ts(T.type)){le=T.stateNode,en=!1;break t}break;case 5:le=T.stateNode,en=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(le===null)throw Error(r(160));fp(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gp(n,t),n=n.sibling}var Gn=null;function gp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),sn(t),l&4&&(ms(3,t,t.return),Ol(3,t),ms(5,t,t.return));break;case 1:nn(n,t),sn(t),l&512&&(Ae||s===null||yi(s,s.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(nn(n,t),sn(t),l&512&&(Ae||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=gy("link","href",c).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=gy("meta","content",c).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else py(c,t.type,t.stateNode);else t.stateNode=my(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?py(c,t.type,t.stateNode):my(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zh(t,t.memoizedProps,s.memoizedProps)}break;case 27:nn(n,t),sn(t),l&512&&(Ae||s===null||yi(s,s.return)),s!==null&&l&4&&Zh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nn(n,t),sn(t),l&512&&(Ae||s===null||yi(s,s.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(ct){Xt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Zh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Wh=!0);break;case 6:if(nn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){Xt(t,t.return,ct)}}break;case 3:if(Pu=null,c=Gn,Gn=ku(n.containerInfo),nn(n,t),Gn=c,sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Er(n.containerInfo)}catch(ct){Xt(t,t.return,ct)}Wh&&(Wh=!1,pp(t));break;case 4:l=Gn,Gn=ku(t.stateNode.containerInfo),nn(n,t),sn(t),Gn=l;break;case 12:nn(n,t),sn(t);break;case 31:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 13:nn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ru=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 22:c=t.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,P=zi,F=Ae;if(zi=P||c,Ae=F||V,nn(n,t),Ae=F,zi=P,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||V||zi||Ae||ya(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){V=s=n;try{if(f=V.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=V.stateNode;var X=V.memoizedProps.style,H=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ct){Xt(V,V.return,ct)}}}else if(n.tag===6){if(s===null){V=n;try{V.stateNode.nodeValue=c?"":V.memoizedProps}catch(ct){Xt(V,V.return,ct)}}}else if(n.tag===18){if(s===null){V=n;try{var Q=V.stateNode;c?ay(Q,!0):ay(V.stateNode,!1)}catch(ct){Xt(V,V.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,xu(t,s))));break;case 19:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(lp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Jh(t);Au(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(tn(g,""),s.flags&=-33);var T=Jh(t);Au(t,T,g);break;case 3:case 4:var V=s.stateNode.containerInfo,P=Jh(t);$h(t,P,V);break;default:throw Error(r(161))}}catch(F){Xt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cp(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),ya(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ap(n,n.return,s),ya(n);break;case 27:Hl(n.stateNode);case 26:case 5:yi(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}t=t.sibling}}function Bi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,s),Ol(4,f);break;case 1:if(Bi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var V=c.shared.hiddenCallbacks;if(V!==null)for(c.shared.hiddenCallbacks=null,c=0;c<V.length;c++)Ym(V[c],T)}catch(P){Xt(l,l.return,P)}}s&&g&64&&sp(f),Ml(f,f.return);break;case 27:op(f);case 26:case 5:Bi(c,f,s),s&&l===null&&g&4&&rp(f),Ml(f,f.return);break;case 12:Bi(c,f,s);break;case 31:Bi(c,f,s),s&&g&4&&dp(c,f);break;case 13:Bi(c,f,s),s&&g&4&&mp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,s),Ml(f,f.return);break;case 30:break;default:Bi(c,f,s)}n=n.sibling}}function tf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&El(s))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Qn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yp(t,n,s,l),n=n.sibling}function yp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,s,l),c&2048&&Ol(9,n);break;case 1:Qn(t,n,s,l);break;case 3:Qn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){Qn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Xt(n,n.return,V)}}else Qn(t,n,s,l);break;case 31:Qn(t,n,s,l);break;case 13:Qn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,s,l):jl(t,n):f._visibility&2?Qn(t,n,s,l):(f._visibility|=2,ur(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&tf(g,n);break;case 24:Qn(t,n,s,l),c&2048&&ef(n.alternate,n);break;default:Qn(t,n,s,l)}}function ur(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=s,V=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:ur(f,g,T,V,c),Ol(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?ur(f,g,T,V,c):jl(f,g):(F._visibility|=2,ur(f,g,T,V,c)),c&&P&2048&&tf(g.alternate,g);break;case 24:ur(f,g,T,V,c),c&&P&2048&&ef(g.alternate,g);break;default:ur(f,g,T,V,c)}n=n.sibling}}function jl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:jl(s,l),c&2048&&tf(l.alternate,l);break;case 24:jl(s,l),c&2048&&ef(l.alternate,l);break;default:jl(s,l)}n=n.sibling}}var Ul=8192;function cr(t,n,s){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)_p(t,n,s),t=t.sibling}function _p(t,n,s){switch(t.tag){case 26:cr(t,n,s),t.flags&Ul&&t.memoizedState!==null&&mT(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:cr(t,n,s);break;case 3:case 4:var l=Gn;Gn=ku(t.stateNode.containerInfo),cr(t,n,s),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,cr(t,n,s),Ul=l):cr(t,n,s));break;default:cr(t,n,s)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Tp(l,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&ms(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wu(t)):zl(t);break;default:zl(t)}}function wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Tp(l,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ms(8,n,n.return),wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,wu(n));break;default:wu(n)}t=t.sibling}}function Tp(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(hp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var NE={getCacheForType:function(t){var n=Be(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},DE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Vt=null,Ot=0,Kt=0,gn=null,gs=!1,hr=!1,nf=!1,Pi=0,ce=0,ps=0,_a=0,sf=0,pn=0,fr=0,Ll=null,an=null,af=!1,Ru=0,bp=0,Cu=1/0,Nu=null,ys=null,Ve=0,_s=null,dr=null,qi=0,rf=0,lf=null,Sp=null,kl=0,of=null;function yn(){return(Qt&2)!==0&&Ot!==0?Ot&-Ot:z.T!==null?mf():Do()}function Ap(){if(pn===0)if((Ot&536870912)===0||zt){var t=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,s){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(mr(t,0),vs(t,Ot,pn,!1)),Fs(t,s),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(_a|=s),ce===4&&vs(t,Ot,pn,!1)),_i(t))}function xp(t,n,s){if((Qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),c=l?OE(t,n):cf(t,n,!0),f=l;do{if(c===0){hr&&!l&&vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!VE(s)){c=cf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=Ll;var V=T.current.memoizedState.isDehydrated;if(V&&(mr(T,g).flags|=256),g=cf(T,g,!1),g!==2){if(nf&&!V){T.errorRecoveryDisabledLanes|=f,_a|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){mr(t,0),vs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,pn,!gs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ru+300-Ze(),10<c)){if(vs(l,n,pn,!gs),ti(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=ny(wp.bind(null,l,s,an,Nu,af,n,pn,_a,fr,gs,f,"Throttled",-0,0),c);break t}wp(l,s,an,Nu,af,n,pn,_a,fr,gs,f,null,-0,0)}}break}while(!0);_i(t)}function wp(t,n,s,l,c,f,g,T,V,P,F,X,H,Q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},_p(n,f,X);var ct=(f&62914560)===f?Ru-Ze():(f&4194048)===f?bp-Ze():0;if(ct=gT(X,ct),ct!==null){qi=f,t.cancelPendingCommit=ct(Mp.bind(null,t,n,f,s,l,c,g,T,V,F,X,null,H,Q)),vs(t,f,g,!P);return}}Mp(t,n,f,s,l,c,g,T,V)}function VE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(t,n,s,l){n&=~sf,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ys(t,s,n)}function Du(){return(Qt&6)===0?(Bl(0),!1):!0}function uf(){if(Vt!==null){if(Kt===0)var t=Vt.return;else t=Vt,Vi=ua=null,Ah(t),sr=null,bl=0,t=Vt;for(;t!==null;)ip(t.alternate,t),t=t.return;Vt=null}}function mr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,JE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,uf(),te=t,Vt=s=Ni(t.current,null),Ot=n,Kt=0,gn=null,gs=!1,hr=jn(t,n),nf=!1,fr=pn=sf=_a=ps=ce=0,an=Ll=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,Jo(),s}function Rp(t,n){Rt=null,z.H=Dl,n===ir||n===au?(n=Hm(),Kt=3):n===fh?(n=Hm(),Kt=4):Kt=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Vt===null&&(ce=1,vu(t,wn(n,t.current)))}function Cp(){var t=dn.current;return t===null?!0:(Ot&4194048)===Ot?Dn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===Dn:!1}function Np(){var t=z.H;return z.H=Dl,t===null?Dl:t}function Dp(){var t=z.A;return z.A=NE,t}function Vu(){ce=4,gs||(Ot&4194048)!==Ot&&dn.current!==null||(hr=!0),(ps&134217727)===0&&(_a&134217727)===0||te===null||vs(te,Ot,pn,!1)}function cf(t,n,s){var l=Qt;Qt|=2;var c=Np(),f=Dp();(te!==t||Ot!==n)&&(Nu=null,mr(t,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Vt!==null){var T=Vt,V=gn;switch(Kt){case 8:uf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var P=Kt;if(Kt=0,gn=null,gr(t,T,V,P),s&&hr){g=0;break t}break;default:P=Kt,Kt=0,gn=null,gr(t,T,V,P)}}IE(),g=ce;break}catch(F){Rp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Vi=ua=null,Qt=l,z.H=c,z.A=f,Vt===null&&(te=null,Ot=0,Jo()),g}function IE(){for(;Vt!==null;)Vp(Vt)}function OE(t,n){var s=Qt;Qt|=2;var l=Np(),c=Dp();te!==t||Ot!==n?(Nu=null,Cu=Ze()+500,mr(t,n)):hr=jn(t,n);t:do try{if(Kt!==0&&Vt!==null){n=Vt;var f=gn;e:switch(Kt){case 1:Kt=0,gn=null,gr(t,n,f,1);break;case 2:case 9:if(Pm(f)){Kt=0,gn=null,Ip(n);break}n=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),_i(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Pm(f)?(Kt=0,gn=null,Ip(n)):(Kt=0,gn=null,gr(t,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var T=Vt;if(g?yy(g):T.stateNode.complete){Kt=0,gn=null;var V=T.sibling;if(V!==null)Vt=V;else{var P=T.return;P!==null?(Vt=P,Iu(P)):Vt=null}break e}}Kt=0,gn=null,gr(t,n,f,5);break;case 6:Kt=0,gn=null,gr(t,n,f,6);break;case 8:uf(),ce=6;break t;default:throw Error(r(462))}}ME();break}catch(F){Rp(t,F)}while(!0);return Vi=ua=null,z.H=l,z.A=c,Qt=s,Vt!==null?0:(te=null,Ot=0,Jo(),ce)}function ME(){for(;Vt!==null&&!kc();)Vp(Vt)}function Vp(t){var n=ep(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Iu(t):Vt=n}function Ip(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Xg(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Xg(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Ah(n);default:ip(s,n),n=Vt=Dm(n,Pi),n=ep(s,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Iu(t):Vt=n}function gr(t,n,s,l){Vi=ua=null,Ah(n),sr=null,bl=0;var c=n.return;try{if(bE(t,c,n,s,Ot)){ce=1,vu(t,wn(s,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ce=1,vu(t,wn(s,t.current)),Vt=null;return}n.flags&32768?(zt||l===1?t=!0:hr||(Ot&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Op(n,t)):Iu(n)}function Iu(t){var n=t;do{if((n.flags&32768)!==0){Op(n,gs);return}t=n.return;var s=xE(n.alternate,n,Pi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ce===0&&(ce=5)}function Op(t,n){do{var s=wE(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);ce=6,Vt=null}function Mp(t,n,s,l,c,f,g,T,V){t.cancelPendingCommit=null;do Ou();while(Ve!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Jc,qc(t,s,f,g,T,V),t===te&&(Vt=te=null,Ot=0),dr=n,_s=t,qi=s,rf=f,lf=c,Sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LE(Xi,function(){return kp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=q.p,q.p=2,g=Qt,Qt|=4;try{RE(t,n,s)}finally{Qt=g,q.p=c,z.T=l}}Ve=1,jp(),Up(),zp()}}function jp(){if(Ve===1){Ve=0;var t=_s,n=dr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=q.p;q.p=2;var c=Qt;Qt|=4;try{gp(n,t);var f=bf,g=Tm(t.containerInfo),T=f.focusedElem,V=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Em(T.ownerDocument.documentElement,T)){if(V!==null&&Fc(T)){var P=V.start,F=V.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,H=X&&X.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ct=T.textContent.length,vt=Math.min(V.start,ct),Wt=V.end===void 0?vt:Math.min(V.end,ct);!Q.extend&&vt>Wt&&(g=Wt,Wt=vt,vt=g);var U=vm(T,vt),j=vm(T,Wt);if(U&&j&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var B=X.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),vt>Wt?(Q.addRange(B),Q.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Q.addRange(B))}}}}for(X=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&X.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Qu=!!Tf,bf=Tf=null}finally{Qt=c,q.p=l,z.T=s}}t.current=n,Ve=2}}function Up(){if(Ve===2){Ve=0;var t=_s,n=dr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=q.p;q.p=2;var c=Qt;Qt|=4;try{cp(t,n.alternate,n)}finally{Qt=c,q.p=l,z.T=s}}Ve=3}}function zp(){if(Ve===4||Ve===3){Ve=0,So();var t=_s,n=dr,s=qi,l=Sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,dr=_s=null,Lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),xi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=q.p,q.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{z.T=n,q.p=c}}(qi&3)!==0&&Ou(),_i(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===of?kl++:(kl=0,of=t):kl=0,Bl(0)}}function Lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Ou(){return jp(),Up(),zp(),kp()}function kp(){if(Ve!==5)return!1;var t=_s,n=rf;rf=0;var s=xi(qi),l=z.T,c=q.p;try{q.p=32>s?32:s,z.T=null,s=lf,lf=null;var f=_s,g=qi;if(Ve=0,dr=_s=null,qi=0,(Qt&6)!==0)throw Error(r(331));var T=Qt;if(Qt|=4,Ep(f.current),yp(f,f.current,g,s),Qt=T,Bl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{q.p=c,z.T=l,Lp(t,n)}}function Bp(t,n,s){n=wn(s,n),n=kh(t.stateNode,n,2),t=hs(t,n,2),t!==null&&(Fs(t,2),_i(t))}function Xt(t,n,s){if(t.tag===3)Bp(t,t,s);else for(;n!==null;){if(n.tag===3){Bp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=wn(s,t),s=Pg(2),l=hs(n,s,2),l!==null&&(qg(s,l,n,t),Fs(l,2),_i(l));break}}n=n.return}}function hf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new DE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(nf=!0,c.add(s),t=jE.bind(null,t,n,s),n.then(t,t))}function jE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Ot&s)===s&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>Ze()-Ru?(Qt&2)===0&&mr(t,0):sf|=s,fr===Ot&&(fr=0)),_i(t)}function Pp(t,n){n===0&&(n=No()),t=ra(t,n),t!==null&&(Fs(t,n),_i(t))}function UE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Pp(t,s)}function zE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Pp(t,s)}function LE(t,n){return De(t,n)}var Mu=null,pr=null,ff=!1,ju=!1,df=!1,Es=0;function _i(t){t!==pr&&t.next===null&&(pr===null?Mu=pr=t:pr=pr.next=t),ju=!0,ff||(ff=!0,BE())}function Bl(t,n){if(!df&&ju){df=!0;do for(var s=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qp(l,f))}else f=Ot,f=ti(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,Qp(l,f));l=l.next}while(s);df=!1}}function kE(){qp()}function qp(){ju=ff=!1;var t=0;Es!==0&&ZE()&&(t=Es);for(var n=Ze(),s=null,l=Mu;l!==null;){var c=l.next,f=Hp(l,n);f===0?(l.next=null,s===null?Mu=c:s.next=c,c===null&&(pr=s)):(s=l,(t!==0||(f&3)!==0)&&(ju=!0)),l=c}Ve!==0&&Ve!==5||Bl(t),Es!==0&&(Es=0)}function Hp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),T=1<<g,V=c[g];V===-1?((T&s)===0||(T&l)!==0)&&(c[g]=Pc(T,n)):V<=n&&(t.expiredLanes|=T),f&=~T}if(n=te,s=Ot,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),xi(s)){case 2:case 8:s=Zr;break;case 32:s=Xi;break;case 268435456:s=Ao;break;default:s=Xi}return l=Gp.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Gp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ou()&&t.callbackNode!==s)return null;var l=Ot;return l=ti(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xp(t,l,n),Hp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?Gp.bind(null,t):null)}function Qp(t,n){if(Ou())return null;xp(t,n,!0)}function BE(){$E(function(){(Qt&6)!==0?De(Xr,kE):qp()})}function mf(){if(Es===0){var t=er;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Es=t}return Es}function Fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function Yp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function PE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Fp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Fp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new hi("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var V=g?Yp(c,g):new FormData(c);Oh(s,{pending:!0,data:V,method:c.method,action:f},null,V)}}else typeof f=="function"&&(T.preventDefault(),V=g?Yp(c,g):new FormData(c),Oh(s,{pending:!0,data:V,method:c.method,action:f},f,V))},currentTarget:c}]})}}for(var gf=0;gf<Zc.length;gf++){var pf=Zc[gf],qE=pf.toLowerCase(),HE=pf[0].toUpperCase()+pf.slice(1);Hn(qE,"on"+HE)}Hn(Am,"onAnimationEnd"),Hn(xm,"onAnimationIteration"),Hn(wm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(aE,"onTransitionRun"),Hn(rE,"onTransitionStart"),Hn(lE,"onTransitionCancel"),Hn(Rm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Kp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],V=T.instance,P=T.currentTarget;if(T=T.listener,V!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=P;try{f(c)}catch(F){Zo(F)}c.currentTarget=null,f=V}else for(g=0;g<l.length;g++){if(T=l[g],V=T.instance,P=T.currentTarget,T=T.listener,V!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=P;try{f(c)}catch(F){Zo(F)}c.currentTarget=null,f=V}}}}function It(t,n){var s=n[ja];s===void 0&&(s=n[ja]=new Set);var l=t+"__bubble";s.has(l)||(Xp(n,t,2,!1),s.add(l))}function yf(t,n,s){var l=0;n&&(l|=4),Xp(s,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function _f(t){if(!t[Uu]){t[Uu]=!0,Wr.forEach(function(s){s!=="selectionchange"&&(GE.has(s)||yf(s,!1,t),yf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,yf("selectionchange",!1,n))}}function Xp(t,n,s,l){switch(Ay(n)){case 2:var c=_T;break;case 8:c=vT;break;default:c=Of}s=c.bind(null,n,s,t),c=void 0,!$s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function vf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var V=g.tag;if((V===3||V===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=si(T),g===null)return;if(V=g.tag,V===5||V===6||V===26||V===27){l=f=g;continue t}T=T.parentNode}}l=l.return}es(function(){var P=f,F=bn(s),X=[];t:{var H=Cm.get(t);if(H!==void 0){var Q=hi,ct=t;switch(t){case"keypress":if(ta(s)===0)break t;case"keydown":case"keyup":Q=Yo;break;case"focusin":ct="focus",Q=na;break;case"focusout":ct="blur",Q=na;break;case"beforeblur":case"afterblur":Q=na;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Am:case xm:case wm:Q=Bo;break;case Rm:Q=b;break;case"scroll":case"scrollend":Q=hl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ci;break;case"toggle":case"beforetoggle":Q=wt}var vt=(n&4)!==0,Wt=!vt&&(t==="scroll"||t==="scrollend"),U=vt?H!==null?H+"Capture":null:H;vt=[];for(var j=P,B;j!==null;){var Y=j;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||U===null||(Y=kn(j,U),Y!=null&&vt.push(ql(j,Y,B))),Wt)break;j=j.return}0<vt.length&&(H=new Q(H,ct,null,s,F),X.push({event:H,listeners:vt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&s!==ol&&(ct=s.relatedTarget||s.fromElement)&&(si(ct)||ct[ni]))break t;if((Q||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ct=s.relatedTarget||s.toElement,Q=P,ct=ct?si(ct):null,ct!==null&&(Wt=h(ct),vt=ct.tag,ct!==Wt||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(Q=null,ct=P),Q!==ct)){if(vt=fl,Y="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Ci,Y="onPointerLeave",U="onPointerEnter",j="pointer"),Wt=Q==null?H:un(Q),B=ct==null?H:un(ct),H=new vt(Y,j+"leave",Q,s,F),H.target=Wt,H.relatedTarget=B,Y=null,si(F)===P&&(vt=new vt(U,j+"enter",ct,s,F),vt.target=B,vt.relatedTarget=Wt,Y=vt),Wt=Y,Q&&ct)e:{for(vt=QE,U=Q,j=ct,B=0,Y=U;Y;Y=vt(Y))B++;Y=0;for(var gt=j;gt;gt=vt(gt))Y++;for(;0<B-Y;)U=vt(U),B--;for(;0<Y-B;)j=vt(j),Y--;for(;B--;){if(U===j||j!==null&&U===j.alternate){vt=U;break e}U=vt(U),j=vt(j)}vt=null}else vt=null;Q!==null&&Zp(X,H,Q,vt,!1),ct!==null&&Wt!==null&&Zp(X,Wt,ct,vt,!0)}}t:{if(H=P?un(P):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var qt=dm;else if(hm(H))if(mm)qt=nE;else{qt=tE;var ht=Wv}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&ka(P.elementType)&&(qt=dm):qt=eE;if(qt&&(qt=qt(t,P))){fm(X,qt,s,F);break t}ht&&ht(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&al(H,"number",H.value)}switch(ht=P?un(P):window,t){case"focusin":(hm(ht)||ht.contentEditable==="true")&&(Ya=ht,Yc=P,yl=null);break;case"focusout":yl=Yc=Ya=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,bm(X,s,F);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":bm(X,s,F)}var Nt;if(Gt)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Fa?ia(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(mi&&s.locale!=="ko"&&(Fa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Fa&&(Nt=cl()):(ci=F,ul="value"in ci?ci.value:ci.textContent,Fa=!0)),ht=zu(P,Mt),0<ht.length&&(Mt=new di(Mt,t,null,s,F),X.push({event:Mt,listeners:ht}),Nt?Mt.data=Nt:(Nt=Qa(s),Nt!==null&&(Mt.data=Nt)))),(Nt=An?Xv(t,s):Zv(t,s))&&(Mt=zu(P,"onBeforeInput"),0<Mt.length&&(ht=new di("onBeforeInput","beforeinput",null,s,F),X.push({event:ht,listeners:Mt}),ht.data=Nt)),PE(X,t,P,s,F)}Kp(X,n)})}function ql(t,n,s){return{instance:t,listener:n,currentTarget:s}}function zu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(t,s),c!=null&&l.unshift(ql(t,c,f)),c=kn(t,n),c!=null&&l.push(ql(t,c,f))),t.tag===3)return l;t=t.return}return[]}function QE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,V=T.alternate,P=T.stateNode;if(T=T.tag,V!==null&&V===l)break;T!==5&&T!==26&&T!==27||P===null||(V=P,c?(P=kn(s,f),P!=null&&g.unshift(ql(s,P,V))):c||(P=kn(s,f),P!=null&&g.push(ql(s,P,V)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var FE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Jp(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(YE,"")}function $p(t,n){return n=Jp(n),Jp(t)===n}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,s,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ba(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ba(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":It("beforetoggle",t),It("toggle",t),za(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zo.get(s)||s,za(t,s,l))}}function Ef(t,n,s,l,c,f){switch(s){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Oe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):za(t,s,l)}}}function qe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,f,g,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":It("invalid",t);var T=f=g=c=null,V=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":V=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:$t(t,n,l,F,s,null)}}Mo(t,f,T,V,P,g,c,!1);return;case"select":It("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:$t(t,n,c,T,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):s!=null&&Ji(t,!!l,s,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:$t(t,n,g,T,s,null)}$i(t,l,c,f);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,V,l,s,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)It(Pl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,P,l,s,null)}return;default:if(ka(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Ef(t,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&$t(t,n,T,l,s,null))}function KE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,V=null,P=null,F=null;for(Q in s){var X=s[Q];if(s.hasOwnProperty(Q)&&X!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=X;default:l.hasOwnProperty(Q)||$t(t,n,Q,null,l,X)}}for(var H in l){var Q=l[H];if(X=s[H],l.hasOwnProperty(H)&&(Q!=null||X!=null))switch(H){case"type":f=Q;break;case"name":c=Q;break;case"checked":P=Q;break;case"defaultChecked":F=Q;break;case"value":g=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==X&&$t(t,n,H,Q,l,X)}}La(t,g,T,V,P,F,f,c);return;case"select":Q=g=T=H=null;for(f in s)if(V=s[f],s.hasOwnProperty(f)&&V!=null)switch(f){case"value":break;case"multiple":Q=V;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,V)}for(c in l)if(f=l[c],V=s[c],l.hasOwnProperty(c)&&(f!=null||V!=null))switch(c){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==V&&$t(t,n,c,f,l,V)}n=T,s=g,l=Q,H!=null?Ji(t,!!s,H,!1):!!l!=!!s&&(n!=null?Ji(t,!!s,n,!0):Ji(t,!!s,s?[]:"",!1));return;case"textarea":Q=H=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":H=c;break;case"defaultValue":Q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,n,g,c,l,f)}jo(t,H,Q);return;case"option":for(var ct in s)if(H=s[ct],s.hasOwnProperty(ct)&&H!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,H)}for(V in l)if(H=l[V],Q=s[V],l.hasOwnProperty(V)&&H!==Q&&(H!=null||Q!=null))switch(V){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$t(t,n,V,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)H=s[vt],s.hasOwnProperty(vt)&&H!=null&&!l.hasOwnProperty(vt)&&$t(t,n,vt,null,l,H);for(P in l)if(H=l[P],Q=s[P],l.hasOwnProperty(P)&&H!==Q&&(H!=null||Q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:$t(t,n,P,H,l,Q)}return;default:if(ka(n)){for(var Wt in s)H=s[Wt],s.hasOwnProperty(Wt)&&H!==void 0&&!l.hasOwnProperty(Wt)&&Ef(t,n,Wt,void 0,l,H);for(F in l)H=l[F],Q=s[F],!l.hasOwnProperty(F)||H===Q||H===void 0&&Q===void 0||Ef(t,n,F,H,l,Q);return}}for(var U in s)H=s[U],s.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,H);for(X in l)H=l[X],Q=s[X],!l.hasOwnProperty(X)||H===Q||H==null&&Q==null||$t(t,n,X,H,l,Q)}function Wp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Wp(g)){for(g=0,T=c.responseEnd,l+=1;l<s.length;l++){var V=s[l],P=V.startTime;if(P>T)break;var F=V.transferSize,X=V.initiatorType;F&&Wp(X)&&(V=V.responseEnd,g+=F*(V<T?1:(T-P)/(V-P)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tf=null,bf=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(t){return iy.resolve(null).then(t).catch(WE)}:ny;function WE(t){setTimeout(function(){throw t})}function Ts(t){return t==="head"}function sy(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Er(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Hl(t.ownerDocument.body);s=c}while(s);Er(n)}function ay(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function xf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xf(s),Ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function eT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vn(t.nextSibling),t===null))return null;return t}function ry(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function wf(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cf=null;function ly(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function uy(t,n,s){switch(n=Lu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ua(t)}var In=new Map,cy=new Set;function ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=q.d;q.d={f:iT,r:sT,D:aT,C:rT,L:lT,m:oT,X:cT,S:uT,M:hT};function iT(){var t=Hi.f(),n=Du();return t||n}function sT(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?Rg(n):Hi.r(t)}var yr=typeof document>"u"?null:document;function hy(t,n,s){var l=yr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),cy.has(c)||(cy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function aT(t){Hi.D(t),hy("dns-prefetch",t,null)}function rT(t,n){Hi.C(t,n),hy("preconnect",t,n)}function lT(t,n,s){Hi.L(t,n,s);var l=yr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+We(s.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=_r(t);break;case"script":f=vr(t)}In.has(f)||(t=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function oT(t,n){Hi.m(t,n);var s=yr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vr(t)}if(!In.has(f)&&(t=x({rel:"modulepreload",href:t},n),In.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ql(f)))return}l=s.createElement("link"),qe(l,"link",t),ve(l),s.head.appendChild(l)}}}function uT(t,n,s){Hi.S(t,n,s);var l=yr;if(l&&t){var c=ai(l).hoistableStyles,f=_r(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(Gl(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},s),(s=In.get(f))&&Nf(t,s);var V=g=l.createElement("link");ve(V),qe(V,"link",t),V._p=new Promise(function(P,F){V.onload=P,V.onerror=F}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function cT(t,n){Hi.X(t,n);var s=yr;if(s&&t){var l=ai(s).hoistableScripts,c=vr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=x({src:t,async:!0},n),(n=In.get(c))&&Df(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hT(t,n){Hi.M(t,n);var s=yr;if(s&&t){var l=ai(s).hoistableScripts,c=vr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Df(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function fy(t,n,s,l){var c=(c=Ct.current)?ku(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=_r(s.href),s=ai(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=_r(s.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Gl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(t,s),f||fT(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vr(s),s=ai(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function _r(t){return'href="'+We(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function dy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ve(n),t.head.appendChild(n))}function vr(t){return'[src="'+We(t)+'"]'}function Ql(t){return"script[async]"+t}function my(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),Bu(l,s.precedence,t),n.instance=l;case"stylesheet":c=_r(s.href);var f=t.querySelector(Gl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=dy(s),(c=In.get(c))&&Nf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(T,V){g.onload=T,g.onerror=V}),qe(f,"link",l),n.state.loading|=4,Bu(f,s.precedence,t),n.instance=f;case"script":return f=vr(s.src),(c=t.querySelector(Ql(f)))?(n.instance=c,ve(c),c):(l=s,(c=In.get(f))&&(l=x({},s),Df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Bu(l,s.precedence,t));return n.instance}function Bu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Pu=null;function gy(t,n,s){if(Pu===null){var l=new Map,c=Pu=new Map;c.set(s,l)}else c=Pu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function py(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function dT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=_r(l.href),f=n.querySelector(Gl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=qu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=dy(l),(c=In.get(c))&&Nf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(T,V){g.onload=T,g.onerror=V}),qe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=qu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Vf=0;function gT(t,n){return t.stylesheets&&t.count===0&&Gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vf===0&&(Vf=62500*XE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function Gu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,n.forEach(pT,t),Hu=null,qu.call(t))}function pT(t,n){if(!(n.state.loading&4)){var s=Hu.get(t);if(s)var l=s.get(null);else{s=new Map,Hu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=qu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function yT(t,n,s,l,c,f,g,T,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function _y(t,n,s,l,c,f,g,T,V,P,F,X){return t=new yT(t,n,s,g,V,P,F,X,T),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=uh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},dh(f),t}function vy(t){return t?(t=Za,t):Za}function Ey(t,n,s,l,c,f){c=vy(c),l.context===null?l.context=c:l.pendingContext=c,l=cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=hs(t,l,n),s!==null&&(rn(s,t,n),Al(s,t,n))}function Ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function If(t,n){Ty(t,n),(t=t.alternate)&&Ty(t,n)}function by(t){if(t.tag===13||t.tag===31){var n=ra(t,67108864);n!==null&&rn(n,t,67108864),If(t,67108864)}}function Sy(t){if(t.tag===13||t.tag===31){var n=yn();n=Ks(n);var s=ra(t,n);s!==null&&rn(s,t,n),If(t,n)}}var Qu=!0;function _T(t,n,s,l){var c=z.T;z.T=null;var f=q.p;try{q.p=2,Of(t,n,s,l)}finally{q.p=f,z.T=c}}function vT(t,n,s,l){var c=z.T;z.T=null;var f=q.p;try{q.p=8,Of(t,n,s,l)}finally{q.p=f,z.T=c}}function Of(t,n,s,l){if(Qu){var c=Mf(l);if(c===null)vf(t,n,l,Fu,s),xy(t,l);else if(TT(c,t,n,s,l))l.stopPropagation();else if(xy(t,l),n&4&&-1<ET.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var V=1<<31-he(g);T.entanglements[1]|=V,g&=~V}_i(f),(Qt&6)===0&&(Cu=Ze()+500,Bl(0))}}break;case 31:case 13:T=ra(f,2),T!==null&&rn(T,f,2),Du(),If(f,2)}if(f=Mf(l),f===null&&vf(t,n,l,Fu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else vf(t,n,l,null,s)}}function Mf(t){return t=bn(t),jf(t)}var Fu=null;function jf(t){if(Fu=null,t=si(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=_(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Fu=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gs()){case Xr:return 2;case Zr:return 8;case Xi:case Bc:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var Uf=!1,bs=null,Ss=null,As=null,Yl=new Map,Kl=new Map,xs=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(t,n){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&by(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TT(t,n,s,l,c){switch(n){case"focusin":return bs=Xl(bs,t,n,s,l,c),!0;case"dragenter":return Ss=Xl(Ss,t,n,s,l,c),!0;case"mouseover":return As=Xl(As,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,s,l,c)),!0}return!1}function wy(t){var n=si(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Un(t.priority,function(){Sy(s)});return}}else if(n===31){if(n=_(s),n!==null){t.blockedOn=n,Un(t.priority,function(){Sy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Mf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ol=l,s.target.dispatchEvent(l),ol=null}else return n=Tn(s),n!==null&&by(n),t.blockedOn=s,!1;n.shift()}return!0}function Ry(t,n,s){Yu(t)&&s.delete(n)}function bT(){Uf=!1,bs!==null&&Yu(bs)&&(bs=null),Ss!==null&&Yu(Ss)&&(Ss=null),As!==null&&Yu(As)&&(As=null),Yl.forEach(Ry),Kl.forEach(Ry)}function Ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Uf||(Uf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bT)))}var Xu=null;function Cy(t){Xu!==t&&(Xu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(jf(l||s)===null)continue;break}var f=Tn(s);f!==null&&(t.splice(n,3),n-=3,Oh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Er(t){function n(V){return Ku(V,t)}bs!==null&&Ku(bs,t),Ss!==null&&Ku(Ss,t),As!==null&&Ku(As,t),Yl.forEach(n),Kl.forEach(n);for(var s=0;s<xs.length;s++){var l=xs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xs.length&&(s=xs[0],s.blockedOn===null);)wy(s),s.blockedOn===null&&xs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Oe]||null;if(typeof f=="function")g||Cy(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)T=g.formAction;else if(jf(c)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Cy(s)}}}function Ny(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function zf(t){this._internalRoot=t}Zu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=yn();Ey(s,l,t,n,null,null)},Zu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),Du(),n[ni]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Do();t={blockedOn:null,target:t,priority:n};for(var s=0;s<xs.length&&n!==0&&n<xs[s].priority;s++);xs.splice(s,0,t),s===0&&wy(t)}};var Dy=e.version;if(Dy!=="19.2.3")throw Error(r(527,Dy,"19.2.3"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Mn=Ju.inject(ST),ze=Ju}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=zg,f=Lg,g=kg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=_y(t,1,!1,null,null,s,l,null,c,f,g,Ny),t[ni]=n.current,_f(t),new zf(n)},Jl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=zg,g=Lg,T=kg,V=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(V=s.formState)),n=_y(t,1,!0,n,s??null,l,c,V,f,g,T,Ny),n.context=vy(null),s=n.current,l=yn(),l=Ks(l),c=cs(l),c.callback=null,hs(s,c,l),s=l,n.current.lanes=s,Fs(n,s),_i(n),t[ni]=n.current,_f(t),new Zu(n)},Jl.version="19.2.3",Jl}var By;function OT(){if(By)return Bf.exports;By=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Bf.exports=IT(),Bf.exports}var MT=OT();const jT=()=>{};var Py={};const l0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},UT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],_=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,_=d?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,S=h>>2,x=(h&3)<<4|_>>4;let R=(_&15)<<2|y>>6,L=y&63;v||(L=64,d||(R=64)),r.push(i[S],i[x],i[R],i[L])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(l0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):UT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],_=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const x=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||_==null||y==null||x==null)throw new zT;const R=h<<2|_>>4;if(r.push(R),y!==64){const L=_<<4&240|y>>2;if(r.push(L),x!==64){const J=y<<6&192|x;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(a){const e=l0(a);return o0.encodeByteArray(e,!0)},hc=function(a){return LT(a).replace(/\./g,"")},kT=function(a){try{return o0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PT=()=>BT().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Py>"u")return;const a=Py.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},HT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&kT(a[1]);return e&&JSON.parse(e)},Ad=()=>{try{return jT()||PT()||qT()||HT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},GT=a=>Ad()?.emulatorHosts?.[a],QT=a=>{const e=GT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},u0=()=>Ad()?.config;class FT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function xd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YT(a){return(await fetch(a,{credentials:"include"})).ok}function KT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[hc(JSON.stringify(i)),hc(JSON.stringify(d)),""].join(".")}const so={};function XT(){const a={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?a.emulator.push(e):a.prod.push(e);return a}function ZT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let qy=!1;function JT(a,e){if(typeof window>"u"||typeof document>"u"||!xd(window.location.host)||so[a]===e||so[a]||qy)return;so[a]=e;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",h=XT().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function _(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{qy=!0,d()},R}function S(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function x(){const R=ZT(r),L=i("text"),J=document.getElementById(L)||document.createElement("span"),W=i("learnmore"),et=document.getElementById(W)||document.createElement("a"),dt=i("preprendIcon"),yt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const mt=R.element;_(mt),S(et,W);const Dt=y();v(yt,dt),mt.append(yt,J,et,Dt),document.body.appendChild(mt)}h?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function $T(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WT(){const a=Ad()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t1(){return!WT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e1(){try{return typeof indexedDB=="object"}catch{return!1}}function n1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const i1="FirebaseError";class kr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=i1,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c0.prototype.create)}}class c0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?s1(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new kr(o,_,r)}}function s1(a,e){return a.replace(a1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const a1=/\{\$([^}]+)}/g;function Nr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Hy(h)&&Hy(d)){if(!Nr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Hy(a){return a!==null&&typeof a=="object"}function Si(a){return a&&a._delegate?a._delegate:a}class uo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class r1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new FT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o1(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l1(a){return a===Ea?void 0:a}function o1(a){return a.instantiationMode==="EAGER"}class u1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new r1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const c1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},h1=Bt.INFO,f1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},d1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=f1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h0{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const m1=(a,e)=>e.some(i=>a instanceof i);let Gy,Qy;function g1(){return Gy||(Gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return Qy||(Qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,ed=new WeakMap,d0=new WeakMap,Gf=new WeakMap,wd=new WeakMap;function y1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ns(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&f0.set(i,a)}).catch(()=>{}),wd.set(e,a),e}function _1(a){if(ed.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});ed.set(a,e)}let nd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ed.get(a);if(e==="objectStoreNames")return a.objectStoreNames||d0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ns(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function v1(a){nd=a(nd)}function E1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Qf(this),e,...i);return d0.set(r,e.sort?e.sort():[e]),Ns(r)}:p1().includes(a)?function(...e){return a.apply(Qf(this),e),Ns(f0.get(this))}:function(...e){return Ns(a.apply(Qf(this),e))}}function T1(a){return typeof a=="function"?E1(a):(a instanceof IDBTransaction&&_1(a),m1(a,g1())?new Proxy(a,nd):a)}function Ns(a){if(a instanceof IDBRequest)return y1(a);if(Gf.has(a))return Gf.get(a);const e=T1(a);return e!==a&&(Gf.set(a,e),wd.set(e,a)),e}const Qf=a=>wd.get(a);function b1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),_=Ns(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ns(d.result),v.oldVersion,v.newVersion,Ns(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const S1=["get","getKey","getAll","getAllKeys","count"],A1=["put","add","delete","clear"],Ff=new Map;function Fy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=A1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||S1.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&v.done]))[0]};return Ff.set(e,h),h}v1(a=>({...a,get:(e,i,r)=>Fy(e,i)||a.get(e,i,r),has:(e,i)=>!!Fy(e,i)||a.has(e,i)}));class x1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(w1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function w1(a){return a.getComponent()?.type==="VERSION"}const id="@firebase/app",Yy="0.14.8";const Qi=new h0("@firebase/app"),R1="@firebase/app-compat",C1="@firebase/analytics-compat",N1="@firebase/analytics",D1="@firebase/app-check-compat",V1="@firebase/app-check",I1="@firebase/auth",O1="@firebase/auth-compat",M1="@firebase/database",j1="@firebase/data-connect",U1="@firebase/database-compat",z1="@firebase/functions",L1="@firebase/functions-compat",k1="@firebase/installations",B1="@firebase/installations-compat",P1="@firebase/messaging",q1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",Q1="@firebase/remote-config",F1="@firebase/remote-config-compat",Y1="@firebase/storage",K1="@firebase/storage-compat",X1="@firebase/firestore",Z1="@firebase/ai",J1="@firebase/firestore-compat",$1="firebase",W1="12.9.0";const sd="[DEFAULT]",tb={[id]:"fire-core",[R1]:"fire-core-compat",[N1]:"fire-analytics",[C1]:"fire-analytics-compat",[V1]:"fire-app-check",[D1]:"fire-app-check-compat",[I1]:"fire-auth",[O1]:"fire-auth-compat",[M1]:"fire-rtdb",[j1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[z1]:"fire-fn",[L1]:"fire-fn-compat",[k1]:"fire-iid",[B1]:"fire-iid-compat",[P1]:"fire-fcm",[q1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[Q1]:"fire-rc",[F1]:"fire-rc-compat",[Y1]:"fire-gcs",[K1]:"fire-gcs-compat",[X1]:"fire-fst",[J1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[$1]:"fire-js-all"};const fc=new Map,eb=new Map,ad=new Map;function Ky(a,e){try{a.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function dc(a){const e=a.name;if(ad.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,a);for(const i of fc.values())Ky(i,a);for(const i of eb.values())Ky(i,a);return!0}function nb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function ib(a){return a==null?!1:a.settings!==void 0}const sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new c0("app","Firebase",sb);class ab{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const rb=W1;function m0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:sd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=u0()),!i)throw Ds.create("no-options");const h=fc.get(o);if(h){if(Nr(i,h.options)&&Nr(r,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new u1(o);for(const v of ad.values())d.addComponent(v);const _=new ab(i,r,d);return fc.set(o,_),_}function lb(a=sd){const e=fc.get(a);if(!e&&a===sd&&u0())return m0();if(!e)throw Ds.create("no-app",{appName:a});return e}function xr(a,e,i){let r=tb[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}dc(new uo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ob="firebase-heartbeat-database",ub=1,co="firebase-heartbeat-store";let Yf=null;function g0(){return Yf||(Yf=b1(ob,ub,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(co)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ds.create("idb-open",{originalErrorMessage:a.message})})),Yf}async function cb(a){try{const i=(await g0()).transaction(co),r=await i.objectStore(co).get(p0(a));return await i.done,r}catch(e){if(e instanceof kr)Qi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function Xy(a,e){try{const r=(await g0()).transaction(co,"readwrite");await r.objectStore(co).put(e,p0(a)),await r.done}catch(i){if(i instanceof kr)Qi.warn(i.message);else{const r=Ds.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(r.message)}}}function p0(a){return`${a.name}!${a.options.appId}`}const hb=1024,fb=30;class db{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>fb){const o=pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zy(),{heartbeatsToSend:i,unsentEntries:r}=mb(this._heartbeatsCache.heartbeats),o=hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function mb(a,e=hb){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Jy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Jy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e1()?n1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jy(a){return hc(JSON.stringify({version:2,heartbeats:a})).length}function pb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function yb(a){dc(new uo("platform-logger",e=>new x1(e),"PRIVATE")),dc(new uo("heartbeat",e=>new db(e),"PRIVATE")),xr(id,Yy,a),xr(id,Yy,"esm2020"),xr("fire-js","")}yb("");var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vs,y0;(function(){var a;function e(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(O,M,N){for(var A=Array(arguments.length-2),at=2;at<arguments.length;at++)A[at-2]=arguments[at];return w.prototype[M].apply(O,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)O[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)O[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],M=D.g[2];let N=D.g[3],A;A=w+(N^C&(M^N))+O[0]+3614090360&4294967295,w=C+(A<<7&4294967295|A>>>25),A=N+(M^w&(C^M))+O[1]+3905402710&4294967295,N=w+(A<<12&4294967295|A>>>20),A=M+(C^N&(w^C))+O[2]+606105819&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(w^M&(N^w))+O[3]+3250441966&4294967295,C=M+(A<<22&4294967295|A>>>10),A=w+(N^C&(M^N))+O[4]+4118548399&4294967295,w=C+(A<<7&4294967295|A>>>25),A=N+(M^w&(C^M))+O[5]+1200080426&4294967295,N=w+(A<<12&4294967295|A>>>20),A=M+(C^N&(w^C))+O[6]+2821735955&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(w^M&(N^w))+O[7]+4249261313&4294967295,C=M+(A<<22&4294967295|A>>>10),A=w+(N^C&(M^N))+O[8]+1770035416&4294967295,w=C+(A<<7&4294967295|A>>>25),A=N+(M^w&(C^M))+O[9]+2336552879&4294967295,N=w+(A<<12&4294967295|A>>>20),A=M+(C^N&(w^C))+O[10]+4294925233&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(w^M&(N^w))+O[11]+2304563134&4294967295,C=M+(A<<22&4294967295|A>>>10),A=w+(N^C&(M^N))+O[12]+1804603682&4294967295,w=C+(A<<7&4294967295|A>>>25),A=N+(M^w&(C^M))+O[13]+4254626195&4294967295,N=w+(A<<12&4294967295|A>>>20),A=M+(C^N&(w^C))+O[14]+2792965006&4294967295,M=N+(A<<17&4294967295|A>>>15),A=C+(w^M&(N^w))+O[15]+1236535329&4294967295,C=M+(A<<22&4294967295|A>>>10),A=w+(M^N&(C^M))+O[1]+4129170786&4294967295,w=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(w^C))+O[6]+3225465664&4294967295,N=w+(A<<9&4294967295|A>>>23),A=M+(w^C&(N^w))+O[11]+643717713&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^w&(M^N))+O[0]+3921069994&4294967295,C=M+(A<<20&4294967295|A>>>12),A=w+(M^N&(C^M))+O[5]+3593408605&4294967295,w=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(w^C))+O[10]+38016083&4294967295,N=w+(A<<9&4294967295|A>>>23),A=M+(w^C&(N^w))+O[15]+3634488961&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^w&(M^N))+O[4]+3889429448&4294967295,C=M+(A<<20&4294967295|A>>>12),A=w+(M^N&(C^M))+O[9]+568446438&4294967295,w=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(w^C))+O[14]+3275163606&4294967295,N=w+(A<<9&4294967295|A>>>23),A=M+(w^C&(N^w))+O[3]+4107603335&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^w&(M^N))+O[8]+1163531501&4294967295,C=M+(A<<20&4294967295|A>>>12),A=w+(M^N&(C^M))+O[13]+2850285829&4294967295,w=C+(A<<5&4294967295|A>>>27),A=N+(C^M&(w^C))+O[2]+4243563512&4294967295,N=w+(A<<9&4294967295|A>>>23),A=M+(w^C&(N^w))+O[7]+1735328473&4294967295,M=N+(A<<14&4294967295|A>>>18),A=C+(N^w&(M^N))+O[12]+2368359562&4294967295,C=M+(A<<20&4294967295|A>>>12),A=w+(C^M^N)+O[5]+4294588738&4294967295,w=C+(A<<4&4294967295|A>>>28),A=N+(w^C^M)+O[8]+2272392833&4294967295,N=w+(A<<11&4294967295|A>>>21),A=M+(N^w^C)+O[11]+1839030562&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^w)+O[14]+4259657740&4294967295,C=M+(A<<23&4294967295|A>>>9),A=w+(C^M^N)+O[1]+2763975236&4294967295,w=C+(A<<4&4294967295|A>>>28),A=N+(w^C^M)+O[4]+1272893353&4294967295,N=w+(A<<11&4294967295|A>>>21),A=M+(N^w^C)+O[7]+4139469664&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^w)+O[10]+3200236656&4294967295,C=M+(A<<23&4294967295|A>>>9),A=w+(C^M^N)+O[13]+681279174&4294967295,w=C+(A<<4&4294967295|A>>>28),A=N+(w^C^M)+O[0]+3936430074&4294967295,N=w+(A<<11&4294967295|A>>>21),A=M+(N^w^C)+O[3]+3572445317&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^w)+O[6]+76029189&4294967295,C=M+(A<<23&4294967295|A>>>9),A=w+(C^M^N)+O[9]+3654602809&4294967295,w=C+(A<<4&4294967295|A>>>28),A=N+(w^C^M)+O[12]+3873151461&4294967295,N=w+(A<<11&4294967295|A>>>21),A=M+(N^w^C)+O[15]+530742520&4294967295,M=N+(A<<16&4294967295|A>>>16),A=C+(M^N^w)+O[2]+3299628645&4294967295,C=M+(A<<23&4294967295|A>>>9),A=w+(M^(C|~N))+O[0]+4096336452&4294967295,w=C+(A<<6&4294967295|A>>>26),A=N+(C^(w|~M))+O[7]+1126891415&4294967295,N=w+(A<<10&4294967295|A>>>22),A=M+(w^(N|~C))+O[14]+2878612391&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~w))+O[5]+4237533241&4294967295,C=M+(A<<21&4294967295|A>>>11),A=w+(M^(C|~N))+O[12]+1700485571&4294967295,w=C+(A<<6&4294967295|A>>>26),A=N+(C^(w|~M))+O[3]+2399980690&4294967295,N=w+(A<<10&4294967295|A>>>22),A=M+(w^(N|~C))+O[10]+4293915773&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~w))+O[1]+2240044497&4294967295,C=M+(A<<21&4294967295|A>>>11),A=w+(M^(C|~N))+O[8]+1873313359&4294967295,w=C+(A<<6&4294967295|A>>>26),A=N+(C^(w|~M))+O[15]+4264355552&4294967295,N=w+(A<<10&4294967295|A>>>22),A=M+(w^(N|~C))+O[6]+2734768916&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~w))+O[13]+1309151649&4294967295,C=M+(A<<21&4294967295|A>>>11),A=w+(M^(C|~N))+O[4]+4149444226&4294967295,w=C+(A<<6&4294967295|A>>>26),A=N+(C^(w|~M))+O[11]+3174756917&4294967295,N=w+(A<<10&4294967295|A>>>22),A=M+(w^(N|~C))+O[2]+718787259&4294967295,M=N+(A<<15&4294967295|A>>>17),A=C+(N^(M|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+N&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,O=this.C;let M=this.h,N=0;for(;N<w;){if(M==0)for(;N<=C;)o(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<w;)if(O[M++]=D.charCodeAt(N++),M==this.blockSize){o(this,O),M=0;break}}else for(;N<w;)if(O[M++]=D[N++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)D[w++]=this.g[C]>>>O&255;return D};function h(D,w){var C=_;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;const C=[];let O=!0;for(let M=D.length-1;M>=0;M--){const N=D[M]|0;O&&N==w||(C[M]=N,O=!1)}this.g=C}var _={};function v(D){return-128<=D&&D<128?h(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return x;if(D<0)return et(y(-D));const w=[];let C=1;for(let O=0;D>=C;O++)w[O]=D/C|0,C*=4294967296;return new d(w,0)}function S(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return et(S(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let O=x;for(let N=0;N<D.length;N+=8){var M=Math.min(8,D.length-N);const A=parseInt(D.substring(N,N+M),w);M<8?(M=y(Math.pow(w,M)),O=O.j(M).add(y(A))):(O=O.j(C),O=O.add(y(A)))}return O}var x=v(0),R=v(1),L=v(16777216);a=d.prototype,a.m=function(){if(W(this))return-et(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);D+=(O>=0?O:4294967296+O)*w,w*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+et(this).toString(D);const w=y(Math.pow(D,6));var C=this;let O="";for(;;){const M=Dt(C,w).g;C=dt(C,M.j(w));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=M,J(C))return N+O;for(;N.length<6;)N="0"+N;O=N+O}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function W(D){return D.h==-1}a.l=function(D){return D=dt(this,D),W(D)?-1:J(D)?0:1};function et(D){const w=D.g.length,C=[];for(let O=0;O<w;O++)C[O]=~D.g[O];return new d(C,~D.h).add(R)}a.abs=function(){return W(this)?et(this):this},a.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let O=0;for(let M=0;M<=w;M++){let N=O+(this.i(M)&65535)+(D.i(M)&65535),A=(N>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);O=A>>>16,N&=65535,A&=65535,C[M]=A<<16|N}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(D,w){return D.add(et(w))}a.j=function(D){if(J(this)||J(D))return x;if(W(this))return W(D)?et(this).j(et(D)):et(et(this).j(D));if(W(D))return et(this.j(et(D)));if(this.l(L)<0&&D.l(L)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<D.g.length;M++){const N=this.i(O)>>>16,A=this.i(O)&65535,at=D.i(M)>>>16,ft=D.i(M)&65535;C[2*O+2*M]+=A*ft,yt(C,2*O+2*M),C[2*O+2*M+1]+=N*ft,yt(C,2*O+2*M+1),C[2*O+2*M+1]+=A*at,yt(C,2*O+2*M+1),C[2*O+2*M+2]+=N*at,yt(C,2*O+2*M+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new d(C,0)};function yt(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function mt(D,w){this.g=D,this.h=w}function Dt(D,w){if(J(w))throw Error("division by zero");if(J(D))return new mt(x,x);if(W(D))return w=Dt(et(D),w),new mt(et(w.g),et(w.h));if(W(w))return w=Dt(D,et(w)),new mt(et(w.g),w.h);if(D.g.length>30){if(W(D)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=R,O=w;O.l(D)<=0;)C=Pt(C),O=Pt(O);var M=Tt(C,1),N=Tt(O,1);for(O=Tt(O,2),C=Tt(C,2);!J(O);){var A=N.add(O);A.l(D)<=0&&(M=M.add(C),N=A),O=Tt(O,1),C=Tt(C,1)}return w=dt(D,M.j(w)),new mt(M,w)}for(M=x;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),N=y(C),A=N.j(w);W(A)||A.l(D)>0;)C-=O,N=y(C),A=N.j(w);J(N)&&(N=R),M=M.add(N),D=dt(D,A)}return new mt(M,D)}a.B=function(D){return Dt(this,D).h},a.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&D.i(O);return new d(C,this.h&D.h)},a.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|D.i(O);return new d(C,this.h|D.h)},a.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^D.i(O);return new d(C,this.h^D.h)};function Pt(D){const w=D.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(C,D.h)}function Tt(D,w){const C=w>>5;w%=32;const O=D.g.length-C,M=[];for(let N=0;N<O;N++)M[N]=w>0?D.i(N+C)>>>w|D.i(N+C+1)<<32-w:D.i(N+C);return new d(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,y0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Vs=d}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _0,to,v0,sc,rd,E0,T0,b0;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in p))break t;p=p[k]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function y(u,m,p){return y=v,y.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(b,k,G){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return m.prototype[k].apply(b,it)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const k=arguments[b];var p=typeof k;if(p=p!="object"?p:k?Array.isArray(k)?"array":p:"null",p=="array"||p=="object"&&typeof k.length=="number"){p=u.length||0;const G=k.length||0;u.length=p+G;for(let it=0;it<G;it++)u[p+it]=k[it]}else u.push(k)}}class W{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,p){const b=mt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new W(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,Tt=!1,D=new yt,w=()=>{const u=Promise.resolve(void 0);Pt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(p){et(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Tt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(at,M),at.prototype.init=function(u,m){const p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),z=0;function q(u,m,p,b,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=k,this.key=++z,this.da=this.fa=!1}function tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function nt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function I(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let p,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(p in b)u[p]=b[p];for(let G=0;G<K.length;G++)p=K[G],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,p,b,k){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const it=Ct(u,m,b,k);return it>-1?(m=u[it],p||(m.fa=!1)):(m=new q(m,this.src,G,!!b,k),m.fa=p,u.push(m)),m};function bt(u,m){const p=m.type;if(p in u.g){var b=u.g[p],k=Array.prototype.indexOf.call(b,m,void 0),G;(G=k>=0)&&Array.prototype.splice.call(b,k,1),G&&(tt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ct(u,m,p,b){for(let k=0;k<u.length;++k){const G=u[k];if(!G.da&&G.listener==m&&G.capture==!!p&&G.ha==b)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,p,b,k){if(Array.isArray(m)){for(let G=0;G<m.length;G++)ae(u,m[G],p,b,k);return null}return p=Kr(p),u&&u[ft]?u.J(m,p,_(b)?!!b.capture:!1,k):qs(u,m,p,!1,b,k)}function qs(u,m,p,b,k,G){if(!m)throw Error("Invalid event type");const it=_(k)?!!k.capture:!!k;let wt=Hs(u);if(wt||(u[Lt]=wt=new ut(u)),p=wt.add(m,p,b,it,G),p.proxy)return p;if(b=Va(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)N||(k=it),k===void 0&&(k=!1),u.addEventListener(m.toString(),b,k);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Va(){function u(p){return m.call(u.src,u.listener,p)}const m=Fr;return u}function Ia(u,m,p,b,k){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ia(u,m[G],p,b,k);else b=_(b)?!!b.capture:!!b,p=Kr(p),u&&u[ft]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],p=Ct(m,p,b,k),p>-1&&(tt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,p,b,k)),(p=u>-1?m[u]:null)&&Oa(p))}function Oa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])bt(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(Jn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Hs(m))?(bt(p,u),p.h==0&&(p.src=null,m[Lt]=null)):tt(u)}}}function Jn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function Fr(u,m){if(u.da)u=!0;else{m=new at(m,this);const p=u.listener,b=u.ha||u.src;u.fa&&Oa(u),u=p.call(b,m)}return u}function Hs(u){return u=u[Lt],u instanceof ut?u:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(u){return typeof u=="function"?u:(u[Yr]||(u[Yr]=function(m){return u.handleEvent(m)}),u[Yr])}function pe(){O.call(this),this.i=new ut(this),this.M=this,this.G=null}x(pe,O),pe.prototype[ft]=!0,pe.prototype.removeEventListener=function(u,m,p,b){Ia(this,u,m,p,b)};function De(u,m){var p,b=u.G;if(b)for(p=[];b;b=b.G)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var k=m;m=new M(b,u),st(m,k)}k=!0;let G,it;if(p)for(it=p.length-1;it>=0;it--)G=m.g=p[it],k=Ki(G,b,!0,m)&&k;if(G=m.g=u,k=Ki(G,b,!0,m)&&k,k=Ki(G,b,!1,m)&&k,p)for(it=0;it<p.length;it++)G=m.g=p[it],k=Ki(G,b,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let b=0;b<p.length;b++)tt(p[b]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},pe.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function Ki(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let G=0;G<m.length;++G){const it=m[G];if(it&&!it.da&&it.capture==p){const wt=it.listener,fe=it.ha||it.src;it.fa&&bt(u.i,it),k=wt.call(fe,b)!==!1&&k}}return k&&!b.defaultPrevented}function kc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=kc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(u){O.call(this),this.h=u,this.g={}}x(Gs,O);var Xr=[];function Zr(u){_t(u.g,function(m,p){this.g.hasOwnProperty(p)&&Oa(m)},u),u.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),Zr(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Bc=d.JSON.parse,Ao=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xo(){}function wo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){M.call(this,"d")}x(ze,M);function En(){M.call(this,"c")}x(En,M);var he={},Ro=null;function Ma(){return Ro=Ro||new pe}he.Ia="serverreachability";function Co(u){M.call(this,he.Ia,u)}x(Co,M);function $n(u){const m=Ma();De(m,new Co(m))}he.STAT_EVENT="statevent";function Qs(u,m){M.call(this,he.STAT_EVENT,u),this.stat=m}x(Qs,M);function ye(u){const m=Ma();De(m,new Qs(m,u))}he.Ja="timingevent";function Wn(u,m){M.call(this,he.Ja,u),this.size=m}x(Wn,M);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Pc(u,m,p,b,k,G){u.info(function(){if(u.g)if(G){var it="",wt=G.split("&");for(let Gt=0;Gt<wt.length;Gt++){var fe=wt[Gt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const An=re.split("_");it=An.length>=2&&An[1]=="type"?it+(re+"="+fe+"&"):it+(re+"=redacted&")}}}else it=null;else it=G;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+m+`
`+p+`
`+it})}function No(u,m,p,b,k,G,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+m+`
`+p+`
`+G+" "+it})}function ei(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qc(u,p)+(b?" "+b:"")})}function Fs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function qc(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var p=G[u];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return Xi(G)}catch{return m}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function Ks(){}x(Ks,xo),Ks.prototype.g=function(){return new XMLHttpRequest},$r=new Ks;function xi(u){return encodeURIComponent(String(u))}function Do(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Un(u,m,p,b){this.j=u,this.i=m,this.l=p,this.S=b||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ni(u,m,p){u.M=1,u.A=Xs(Ee(m)),u.u=p,u.R=!0,ja(u,null)}function ja(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var p=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ka(p.i,"t",b),u.C=0,p=u.j.L,u.h=new zn,u.g=Qo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,p=u.g,b=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(Xr[0]=k.toString()),k=Xr);for(let G=0;G<k.length;G++){const it=ae(p,k[G],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Pc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Bn(this.g),fe=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||wt!=4||fe==7||(fe==8||Gt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var p=Hc(this);if(this.o=m==200,No(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(b)){var G=b;break e}}G=null}if(u=G)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),un(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<p.length;)if(re=Io(this,p),re==Oe){wt==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ai(this,re);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),Tn(this);else if(p.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),dl(it),it.P=!0,ye(11))}}else ei(this.i,this.l,p,null),ai(this,p);wt==4&&un(this),this.o&&!this.K&&(wt==4?Po(this.j,this):(this.o=!1,ii(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),Tn(this)}}}catch{}finally{}};function Hc(u){if(!Vo(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let p="";const b=m.length,k=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<b;G++)u.h.h=!0,p+=u.h.i.decode(m[G],{stream:!(k&&G==b-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Io(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?Oe:(p=Number(m.substring(p,b)),isNaN(p)?_e:(b+=1,b+p>m.length?Oe:(m=m.slice(b,b+p),u.C=b+p,m)))}Un.prototype.cancel=function(){this.K=!0,un(this)};function ii(u){u.T=Date.now()+u.H,Ua(u,u.H)}function Ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fs(this.i,this.B),this.M!=2&&($n(),ye(17)),un(this),this.m=2,Tn(this)):Ua(this,this.T-u)};function Tn(u){u.j.I==0||u.K||Po(u.j,u)}function un(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||li(p.h,u))){if(!u.L&&li(p.h,u)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ga(p),is(p);else break t;na(p),ye(18)}}else p.xa=k[1],0<p.xa-p.K&&k[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ti(y(p.Va,p),6e3));ri(p.h)<=1&&p.ta&&(p.ta=void 0)}else di(p,11)}else if((u.L||p.g==u)&&Ga(p),!A(m))for(k=p.Ba.g.parse(m),m=0;m<k.length;m++){let Gt=k[m];const re=Gt[0];if(!(re<=p.K))if(p.K=re,Gt=Gt[1],p.I==2)if(Gt[0]=="c"){p.M=Gt[1],p.ba=Gt[2];const An=Gt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const mi=Gt[4];mi!=null&&(p.za=mi,p.j.info("SVER="+p.za));const Pn=Gt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(b=1.5*Pn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const qn=u.g;if(qn){const ia=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var G=b.h;G.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(el(G,G.h),G.h=null))}if(b.G){const Qa=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(b.wa=Qa,Yt(b.J,b.G,Qa))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var it=u;if(b.na=Go(b,b.L?b.ba:null,b.W),it.L){nl(b.h,it);var wt=it,fe=b.O;fe&&(wt.H=fe),wt.D&&(si(wt),ii(wt)),b.g=it}else ko(b);p.i.length>0&&fi(p)}else Gt[0]!="stop"&&Gt[0]!="close"||di(p,7);else p.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?di(p,7):hl(p):Gt[0]!="noop"&&p.l&&p.l.qa(Gt),p.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Wr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Wr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return L(u.i)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const b=u[p].indexOf("=");let k,G=null;b>=0?(k=u[p].substring(0,b),G=u[p].substring(b+1)):k=u[p],m(k,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,sl(this,zo(u.i)),this.m=u.m):u&&(m=String(u).match(Oo))?(this.l=!1,Me(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),Zi(this,m[4]),this.h=oi(m[5]||"",!0),sl(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Zs(m,La,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zs(m,La,!0),"@"),u.push(xi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Zs(p,p.charAt(0)=="/"?al:Mo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Zs(p,jo)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var b=u.h;if(p)Zi(m,u.u);else if(p=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=m.h.lastIndexOf("/");k!=-1&&(b=m.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const G=[];for(let it=0;it<k.length;){const wt=k[it++];wt=="."?b&&it==k.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&it==k.length&&G.push("")):(G.push(wt),b=!0)}b=G.join("/")}else b=k}return p?m.h=b:p=u.i.toString()!=="",p?sl(m,zo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Me(u,m,p){u.j=p?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function sl(u,m,p){m instanceof $i?(u.i=m,Ba(u.i,u.l)):(p||(m=Zs(m,Ji)),u.i=new $i(m,u.l))}function Yt(u,m,p){u.i.set(m,p)}function Xs(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var La=/[#\/\?@]/g,Mo=/[#\?:]/g,al=/[#\?]/g,Ji=/[#\?@]/g,jo=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&za(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=$i.prototype,a.add=function(u,m){tn(this),this.i=null,u=Wi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Uo(u,m){tn(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function rl(u,m){return tn(u),m=Wi(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(p,b){p.forEach(function(k){u.call(m,k,b,this)},this)},this)};function ll(u,m){tn(u);let p=[];if(typeof m=="string")rl(u,m)&&(p=p.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return tn(this),this.i=null,u=Wi(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function ka(u,m,p){Uo(u,m),p.length>0&&(u.i=null,u.g.set(Wi(u,m),L(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const k=xi(p);p=ll(this,p);for(let G=0;G<p.length;G++){let it=k;p[G]!==""&&(it+="="+xi(p[G])),u.push(it)}}return this.i=u.join("&")};function zo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ba(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,b){const k=b.toLowerCase();b!=k&&(Uo(this,b),ka(this,k,p))},u)),u.j=m}function Ln(u,m){const p=new jn;if(d.Image){const b=new Image;b.onload=S(bn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=S(bn,p,"TestLoadImage: error",!1,m,b),b.onabort=S(bn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(bn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ol(u,m){const p=new jn,b=new AbortController,k=setTimeout(()=>{b.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(k),G.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),bn(p,"TestPingServer: error",!1,m)})}function bn(u,m,p,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(p)}catch{}}function ts(){this.g=new Ao}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}x(ui,xo),ui.prototype.g=function(){return new Js(this.i,this.h)};function Js(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Js,pe),a=Js.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?es(this):kn(this),this.readyState==3&&Pa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,es(this))},a.Na=function(u){this.g&&(this.response=u,es(this))},a.ga=function(){this.g&&es(this)};function es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return _t(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function $s(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Sn(p),typeof u=="string"?p!=null&&xi(p):Yt(u,m,p))}function Zt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Zt,pe);var ci=/^https?$/i,ul=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Ws(this,G);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)p.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())p.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(G=>G.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||b||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of p)this.g.setRequestHeader(G,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ws(this,G)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),wi(u)}function cl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},a.Xa=function(){ta(this)};function ta(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const G=u.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=G===0){let it=String(u.D).match(Oo)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!ci.test(it?it.toLowerCase():"")}p=b}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=Bn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",cl(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(A(u[b]))continue;var p=Do(u[b]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const G=m[k]||[];m[k]=G,G.push(p)}nt(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ns(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wr(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ns.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,b){ye(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=Go(this,null,this.W),fi(this)};function hl(u){if(qa(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Yt(p,"SID",u.M),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),ea(u,p),m=new Un(u,u.j,m),m.M=2,m.A=Xs(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Qo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Ho(u)}function is(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function qa(u){is(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pt||w(),Tt||(Pt(),Tt=!0),D.add(m,u),u.D=0}}function Ha(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),qo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Un(this,this.j,u);let G=this.o;if(this.U&&(G?(G=I(G),st(G,this.U)):G=this.U),this.u!==null||this.R||(k.J=G,G=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Lo(this,k,m),p=Ee(this.J),Yt(p,"RID",u),Yt(p,"CVER",22),this.G&&Yt(p,"X-HTTP-Session-Id",this.G),ea(this,p),G&&(this.R?m="headers="+xi(Sn(G))+"&"+m:this.u&&$s(p,this.u,G)),el(this.h,k),this.Ra&&Yt(p,"TYPE","init"),this.S?(Yt(p,"$req",m),Yt(p,"SID","null"),k.U=!0,ni(k,p,null)):ni(k,p,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var p;m?p=m.l:p=u.V++;const b=Ee(u.J);Yt(b,"SID",u.M),Yt(b,"RID",p),Yt(b,"AID",u.K),ea(u,b),u.u&&u.o&&$s(b,u.u,u.o),p=new Un(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Lo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,p),ni(p,b,m)}function ea(u,m){u.H&&_t(u.H,function(p,b){Yt(m,b,p)}),u.l&&_t({},function(p,b){Yt(m,b,p)})}function Lo(u,m,p){p=Math.min(u.i.length,p);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let wt=-1;for(;;){const fe=["count="+p];wt==-1?p>0?(wt=k[0].g,fe.push("ofs="+wt)):wt=0:fe.push("ofs="+wt);let Gt=!0;for(let re=0;re<p;re++){var G=k[re].g;const An=k[re].map;if(G-=wt,G<0)wt=Math.max(0,k[re].g-100),Gt=!1;else try{G="req"+G+"_"||"";try{var it=An instanceof Map?An:Object.entries(An);for(const[mi,Pn]of it){let qn=Pn;_(Pn)&&(qn=Xi(Pn)),fe.push(G+mi+"="+encodeURIComponent(qn))}}catch(mi){throw fe.push(G+"type="+encodeURIComponent("_badmap")),mi}}catch{b&&b(An)}}if(Gt){it=fe.join("&");break t}}it=void 0}return u=u.i.splice(0,p),m.G=u,it}function ko(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pt||w(),Tt||(Pt(),Tt=!0),D.add(m,u),u.A=0}}function na(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),qo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Bo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),is(this),Bo(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Bo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),ea(u,m),u.u&&u.o&&$s(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Xs(Ee(m)),p.u=null,p.R=!0,ja(p,u)}a.Va=function(){this.C!=null&&(this.C=null,is(this),na(this),ye(19))};function Ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Po(u,m){var p=null;if(u.g==m){Ga(u),dl(u),u.g=null;var b=2}else if(li(u.h,m))p=m.G,nl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;b=Ma(),De(b,new Wn(b,p)),fi(u)}else ko(u);else if(k=m.m,k==3||k==0&&m.X>0||!(b==1&&Ha(u,m)||b==2&&na(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function qo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.bb,u),b=u.Ua;const k=!b;b=new cn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(b,"https"),Xs(b),k?Ln(b.toString(),p):ol(b.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Ho(u),qa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Ho(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Go(u,m,p){var b=p instanceof cn?Ee(p):new cn(p);if(b.g!="")m&&(b.g=m+"."+b.g),Zi(b,b.u);else{var k=d.location;b=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const G=new cn(null);b&&Me(G,b),m&&(G.g=m),k&&Zi(G,k),p&&(G.h=p),b=G}return p=u.G,m=u.wa,p&&m&&Yt(b,p,m),Yt(b,"VER",u.ka),ea(u,b),b}function Qo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:p})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}a=Fo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ss(){}ss.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}x(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){hl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Xi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Je.Z.N.call(this)};function Yo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Yo,ze);function Ko(){En.call(this),this.status=1}x(Ko,En);function Ci(u){this.g=u}x(Ci,Fo),Ci.prototype.ra=function(){De(this.g,"a")},Ci.prototype.qa=function(u){De(this.g,new Yo(u))},Ci.prototype.pa=function(u){De(this.g,new Ko)},Ci.prototype.oa=function(){De(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,b0=function(){return new ss},T0=function(){return Ma()},E0=he,rd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,sc=Ys,Jr.COMPLETE="complete",v0=Jr,wo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,to=wo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,_0=Zt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Br="12.9.0";function _b(a){Br=a}const Aa=new h0("@firebase/firestore");function Tr(){return Aa.logLevel}function ot(a,...e){if(Aa.logLevel<=Bt.DEBUG){const i=e.map(Rd);Aa.debug(`Firestore (${Br}): ${a}`,...i)}}function Fi(a,...e){if(Aa.logLevel<=Bt.ERROR){const i=e.map(Rd);Aa.error(`Firestore (${Br}): ${a}`,...i)}}function xa(a,...e){if(Aa.logLevel<=Bt.WARN){const i=e.map(Rd);Aa.warn(`Firestore (${Br}): ${a}`,...i)}}function Rd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Et(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,S0(a,r,i)}function S0(a,e,i){let r=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Fi(r),new Error(r)}function Ft(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||S0(e,o,r)}function xt(a,e){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends kr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ba{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class A0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class Eb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Tb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ba,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},_=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ba)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new A0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class bb{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Sb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new bb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ab{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ib(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Wy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=xb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function jt(a,e){return a<e?-1:a>e?1:0}function ld(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Kf(o)===Kf(h)?jt(o,h):Kf(o)?1:-1}return jt(a.length,e.length)}const wb=55296,Rb=57343;function Kf(a){const e=a.charCodeAt(0);return e>=wb&&e<=Rb}function Dr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const t_="__name__";class vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Et(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return jt(e.length,i.length)}static compareSegments(e,i){const r=vi.isNumericId(e),o=vi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):ld(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class ee extends vi{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return Cb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new Ge([t_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new rt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new rt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ee.fromString(e))}static fromName(e){return new pt(ee.fromString(e).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ee(e.slice()))}}function x0(a,e,i){if(!i)throw new rt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Nb(a,e,i,r){if(e===!0&&r===!0)throw new rt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function e_(a){if(!pt.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function n_(a){if(pt.isDocumentKey(a))throw new rt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function w0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ac(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Et(12329,{type:typeof a})}function Is(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ac(a);throw new rt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Re(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!w0(a))throw new rt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(Z.INVALID_ARGUMENT,i);return!0}const i_=-62135596800,s_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*s_);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i_)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new ne(0,0))}static max(){return new St(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ho=-1;function Db(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ms(o,pt.empty(),e)}function Vb(a){return new Ms(a.readTime,a.key,ho)}class Ms{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ms(St.min(),pt.empty(),ho)}static max(){return new Ms(St.max(),pt.empty(),ho)}}function Ib(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:jt(a.largestBatchId,e.largestBatchId))}const Ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pr(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==Ob)throw a;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((S=>{d[y]=S,++_,_===h&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new $(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function jb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qr(a){return a.name==="IndexedDbTransactionError"}class xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xc.ce=-1;const Nd=-1;function wc(a){return a==null}function mc(a){return a===0&&1/a==-1/0}function Ub(a){return typeof a=="number"&&Number.isInteger(a)&&!mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const R0="";function zb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=a_(e)),e=Lb(a.get(i),e);return a_(e)}function Lb(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case R0:i+="";break;default:i+=h}}return i}function a_(a){return a+R0+""}function r_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Bs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function C0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Dr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class N0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new N0("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(a){if(Ft(!!a,39018),typeof a=="string"){let e=0;const i=kb.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Us(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const D0="server_timestamp",V0="__type__",I0="__previous_value__",O0="__local_write_time__";function Dd(a){return(a?.mapValue?.fields||{})[V0]?.stringValue===D0}function Rc(a){const e=a.mapValue.fields[I0];return Dd(e)?Rc(e):e}function fo(a){const e=js(a.mapValue.fields[O0].timestampValue);return new ne(e.seconds,e.nanos)}class Bb{constructor(e,i,r,o,h,d,_,v,y,S,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=x}}const gc="(default)";class mo{constructor(e,i){this.projectId=e,this.database=i||gc}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function Pb(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new rt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(a.options.projectId,e)}const M0="__type__",qb="__max__",tc={mapValue:{}},j0="__vector__",pc="value";function zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Dd(a)?4:Gb(a)?9007199254740991:Hb(a)?10:11:Et(28295,{value:a})}function Ai(a,e){if(a===e)return!0;const i=zs(a);if(i!==zs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return fo(a).isEqual(fo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=js(o.timestampValue),_=js(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Us(o.bytesValue).isEqual(Us(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),_=ge(h.doubleValue);return d===_?mc(d)===mc(_):isNaN(d)&&isNaN(_)}return!1})(a,e);case 9:return Dr(a.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(r_(d)!==r_(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!Ai(d[v],_[v])))return!1;return!0})(a,e);default:return Et(52216,{left:a})}}function go(a,e){return(a.values||[]).find((i=>Ai(i,e)))!==void 0}function Vr(a,e){if(a===e)return 0;const i=zs(a),r=zs(e);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(a,e);case 3:return o_(a.timestampValue,e.timestampValue);case 4:return o_(fo(a),fo(e));case 5:return ld(a.stringValue,e.stringValue);case 6:return(function(h,d){const _=Us(h),v=Us(d);return _.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const S=jt(_[y],v[y]);if(S!==0)return S}return jt(_.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=jt(ge(h.latitude),ge(d.latitude));return _!==0?_:jt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return u_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[pc]?.arrayValue,S=v[pc]?.arrayValue,x=jt(y?.values?.length||0,S?.values?.length||0);return x!==0?x:u_(y,S)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===tc.mapValue&&d===tc.mapValue)return 0;if(h===tc.mapValue)return 1;if(d===tc.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let x=0;x<v.length&&x<S.length;++x){const R=ld(v[x],S[x]);if(R!==0)return R;const L=Vr(_[v[x]],y[S[x]]);if(L!==0)return L}return jt(v.length,S.length)})(a.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function o_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return jt(a,e);const i=js(a),r=js(e),o=jt(i.seconds,r.seconds);return o!==0?o:jt(i.nanos,r.nanos)}function u_(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Vr(i[o],r[o]);if(h)return h}return jt(i.length,r.length)}function Ir(a){return od(a)}function od(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=js(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Us(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return pt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=od(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${od(i.fields[d])}`;return o+"}"})(a.mapValue):Et(61005,{value:a})}function ac(a){switch(zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(a);return e?16+ac(e):16;case 5:return 2*a.stringValue.length;case 6:return Us(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ac(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Bs(r.fields,((h,d)=>{o+=h.length+ac(d)})),o})(a.mapValue);default:throw Et(13486,{value:a})}}function c_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function ud(a){return!!a&&"integerValue"in a}function Vd(a){return!!a&&"arrayValue"in a}function h_(a){return!!a&&"nullValue"in a}function f_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function rc(a){return!!a&&"mapValue"in a}function Hb(a){return(a?.mapValue?.fields||{})[M0]?.stringValue===j0}function ao(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Bs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ao(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ao(a.arrayValue.values[i]);return e}return{...a}}function Gb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=ao(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Bs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new on(ao(this.value))}}function U0(a){const e=[];return Bs(a.fields,((i,r)=>{const o=new Ge([i]);if(rc(r)){const h=U0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Xe{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Xe(e,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yc{constructor(e,i){this.position=e,this.inclusive=i}}function d_(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=Vr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ai(a.position[i],e.position[i]))return!1;return!0}class po{constructor(e,i="asc"){this.field=e,this.dir=i}}function Qb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class z0{}class we extends z0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Yb(e,i,r):i==="array-contains"?new Zb(e,r):i==="in"?new Jb(e,r):i==="not-in"?new $b(e,r):i==="array-contains-any"?new Wb(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Kb(e,r):new Xb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends z0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return L0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L0(a){return a.op==="and"}function k0(a){return Fb(a)&&L0(a)}function Fb(a){for(const e of a.filters)if(e instanceof Zn)return!1;return!0}function cd(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Ir(a.value);if(k0(a))return a.filters.map((e=>cd(e))).join(",");{const e=a.filters.map((i=>cd(i))).join(",");return`${a.op}(${e})`}}function B0(a,e){return a instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Ai(r.value,o.value)})(a,e):a instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&B0(d,o.filters[_])),!0):!1})(a,e):void Et(19439)}function P0(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ir(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(P0).join(" ,")+"}"})(a):"Filter"}class Yb extends we{constructor(e,i,r){super(e,i,r),this.key=pt.fromName(r.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Kb extends we{constructor(e,i){super(e,"in",i),this.keys=q0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Xb extends we{constructor(e,i){super(e,"not-in",i),this.keys=q0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function q0(a,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Zb extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vd(i)&&go(i.arrayValue,this.value)}}class Jb extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&go(this.value.arrayValue,i)}}class $b extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!go(this.value.arrayValue,i)}}class Wb extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>go(this.value.arrayValue,r)))}}class tS{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function g_(a,e=null,i=[],r=[],o=null,h=null,d=null){return new tS(a,e,i,r,o,h,d)}function Id(a){const e=xt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>cd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),wc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ir(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ir(r))).join(",")),e.Te=i}return e.Te}function Od(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Qb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!B0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!m_(a.startAt,e.startAt)&&m_(a.endAt,e.endAt)}function hd(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Hr{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eS(a,e,i,r,o,h,d,_){return new Hr(a,e,i,r,o,h,d,_)}function Md(a){return new Hr(a)}function p_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nS(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function H0(a){return a.collectionGroup!==null}function ro(a){const e=xt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new po(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new po(Ge.keyField(),r))}return e.Ie}function Ei(a){const e=xt(a);return e.Ee||(e.Ee=iS(e,ro(a))),e.Ee}function iS(a,e){if(a.limitType==="F")return g_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new po(o.field,h)}));const i=a.endAt?new yc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new yc(a.startAt.position,a.startAt.inclusive):null;return g_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function fd(a,e){const i=a.filters.concat([e]);return new Hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function sS(a,e){const i=a.explicitOrderBy.concat([e]);return new Hr(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function dd(a,e,i){return new Hr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Od(Ei(a),Ei(e))&&a.limitType===e.limitType}function G0(a){return`${Id(Ei(a))}|lt:${a.limitType}`}function br(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>P0(o))).join(", ")}]`),wc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ir(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ir(o))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function Nc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of ro(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,v){const y=d_(d,_,v);return d.inclusive?y<=0:y<0})(r.startAt,ro(r),o)||r.endAt&&!(function(d,_,v){const y=d_(d,_,v);return d.inclusive?y>=0:y>0})(r.endAt,ro(r),o))})(a,e)}function aS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Q0(a){return(e,i)=>{let r=!1;for(const o of ro(a)){const h=rS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function rS(a,e,i){const r=a.field.isKeyField()?pt.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?Vr(v,y):Et(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:a.dir})}}class Ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}const lS=new oe(pt.comparator);function Yi(){return lS}const F0=new oe(pt.comparator);function eo(...a){let e=F0;for(const i of a)e=e.insert(i.key,i);return e}function Y0(a){let e=F0;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ta(){return lo()}function K0(){return lo()}function lo(){return new Ra((a=>a.toString()),((a,e)=>a.isEqual(e)))}const oS=new oe(pt.comparator),uS=new Ie(pt.comparator);function Ut(...a){let e=uS;for(const i of a)e=e.add(i);return e}const cS=new Ie(jt);function hS(){return cS}function jd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function X0(a){return{integerValue:""+a}}function fS(a,e){return Ub(e)?X0(e):jd(a,e)}class Dc{constructor(){this._=void 0}}function dS(a,e,i){return a instanceof yo?(function(o,h){const d={fields:{[V0]:{stringValue:D0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Dd(h)&&(h=Rc(h)),h&&(d.fields[I0]=h),{mapValue:d}})(i,e):a instanceof Or?J0(a,e):a instanceof Mr?$0(a,e):(function(o,h){const d=Z0(o,h),_=y_(d)+y_(o.Ae);return ud(d)&&ud(o.Ae)?X0(_):jd(o.serializer,_)})(a,e)}function mS(a,e,i){return a instanceof Or?J0(a,e):a instanceof Mr?$0(a,e):i}function Z0(a,e){return a instanceof _c?(function(r){return ud(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class yo extends Dc{}class Or extends Dc{constructor(e){super(),this.elements=e}}function J0(a,e){const i=W0(e);for(const r of a.elements)i.some((o=>Ai(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Mr extends Dc{constructor(e){super(),this.elements=e}}function $0(a,e){let i=W0(e);for(const r of a.elements)i=i.filter((o=>!Ai(o,r)));return{arrayValue:{values:i}}}class _c extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function y_(a){return ge(a.integerValue||a.doubleValue)}function W0(a){return Vd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Ud{constructor(e,i){this.field=e,this.transform=i}}function gS(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Or&&o instanceof Or||r instanceof Mr&&o instanceof Mr?Dr(r.elements,o.elements,Ai):r instanceof _c&&o instanceof _c?Ai(r.Ae,o.Ae):r instanceof yo&&o instanceof yo})(a.transform,e.transform)}class pS{constructor(e,i){this.version=e,this.transformResults=i}}class Kn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Vc{}function tv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zd(a.key,Kn.none()):new vo(a.key,a.data,Kn.none());{const i=a.data,r=on.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ps(a.key,r,new vn(o.toArray()),Kn.none())}}function yS(a,e,i){a instanceof vo?(function(o,h,d){const _=o.value.clone(),v=v_(o.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):a instanceof Ps?(function(o,h,d){if(!lc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=v_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(ev(o)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function oo(a,e,i,r){return a instanceof vo?(function(h,d,_,v){if(!lc(h.precondition,d))return _;const y=h.value.clone(),S=E_(h.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ps?(function(h,d,_,v){if(!lc(h.precondition,d))return _;const y=E_(h.fieldTransforms,v,d),S=d.data;return S.setAll(ev(h)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(a,e,i,r):(function(h,d,_){return lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(a,e,i)}function _S(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=Z0(r.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function __(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Dr(r,o,((h,d)=>gS(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class vo extends Vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ev(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function v_(a,e,i){const r=new Map;Ft(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,mS(d,_,i[o]))}return r}function E_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,dS(h,d,e))}return r}class zd extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ES{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&yS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=oo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=oo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=K0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const v=tv(d,_);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Dr(this.mutations,e.mutations,((i,r)=>__(i,r)))&&Dr(this.baseMutations,e.baseMutations,((i,r)=>__(i,r)))}}class Ld{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return oS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Ld(e,i,r,o)}}class TS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bS{constructor(e,i){this.count=e,this.unchangedNames=i}}var xe,kt;function SS(a){switch(a){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:a})}}function nv(a){if(a===void 0)return Fi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case xe.OK:return Z.OK;case xe.CANCELLED:return Z.CANCELLED;case xe.UNKNOWN:return Z.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Z.INTERNAL;case xe.UNAVAILABLE:return Z.UNAVAILABLE;case xe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xe.NOT_FOUND:return Z.NOT_FOUND;case xe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xe.ABORTED:return Z.ABORTED;case xe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:a})}}(kt=xe||(xe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function AS(){return new TextEncoder}const xS=new Vs([4294967295,4294967295],0);function T_(a){const e=AS().encode(a),i=new y0;return i.update(e),new Uint8Array(i.digest())}function b_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Vs([i,r],0),new Vs([o,h],0)]}class kd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Vs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Vs.fromNumber(r)));return o.compare(xS)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=T_(e),[r,o]=b_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new kd(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=T_(e),[r,o]=b_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ic{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ic(St.min(),o,new oe(jt),Yi(),Ut())}}class Eo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eo(r,i,Ut(),Ut(),Ut())}}class oc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class iv{constructor(e,i){this.targetId=e,this.Ce=i}}class sv{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class S_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=A_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.He=ec(),this.Je=ec(),this.Ze=new oe(jt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(hd(h))if(r===0){const d=new pt(h.path);this.et(i,d,Xe.newNoDocument(d,St.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Us(r).toUint8Array()}catch(v){if(v instanceof N0)return xa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new kd(d,o,h)}catch(v){return xa(v instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&hd(_.target)){const v=new pt(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Ut();this.Je.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ze,this.je,r);return this.je=Yi(),this.He=ec(),this.Je=ec(),this.Ze=new oe(jt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new S_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(jt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(jt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ec(){return new oe(pt.comparator)}function A_(){return new oe(pt.comparator)}const RS={asc:"ASCENDING",desc:"DESCENDING"},CS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NS={and:"AND",or:"OR"};class DS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function md(a,e){return a.useProto3Json||wc(e)?e:{value:e}}function vc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function av(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function VS(a,e){return vc(a,e.toTimestamp())}function Ti(a){return Ft(!!a,49232),St.fromTimestamp((function(i){const r=js(i);return new ne(r.seconds,r.nanos)})(a))}function Bd(a,e){return gd(a,e).canonicalString()}function gd(a,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function rv(a){const e=ee.fromString(a);return Ft(hv(e),10190,{key:e.toString()}),e}function pd(a,e){return Bd(a.databaseId,e.path)}function Xf(a,e){const i=rv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(ov(i))}function lv(a,e){return Bd(a.databaseId,e)}function IS(a){const e=rv(a);return e.length===4?ee.emptyPath():ov(e)}function yd(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ov(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function x_(a,e,i){return{name:pd(a,e),fields:i.value.mapValue.fields}}function OS(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,S){return y.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:nv(y.code);return new rt(S,y.message||"")})(d);i=new sv(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xf(a,r.document.name),h=Ti(r.document.updateTime),d=r.document.createTime?Ti(r.document.createTime):St.min(),_=new on({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,_),y=r.targetIds||[],S=r.removedTargetIds||[];i=new oc(y,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xf(a,r.document),h=r.readTime?Ti(r.readTime):St.min(),d=Xe.newNoDocument(o,h),_=r.removedTargetIds||[];i=new oc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xf(a,r.document),h=r.removedTargetIds||[];i=new oc([],h,o,null)}else{if(!("filter"in e))return Et(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new bS(o,h),_=r.targetId;i=new iv(_,d)}}return i}function MS(a,e){let i;if(e instanceof vo)i={update:x_(a,e.key,e.value)};else if(e instanceof zd)i={delete:pd(a,e.key)};else if(e instanceof Ps)i={update:x_(a,e.key,e.data),updateMask:HS(e.fieldMask)};else{if(!(e instanceof vS))return Et(16599,{dt:e.type});i={verify:pd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof yo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Or)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Mr)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof _c)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw Et(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:VS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et(27497)})(a,e.precondition)),i}function jS(a,e){return a&&a.length>0?(Ft(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ti(o.updateTime):Ti(h);return d.isEqual(St.min())&&(d=Ti(h)),new pS(d,o.transformResults||[])})(i,e)))):[]}function US(a,e){return{documents:[lv(a,e.path)]}}function zS(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=lv(a,o);const h=(function(y){if(y.length!==0)return cv(Zn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((S=>(function(R){return{field:Sr(R.field),direction:BS(R.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=md(a,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function LS(a){let e=IS(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(x){const R=uv(x);return R instanceof Zn&&k0(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((R=>(function(J){return new po(Ar(J.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(i.orderBy));let _=null;i.limit&&(_=(function(x){let R;return R=typeof x=="object"?x.value:x,wc(R)?null:R})(i.limit));let v=null;i.startAt&&(v=(function(x){const R=!!x.before,L=x.values||[];return new yc(L,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const R=!x.before,L=x.values||[];return new yc(L,R)})(i.endAt)),eS(e,o,d,h,_,"F",v,y)}function kS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ar(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ar(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ar(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ar(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(Ar(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((r=>uv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(a):Et(30097,{filter:a})}function BS(a){return RS[a]}function PS(a){return CS[a]}function qS(a){return NS[a]}function Sr(a){return{fieldPath:a.canonicalString()}}function Ar(a){return Ge.fromServerFormat(a.fieldPath)}function cv(a){return a instanceof we?(function(i){if(i.op==="=="){if(f_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NAN"}};if(h_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NAN"}};if(h_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(i.field),op:PS(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const r=i.getFilters().map((o=>cv(o)));return r.length===1?r[0]:{compositeFilter:{op:qS(i.op),filters:r}}})(a):Et(54877,{filter:a})}function HS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function hv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function fv(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Cs{constructor(e,i,r,o,h=St.min(),d=St.min(),_=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GS{constructor(e){this.yt=e}}function QS(a){const e=LS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?dd(e,e.limit,"L"):e}class FS{constructor(){this.Sn=new YS}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ms.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class YS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ie(ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(dv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class jr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jr(0)}static ar(){return new jr(-1)}}const R_="LruGarbageCollector",KS=1048576;function C_([a,e],[i,r]){const o=jt(a,i);return o===0?jt(e,r):o}class XS{constructor(e){this.Pr=e,this.buffer=new Ie(C_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();C_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ot(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qr(i)?ot(R_,"Ignoring IndexedDB error during garbage collection: ",i):await Pr(i)}await this.Ar(3e5)}))}}class JS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(xc.ce);const r=new XS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(w_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,_,v,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,_=Date.now(),this.removeTargets(e,r,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),Tr()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${x} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function $S(a,e){return new JS(a,e)}class WS{constructor(){this.changes=new Ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class eA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&oo(r.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ut()){const o=Ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=eo();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ta();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ut())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=Yi();const d=lo(),_=(function(){return lo()})();return i.forEach(((v,y)=>{const S=r.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof Ps)?h=h.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),oo(S.mutation,y,S.mutation.getFieldMask(),ne.now())):d.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>_.set(y,new tA(S,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=lo();let o=new oe(((d,_)=>d-_)),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=r.get(v)||vn.empty();S=_.applyToLocalView(y,S),r.set(v,S);const x=(o.get(_.batchId)||Ut()).add(v);o=o.insert(_.batchId,x)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,S=v.value,x=K0();S.forEach((R=>{if(!h.has(R)){const L=tv(i.get(R),r.get(R));L!==null&&x.set(R,L),h=h.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return nS(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):H0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):$.resolve(Ta());let _=ho,v=h;return d.next((y=>$.forEach(y,((S,x)=>(_<x.largestBatchId&&(_=x.largestBatchId),h.get(S)?$.resolve():this.remoteDocumentCache.getEntry(e,S).next((R=>{v=v.insert(S,R)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Ut()))).next((S=>({batchId:_,changes:Y0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((r=>{let o=eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,h).next((_=>$.forEach(_,(v=>{const y=(function(x,R){return new Hr(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((S=>{S.forEach(((x,R)=>{d=d.insert(x,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let _=eo();return d.forEach(((v,y)=>{const S=h.get(v);S!==void 0&&oo(S.mutation,y,vn.empty(),ne.now()),Nc(i,y)&&(_=_.insert(v,y))})),_}))}}class nA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:QS(o.bundledQuery),readTime:Ti(o.readTime)}})(i)),$.resolve()}}class iA{constructor(){this.overlays=new oe(pt.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ta();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const o=Ta(),h=i.length+1,d=new pt(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=h.get(y.largestBatchId);S===null&&(S=Ta(),h=h.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const _=Ta(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>_.set(y,S))),!(_.size()>=o)););return $.resolve(_)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new TS(i,r));let h=this.Lr.get(i);h===void 0&&(h=Ut(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class sA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Pd{constructor(){this.kr=new Ie(Ue.Kr),this.qr=new Ie(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new pt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Ut();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pt.comparator(e.key,i.key)||jt(e.Hr,i.Hr)}static Ur(e,i){return jt(e.Hr,i.Hr)||pt.comparator(e.key,i.key)}}class aA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(Ue.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ES(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Ue(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Nd:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const _=this.Zr(d.Hr);h.push(_)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ie(jt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(_=>{r=r.add(_.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;pt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new pt(h),0);let _=new Ie(jt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(v.Hr)),!0)}),d),$.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rA{constructor(e){this.ti=e,this.docs=(function(){return new oe(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Yi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Yi();const d=i.path,_=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Ib(Vb(S),r)<=0||(o.has(S.key)||Nc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Et(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new lA(this)}getSize(e){return $.resolve(this.size)}}class lA extends WS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class oA{constructor(e){this.persistence=e,this.ri=new Ra((i=>Id(i)),Od),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Pd,this.targetCount=0,this.oi=jr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new jr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class mv{constructor(e,i){this._i={},this.overlays={},this.ai=new xc(0),this.ui=!1,this.ui=!0,this.ci=new sA,this.referenceDelegate=e(this),this.li=new oA(this),this.indexManager=new FS,this.remoteDocumentCache=(function(o){return new rA(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new GS(i),this.Pi=new nA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new iA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new aA(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ot("MemoryPersistence","Starting transaction:",e);const o=new uA(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class uA extends Mb{constructor(e){super(),this.currentSequenceNumber=e}}class qd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Ai=null}static Vi(e){return new qd(e)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const o=pt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Ec{constructor(e,i){this.persistence=e,this.fi=new Ra((r=>zb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$S(this,i)}static Vi(e,i){return new Ec(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ac(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ut(),o=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Hd(e,i.fromCache,r,o)}}class cA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return t1()?8:jb($T())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new cA;return this.ys(e,i,d).next((_=>{if(h.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Tr()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",br(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Tr()<=Bt.DEBUG&&ot("QueryEngine","Query:",br(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Tr()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",br(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):$.resolve())}gs(e,i){if(p_(i))return $.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dd(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ut(...h);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.bs(i,_);return this.Ss(i,y,d,v.readTime)?this.gs(e,dd(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,r,o){return p_(i)||o.isEqual(St.min())?$.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?$.resolve(null):(Tr()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),br(i)),this.Ds(e,d,i,Db(o,ho)).next((_=>_)))}))}bs(e,i){let r=new Ie(Q0(e));return i.forEach(((o,h)=>{Nc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Tr()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",br(i)),this.fs.getDocumentsMatchingQuery(e,i,Ms.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Gd="LocalStore",fA=3e8;class dA{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(jt),this.Fs=new Ra((h=>Id(h)),Od),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function mA(a,e,i,r){return new dA(a,e,i,r)}async function gv(a,e){const i=xt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let v=Ut();for(const y of o){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of h){_.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function gA(a,e){const i=xt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,S){const x=y.batch,R=x.keys();let L=$.resolve();return R.forEach((J=>{L=L.next((()=>S.getEntry(v,J))).next((W=>{const et=y.docVersions.get(J);Ft(et!==null,48541),W.version.compareTo(et)<0&&(x.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),S.addEntry(W)))}))})),L.next((()=>_.mutationQueue.removeMutationBatch(v,x)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=Ut();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function pv(a){const e=xt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function pA(a,e){const i=xt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((S,x)=>{const R=o.get(x);if(!R)return;_.push(i.li.removeMatchingKeys(h,S.removedDocuments,x).next((()=>i.li.addMatchingKeys(h,S.addedDocuments,x))));let L=R.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?L=L.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(S.resumeToken,r)),o=o.insert(x,L),(function(W,et,dt){return W.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=fA?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(R,L,S)&&_.push(i.li.updateTargetData(h,L))}));let v=Yi(),y=Ut();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),_.push(yA(h,d,e.documentUpdates).next((S=>{v=S.Bs,y=S.Ls}))),!r.isEqual(St.min())){const S=i.li.getLastRemoteSnapshotVersion(h).next((x=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(S)}return $.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.vs=o,h)))}function yA(a,e,i){let r=Ut(),o=Ut();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Yi();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):ot(Gd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function _A(a,e){const i=xt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vA(a,e){const i=xt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,$.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Cs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function _d(a,e,i){const r=xt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!qr(d))throw d;ot(Gd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function N_(a,e,i){const r=xt(a);let o=St.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const x=xt(v),R=x.Fs.get(S);return R!==void 0?$.resolve(x.vs.get(R)):x.li.getTargetData(y,S)})(r,d,Ei(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Ut()))).next((_=>(EA(r,aS(e),_),{documents:_,ks:h})))))}function EA(a,e,i){let r=a.Ms.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class D_{constructor(){this.activeTargetIds=hS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TA{constructor(){this.vo=new D_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new D_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bA{Mo(e){}shutdown(){}}const V_="ConnectivityMonitor";class I_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ot(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nc=null;function vd(){return nc===null?nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():nc++,"0x"+nc.toString(16)}const Zf="RestConnection",SA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AA{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===gc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=vd(),_=this.Qo(e,i.toUriEncodedString());ot(Zf,`Sending RPC '${e}' ${d}:`,_,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:y}=new URL(_),S=xd(y);return this.zo(e,_,v,r,S).then((x=>(ot(Zf,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw xa(Zf,`RPC '${e}' ${d} failed with error: `,x,"url: ",_,"request:",r),x}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Br})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=SA[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class xA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",$l=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class wr extends AA{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wr.c_){const e=T0();$l(e,E0.STAT_EVENT,(i=>{i.stat===rd.PROXY?ot(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===rd.NOPROXY&&ot(Ye,"STAT_EVENT: detected no buffering proxy")})),wr.c_=!0}}zo(e,i,r,o,h){const d=vd();return new Promise(((_,v)=>{const y=new _0;y.setWithCredentials(!0),y.listenOnce(v0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sc.NO_ERROR:const x=y.getResponseJson();ot(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),_(x);break;case sc.TIMEOUT:ot(Ye,`RPC '${e}' ${d} timed out`),v(new rt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const R=y.getStatus();if(ot(Ye,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const J=L?.error;if(J&&J.status&&J.message){const W=(function(dt){const yt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(yt)>=0?yt:Z.UNKNOWN})(J.status);v(new rt(W,J.message))}else v(new rt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Ye,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ot(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=vd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const y=h.join("");ot(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,_);const S=d.createWebChannel(y,_);this.I_(S);let x=!1,R=!1;const L=new xA({Ho:J=>{R?ot(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(ot(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),ot(Ye,`RPC '${e}' stream ${o} sending:`,J),S.send(J))},Jo:()=>S.close()});return $l(S,to.EventType.OPEN,(()=>{R||(ot(Ye,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),$l(S,to.EventType.CLOSE,(()=>{R||(R=!0,ot(Ye,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(S))})),$l(S,to.EventType.ERROR,(J=>{R||(R=!0,xa(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),L.o_(new rt(Z.UNAVAILABLE,"The operation could not be completed")))})),$l(S,to.EventType.MESSAGE,(J=>{if(!R){const W=J.data[0];Ft(!!W,16349);const et=W,dt=et?.error||et[0]?.error;if(dt){ot(Ye,`RPC '${e}' stream ${o} received error:`,dt);const yt=dt.status;let mt=(function(Tt){const D=xe[Tt];if(D!==void 0)return nv(D)})(yt),Dt=dt.message;yt==="NOT_FOUND"&&Dt.includes("database")&&Dt.includes("does not exist")&&Dt.includes(this.databaseId.database)&&xa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),mt===void 0&&(mt=Z.INTERNAL,Dt="Unknown error status: "+yt+" with message "+dt.message),R=!0,L.o_(new rt(mt,Dt)),S.close()}else ot(Ye,`RPC '${e}' stream ${o} received:`,W),L.__(W)}})),wr.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return b0()}}function wA(a){return new wr(a)}function Jf(){return typeof document<"u"?document:null}function Oc(a){return new DS(a,!0)}wr.c_=!1;class yv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const O_="PersistentStream";class _v{constructor(e,i,r,o,h,d,_,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ot(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RA extends _v{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=OS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ti(d.readTime):St.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=yd(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=hd(v)?{documents:US(h,v)}:{query:zS(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=av(h,d.resumeToken);const y=md(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){_.readTime=vc(h,d.snapshotVersion.toTimestamp());const y=md(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=kS(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=yd(this.serializer),i.removeTarget=e,this.K_(i)}}class CA extends _v{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=jS(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=yd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>MS(this.serializer,r)))};this.K_(i)}}class NA{}class DA extends NA{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,gd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Z.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,gd(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VA(a,e,i,r){return new DA(a,e,i,r)}class IA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class OA{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ca(this)&&(ot(wa,"Restarting streams for network reachability change."),await(async function(v){const y=xt(v);y.Ea.add(4),await To(y),y.Va.set("Unknown"),y.Ea.delete(4),await Mc(y)})(this))}))})),this.Va=new IA(r,o)}}async function Mc(a){if(Ca(a))for(const e of a.Ra)await e(!0)}async function To(a){for(const e of a.Ra)await e(!1)}function vv(a,e){const i=xt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Kd(i)?Yd(i):Gr(i).O_()&&Fd(i,e))}function Qd(a,e){const i=xt(a),r=Gr(i);i.Ia.delete(e),r.O_()&&Ev(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ca(i)&&i.Va.set("Unknown"))}function Fd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gr(a).Z_(e)}function Ev(a,e){a.da.$e(e),Gr(a).X_(e)}function Yd(a){a.da=new wS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gr(a).start(),a.Va.ua()}function Kd(a){return Ca(a)&&!Gr(a).x_()&&a.Ia.size>0}function Ca(a){return xt(a).Ea.size===0}function Tv(a){a.da=void 0}async function MA(a){a.Va.set("Online")}async function jA(a){a.Ia.forEach(((e,i)=>{Fd(a,e)}))}async function UA(a,e){Tv(a),Kd(a)?(a.Va.ha(e),Yd(a)):a.Va.set("Unknown")}async function zA(a,e,i){if(a.Va.set("Online"),e instanceof sv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(a,e)}catch(r){ot(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(a,r)}else if(e instanceof oc?a.da.Xe(e):e instanceof iv?a.da.st(e):a.da.tt(e),!i.isEqual(St.min()))try{const r=await pv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.da.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(y);S&&h.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),Ev(h,v);const x=new Cs(S.target,v,y,S.sequenceNumber);Fd(h,x)})),h.remoteSyncer.applyRemoteEvent(_)})(a,i)}catch(r){ot(wa,"Failed to raise snapshot:",r),await Tc(a,r)}}async function Tc(a,e,i){if(!qr(e))throw e;a.Ea.add(1),await To(a),a.Va.set("Offline"),i||(i=()=>pv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ot(wa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Mc(a)}))}function bv(a,e){return e().catch((i=>Tc(a,i,e)))}async function jc(a){const e=xt(a),i=Ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nd;for(;LA(e);)try{const o=await _A(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,kA(e,o)}catch(o){await Tc(e,o)}Sv(e)&&Av(e)}function LA(a){return Ca(a)&&a.Ta.length<10}function kA(a,e){a.Ta.push(e);const i=Ls(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function Sv(a){return Ca(a)&&!Ls(a).x_()&&a.Ta.length>0}function Av(a){Ls(a).start()}async function BA(a){Ls(a).ra()}async function PA(a){const e=Ls(a);for(const i of a.Ta)e.ea(i.mutations)}async function qA(a,e,i){const r=a.Ta.shift(),o=Ld.from(r,e,i);await bv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await jc(a)}async function HA(a,e){e&&Ls(a).Y_&&await(async function(r,o){if((function(d){return SS(d)&&d!==Z.ABORTED})(o.code)){const h=r.Ta.shift();Ls(r).B_(),await bv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await jc(r)}})(a,e),Sv(a)&&Av(a)}async function M_(a,e){const i=xt(a);i.asyncQueue.verifyOperationInProgress(),ot(wa,"RemoteStore received new credentials");const r=Ca(i);i.Ea.add(3),await To(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function GA(a,e){const i=xt(a);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await To(i),i.Va.set("Unknown"))}function Gr(a){return a.ma||(a.ma=(function(i,r,o){const h=xt(i);return h.sa(),new RA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:MA.bind(null,a),Yo:jA.bind(null,a),t_:UA.bind(null,a),J_:zA.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Kd(a)?Yd(a):a.Va.set("Unknown")):(await a.ma.stop(),Tv(a))}))),a.ma}function Ls(a){return a.fa||(a.fa=(function(i,r,o){const h=xt(i);return h.sa(),new CA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BA.bind(null,a),t_:HA.bind(null,a),ta:PA.bind(null,a),na:qA.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await jc(a)):(await a.fa.stop(),a.Ta.length>0&&(ot(wa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Xd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new Xd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(a,e){if(Fi("AsyncQueue",`${e}: ${a}`),qr(a))return new rt(Z.UNAVAILABLE,`${e}: ${a}`);throw a}class Rr{static emptySet(e){return new Rr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=eo(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Rr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class j_{constructor(){this.ga=new oe(pt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ur{constructor(e,i,r,o,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new Ur(e,i,Rr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class QA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FA{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=xt(i),h=o.queries;o.queries=U_(),h.forEach(((d,_)=>{for(const v of _.ba)v.onError(r)}))})(this,new rt(Z.ABORTED,"Firestore shutting down"))}}function U_(){return new Ra((a=>G0(a)),Cc)}async function YA(a,e){const i=xt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new QA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Zd(d,`Initialization of query '${br(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Jd(i)}async function KA(a,e){const i=xt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XA(a,e){const i=xt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.ba)_.Fa(o)&&(r=!0);d.wa=o}}r&&Jd(i)}function ZA(a,e,i){const r=xt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Jd(a){a.Ca.forEach((e=>{e.next()}))}var Ed,z_;(z_=Ed||(Ed={})).Ma="default",z_.Cache="cache";class JA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ur(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ur.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ed.Cache}}class xv{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class $A{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=Q0(e),this.tu=new Rr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new j_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,x)=>{const R=o.get(S),L=Nc(this.query,x)?x:null,J=!!R&&this.mutatedKeys.has(R.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let et=!1;R&&L?R.data.isEqual(L.data)?J!==W&&(r.track({type:3,doc:L}),et=!0):this.su(R,L)||(r.track({type:2,doc:L}),et=!0,(v&&this.eu(L,v)>0||y&&this.eu(L,y)<0)&&(_=!0)):!R&&L?(r.track({type:0,doc:L}),et=!0):R&&!L&&(r.track({type:1,doc:R}),et=!0,(v||y)&&(_=!0)),et&&(L?(d=d.add(L),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(L,J){const W=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:et})}};return W(L)-W(J)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Ur(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new wv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new xv(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ur.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $d="SyncEngine";class WA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class t2{constructor(e){this.key=e,this.hu=!1}}class e2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ra((_=>G0(_)),Cc),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(pt.comparator),this.Au=new Map,this.Vu=new Pd,this.du={},this.mu=new Map,this.fu=jr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n2(a,e,i=!0){const r=Iv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Rv(r,e,i,!0),o}async function i2(a,e){const i=Iv(a);await Rv(i,e,!0,!1)}async function Rv(a,e,i,r){const o=await vA(a.localStore,Ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await s2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&vv(a.remoteStore,o),_}async function s2(a,e,i,r,o){a.pu=(x,R,L)=>(async function(W,et,dt,yt){let mt=et.view.ru(dt);mt.Ss&&(mt=await N_(W.localStore,et.query,!1).then((({documents:D})=>et.view.ru(D,mt))));const Dt=yt&&yt.targetChanges.get(et.targetId),Pt=yt&&yt.targetMismatches.get(et.targetId)!=null,Tt=et.view.applyChanges(mt,W.isPrimaryClient,Dt,Pt);return k_(W,et.targetId,Tt.au),Tt.snapshot})(a,x,R,L);const h=await N_(a.localStore,e,!0),d=new $A(e,h.ks),_=d.ru(h.documents),v=Eo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(_,a.isPrimaryClient,v);k_(a,i,y.au);const S=new WA(e,i,d);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function a2(a,e,i){const r=xt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _d(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Qd(r.remoteStore,o.targetId),Td(r,o.targetId)})).catch(Pr)):(Td(r,o.targetId),await _d(r.localStore,o.targetId,!0))}async function r2(a,e){const i=xt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qd(i.remoteStore,r.targetId))}async function l2(a,e,i){const r=m2(a);try{const o=await(function(d,_){const v=xt(d),y=ne.now(),S=_.reduce(((L,J)=>L.add(J.key)),Ut());let x,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let J=Yi(),W=Ut();return v.xs.getEntries(L,S).next((et=>{J=et,J.forEach(((dt,yt)=>{yt.isValidDocument()||(W=W.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(L,J))).next((et=>{x=et;const dt=[];for(const yt of _){const mt=_S(yt,x.get(yt.key).overlayedDocument);mt!=null&&dt.push(new Ps(yt.key,mt,U0(mt.value.mapValue),Kn.exists(!0)))}return v.mutationQueue.addMutationBatch(L,y,dt,_)})).next((et=>{R=et;const dt=et.applyToLocalDocumentSet(x,W);return v.documentOverlayCache.saveOverlays(L,et.batchId,dt)}))})).then((()=>({batchId:R.batchId,changes:Y0(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,v){let y=d.du[d.currentUser.toKey()];y||(y=new oe(jt)),y=y.insert(_,v),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await bo(r,o.changes),await jc(r.remoteStore)}catch(o){const h=Zd(o,"Failed to persist write");i.reject(h)}}async function Cv(a,e){const i=xt(a);try{const r=await pA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await bo(i,r,e)}catch(r){await Pr(r)}}function L_(a,e,i){const r=xt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const v=xt(d);v.onlineState=_;let y=!1;v.queries.forEach(((S,x)=>{for(const R of x.ba)R.va(_)&&(y=!0)})),y&&Jd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o2(a,e,i){const r=xt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,St.min()));const _=Ut().add(h),v=new Ic(St.min(),new Map,new oe(jt),d,_);await Cv(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),Wd(r)}else await _d(r.localStore,e,!1).then((()=>Td(r,e,i))).catch(Pr)}async function u2(a,e){const i=xt(a),r=e.batch.batchId;try{const o=await gA(i.localStore,e);Dv(i,r,null),Nv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await bo(i,o)}catch(o){await Pr(o)}}async function c2(a,e,i){const r=xt(a);try{const o=await(function(d,_){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,_).next((x=>(Ft(x!==null,37113),S=x.keys(),v.mutationQueue.removeMutationBatch(y,x)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,e);Dv(r,e,i),Nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await bo(r,o)}catch(o){await Pr(o)}}function Nv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Dv(a,e,i){const r=xt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Td(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||Vv(a,r)}))}function Vv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Qd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),Wd(a))}function k_(a,e,i){for(const r of i)r instanceof xv?(a.Vu.addReference(r.key,e),h2(a,r)):r instanceof wv?(ot($d,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||Vv(a,r.key)):Et(19791,{wu:r})}function h2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(ot($d,"New document in limbo: "+i),a.Eu.add(r),Wd(a))}function Wd(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new pt(ee.fromString(e)),r=a.fu.next();a.Au.set(r,new t2(i)),a.Ru=a.Ru.insert(i,r),vv(a.remoteStore,new Cs(Ei(Md(i.path)),r,"TargetPurposeLimboResolution",xc.ce))}}async function bo(a,e,i){const r=xt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Hd.Es(v.targetId,y);h.push(S)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,y){const S=xt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(y,(R=>$.forEach(R.Ts,(L=>S.persistence.referenceDelegate.addReference(x,R.targetId,L))).next((()=>$.forEach(R.Is,(L=>S.persistence.referenceDelegate.removeReference(x,R.targetId,L)))))))))}catch(x){if(!qr(x))throw x;ot(Gd,"Failed to update sequence numbers: "+x)}for(const x of y){const R=x.targetId;if(!x.fromCache){const L=S.vs.get(R),J=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(R,W)}}})(r.localStore,h))}async function f2(a,e){const i=xt(a);if(!i.currentUser.isEqual(e)){ot($d,"User change. New user:",e.toKey());const r=await gv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new rt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bo(i,r.Ns)}}function d2(a,e){const i=xt(a),r=i.Au.get(e);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function Iv(a){const e=xt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o2.bind(null,e),e.Pu.J_=XA.bind(null,e.eventManager),e.Pu.yu=ZA.bind(null,e.eventManager),e}function m2(a){const e=xt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return mA(this.persistence,new hA,e.initialUser,this.serializer)}Cu(e){return new mv(qd.Vi,this.serializer)}Du(e){return new TA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class g2 extends bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof Ec,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new mv((r=>Ec.Vi(r,i)),this.serializer)}}class bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await GA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FA})()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),r=wA(e.databaseInfo);return VA(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new OA(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>L_(this.syncEngine,i,0)),(function(){return I_.v()?new I_:new bA})())}createSyncEngine(e,i){return(function(o,h,d,_,v,y,S){const x=new e2(o,h,d,_,v,y);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xt(i);ot(wa,"RemoteStore shutting down."),r.Ea.add(5),await To(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bd.provider={build:()=>new bd};class p2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ks="FirestoreClient";class y2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Zd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function $f(a,e){a.asyncQueue.verifyOperationInProgress(),ot(ks,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function B_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await _2(a);ot(ks,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>M_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>M_(e.remoteStore,o))),a._onlineComponents=e}async function _2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(ks,"Using user provided OfflineComponentProvider");try{await $f(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;xa("Error using user provided cache. Falling back to memory cache: "+i),await $f(a,new bc)}}else ot(ks,"Using default OfflineComponentProvider"),await $f(a,new g2(void 0));return a._offlineComponents}async function Ov(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(ks,"Using user provided OnlineComponentProvider"),await B_(a,a._uninitializedComponentsProvider._online)):(ot(ks,"Using default OnlineComponentProvider"),await B_(a,new bd))),a._onlineComponents}function v2(a){return Ov(a).then((e=>e.syncEngine))}async function P_(a){const e=await Ov(a),i=e.eventManager;return i.onListen=n2.bind(null,e.syncEngine),i.onUnlisten=a2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=i2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=r2.bind(null,e.syncEngine),i}function E2(a,e,i,r){const o=new p2(r),h=new JA(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>YA(await P_(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>KA(await P_(a),h)))}}function T2(a,e){const i=new ba;return a.asyncQueue.enqueueAndForget((async()=>l2(await v2(a),e,i))),i.promise}function Mv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const b2="ComponentProvider",q_=new Map;function S2(a,e,i,r,o){return new Bb(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Mv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const jv="firestore.googleapis.com",H_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jv,this.ssl=H_}else this.host=e.host,this.ssl=e.ssl??H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KS)throw new rt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vb;switch(r.type){case"firstParty":return new Sb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=q_.get(i);r&&(ot(b2,"Removing Datastore"),q_.delete(i),r.terminate())})(this),Promise.resolve()}}function A2(a,e,i,r={}){a=Is(a,Uc);const o=xd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},_=`${e}:${i}`;o&&(YT(`https://${_}`),JT("Firestore",!0)),h.host!==jv&&h.host!==_&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:o,emulatorOptions:r};if(!Nr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=Ke.MOCK_USER;else{y=KT(r.mockUserToken,a._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new rt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(x)}a._authCredentials=new Eb(new A0(y,S))}}class Na{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class Ce{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_o(i,Ce._jsonSchema))return new Ce(e,r||null,new pt(ee.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Re("string",Ce._jsonSchemaVersion),referencePath:Re("string")};class Os extends Na{constructor(e,i,r){super(e,i,Md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new pt(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Wf(a,e,...i){if(a=Si(a),x0("collection","path",e),a instanceof Uc){const r=ee.fromString(e,...i);return n_(r),new Os(a,null,r)}{if(!(a instanceof Ce||a instanceof Os))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return n_(r),new Os(a.firestore,null,r)}}function Gi(a,e,...i){if(a=Si(a),arguments.length===1&&(e=Cd.newId()),x0("doc","path",e),a instanceof Uc){const r=ee.fromString(e,...i);return e_(r),new Ce(a,null,new pt(r))}{if(!(a instanceof Ce||a instanceof Os))throw new rt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return e_(r),new Ce(a.firestore,a instanceof Os?a.converter:null,new pt(r))}}const Q_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yv(this,"async_queue_retry"),this._c=()=>{const r=Jf();r&&ot(Q_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qr(e))throw e;ot(Q_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",Y_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Xd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:Y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Y_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class zr extends Uc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new F_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function x2(a,e){const i=typeof a=="object"?a:lb(),r=typeof a=="string"?a:gc,o=nb(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=QT("firestore");h&&A2(o,...h)}return o}function Uv(a){if(a._terminated)throw new rt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||w2(a),a._firestoreClient}function w2(a){const e=a._freezeSettings(),i=S2(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new y2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new rt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};class tm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qr{constructor(e){this._methodName=e}}class bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(_o(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Xn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Xn(e.vectorValues);throw new rt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:Re("string",Xn._jsonSchemaVersion),vectorValues:Re("object")};const R2=/^__.*__$/;class C2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}class zv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Lv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:a})}}class zc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Lv(this.dataSource)&&R2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class N2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Oc(e)}createContext(e,i,r,o=!1){return new zc({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(a){const e=a._freezeSettings(),i=Oc(a._databaseId);return new N2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function D2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,r);const _=Bv(r,d);let v,y;if(h.merge)v=new vn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const x of h.mergeFields){const R=Lr(e,x,i);if(!d.contains(R))throw new rt(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Hv(S,R)||S.push(R)}v=new vn(S),y=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,y=d.fieldTransforms;return new C2(new on(_),v,y)}class Lc extends Qr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function kv(a,e,i){return new zc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nm extends Qr{_toFieldTransform(e){return new Ud(e.path,new yo)}isEqual(e){return e instanceof nm}}class im extends Qr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kv(this,e,!0),r=this.Ac.map((h=>Da(h,i))),o=new Or(r);return new Ud(e.path,o)}isEqual(e){return e instanceof im&&Nr(this.Ac,e.Ac)}}class sm extends Qr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=kv(this,e,!0),r=this.Ac.map((h=>Da(h,i))),o=new Mr(r);return new Ud(e.path,o)}isEqual(e){return e instanceof sm&&Nr(this.Ac,e.Ac)}}function V2(a,e,i,r){const o=a.createContext(1,e,i);am("Data must be an object, but it was:",o,r);const h=[],d=on.empty();Bs(r,((v,y)=>{const S=qv(e,v,i);y=Si(y);const x=o.childContextForFieldPath(S);if(y instanceof Lc)h.push(S);else{const R=Da(y,x);R!=null&&(h.push(S),d.set(S,R))}}));const _=new vn(h);return new zv(d,_,o.fieldTransforms)}function I2(a,e,i,r,o,h){const d=a.createContext(1,e,i),_=[Lr(e,r,i)],v=[o];if(h.length%2!=0)throw new rt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)_.push(Lr(e,h[R])),v.push(h[R+1]);const y=[],S=on.empty();for(let R=_.length-1;R>=0;--R)if(!Hv(y,_[R])){const L=_[R];let J=v[R];J=Si(J);const W=d.childContextForFieldPath(L);if(J instanceof Lc)y.push(L);else{const et=Da(J,W);et!=null&&(y.push(L),S.set(L,et))}}const x=new vn(y);return new zv(S,x,d.fieldTransforms)}function O2(a,e,i,r=!1){return Da(i,a.createContext(r?4:3,e))}function Da(a,e){if(Pv(a=Si(a)))return am("Unsupported field value:",e,a),Bv(a,e);if(a instanceof Qr)return(function(r,o){if(!Lv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let v=Da(_,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=Si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:vc(o.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vc(o.serializer,h)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:av(o.serializer,r._byteString)};if(r instanceof Ce){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xn)return(function(d,_){const v=d instanceof Xn?d.toArray():d;return{mapValue:{fields:{[M0]:{stringValue:j0},[pc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw _.createError("VectorValues must only contain numeric values.");return jd(_.serializer,S)}))}}}}}})(r,o);if(fv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ac(r)}`)})(a,e)}function Bv(a,e){const i={};return C0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(a,((r,o)=>{const h=Da(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Pv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof bi||a instanceof On||a instanceof Ce||a instanceof Qr||a instanceof Xn||fv(a))}function am(a,e,i){if(!Pv(i)||!w0(i)){const r=Ac(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Lr(a,e,i){if((e=Si(e))instanceof tm)return e._internalPath;if(typeof e=="string")return qv(a,e);throw Sc("Field path arguments must be of type string or ",a,!1,void 0,i)}const M2=new RegExp("[~\\*/\\[\\]]");function qv(a,e,i){if(e.search(M2)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new tm(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Sc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new rt(Z.INVALID_ARGUMENT,_+a+v)}function Hv(a,e){return a.some((i=>i.isEqual(e)))}class j2{convertValue(e,i="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Bs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[pc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Xn(i)}convertGeoPoint(e){return new bi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Rc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(fo(e));default:return null}}convertTimestamp(e){const i=js(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Ft(hv(r),9688,{name:e});const o=new mo(r.get(1),r.get(3)),h=new pt(r.popFirst(5));return o.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Gv extends j2{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function K_(){return new nm("serverTimestamp")}function X_(...a){return new im("arrayUnion",a)}function Z_(...a){return new sm("arrayRemove",a)}const J_="@firebase/firestore",$_="4.11.0";function W_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Qv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Lr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class U2 extends Qv{data(){return super.data()}}function z2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rm{}class Fv extends rm{}function L2(a,e,...i){let r=[];e instanceof rm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof om)).length,_=h.filter((v=>v instanceof lm)).length;if(d>1||d>0&&_>0)throw new rt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class lm extends Fv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new lm(e,i,r)}_apply(e){const i=this._parse(e);return Yv(e._query,i),new Na(e.firestore,e.converter,fd(e._query,i))}_parse(e){const i=em(e.firestore);return(function(h,d,_,v,y,S,x){let R;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){e0(x,S);const J=[];for(const W of x)J.push(t0(v,h,W));R={arrayValue:{values:J}}}else R=t0(v,h,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||e0(x,S),R=O2(_,d,x,S==="in"||S==="not-in");return we.create(y,S,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class om extends rm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new om(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const _=h.getFlattenedFilters();for(const v of _)Yv(d,v),d=fd(d,v)})(e._query,i),new Na(e.firestore,e.converter,fd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class um extends Fv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new um(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new po(h,d)})(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,sS(e._query,i))}}function k2(a,e="asc"){const i=e,r=Lr("orderBy",a);return um._create(r,i)}function t0(a,e,i){if(typeof(i=Si(i))=="string"){if(i==="")throw new rt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&i.indexOf("/")!==-1)throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ee.fromString(i));if(!pt.isDocumentKey(r))throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c_(a,new pt(r))}if(i instanceof Ce)return c_(a,i._key);throw new rt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(i)}.`)}function e0(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yv(a,e){const i=(function(o,h){for(const d of o)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function B2(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends Qv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Lr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:Re("string",Sa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class uc extends Sa{data(e={}){return super.data(e)}}class Cr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new uc(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const v=new uc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new io(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new uc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new io(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),S=d.indexOf(_.doc.key)),{type:P2(_.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:a})}}Cr._jsonSchemaVersion="firestore/querySnapshot/1.0",Cr._jsonSchema={type:Re("string",Cr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function Rs(a,e,i,...r){a=Is(a,Ce);const o=Is(a.firestore,zr),h=em(o);let d;return d=typeof(e=Si(e))=="string"||e instanceof tm?I2(h,"updateDoc",a._key,e,i,r):V2(h,"updateDoc",a._key,e),cm(o,[d.toMutation(a._key,Kn.exists(!0))])}function q2(a){return cm(Is(a.firestore,zr),[new zd(a._key,Kn.none())])}function n0(a,e){const i=Is(a.firestore,zr),r=Gi(a),o=B2(a.converter,e),h=em(a.firestore);return cm(i,[D2(h,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function H2(a,...e){a=Si(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||W_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(W_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,_;if(a instanceof Ce)d=Is(a.firestore,zr),_=Md(a._key.path),h={next:y=>{e[r]&&e[r](G2(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Is(a,Na);d=Is(y.firestore,zr),_=y._query;const S=new Gv(d);h={next:x=>{e[r]&&e[r](new Cr(d,S,y,x))},error:e[r+1],complete:e[r+2]},z2(a._query)}const v=Uv(d);return E2(v,_,o,h)}function cm(a,e){const i=Uv(a);return T2(i,e)}function G2(a,e,i){const r=i.docs.get(e._key),o=new Gv(a);return new Sa(a,o,e._key,r,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){_b(rb),dc(new uo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new zr(new Tb(r.getProvider("auth-internal")),new Ab(d,r.getProvider("app-check-internal")),Pb(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),xr(J_,$_,e),xr(J_,$_,"esm2020")})();var Q2="firebase",F2="12.9.0";xr(Q2,F2,"app");const cc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},Y2=m0(cc),Fn=x2(Y2),_n=()=>!!(cc.apiKey&&cc.projectId&&cc.apiKey!=="demo-key"),i0="quotebook_quotes",Yn="quotes";function K2(){const[a,e]=lt.useState([]),[i,r]=lt.useState(!0),[o,h]=lt.useState(null),[d,_]=lt.useState(!1),[v,y]=lt.useState("newest"),[S,x]=lt.useState("");lt.useEffect(()=>{if(_n()){_(!0);const N=L2(Wf(Fn,Yn),k2("timestamp","desc")),A=H2(N,at=>{const ft=[];at.forEach(z=>{const q=z.data();ft.push({id:z.id,text:q.text,speaker:q.speaker,addedBy:q.addedBy,timestamp:q.timestamp instanceof ne?q.timestamp.toMillis():q.timestamp||Date.now(),likes:q.likes||[],comments:(q.comments||[]).map(tt=>({...tt,likes:tt.likes||[],gifUrl:tt.gifUrl||void 0,replies:(tt.replies||[]).map(_t=>({..._t,likes:_t.likes||[],gifUrl:_t.gifUrl||void 0}))}))})}),e(ft),r(!1),h(null)},at=>{console.error("Firestore error:",at),h("Failed to connect to database. Check your Firebase config."),r(!1),R()});return()=>A()}else _(!1),R(),r(!1)},[]);const R=()=>{const N=localStorage.getItem(i0);if(N)try{const at=JSON.parse(N).map(ft=>({...ft,likes:ft.likes||[],comments:(ft.comments||[]).map(z=>({...z,likes:z.likes||[],gifUrl:z.gifUrl||void 0,replies:(z.replies||[]).map(q=>({...q,likes:q.likes||[],gifUrl:q.gifUrl||void 0}))}))}));e(at)}catch{e([])}},L=lt.useCallback(N=>{localStorage.setItem(i0,JSON.stringify(N)),e(N)},[]),J=lt.useCallback(()=>{let N=[...a];if(S.trim()){const A=S.toLowerCase().trim();N=N.filter(at=>at.text.toLowerCase().includes(A)||at.speaker.toLowerCase().includes(A)||at.addedBy.toLowerCase().includes(A))}switch(v){case"newest":return N.sort((A,at)=>at.timestamp-A.timestamp);case"oldest":return N.sort((A,at)=>A.timestamp-at.timestamp);case"mostLiked":return N.sort((A,at)=>at.likes.length-A.likes.length);default:return N}},[a,v,S]),W=lt.useCallback(async(N,A,at)=>{const ft={text:N,speaker:A.trim(),addedBy:at.trim(),timestamp:Date.now(),likes:[],comments:[]};if(d&&_n())try{await n0(Wf(Fn,Yn),{...ft,timestamp:K_()})}catch(z){console.error("Error adding quote:",z),h("Failed to add quote. Please try again.")}else{const z={...ft,id:crypto.randomUUID()};L([z,...a])}},[a,d,L]),et=lt.useCallback(async N=>{if(d&&_n())try{await q2(Gi(Fn,Yn,N))}catch(A){console.error("Error deleting quote:",A),h("Failed to delete quote. Please try again.")}else L(a.filter(A=>A.id!==N))},[a,d,L]),dt=lt.useCallback(async(N,A)=>{const at=a.find(z=>z.id===N);if(!at)return;const ft=at.likes.includes(A);if(d&&_n())try{const z=Gi(Fn,Yn,N);ft?await Rs(z,{likes:Z_(A)}):await Rs(z,{likes:X_(A)})}catch(z){console.error("Error toggling like:",z),h("Failed to update like. Please try again.")}else{const z=a.map(q=>q.id===N?{...q,likes:ft?q.likes.filter(tt=>tt!==A):[...q.likes,A]}:q);L(z)}},[a,d,L]),yt=lt.useCallback(async(N,A,at,ft)=>{const z={id:crypto.randomUUID(),text:A.trim(),gifUrl:ft||void 0,author:at.trim(),timestamp:Date.now(),likes:[],replies:[]};if(d&&_n())try{const q=Gi(Fn,Yn,N);await Rs(q,{comments:X_(z)})}catch(q){console.error("Error adding comment:",q),h("Failed to add comment. Please try again.")}else{const q=a.map(tt=>tt.id===N?{...tt,comments:[...tt.comments,z]}:tt);L(q)}},[a,d,L]),mt=lt.useCallback(async(N,A)=>{const at=a.find(z=>z.id===N);if(!at)return;const ft=at.comments.find(z=>z.id===A);if(ft)if(d&&_n())try{const z=Gi(Fn,Yn,N);await Rs(z,{comments:Z_(ft)})}catch(z){console.error("Error deleting comment:",z),h("Failed to delete comment. Please try again.")}else{const z=a.map(q=>q.id===N?{...q,comments:q.comments.filter(tt=>tt.id!==A)}:q);L(z)}},[a,d,L]),Dt=lt.useCallback(async(N,A,at)=>{const ft=a.find(q=>q.id===N);if(!ft)return;const z=ft.comments.map(q=>{if(q.id===A){const tt=q.likes.includes(at);return{...q,likes:tt?q.likes.filter(_t=>_t!==at):[...q.likes,at]}}return q});if(d&&_n())try{const q=Gi(Fn,Yn,N);await Rs(q,{comments:z})}catch(q){console.error("Error toggling comment like:",q),h("Failed to update like. Please try again.")}else{const q=a.map(tt=>tt.id===N?{...tt,comments:z}:tt);L(q)}},[a,d,L]),Pt=lt.useCallback(async(N,A,at,ft,z)=>{const q=a.find(nt=>nt.id===N);if(!q)return;const tt={id:crypto.randomUUID(),text:at.trim(),gifUrl:z||void 0,author:ft.trim(),timestamp:Date.now(),likes:[]},_t=q.comments.map(nt=>nt.id===A?{...nt,replies:[...nt.replies,tt]}:nt);if(d&&_n())try{const nt=Gi(Fn,Yn,N);await Rs(nt,{comments:_t})}catch(nt){console.error("Error adding reply:",nt),h("Failed to add reply. Please try again.")}else{const nt=a.map(I=>I.id===N?{...I,comments:_t}:I);L(nt)}},[a,d,L]),Tt=lt.useCallback(async(N,A,at)=>{const ft=a.find(q=>q.id===N);if(!ft)return;const z=ft.comments.map(q=>q.id===A?{...q,replies:q.replies.filter(tt=>tt.id!==at)}:q);if(d&&_n())try{const q=Gi(Fn,Yn,N);await Rs(q,{comments:z})}catch(q){console.error("Error deleting reply:",q),h("Failed to delete reply. Please try again.")}else{const q=a.map(tt=>tt.id===N?{...tt,comments:z}:tt);L(q)}},[a,d,L]),D=lt.useCallback(async(N,A,at,ft)=>{const z=a.find(tt=>tt.id===N);if(!z)return;const q=z.comments.map(tt=>{if(tt.id===A){const _t=tt.replies.map(nt=>{if(nt.id===at){const I=nt.likes.includes(ft);return{...nt,likes:I?nt.likes.filter(K=>K!==ft):[...nt.likes,ft]}}return nt});return{...tt,replies:_t}}return tt});if(d&&_n())try{const tt=Gi(Fn,Yn,N);await Rs(tt,{comments:q})}catch(tt){console.error("Error toggling reply like:",tt),h("Failed to update like. Please try again.")}else{const tt=a.map(_t=>_t.id===N?{..._t,comments:q}:_t);L(tt)}},[a,d,L]),w=lt.useCallback(()=>{const N=new Map;return a.forEach(A=>{const at=N.get(A.speaker)||0;N.set(A.speaker,at+1)}),Array.from(N.entries()).map(([A,at])=>({name:A,quoteCount:at})).sort((A,at)=>at.quoteCount-A.quoteCount)},[a]),C=lt.useCallback(N=>a.filter(A=>A.speaker===N),[a]),O=lt.useCallback(()=>{const N=JSON.stringify(a,null,2),A=new Blob([N],{type:"application/json"}),at=URL.createObjectURL(A),ft=document.createElement("a");ft.href=at,ft.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,ft.click(),URL.revokeObjectURL(at)},[a]),M=lt.useCallback(async N=>{const A=new FileReader;A.onload=async at=>{try{const ft=JSON.parse(at.target?.result);if(Array.isArray(ft)){const z=ft.filter(q=>q.text&&q.speaker&&q.addedBy);if(d&&_n())for(const q of z)await n0(Wf(Fn,Yn),{text:q.text,speaker:q.speaker,addedBy:q.addedBy,timestamp:q.timestamp||K_(),likes:q.likes||[],comments:q.comments||[]});else{const q=z.map(tt=>({...tt,id:tt.id||crypto.randomUUID(),timestamp:tt.timestamp||Date.now(),likes:tt.likes||[],comments:tt.comments||[]}));L([...q,...a])}}}catch{alert("Invalid file format")}},A.readAsText(N)},[a,d,L]);return{quotes:J(),allQuotes:a,loading:i,error:o,usingFirebase:d,sortOption:v,setSortOption:y,searchQuery:S,setSearchQuery:x,addQuote:W,deleteQuote:et,toggleLike:dt,addComment:yt,deleteComment:mt,toggleCommentLike:Dt,addReply:Pt,deleteReply:Tt,toggleReplyLike:D,getPeople:w,getQuotesBySpeaker:C,exportData:O,importData:M}}const td=10;function ic(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function X2(a){const[e,i]=lt.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:td,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=lt.useCallback(()=>[...new Set(a.map(y=>y.speaker))],[a]),o=lt.useCallback((y,S)=>{const x=S.filter(J=>J!==y),R=ic(x),L=[y,...R.slice(0,3)];return ic(L)},[]),h=lt.useCallback(()=>{const y=r();if(y.length<2||a.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const x=ic(a)[0],R=o(x.speaker,y);i({isPlaying:!0,currentQuote:x,options:R,score:0,totalRounds:Math.min(td,a.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[a,r,o]),d=lt.useCallback(y=>{if(!e.currentQuote||e.answered)return;const S=y===e.currentQuote.speaker;i(x=>({...x,answered:!0,selectedAnswer:y,isCorrect:S,score:S?x.score+1:x.score,gameHistory:[...x.gameHistory,{quote:x.currentQuote,correct:S,guessed:y}]}))},[e.currentQuote,e.answered]),_=lt.useCallback(()=>{if(e.currentRound>=e.totalRounds){i(W=>({...W,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map(W=>W.quote.id);y.push(e.currentQuote?.id||"");const S=a.filter(W=>!y.includes(W.id));if(S.length===0){i(W=>({...W,isPlaying:!1,currentQuote:null}));return}const R=ic(S)[0],L=r(),J=o(R.speaker,L);i(W=>({...W,currentQuote:R,options:J,currentRound:W.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[a,e,r,o]),v=lt.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:td,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:_,endGame:v,canPlay:r().length>=2&&a.length>=3}}const Kv=[{name:"Kasey",password:"kaseyYork"},{name:"Liam",password:"liamYork"},{name:"Ethan",password:"ethanYork"},{name:"Teethan",password:"teethanPono"},{name:"Alex",password:"alexYork"},{name:"Harrison",password:"harrisonToro"},{name:"Patrick",password:"patrickYork"},{name:"Jaice",password:"jaiceYork"},{name:"Mergan",password:"merganYork"}];function s0(a,e){return!!Kv.find(r=>r.name.toLowerCase()===a.toLowerCase()&&r.password===e)}function Z2(a){const e=Kv.find(i=>i.name.toLowerCase()===a.toLowerCase());return e?e.name:null}const va="quotebook_user",Wl="quotebook_auth";function J2(){const[a,e]=lt.useState(null),[i,r]=lt.useState(!1),[o,h]=lt.useState(!0);lt.useEffect(()=>{const x=localStorage.getItem(Wl),R=localStorage.getItem(va);if(x&&R)try{const L=JSON.parse(x),J=JSON.parse(R);s0(L.name,L.password)?(J.displayName||(J.displayName=J.name),e(J),r(!0)):(localStorage.removeItem(Wl),localStorage.removeItem(va))}catch{localStorage.removeItem(Wl),localStorage.removeItem(va)}h(!1)},[]);const d=lt.useCallback((x,R)=>{if(s0(x,R)){const L=Z2(x);if(!L)return!1;const J=localStorage.getItem(`quotebook_user_${L.toLowerCase()}`);let W={name:L,displayName:L,gamesPlayed:0,totalScore:0,bestScore:0};if(J)try{const et=JSON.parse(J);W={...W,displayName:et.displayName||L,gamesPlayed:et.gamesPlayed||0,totalScore:et.totalScore||0,bestScore:et.bestScore||0}}catch{}return localStorage.setItem(Wl,JSON.stringify({name:L,password:R})),localStorage.setItem(va,JSON.stringify(W)),e(W),r(!0),!0}return!1},[]),_=lt.useCallback(()=>{a&&localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(a)),localStorage.removeItem(Wl),localStorage.removeItem(va),e(null),r(!1)},[a]),v=lt.useCallback(x=>{if(!a)return;const R={...a,displayName:x.trim()};e(R),localStorage.setItem(va,JSON.stringify(R)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(R))},[a]),y=lt.useCallback(x=>{v(x)},[v]),S=lt.useCallback(x=>{if(!a)return;const R={...a,gamesPlayed:a.gamesPlayed+1,totalScore:a.totalScore+x,bestScore:Math.max(a.bestScore,x)};e(R),localStorage.setItem(va,JSON.stringify(R)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(R))},[a]);return{user:a,isAuthenticated:i,isLoading:o,login:d,logout:_,setUsername:y,setDisplayName:v,recordGameScore:S}}function $2({user:a,activeTab:e,setActiveTab:i}){return E.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:E.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold",children:"Quote Book"}),a&&E.jsxs("p",{className:"text-sm text-white/70",children:["Welcome, ",a.name,"!"]})]})]}),E.jsxs("nav",{className:"flex gap-1 bg-white/10 rounded-lg p-1",children:[E.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="quotes"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Quotes"}),E.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="game"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Game"}),E.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="settings"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Settings"})]})]})})})}const a0="dc6zaTOxFJmzC";function r0({onSelect:a,onClose:e}){const[i,r]=lt.useState(""),[o,h]=lt.useState([]),[d,_]=lt.useState(!1),[v,y]=lt.useState("");lt.useEffect(()=>{S()},[]);const S=async()=>{_(!0),y("");try{const R=await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=${a0}&limit=20&rating=pg-13`);if(!R.ok)throw new Error("Failed to fetch");const L=await R.json();if(L.data){const J=L.data.map(W=>({id:W.id,url:W.images.fixed_height.url,previewUrl:W.images.fixed_height_small.url||W.images.fixed_height.url}));h(J)}}catch(R){y("Failed to load GIFs. Please try again."),console.error("Error loading GIFs:",R)}_(!1)},x=async R=>{if(!R.trim()){S();return}_(!0),y("");try{const L=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=${a0}&q=${encodeURIComponent(R)}&limit=20&rating=pg-13`);if(!L.ok)throw new Error("Failed to fetch");const J=await L.json();if(J.data){const W=J.data.map(et=>({id:et.id,url:et.images.fixed_height.url,previewUrl:et.images.fixed_height_small.url||et.images.fixed_height.url}));h(W)}}catch(L){y("Failed to search GIFs. Please try again."),console.error("Error searching GIFs:",L)}_(!1)};return lt.useEffect(()=>{const R=setTimeout(()=>{x(i)},500);return()=>clearTimeout(R)},[i]),E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Choose a GIF"}),E.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl leading-none p-1",children:""})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:i,onChange:R=>r(R.target.value),placeholder:"Search GIFs...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),E.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?E.jsx("div",{className:"flex items-center justify-center py-12",children:E.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):v?E.jsxs("div",{className:"text-center py-12 text-red-500",children:[E.jsx("p",{className:"text-4xl mb-2",children:""}),E.jsx("p",{children:v}),E.jsx("button",{onClick:S,className:"mt-3 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Try again"})]}):o.length===0?E.jsxs("div",{className:"text-center py-12 text-gray-500",children:[E.jsx("p",{className:"text-4xl mb-2",children:""}),E.jsx("p",{children:"No GIFs found"})]}):E.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(R=>E.jsx("button",{onClick:()=>a(R.url),className:"relative aspect-square overflow-hidden rounded-lg hover:ring-4 hover:ring-indigo-500 transition-all bg-gray-100",children:E.jsx("img",{src:R.previewUrl,alt:"GIF",className:"w-full h-full object-cover",loading:"lazy"})},R.id))})}),E.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:E.jsx("span",{className:"text-xs text-gray-400",children:"Powered by GIPHY"})})]})})}function W2({quote:a,currentUser:e,onDelete:i,onToggleLike:r,onAddComment:o,onDeleteComment:h,onToggleCommentLike:d,onAddReply:_,onDeleteReply:v,onToggleReplyLike:y}){const[S,x]=lt.useState(!1),[R,L]=lt.useState(""),[J,W]=lt.useState(null),[et,dt]=lt.useState(!1),[yt,mt]=lt.useState(!1),[Dt,Pt]=lt.useState(null),[Tt,D]=lt.useState(""),[w,C]=lt.useState(null),[O,M]=lt.useState(!1),N=a.likes.includes(e),A=a.addedBy===e,at=()=>{r(a.id,e)},ft=async nt=>{nt.preventDefault(),!(!R.trim()&&!J||yt)&&(mt(!0),await o(a.id,R,e,J||void 0),L(""),W(null),mt(!1))},z=async nt=>{!Tt.trim()&&!w||yt||(mt(!0),await _(a.id,nt,Tt,e,w||void 0),D(""),C(null),Pt(null),mt(!1))},q=nt=>new Date(nt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),tt=nt=>new Date(nt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_t=()=>{let nt=a.comments.length;return a.comments.forEach(I=>{nt+=I.replies.length}),nt};return E.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[E.jsxs("div",{className:"mb-4",children:[E.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',a.text,'"']}),E.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",a.speaker]})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[E.jsxs("span",{children:["Added by ",a.addedBy]}),E.jsx("span",{children:q(a.timestamp)})]}),E.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[E.jsxs("button",{onClick:at,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${N?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.jsx("span",{children:N?"":""}),E.jsx("span",{className:"font-medium",children:a.likes.length})]}),E.jsxs("button",{onClick:()=>x(!S),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[E.jsx("span",{children:""}),E.jsx("span",{className:"font-medium",children:_t()})]}),A&&E.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&i(a.id)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),S&&E.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[E.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",_t(),")"]}),a.comments.length>0?E.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:a.comments.map(nt=>E.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[E.jsxs("div",{className:"relative group",children:[nt.text&&E.jsx("p",{className:"text-gray-700 text-sm",children:nt.text}),nt.gifUrl&&E.jsx("img",{src:nt.gifUrl,alt:"GIF",className:"mt-2 rounded-lg max-w-full max-h-48 object-contain"}),E.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[E.jsx("span",{className:"font-medium",children:nt.author}),E.jsx("span",{children:tt(nt.timestamp)})]}),nt.author===e&&E.jsx("button",{onClick:()=>h(a.id,nt.id),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]}),E.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-200",children:[E.jsxs("button",{onClick:()=>d(a.id,nt.id,e),className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${nt.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.jsx("span",{children:nt.likes.includes(e)?"":""}),E.jsx("span",{children:nt.likes.length})]}),E.jsxs("button",{onClick:()=>{Pt(Dt===nt.id?null:nt.id),D(""),C(null)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[E.jsx("span",{children:""}),E.jsx("span",{children:"Reply"})]})]}),Dt===nt.id&&E.jsxs("div",{className:"mt-3 space-y-2",children:[w&&E.jsxs("div",{className:"relative inline-block",children:[E.jsx("img",{src:w,alt:"Selected GIF",className:"rounded-lg max-h-24 object-contain"}),E.jsx("button",{onClick:()=>C(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>M(!0),className:"px-3 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 text-xs",children:"GIF"}),E.jsx("input",{type:"text",value:Tt,onChange:I=>D(I.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs"}),E.jsx("button",{onClick:()=>z(nt.id),disabled:!Tt.trim()&&!w||yt,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium",children:yt?"...":"Reply"}),E.jsx("button",{onClick:()=>{Pt(null),D(""),C(null)},className:"px-3 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 text-xs",children:"Cancel"})]})]}),nt.replies.length>0&&E.jsx("div",{className:"mt-3 ml-4 space-y-2 border-l-2 border-indigo-200 pl-3",children:nt.replies.map(I=>E.jsxs("div",{className:"bg-white rounded-lg p-2 relative group",children:[I.text&&E.jsx("p",{className:"text-gray-700 text-xs",children:I.text}),I.gifUrl&&E.jsx("img",{src:I.gifUrl,alt:"GIF",className:"mt-1 rounded-lg max-w-full max-h-32 object-contain"}),E.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-500",children:[E.jsx("span",{className:"font-medium",children:I.author}),E.jsx("span",{children:tt(I.timestamp)})]}),E.jsx("div",{className:"flex items-center gap-2 mt-1",children:E.jsxs("button",{onClick:()=>y(a.id,nt.id,I.id,e),className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded transition-colors ${I.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[E.jsx("span",{children:I.likes.includes(e)?"":""}),E.jsx("span",{children:I.likes.length})]})}),I.author===e&&E.jsx("button",{onClick:()=>v(a.id,nt.id,I.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},I.id))})]},nt.id))}):E.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),J&&E.jsxs("div",{className:"mb-3 relative inline-block",children:[E.jsx("img",{src:J,alt:"Selected GIF",className:"rounded-lg max-h-32 object-contain"}),E.jsx("button",{onClick:()=>W(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-sm flex items-center justify-center",children:""})]}),E.jsxs("form",{onSubmit:ft,className:"flex gap-2",children:[E.jsx("button",{type:"button",onClick:()=>dt(!0),className:"px-4 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium",children:"GIF"}),E.jsx("input",{type:"text",value:R,onChange:nt=>L(nt.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),E.jsx("button",{type:"submit",disabled:!R.trim()&&!J||yt,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:yt?"...":"Post"})]})]}),et&&E.jsx(r0,{onSelect:nt=>{W(nt),dt(!1)},onClose:()=>dt(!1)}),O&&E.jsx(r0,{onSelect:nt=>{C(nt),M(!1)},onClose:()=>M(!1)})]})}function tx({quotes:a,people:e,currentUser:i,sortOption:r,searchQuery:o,onSortChange:h,onSearchChange:d,onAddQuote:_,onDeleteQuote:v,onToggleLike:y,onAddComment:S,onDeleteComment:x,onToggleCommentLike:R,onAddReply:L,onDeleteReply:J,onToggleReplyLike:W}){const[et,dt]=lt.useState(!1),[yt,mt]=lt.useState(""),[Dt,Pt]=lt.useState(""),[Tt,D]=lt.useState(""),w=O=>{O.preventDefault(),!(!yt.trim()||!Dt.trim())&&(_(yt,Dt,i),mt(""),Pt(""),dt(!1))},C=Tt?a.filter(O=>O.speaker===Tt):a;return E.jsxs("div",{children:[E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),E.jsxs("p",{className:"text-gray-500",children:[a.length," quote",a.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),E.jsx("button",{onClick:()=>dt(!et),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:et?" Cancel":"+ Add Quote"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:o,onChange:O=>d(O.target.value),placeholder:"Search quotes, speakers, or authors...",className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg bg-white shadow-sm"}),E.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:""}),o&&E.jsx("button",{onClick:()=>d(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xl",children:""})]}),o&&E.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",C.length," result",C.length!==1?"s":"",' for "',o,'"']})]}),et&&E.jsxs("form",{onSubmit:w,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),E.jsx("textarea",{value:yt,onChange:O=>mt(O.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),E.jsx("input",{type:"text",value:Dt,onChange:O=>Pt(O.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),E.jsx("datalist",{id:"speakers",children:e.map(O=>E.jsx("option",{value:O.name},O.name))})]}),E.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("select",{value:Tt,onChange:O=>D(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[E.jsx("option",{value:"",children:"All Speakers"}),e.map(O=>E.jsxs("option",{value:O.name,children:[O.name," (",O.quoteCount,")"]},O.name))]})}),E.jsx("div",{className:"flex-1",children:E.jsxs("select",{value:r,onChange:O=>h(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[E.jsx("option",{value:"newest",children:" Newest First"}),E.jsx("option",{value:"oldest",children:" Oldest First"}),E.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),C.length>0?E.jsx("div",{className:"grid gap-6",children:C.map(O=>E.jsx(W2,{quote:O,currentUser:i,onDelete:v,onToggleLike:y,onAddComment:S,onDeleteComment:x,onToggleCommentLike:R,onAddReply:L,onDeleteReply:J,onToggleReplyLike:W},O.id))}):E.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[E.jsx("p",{className:"text-6xl mb-4",children:o?"":""}),E.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:o?"No quotes found":Tt?"No quotes from this person":"No quotes yet"}),E.jsx("p",{className:"text-gray-500",children:o?"Try a different search term.":Tt?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function ex({gameState:a,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:_}){const v=!a.isPlaying&&a.gameHistory.length>0;if(!a.isPlaying&&!v)return E.jsx("div",{className:"max-w-2xl mx-auto",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:E.jsx("span",{className:"text-4xl",children:""})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),E.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&E.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),E.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),E.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),E.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?E.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):E.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[E.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),E.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(v){const y=Math.round(a.score/a.gameHistory.length*100),S=()=>{_(a.score),d(),r()},x=()=>{_(a.score),d()};return E.jsx("div",{className:"max-w-2xl mx-auto",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:E.jsx("span",{className:"text-4xl",children:""})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),E.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[a.score,"/",a.gameHistory.length]}),E.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),E.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[E.jsx("button",{onClick:S,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),E.jsx("button",{onClick:x,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),E.jsxs("div",{className:"border-t pt-6",children:[E.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),E.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:a.gameHistory.map((R,L)=>E.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${R.correct?"bg-green-50":"bg-red-50"}`,children:[E.jsx("span",{className:"text-lg",children:R.correct?"":""}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',R.quote.text,'"']}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",E.jsx("span",{className:"font-semibold",children:R.quote.speaker}),!R.correct&&E.jsxs("span",{children:["  You guessed: ",R.guessed]})]})]})]},L))})]})]})})}return E.jsxs("div",{className:"max-w-2xl mx-auto",children:[E.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[E.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsxs("span",{className:"font-medium",children:["Round ",a.currentRound," of ",a.totalRounds]}),E.jsxs("span",{className:"font-bold",children:["Score: ",a.score]})]}),E.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${a.currentRound/a.totalRounds*100}%`}})})]}),E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[E.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),E.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:a.currentQuote?.text})]}),E.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.options.map(y=>{let S="p-4 rounded-xl font-medium transition text-left border-2 ";return a.answered?y===a.currentQuote?.speaker?S+="border-green-500 bg-green-50 text-green-700":y===a.selectedAnswer&&!a.isCorrect?S+="border-red-500 bg-red-50 text-red-700":S+="border-gray-200 bg-gray-50 text-gray-400":S+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",E.jsx("button",{onClick:()=>o(y),disabled:a.answered,className:S,children:E.jsxs("span",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),a.answered&&E.jsxs("div",{className:"mt-6 text-center",children:[E.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${a.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isCorrect?" Correct!":` It was ${a.currentQuote?.speaker}`}),E.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:a.currentRound>=a.totalRounds?"See Results":"Next Question "})]})]})]}),E.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function nx({user:a,quotes:e,usingFirebase:i,onSetDisplayName:r,onLogout:o,onExport:h,onImport:d}){const[_,v]=lt.useState(a.displayName),[y,S]=lt.useState(!1),x=lt.useRef(null),R=()=>{_.trim()&&_.trim()!==a.displayName&&(r(_.trim()),S(!0),setTimeout(()=>S(!1),2e3))},L=()=>{x.current?.click()},J=W=>{const et=W.target.files?.[0];et&&(d(et),W.target.value="")};return E.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[E.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Profile"}),E.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[E.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Account"}),E.jsx("p",{className:"font-medium text-gray-800",children:a.name})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("input",{type:"text",value:_,onChange:W=>v(W.target.value),placeholder:"Enter display name",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),E.jsx("button",{onClick:R,disabled:!_.trim()||_.trim()===a.displayName,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),y&&E.jsx("p",{className:"text-green-600 text-sm flex items-center gap-1",children:" Display name updated!"}),E.jsx("p",{className:"text-xs text-gray-500",children:"This is how your name will appear on quotes and comments."})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Game Stats"}),E.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[E.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[E.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:a.gamesPlayed}),E.jsx("p",{className:"text-sm text-gray-500",children:"Games Played"})]}),E.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[E.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.bestScore}),E.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"})]}),E.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[E.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.gamesPlayed>0?Math.round(a.totalScore/a.gamesPlayed):0}),E.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Data Management"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-gray-800",children:"Connection Status"}),E.jsx("p",{className:"text-sm text-gray-500",children:i?"Connected to Firebase":"Using local storage"})]}),E.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:i?" Online":" Local"})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:h,className:"flex-1 px-4 py-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:[" Export Quotes (",e.length,")"]}),E.jsx("button",{onClick:L,className:"flex-1 px-4 py-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Import Quotes"}),E.jsx("input",{ref:x,type:"file",accept:".json",onChange:J,className:"hidden"})]})]})]}),E.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Account"}),E.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&o()},className:"w-full px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Log Out"})]})]})}function ix({onLogin:a}){const[e,i]=lt.useState(""),[r,o]=lt.useState(""),[h,d]=lt.useState(!1),[_,v]=lt.useState(""),[y,S]=lt.useState(!1),x=R=>{if(R.preventDefault(),v(""),S(!0),!e.trim()||!r.trim()){v("Please enter both name and password"),S(!1);return}a(e.trim(),r)||(v("Invalid name or password"),S(!1))};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),E.jsx("p",{className:"text-gray-500",children:"Sign in to continue"})]}),E.jsxs("form",{onSubmit:x,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),E.jsx("input",{type:"text",value:e,onChange:R=>i(R.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"username",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:h?"text":"password",value:r,onChange:R=>o(R.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"current-password"}),E.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none p-1",children:h?E.jsx("span",{className:"text-xl",children:""}):E.jsx("span",{className:"text-xl",children:""})})]}),E.jsxs("label",{className:"flex items-center gap-2 mt-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:h,onChange:R=>d(R.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),E.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]}),_&&E.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center gap-2",children:[E.jsx("span",{children:""}),E.jsx("span",{children:_})]}),E.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-semibold text-lg shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:y?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),E.jsx("div",{className:"mt-8 text-center text-sm text-gray-400",children:E.jsx("p",{children:"Access restricted to authorized users only"})})]})})}function sx({onDismiss:a}){return E.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:E.jsxs("div",{className:"flex items-start justify-between gap-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"text-2xl",children:""}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),E.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),E.jsxs("details",{className:"text-sm",children:[E.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),E.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[E.jsxs("li",{children:["Go to ",E.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),E.jsx("li",{children:'Click "Create a project" (or "Add project")'}),E.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),E.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),E.jsx("li",{children:'Click "Create project"'})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[E.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),E.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),E.jsx("li",{children:'Click "Register app"'}),E.jsxs("li",{children:["Copy the ",E.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[E.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),E.jsx("li",{children:'Click "Create database"'}),E.jsxs("li",{children:['Select "Start in ',E.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),E.jsx("li",{children:"Choose a location close to you"}),E.jsx("li",{children:'Click "Enable"'})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[E.jsxs("li",{children:["Open ",E.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),E.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),E.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[E.jsxs("li",{children:["Run ",E.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),E.jsxs("li",{children:["Upload the new ",E.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),E.jsx("li",{children:"Share the URL with your friends! "})]})]}),E.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:E.jsxs("p",{className:"text-blue-800 text-sm",children:[E.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),a&&E.jsx("button",{onClick:a,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function ax(){const[a,e]=lt.useState("quotes"),[i,r]=lt.useState(!_n()),{user:o,isAuthenticated:h,isLoading:d,login:_,logout:v,setDisplayName:y,recordGameScore:S}=J2(),{quotes:x,loading:R,error:L,usingFirebase:J,sortOption:W,setSortOption:et,searchQuery:dt,setSearchQuery:yt,addQuote:mt,deleteQuote:Dt,toggleLike:Pt,addComment:Tt,deleteComment:D,toggleCommentLike:w,addReply:C,deleteReply:O,toggleReplyLike:M,getPeople:N,exportData:A,importData:at}=K2(),{gameState:ft,startGame:z,submitAnswer:q,nextRound:tt,endGame:_t,canPlay:nt}=X2(x);return d?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!h||!o?E.jsx(ix,{onLogin:_}):E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[E.jsx($2,{user:o,activeTab:a,setActiveTab:e}),E.jsx("div",{className:`text-center py-2 text-sm font-medium ${J?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:J?E.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):E.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),L&&E.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",L]}),E.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!_n()&&a==="quotes"&&E.jsx(sx,{onDismiss:()=>r(!1)}),R?E.jsx("div",{className:"flex items-center justify-center py-20",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),E.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):E.jsxs(E.Fragment,{children:[a==="quotes"&&E.jsx(tx,{quotes:x,people:N(),currentUser:o.displayName,sortOption:W,searchQuery:dt,onSortChange:et,onSearchChange:yt,onAddQuote:mt,onDeleteQuote:Dt,onToggleLike:Pt,onAddComment:Tt,onDeleteComment:D,onToggleCommentLike:w,onAddReply:C,onDeleteReply:O,onToggleReplyLike:M}),a==="game"&&E.jsx(ex,{gameState:ft,canPlay:nt,user:o,onStartGame:z,onSubmitAnswer:q,onNextRound:tt,onEndGame:_t,onRecordScore:S}),a==="settings"&&E.jsx(nx,{user:o,quotes:x,usingFirebase:J,onSetDisplayName:y,onLogout:v,onExport:A,onImport:at})]})]}),E.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[E.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),E.jsx("p",{className:"text-xs mt-1",children:J?" Real-time sync enabled":" Local mode"})]})]})}MT.createRoot(document.getElementById("root")).render(E.jsx(lt.StrictMode,{children:E.jsx(ax,{})}));
