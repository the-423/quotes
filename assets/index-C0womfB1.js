(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Pf={exports:{}},Zl={};var My;function Cb(){if(My)return Zl;My=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var ky;function Db(){return ky||(ky=1,Pf.exports=Cb()),Pf.exports}var g=Db(),qf={exports:{}},wt={};var Uy;function Ib(){if(Uy)return wt;Uy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function z(w){return w===null||typeof w!="object"?null:(w=R&&w[R]||w["@@iterator"],typeof w=="function"?w:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Z={};function ft(w,H,st){this.props=w,this.context=H,this.refs=Z,this.updater=st||et}ft.prototype.isReactComponent={},ft.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},ft.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function dt(w,H,st){this.props=w,this.context=H,this.refs=Z,this.updater=st||et}var Tt=dt.prototype=new _t;Tt.constructor=dt,X(Tt,ft.prototype),Tt.isPureReactComponent=!0;var zt=Array.isArray;function St(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(w,H,st){var lt=st.ref;return{$$typeof:a,type:w,key:H,ref:lt!==void 0?lt:null,props:st}}function M(w,H){return I(w.type,H,w.props)}function V(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function C(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(st){return H[st]})}var S=/\/+/g;function ot(w,H){return typeof w=="object"&&w!==null&&w.key!=null?C(""+w.key):H.toString(36)}function mt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(St,St):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function k(w,H,st,lt,Et){var xt=typeof w;(xt==="undefined"||xt==="boolean")&&(w=null);var It=!1;if(w===null)It=!0;else switch(xt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(w.$$typeof){case a:case e:It=!0;break;case x:return It=w._init,k(It(w._payload),H,st,lt,Et)}}if(It)return Et=Et(w),It=lt===""?"."+ot(w,0):lt,zt(Et)?(st="",It!=null&&(st=It.replace(S,"$&/")+"/"),k(Et,H,st,"",function(hn){return hn})):Et!=null&&(V(Et)&&(Et=M(Et,st+(Et.key==null||w&&w.key===Et.key?"":(""+Et.key).replace(S,"$&/")+"/")+It)),H.push(Et)),1;It=0;var le=lt===""?".":lt+":";if(zt(w))for(var Yt=0;Yt<w.length;Yt++)lt=w[Yt],xt=le+ot(lt,Yt),It+=k(lt,H,st,xt,Et);else if(Yt=z(w),typeof Yt=="function")for(w=Yt.call(w),Yt=0;!(lt=w.next()).done;)lt=lt.value,xt=le+ot(lt,Yt++),It+=k(lt,H,st,xt,Et);else if(xt==="object"){if(typeof w.then=="function")return k(mt(w),H,st,lt,Et);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return It}function B(w,H,st){if(w==null)return w;var lt=[],Et=0;return k(w,lt,"","",function(xt){return H.call(st,xt,Et++)}),lt}function Q(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(st){(w._status===0||w._status===-1)&&(w._status=1,w._result=st)},function(st){(w._status===0||w._status===-1)&&(w._status=2,w._result=st)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var W=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},it={map:B,forEach:function(w,H,st){B(w,function(){H.apply(this,arguments)},st)},count:function(w){var H=0;return B(w,function(){H++}),H},toArray:function(w){return B(w,function(H){return H})||[]},only:function(w){if(!V(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return wt.Activity=A,wt.Children=it,wt.Component=ft,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=dt,wt.StrictMode=r,wt.Suspense=E,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,wt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return D.H.useMemoCache(w)}},wt.cache=function(w){return function(){return w.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(w,H,st){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var lt=X({},w.props),Et=w.key;if(H!=null)for(xt in H.key!==void 0&&(Et=""+H.key),H)!N.call(H,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&H.ref===void 0||(lt[xt]=H[xt]);var xt=arguments.length-2;if(xt===1)lt.children=st;else if(1<xt){for(var It=Array(xt),le=0;le<xt;le++)It[le]=arguments[le+2];lt.children=It}return I(w.type,Et,lt)},wt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},wt.createElement=function(w,H,st){var lt,Et={},xt=null;if(H!=null)for(lt in H.key!==void 0&&(xt=""+H.key),H)N.call(H,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=H[lt]);var It=arguments.length-2;if(It===1)Et.children=st;else if(1<It){for(var le=Array(It),Yt=0;Yt<It;Yt++)le[Yt]=arguments[Yt+2];Et.children=le}if(w&&w.defaultProps)for(lt in It=w.defaultProps,It)Et[lt]===void 0&&(Et[lt]=It[lt]);return I(w,xt,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(w){return{$$typeof:y,render:w}},wt.isValidElement=V,wt.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:Q}},wt.memo=function(w,H){return{$$typeof:_,type:w,compare:H===void 0?null:H}},wt.startTransition=function(w){var H=D.T,st={};D.T=st;try{var lt=w(),Et=D.S;Et!==null&&Et(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(St,W)}catch(xt){W(xt)}finally{H!==null&&st.types!==null&&(H.types=st.types),D.T=H}},wt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},wt.use=function(w){return D.H.use(w)},wt.useActionState=function(w,H,st){return D.H.useActionState(w,H,st)},wt.useCallback=function(w,H){return D.H.useCallback(w,H)},wt.useContext=function(w){return D.H.useContext(w)},wt.useDebugValue=function(){},wt.useDeferredValue=function(w,H){return D.H.useDeferredValue(w,H)},wt.useEffect=function(w,H){return D.H.useEffect(w,H)},wt.useEffectEvent=function(w){return D.H.useEffectEvent(w)},wt.useId=function(){return D.H.useId()},wt.useImperativeHandle=function(w,H,st){return D.H.useImperativeHandle(w,H,st)},wt.useInsertionEffect=function(w,H){return D.H.useInsertionEffect(w,H)},wt.useLayoutEffect=function(w,H){return D.H.useLayoutEffect(w,H)},wt.useMemo=function(w,H){return D.H.useMemo(w,H)},wt.useOptimistic=function(w,H){return D.H.useOptimistic(w,H)},wt.useReducer=function(w,H,st){return D.H.useReducer(w,H,st)},wt.useRef=function(w){return D.H.useRef(w)},wt.useState=function(w){return D.H.useState(w)},wt.useSyncExternalStore=function(w,H,st){return D.H.useSyncExternalStore(w,H,st)},wt.useTransition=function(){return D.H.useTransition()},wt.version="19.2.3",wt}var zy;function Nd(){return zy||(zy=1,qf.exports=Ib()),qf.exports}var at=Nd(),Hf={exports:{}},Jl={},Gf={exports:{}},Qf={};var Ly;function Vb(){return Ly||(Ly=1,(function(a){function e(k,B){var Q=k.length;k.push(B);t:for(;0<Q;){var W=Q-1>>>1,it=k[W];if(0<o(it,B))k[W]=B,k[Q]=it,Q=W;else break t}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],Q=k.pop();if(Q!==B){k[0]=Q;t:for(var W=0,it=k.length,w=it>>>1;W<w;){var H=2*(W+1)-1,st=k[H],lt=H+1,Et=k[lt];if(0>o(st,Q))lt<it&&0>o(Et,st)?(k[W]=Et,k[lt]=Q,W=lt):(k[W]=st,k[H]=Q,W=H);else if(lt<it&&0>o(Et,Q))k[W]=Et,k[lt]=Q,W=lt;else break t}}return B}function o(k,B){var Q=k.sortIndex-B.sortIndex;return Q!==0?Q:k.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var E=[],_=[],x=1,A=null,R=3,z=!1,et=!1,X=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(k){for(var B=i(_);B!==null;){if(B.callback===null)r(_);else if(B.startTime<=k)r(_),B.sortIndex=B.expirationTime,e(E,B);else break;B=i(_)}}function zt(k){if(X=!1,Tt(k),!et)if(i(E)!==null)et=!0,St||(St=!0,C());else{var B=i(_);B!==null&&mt(zt,B.startTime-k)}}var St=!1,D=-1,N=5,I=-1;function M(){return Z?!0:!(a.unstable_now()-I<N)}function V(){if(Z=!1,St){var k=a.unstable_now();I=k;var B=!0;try{t:{et=!1,X&&(X=!1,_t(D),D=-1),z=!0;var Q=R;try{e:{for(Tt(k),A=i(E);A!==null&&!(A.expirationTime>k&&M());){var W=A.callback;if(typeof W=="function"){A.callback=null,R=A.priorityLevel;var it=W(A.expirationTime<=k);if(k=a.unstable_now(),typeof it=="function"){A.callback=it,Tt(k),B=!0;break e}A===i(E)&&r(E),Tt(k)}else r(E);A=i(E)}if(A!==null)B=!0;else{var w=i(_);w!==null&&mt(zt,w.startTime-k),B=!1}}break t}finally{A=null,R=Q,z=!1}B=void 0}}finally{B?C():St=!1}}}var C;if(typeof dt=="function")C=function(){dt(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ot=S.port2;S.port1.onmessage=V,C=function(){ot.postMessage(null)}}else C=function(){ft(V,0)};function mt(k,B){D=ft(function(){k(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(k){switch(R){case 1:case 2:case 3:var B=3;break;default:B=R}var Q=R;R=B;try{return k()}finally{R=Q}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Q=R;R=k;try{return B()}finally{R=Q}},a.unstable_scheduleCallback=function(k,B,Q){var W=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,k){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=Q+it,k={id:x++,callback:B,priorityLevel:k,startTime:Q,expirationTime:it,sortIndex:-1},Q>W?(k.sortIndex=Q,e(_,k),i(E)===null&&k===i(_)&&(X?(_t(D),D=-1):X=!0,mt(zt,Q-W))):(k.sortIndex=it,e(E,k),et||z||(et=!0,St||(St=!0,C()))),k},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(k){var B=R;return function(){var Q=R;R=B;try{return k.apply(this,arguments)}finally{R=Q}}}})(Qf)),Qf}var By;function Ob(){return By||(By=1,Gf.exports=Vb()),Gf.exports}var Ff={exports:{}},Ye={};var Py;function jb(){if(Py)return Ye;Py=1;var a=Nd();function e(E){var _="https://react.dev/errors/"+E;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(E,_,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:E,containerInfo:_,implementation:x}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(E,_){if(E==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(E,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(E,_,null,x)},Ye.flushSync=function(E){var _=d.T,x=r.p;try{if(d.T=null,r.p=2,E)return E()}finally{d.T=_,r.p=x,r.d.f()}},Ye.preconnect=function(E,_){typeof E=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(E,_))},Ye.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Ye.preinit=function(E,_){if(typeof E=="string"&&_&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(E,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:z}):x==="script"&&r.d.X(E,{crossOrigin:A,integrity:R,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(E,_){if(typeof E=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(E,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(E)},Ye.preload=function(E,_){if(typeof E=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,A=y(x,_.crossOrigin);r.d.L(E,x,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(E,_){if(typeof E=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(E,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(E)},Ye.requestFormReset=function(E){r.d.r(E)},Ye.unstable_batchedUpdates=function(E,_){return E(_)},Ye.useFormState=function(E,_,x){return d.H.useFormState(E,_,x)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var qy;function Mb(){if(qy)return Ff.exports;qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ff.exports=jb(),Ff.exports}var Hy;function kb(){if(Hy)return Jl;Hy=1;var a=Ob(),e=Nd(),i=Mb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return E(c),t;if(f===l)return E(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var p=!1,b=c.child;b;){if(b===s){p=!0,s=c,l=f;break}if(b===l){p=!0,l=c,s=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===s){p=!0,s=f,l=c;break}if(b===l){p=!0,l=f,s=c;break}b=b.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case zt:return"Suspense";case St:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case dt:return t.displayName||"Context";case _t:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var mt=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},W=[],it=-1;function w(t){return{current:t}}function H(t){0>it||(t.current=W[it],W[it]=null,it--)}function st(t,n){it++,W[it]=t.current,t.current=n}var lt=w(null),Et=w(null),xt=w(null),It=w(null);function le(t,n){switch(st(xt,n),st(Et,t),st(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(lt),st(lt,t)}function Yt(){H(lt),H(Et),H(xt)}function hn(t){t.memoizedState!==null&&st(It,t);var n=lt.current,s=ay(n,t.type);n!==s&&(st(Et,t),st(lt,s))}function Un(t){Et.current===t&&(H(lt),H(Et)),It.current===t&&(H(It),Fl._currentValue=Q)}var Ri,Wi;function Kt(t){if(Ri===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ri=n&&n[1]||"",Wi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+t+Wi}var Je=!1;function Ys(t,n){if(!t||Je)return"";Je=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Y){var G=Y}Reflect.construct(t,[],$)}else{try{$.call()}catch(Y){G=Y}t.call($.prototype)}}else{try{throw Error()}catch(Y){G=Y}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var O=p.split(`
`),q=b.split(`
`);for(c=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===O.length||c===q.length)for(l=O.length-1,c=q.length-1;1<=l&&0<=c&&O[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(O[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||O[l]!==q[c]){var K=`
`+O[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=c);break}}}finally{Je=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Kt(s):""}function Yr(t,n){switch(t.tag){case 26:case 27:case 5:return Kt(t.type);case 16:return Kt("Lazy");case 13:return t.child!==n&&n!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return Ys(t.type,!1);case 11:return Ys(t.type.render,!1);case 1:return Ys(t.type,!0);case 31:return Kt("Activity");default:return""}}function Kr(t){try{var n="",s=null;do n+=Yr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,$i=a.unstable_cancelCallback,qc=a.unstable_shouldYield,So=a.unstable_requestPaint,We=a.unstable_now,Ks=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,Zr=a.unstable_UserBlockingPriority,ts=a.unstable_NormalPriority,Hc=a.unstable_LowPriority,Ao=a.unstable_IdlePriority,wo=a.log,No=a.unstable_setDisableYieldValue,zn=null,ze=null;function Tn(t){if(typeof wo=="function"&&No(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,t)}catch{}}var de=Math.clz32?Math.clz32:Co,Ro=Math.log,Ma=Math.LN2;function Co(t){return t>>>=0,t===0?32:31-(Ro(t)/Ma|0)|0}var ei=256,Xs=262144,ve=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?c=ni(l):(p&=b,p!==0?c=ni(p):s||(s=b&~t,s!==0&&(c=ni(s))))):(b=l&~f,b!==0?c=ni(b):p!==0?c=ni(p):s||(s=l&~t,s!==0&&(c=ni(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function si(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Zs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qc(t,n,s,l,c,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(s=p&~s;0<s;){var K=31-de(s),$=1<<K;b[K]=0,O[K]=-1;var G=q[K];if(G!==null)for(q[K]=null,K=0;K<G.length;K++){var Y=G[K];Y!==null&&(Y.lane&=-536870913)}s&=~$}l!==0&&Js(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Js(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Jr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-de(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Wr(t,n){var s=n&-n;return s=(s&42)!==0?1:Ws(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ci(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function Bn(t,n){var s=B.p;try{return B.p=t,n()}finally{B.p=s}}var Pn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Pn,je="__reactProps$"+Pn,ai="__reactContainer$"+Pn,ka="__reactEvents$"+Pn,Fc="__reactListeners$"+Pn,Vo="__reactHandles$"+Pn,Oo="__reactResources$"+Pn,ri="__reactMarker$"+Pn;function Ua(t){delete t[Ee],delete t[je],delete t[ka],delete t[Fc],delete t[Vo]}function li(t){var n=t[Ee];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ai]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=fy(t);t!==null;){if(s=t[Ee])return s;t=fy(t)}return n}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[Ee]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function oi(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[ri]=!0}var $r=new Set,tl={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(tl[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function jo(t){return _e.call(il,t)?!0:_e.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function za(t,n,s){if(jo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function dn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function xe(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function es(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xt(t){if(!t._valueTracker){var n=es(t)?"checked":"value";t._valueTracker=sl(t,n,""+t[n])}}function $s(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=es(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ta=/[\n"\\]/g;function en(t){return t.replace(ta,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function La(t,n,s,l,c,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?al(t,p,Me(n)):s!=null?al(t,p,Me(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Me(b):t.removeAttribute("name")}function Mo(t,n,s,l,c,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(t);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Xt(t)}function al(t,n,s){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ns(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ko(t,n,s){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Me(s):""}function is(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(mt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Me(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Xt(t)}function nn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ll(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&rl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&rl(t,f,n[f])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var ol=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var as=null,fi=null;function ea(t){var n=Sn(t);if(n&&(t=n.stateNode)){var s=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(La(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[je]||null;if(!c)throw Error(r(90));La(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&$s(l)}break t;case"textarea":ko(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ns(t,!!s.multiple,n,!1)}}}var qa=!1;function rs(t,n,s){if(qa)return t(n,s);qa=!0;try{var l=t(n);return l}finally{if(qa=!1,(as!==null||fi!==null)&&(Iu(),as&&(n=as,t=fi,fi=as=null,ea(n),t)))for(n=0;n<t.length;n++)ea(t[n])}}function Hn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(wn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){na=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{na=!1}var di=null,ul=null,ia=null;function cl(){if(ia)return ia;var t,n=ul,s=n.length,l,c="value"in di?di.value:di.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===c[f-l];l++);return ia=c.slice(t,1<l?1-l:void 0)}function sa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Gn(){return!1}function Le(t){function n(s,l,c,f,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Le(Ii),ls=A({},Ii,{view:0,detail:0}),hl=Le(ls),os,Ha,gi,Ga=A({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(os=t.screenX-gi.screenX,Ha=t.screenY-gi.screenY):Ha=os=0,gi=t),os)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),fl=Le(Ga),aa=A({},Ga,{dataTransfer:0}),Lo=Le(aa),Bo=A({},ls,{relatedTarget:0}),ra=Le(Bo),dl=A({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=Le(dl),Qa=A({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qo=Le(Qa),Ho=A({},Ii,{data:0}),pi=Le(Ho),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fo[t])?!!n[t]:!1}function us(){return Yo}var $e=A({},ls,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(t){return t.type==="keypress"?sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=Le($e),Xo=A({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Le(Xo),u=A({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),m=Le(u),v=A({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(v),L=A({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Le(L),rt=A({},Ii,{newState:0,oldState:0}),Rt=Le(rt),me=[9,13,27,32],Gt=wn&&"CompositionEvent"in window,oe=null;wn&&"documentMode"in document&&(oe=document.documentMode);var Nn=wn&&"TextEvent"in window&&!oe,yi=wn&&(!Gt||oe&&8<oe&&11>=oe),Qn=" ",Fn=!1;function la(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function $v(t,n){switch(t){case"compositionend":return Fa(n);case"keypress":return n.which!==32?null:(Fn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Fn?null:t;default:return null}}function tE(t,n){if(Ya)return t==="compositionend"||!Gt&&la(t,n)?(t=cl(),ia=ul=di=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eE[t.type]:n==="textarea"}function pm(t,n,s,l){as?fi?fi.push(l):fi=[l]:as=l,n=zu(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ml=null,gl=null;function nE(t){Wp(t,0)}function Zo(t){var n=fn(t);if($s(n))return t}function ym(t,n){if(t==="change")return n}var _m=!1;if(wn){var Yc;if(wn){var Kc="oninput"in document;if(!Kc){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Kc=typeof vm.oninput=="function"}Yc=Kc}else Yc=!1;_m=Yc&&(!document.documentMode||9<document.documentMode)}function Em(){ml&&(ml.detachEvent("onpropertychange",bm),gl=ml=null)}function bm(t){if(t.propertyName==="value"&&Zo(gl)){var n=[];pm(n,gl,t,An(t)),rs(nE,n)}}function iE(t,n,s){t==="focusin"?(Em(),ml=n,gl=s,ml.attachEvent("onpropertychange",bm)):t==="focusout"&&Em()}function sE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(gl)}function aE(t,n){if(t==="click")return Zo(n)}function rE(t,n){if(t==="input"||t==="change")return Zo(n)}function lE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:lE;function pl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!_e.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var s=xm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=xm(s)}}function Sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=hi(t.document)}return n}function Xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oE=wn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Zc=null,yl=null,Jc=!1;function wm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jc||Ka==null||Ka!==hi(l)||(l=Ka,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=zu(Zc,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ka)))}function oa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Xa={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Wc={},Nm={};wn&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ua(t){if(Wc[t])return Wc[t];if(!Xa[t])return t;var n=Xa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Nm)return Wc[t]=n[s];return t}var Rm=ua("animationend"),Cm=ua("animationiteration"),Dm=ua("animationstart"),uE=ua("transitionrun"),cE=ua("transitionstart"),hE=ua("transitioncancel"),Im=ua("transitionend"),Vm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Yn(t,n){Vm.set(t,n),ui(n,[t])}var Jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Za=0,th=0;function Wo(){for(var t=Za,n=th=Za=0;n<t;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Om(s,c,f)}}function $o(t,n,s,l){Rn[Za++]=t,Rn[Za++]=n,Rn[Za++]=s,Rn[Za++]=l,th|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function eh(t,n,s,l){return $o(t,n,s,l),tu(t)}function ca(t,n){return $o(t,null,null,n),tu(t)}function Om(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function tu(t){if(50<Ll)throw Ll=0,hf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ja={};function fE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,s,l){return new fE(t,n,s,l)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,n){var s=t.alternate;return s===null?(s=gn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,s,l,c,f){var p=0;if(l=t,typeof t=="function")nh(t)&&(p=1);else if(typeof t=="string")p=yb(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=gn(31,s,n,c),t.elementType=I,t.lanes=f,t;case X:return ha(s.children,c,f,n);case Z:p=8,c|=24;break;case ft:return t=gn(12,s,n,c|2),t.elementType=ft,t.lanes=f,t;case zt:return t=gn(13,s,n,c),t.elementType=zt,t.lanes=f,t;case St:return t=gn(19,s,n,c),t.elementType=St,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:p=10;break t;case _t:p=9;break t;case Tt:p=11;break t;case D:p=14;break t;case N:p=16,l=null;break t}p=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=gn(p,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ha(t,n,s,l){return t=gn(7,t,l,n),t.lanes=s,t}function ih(t,n,s){return t=gn(6,t,null,n),t.lanes=s,t}function Mm(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function sh(t,n,s){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var km=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=km.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kr(n)},km.set(t,n),n)}return{value:t,source:n,stack:Kr(n)}}var Wa=[],$a=0,nu=null,_l=0,Dn=[],In=0,cs=null,_i=1,vi="";function ji(t,n){Wa[$a++]=_l,Wa[$a++]=nu,nu=t,_l=n}function Um(t,n,s){Dn[In++]=_i,Dn[In++]=vi,Dn[In++]=cs,cs=t;var l=_i;t=vi;var c=32-de(l)-1;l&=~(1<<c),s+=1;var f=32-de(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,_i=1<<32-de(n)+c|s<<c|l,vi=f+t}else _i=1<<f|s<<c|l,vi=t}function ah(t){t.return!==null&&(ji(t,1),Um(t,1,0))}function rh(t){for(;t===nu;)nu=Wa[--$a],Wa[$a]=null,_l=Wa[--$a],Wa[$a]=null;for(;t===cs;)cs=Dn[--In],Dn[In]=null,vi=Dn[--In],Dn[In]=null,_i=Dn[--In],Dn[In]=null}function zm(t,n){Dn[In++]=_i,Dn[In++]=vi,Dn[In++]=cs,_i=n.id,vi=n.overflow,cs=t}var Be=null,ae=null,Lt=!1,hs=null,Vn=!1,lh=Error(r(519));function fs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Cn(n,t)),lh}function Lm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[je]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Ot(Pl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Mo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),is(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ny(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||fs(t,!0)}function Bm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function tr(t){if(t!==Be)return!1;if(!Lt)return Bm(t),Lt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||wf(t.type,t.memoizedProps)),s=!s),s&&ae&&fs(t),Bm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ae=hy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ae=hy(t)}else n===27?(n=ae,ws(t.type)?(t=If,If=null,ae=t):ae=n):ae=Be?jn(t.stateNode.nextSibling):null;return!0}function fa(){ae=Be=null,Lt=!1}function oh(){var t=hs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),hs=null),t}function vl(t){hs===null?hs=[t]:hs.push(t)}var uh=w(null),da=null,Mi=null;function ds(t,n,s){st(uh,n._currentValue),n._currentValue=s}function ki(t){t._currentValue=uh.current,H(uh)}function ch(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function hh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=c;for(var O=0;O<n.length;O++)if(b.context===n[O]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),ch(f.return,s,t),l||(p=null);break t}f=b.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),ch(p,s,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function er(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=c.type;mn(c.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(c===It.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&hh(n,t,s,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){da=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return Pm(da,t)}function su(t,n){return da===null&&ma(t),Pm(t,n)}function Pm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(r(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return s}var dE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mE=a.unstable_scheduleCallback,gE=a.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new dE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&mE(gE,function(){t.controller.abort()})}var bl=null,dh=0,nr=0,ir=null;function pE(t,n){if(bl===null){var s=bl=[];dh=0,nr=yf(),ir={status:"pending",value:void 0,then:function(l){s.push(l)}}}return dh++,n.then(qm,qm),n}function qm(){if(--dh===0&&bl!==null){ir!==null&&(ir.status="fulfilled");var t=bl;bl=null,nr=0,ir=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Hm=k.S;k.S=function(t,n){wp=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(t,n),Hm!==null&&Hm(t,n)};var ga=w(null);function mh(){var t=ga.current;return t!==null?t:ne.pooledCache}function au(t,n){n===null?st(ga,ga.current):st(ga,n.pool)}function Gm(){var t=mh();return t===null?null:{parent:Te._currentValue,pool:t}}var sr=Error(r(460)),gh=Error(r(474)),ru=Error(r(542)),lu={then:function(){}};function Qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t}throw ya=n,sr}}function pa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ya=s,sr):s}}var ya=null;function Ym(){if(ya===null)throw Error(r(459));var t=ya;return ya=null,t}function Km(t){if(t===sr||t===ru)throw Error(r(483))}var ar=null,xl=0;function ou(t){var n=xl;return xl+=1,ar===null&&(ar=[]),Fm(ar,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xm(t){function n(U,j){if(t){var P=U.deletions;P===null?(U.deletions=[j],U.flags|=16):P.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function c(U,j){return U=Oi(U,j),U.index=0,U.sibling=null,U}function f(U,j,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<j?(U.flags|=67108866,j):P):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,j,P,J){return j===null||j.tag!==6?(j=ih(P,U.mode,J),j.return=U,j):(j=c(j,P),j.return=U,j)}function O(U,j,P,J){var pt=P.type;return pt===X?K(U,j,P.props.children,J,P.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===N&&pa(pt)===j.type)?(j=c(j,P.props),Tl(j,P),j.return=U,j):(j=eu(P.type,P.key,P.props,null,U.mode,J),Tl(j,P),j.return=U,j)}function q(U,j,P,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=sh(P,U.mode,J),j.return=U,j):(j=c(j,P.children||[]),j.return=U,j)}function K(U,j,P,J,pt){return j===null||j.tag!==7?(j=ha(P,U.mode,J,pt),j.return=U,j):(j=c(j,P),j.return=U,j)}function $(U,j,P){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ih(""+j,U.mode,P),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case z:return P=eu(j.type,j.key,j.props,null,U.mode,P),Tl(P,j),P.return=U,P;case et:return j=sh(j,U.mode,P),j.return=U,j;case N:return j=pa(j),$(U,j,P)}if(mt(j)||C(j))return j=ha(j,U.mode,P,null),j.return=U,j;if(typeof j.then=="function")return $(U,ou(j),P);if(j.$$typeof===dt)return $(U,su(U,j),P);uu(U,j)}return null}function G(U,j,P,J){var pt=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:b(U,j,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===pt?O(U,j,P,J):null;case et:return P.key===pt?q(U,j,P,J):null;case N:return P=pa(P),G(U,j,P,J)}if(mt(P)||C(P))return pt!==null?null:K(U,j,P,J,null);if(typeof P.then=="function")return G(U,j,ou(P),J);if(P.$$typeof===dt)return G(U,j,su(U,P),J);uu(U,P)}return null}function Y(U,j,P,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(P)||null,b(j,U,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return U=U.get(J.key===null?P:J.key)||null,O(j,U,J,pt);case et:return U=U.get(J.key===null?P:J.key)||null,q(j,U,J,pt);case N:return J=pa(J),Y(U,j,P,J,pt)}if(mt(J)||C(J))return U=U.get(P)||null,K(j,U,J,pt,null);if(typeof J.then=="function")return Y(U,j,P,ou(J),pt);if(J.$$typeof===dt)return Y(U,j,P,su(j,J),pt);uu(j,J)}return null}function ht(U,j,P,J){for(var pt=null,qt=null,gt=j,Dt=j=0,Mt=null;gt!==null&&Dt<P.length;Dt++){gt.index>Dt?(Mt=gt,gt=null):Mt=gt.sibling;var Ht=G(U,gt,P[Dt],J);if(Ht===null){gt===null&&(gt=Mt);break}t&&gt&&Ht.alternate===null&&n(U,gt),j=f(Ht,j,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht,gt=Mt}if(Dt===P.length)return s(U,gt),Lt&&ji(U,Dt),pt;if(gt===null){for(;Dt<P.length;Dt++)gt=$(U,P[Dt],J),gt!==null&&(j=f(gt,j,Dt),qt===null?pt=gt:qt.sibling=gt,qt=gt);return Lt&&ji(U,Dt),pt}for(gt=l(gt);Dt<P.length;Dt++)Mt=Y(gt,U,Dt,P[Dt],J),Mt!==null&&(t&&Mt.alternate!==null&&gt.delete(Mt.key===null?Dt:Mt.key),j=f(Mt,j,Dt),qt===null?pt=Mt:qt.sibling=Mt,qt=Mt);return t&&gt.forEach(function(Is){return n(U,Is)}),Lt&&ji(U,Dt),pt}function vt(U,j,P,J){if(P==null)throw Error(r(151));for(var pt=null,qt=null,gt=j,Dt=j=0,Mt=null,Ht=P.next();gt!==null&&!Ht.done;Dt++,Ht=P.next()){gt.index>Dt?(Mt=gt,gt=null):Mt=gt.sibling;var Is=G(U,gt,Ht.value,J);if(Is===null){gt===null&&(gt=Mt);break}t&&gt&&Is.alternate===null&&n(U,gt),j=f(Is,j,Dt),qt===null?pt=Is:qt.sibling=Is,qt=Is,gt=Mt}if(Ht.done)return s(U,gt),Lt&&ji(U,Dt),pt;if(gt===null){for(;!Ht.done;Dt++,Ht=P.next())Ht=$(U,Ht.value,J),Ht!==null&&(j=f(Ht,j,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht);return Lt&&ji(U,Dt),pt}for(gt=l(gt);!Ht.done;Dt++,Ht=P.next())Ht=Y(gt,U,Dt,Ht.value,J),Ht!==null&&(t&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),j=f(Ht,j,Dt),qt===null?pt=Ht:qt.sibling=Ht,qt=Ht);return t&&gt.forEach(function(Rb){return n(U,Rb)}),Lt&&ji(U,Dt),pt}function ee(U,j,P,J){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:t:{for(var pt=P.key;j!==null;){if(j.key===pt){if(pt=P.type,pt===X){if(j.tag===7){s(U,j.sibling),J=c(j,P.props.children),J.return=U,U=J;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===N&&pa(pt)===j.type){s(U,j.sibling),J=c(j,P.props),Tl(J,P),J.return=U,U=J;break t}s(U,j);break}else n(U,j);j=j.sibling}P.type===X?(J=ha(P.props.children,U.mode,J,P.key),J.return=U,U=J):(J=eu(P.type,P.key,P.props,null,U.mode,J),Tl(J,P),J.return=U,U=J)}return p(U);case et:t:{for(pt=P.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){s(U,j.sibling),J=c(j,P.children||[]),J.return=U,U=J;break t}else{s(U,j);break}else n(U,j);j=j.sibling}J=sh(P,U.mode,J),J.return=U,U=J}return p(U);case N:return P=pa(P),ee(U,j,P,J)}if(mt(P))return ht(U,j,P,J);if(C(P)){if(pt=C(P),typeof pt!="function")throw Error(r(150));return P=pt.call(P),vt(U,j,P,J)}if(typeof P.then=="function")return ee(U,j,ou(P),J);if(P.$$typeof===dt)return ee(U,j,su(U,P),J);uu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,j!==null&&j.tag===6?(s(U,j.sibling),J=c(j,P),J.return=U,U=J):(s(U,j),J=ih(P,U.mode,J),J.return=U,U=J),p(U)):s(U,j)}return function(U,j,P,J){try{xl=0;var pt=ee(U,j,P,J);return ar=null,pt}catch(gt){if(gt===sr||gt===ru)throw gt;var qt=gn(29,gt,null,U.mode);return qt.lanes=J,qt.return=U,qt}finally{}}}var _a=Xm(!0),Zm=Xm(!1),ms=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ps(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),Om(t,null,s),n}return $o(t,l,n,s),tu(t)}function Sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}function _h(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var vh=!1;function Al(){if(vh){var t=ir;if(t!==null)throw t}}function wl(t,n,s,l){vh=!1;var c=t.updateQueue;ms=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var O=b,q=O.next;O.next=null,p===null?f=q:p.next=q,p=O;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==p&&(b===null?K.firstBaseUpdate=q:b.next=q,K.lastBaseUpdate=O))}if(f!==null){var $=c.baseState;p=0,K=q=O=null,b=f;do{var G=b.lane&-536870913,Y=G!==b.lane;if(Y?(jt&G)===G:(l&G)===G){G!==0&&G===nr&&(vh=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ht=t,vt=b;G=n;var ee=s;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){$=ht.call(ee,$,G);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,G=typeof ht=="function"?ht.call(ee,$,G):ht,G==null)break t;$=A({},$,G);break t;case 2:ms=!0}}G=b.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=c.callbacks,Y===null?c.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(q=K=Y,O=$):K=K.next=Y,p|=G;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,c.lastBaseUpdate=Y,c.shared.pending=null}}while(!0);K===null&&(O=$),c.baseState=O,c.firstBaseUpdate=q,c.lastBaseUpdate=K,f===null&&(c.shared.lanes=0),bs|=p,t.lanes=p,t.memoizedState=$}}function Jm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jm(s[t],n)}var rr=w(null),cu=w(0);function $m(t,n){t=Qi,st(cu,t),st(rr,n),Qi=t|n.baseLanes}function Eh(){st(cu,Qi),st(rr,rr.current)}function bh(){Qi=cu.current,H(rr),H(cu)}var pn=w(null),On=null;function ys(t){var n=t.alternate;st(ge,ge.current&1),st(pn,t),On===null&&(n===null||rr.current!==null||n.memoizedState!==null)&&(On=t)}function xh(t){st(ge,ge.current),st(pn,t),On===null&&(On=t)}function tg(t){t.tag===22?(st(ge,ge.current),st(pn,t),On===null&&(On=t)):_s()}function _s(){st(ge,ge.current),st(pn,pn.current)}function yn(t){H(pn),On===t&&(On=null),H(ge)}var ge=w(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Cf(s)||Df(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,Ct=null,$t=null,Se=null,fu=!1,lr=!1,va=!1,du=0,Nl=0,or=null,_E=0;function he(){throw Error(r(321))}function Th(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!mn(t[s],n[s]))return!1;return!0}function Sh(t,n,s,l,c,f){return Ui=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?Ug:Lh,va=!1,f=s(l,c),va=!1,lr&&(f=ng(n,s,l,c)),eg(t),f}function eg(t){k.H=Dl;var n=$t!==null&&$t.next!==null;if(Ui=0,Se=$t=Ct=null,fu=!1,Nl=0,or=null,n)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&iu(t)&&(Ae=!0))}function ng(t,n,s,l){Ct=t;var c=0;do{if(lr&&(or=null),Nl=0,lr=!1,25<=c)throw Error(r(301));if(c+=1,Se=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=zg,f=n(s,l)}while(lr);return f}function vE(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Ah(){var t=du!==0;return du=0,t}function wh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Nh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}Ui=0,Se=$t=Ct=null,lr=!1,Nl=du=0,or=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if($t===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Se===null?Ct.memoizedState:Se.next;if(n!==null)Se=n,$t=t;else{if(t===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?Ct.memoizedState=Se=t:Se=Se.next=t}return Se}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=Nl;return Nl+=1,or===null&&(or=[]),t=Fm(or,t,n),n=Ct,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Ug:Lh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===dt)return Pe(t)}throw Error(r(438,String(t)))}function Rh(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function zi(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=pe();return Ch(n,$t,t)}function Ch(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var b=p=null,O=null,q=n,K=!1;do{var $=q.lane&-536870913;if($!==q.lane?(jt&$)===$:(Ui&$)===$){var G=q.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===nr&&(K=!0);else if((Ui&G)===G){q=q.next,G===nr&&(K=!0);continue}else $={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(b=O=$,p=f):O=O.next=$,Ct.lanes|=G,bs|=G;$=q.action,va&&s(f,$),f=q.hasEagerState?q.eagerState:s(f,$)}else G={lane:$,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(b=O=G,p=f):O=O.next=G,Ct.lanes|=$,bs|=$;q=q.next}while(q!==null&&q!==n);if(O===null?p=f:O.next=b,!mn(f,t.memoizedState)&&(Ae=!0,K&&(s=ir,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=O,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Dh(t){var n=pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);mn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ig(t,n,s){var l=Ct,c=pe(),f=Lt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!mn(($t||c).memoizedState,s);if(p&&(c.memoizedState=s,Ae=!0),c=c.queue,Oh(rg.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ur(9,{destroy:void 0},ag.bind(null,l,c,s,n),null),ne===null)throw Error(r(349));f||(Ui&127)!==0||sg(l,n,s)}return s}function sg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=mu(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ag(t,n,s,l){n.value=s,n.getSnapshot=l,lg(n)&&og(t)}function rg(t,n,s){return s(function(){lg(n)&&og(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!mn(t,s)}catch{return!0}}function og(t){var n=ca(t,2);n!==null&&on(n,t,2)}function Ih(t){var n=tn();if(typeof t=="function"){var s=t;if(t=s(),va){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function ug(t,n,s,l){return t.baseState=s,Ch(t,$t,typeof l=="function"?l:zi)}function EE(t,n,s,l,c){if(vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};k.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=k.T,p={};k.T=p;try{var b=s(c,l),O=k.S;O!==null&&O(p,b),hg(t,n,b)}catch(q){Vh(t,n,q)}finally{f!==null&&p.types!==null&&(f.types=p.types),k.T=f}}else try{f=s(c,l),hg(t,n,f)}catch(q){Vh(t,n,q)}}function hg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){fg(t,n,l)},function(l){return Vh(t,n,l)}):fg(t,n,s)}function fg(t,n,s){n.status="fulfilled",n.value=s,dg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,cg(t,s)))}function Vh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,dg(n),n=n.next;while(n!==l)}t.action=null}function dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mg(t,n){return n}function gg(t,n){if(Lt){var s=ne.formState;if(s!==null){t:{var l=Ct;if(Lt){if(ae){e:{for(var c=ae,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=jn(c.nextSibling),l=c.data==="F!";break t}}fs(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},s.queue=l,s=jg.bind(null,Ct,l),l.dispatch=s,l=Ih(!1),f=zh.bind(null,Ct,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=EE.bind(null,Ct,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function pg(t){var n=pe();return yg(n,$t,t)}function yg(t,n,s){if(n=Ch(t,n,mg)[0],t=pu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(p){throw p===sr?ru:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,ur(9,{destroy:void 0},bE.bind(null,c,s),null)),[l,f,t]}function bE(t,n){t.action=n}function _g(t){var n=pe(),s=$t;if(s!==null)return yg(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ur(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=mu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function vg(){return pe().memoizedState}function yu(t,n,s,l){var c=tn();Ct.flags|=t,c.memoizedState=ur(1|n,{destroy:void 0},s,l===void 0?null:l)}function _u(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&Th(l,$t.memoizedState.deps)?c.memoizedState=ur(n,f,s,l):(Ct.flags|=t,c.memoizedState=ur(1|n,f,s,l))}function Eg(t,n){yu(8390656,8,t,n)}function Oh(t,n){_u(2048,8,t,n)}function xE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=mu(),Ct.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function bg(t){var n=pe().memoizedState;return xE({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function xg(t,n){return _u(4,2,t,n)}function Tg(t,n){return _u(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ag(t,n,s){s=s!=null?s.concat([t]):null,_u(4,4,Sg.bind(null,n,t),s)}function jh(){}function wg(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ng(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=t(),va){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function Mh(t,n,s){return s===void 0||(Ui&1073741824)!==0&&(jt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Rp(),Ct.lanes|=t,bs|=t,s)}function Rg(t,n,s,l){return mn(s,n)?s:rr.current!==null?(t=Mh(t,s,l),mn(t,n)||(Ae=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(jt&261930)===0?(Ae=!0,t.memoizedState=s):(t=Rp(),Ct.lanes|=t,bs|=t,n)}function Cg(t,n,s,l,c){var f=B.p;B.p=f!==0&&8>f?f:8;var p=k.T,b={};k.T=b,zh(t,!1,n,s);try{var O=c(),q=k.S;if(q!==null&&q(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=yE(O,l);Cl(t,n,K,En(t))}else Cl(t,n,l,En(t))}catch($){Cl(t,n,{then:function(){},status:"rejected",reason:$},En())}finally{B.p=f,p!==null&&b.types!==null&&(p.types=b.types),k.T=p}}function TE(){}function kh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Dg(t).queue;Cg(t,c,n,Q,s===null?TE:function(){return Ig(t),s(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:Q},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ig(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),Cl(t,n.next.queue,{},En())}function Uh(){return Pe(Fl)}function Vg(){return pe().memoizedState}function Og(){return pe().memoizedState}function SE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=gs(s);var l=ps(n,t,s);l!==null&&(on(l,n,s),Sl(l,n,s)),n={cache:fh()},t.payload=n;return}n=n.return}}function AE(t,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vu(t)?Mg(n,s):(s=eh(t,n,s,l),s!==null&&(on(s,t,l),kg(s,n,l)))}function jg(t,n,s){var l=En();Cl(t,n,s,l)}function Cl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vu(t))Mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,s);if(c.hasEagerState=!0,c.eagerState=b,mn(b,p))return $o(t,n,c,0),ne===null&&Wo(),!1}catch{}finally{}if(s=eh(t,n,c,l),s!==null)return on(s,t,l),kg(s,n,l),!0}return!1}function zh(t,n,s,l){if(l={lane:2,revertLane:yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(r(479))}else n=eh(t,s,l,2),n!==null&&on(n,t,2)}function vu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Mg(t,n){lr=fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function kg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}var Dl={readContext:Pe,use:gu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Dl.useEffectEvent=he;var Ug={readContext:Pe,use:gu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Pe,useEffect:Eg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yu(4194308,4,Sg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var s=tn();n=n===void 0?null:n;var l=t();if(va){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=tn();if(s!==void 0){var c=s(n);if(va){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=AE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ih(t);var n=t.queue,s=jg.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:jh,useDeferredValue:function(t,n){var s=tn();return Mh(s,t,n)},useTransition:function(){var t=Ih(!1);return t=Cg.bind(null,Ct,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=tn();if(Lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ne===null)throw Error(r(349));(jt&127)!==0||sg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Eg(rg.bind(null,l,f,t),[t]),l.flags|=2048,ur(9,{destroy:void 0},ag.bind(null,l,f,s,n),null),s},useId:function(){var t=tn(),n=ne.identifierPrefix;if(Lt){var s=vi,l=_i;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=du++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_E++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=zh.bind(null,Ct,!0,s),s.dispatch=n,[t,n]},useMemoCache:Rh,useCacheRefresh:function(){return tn().memoizedState=SE.bind(null,Ct)},useEffectEvent:function(t){var n=tn(),s={impl:t};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Lh={readContext:Pe,use:gu,useCallback:wg,useContext:Pe,useEffect:Oh,useImperativeHandle:Ag,useInsertionEffect:xg,useLayoutEffect:Tg,useMemo:Ng,useReducer:pu,useRef:vg,useState:function(){return pu(zi)},useDebugValue:jh,useDeferredValue:function(t,n){var s=pe();return Rg(s,$t.memoizedState,t,n)},useTransition:function(){var t=pu(zi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:ig,useId:Vg,useHostTransitionStatus:Uh,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var s=pe();return ug(s,$t,t,n)},useMemoCache:Rh,useCacheRefresh:Og};Lh.useEffectEvent=bg;var zg={readContext:Pe,use:gu,useCallback:wg,useContext:Pe,useEffect:Oh,useImperativeHandle:Ag,useInsertionEffect:xg,useLayoutEffect:Tg,useMemo:Ng,useReducer:Dh,useRef:vg,useState:function(){return Dh(zi)},useDebugValue:jh,useDeferredValue:function(t,n){var s=pe();return $t===null?Mh(s,t,n):Rg(s,$t.memoizedState,t,n)},useTransition:function(){var t=Dh(zi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:ig,useId:Vg,useHostTransitionStatus:Uh,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var s=pe();return $t!==null?ug(s,$t,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:Og};zg.useEffectEvent=bg;function Bh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ph={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),c=gs(l);c.payload=n,s!=null&&(c.callback=s),n=ps(t,c,l),n!==null&&(on(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),c=gs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ps(t,c,l),n!==null&&(on(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=gs(s);l.tag=2,n!=null&&(l.callback=n),n=ps(t,l,s),n!==null&&(on(n,t,s),Sl(n,t,s))}};function Lg(t,n,s,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!pl(s,l)||!pl(c,f):!0}function Bg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ph.enqueueReplaceState(n,n.state,null)}function Ea(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Pg(t){Jo(t)}function qg(t){console.error(t)}function Hg(t){Jo(t)}function Eu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qh(t,n,s){return s=gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Eu(t,n)},s}function Qg(t){return t=gs(t),t.tag=3,t}function Fg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Gg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Gg(n,s,l),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function wE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&er(n,s,c,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Vu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),mf(t,l,c)),!1;case 22:return s.flags|=65536,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),mf(t,l,c)),!1}throw Error(r(435,s.tag))}return mf(t,l,c),Vu(),!1}if(Lt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lh&&(t=Error(r(422),{cause:l}),vl(Cn(t,s)))):(l!==lh&&(n=Error(r(423),{cause:l}),vl(Cn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,s),c=qh(t.stateNode,l,c),_h(t,c),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,s),zl===null?zl=[f]:zl.push(f),fe!==4&&(fe=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=qh(s.stateNode,l,t),_h(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Qg(c),Fg(c,t,s,l),_h(s,c),!1}s=s.return}while(s!==null);return!1}var Hh=Error(r(461)),Ae=!1;function qe(t,n,s,l){n.child=t===null?Zm(n,null,s,l):_a(n,t.child,s,l)}function Yg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return ma(n),l=Sh(t,n,s,p,f,c),b=Ah(),t!==null&&!Ae?(wh(t,n,c),Li(t,n,c)):(Lt&&b&&ah(n),n.flags|=1,qe(t,n,l,c),n.child)}function Kg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xg(t,n,f,l,c)):(t=eu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(p,l)&&t.ref===n.ref)return Li(t,n,c)}return n.flags|=1,t=Oi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Jh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Li(t,n,c)}return Gh(t,n,s,l,c)}function Zg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Jg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?$m(n,f):Eh(),tg(n);else return l=n.lanes=536870912,Jg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(au(n,f.cachePool),$m(n,f),_s(),n.memoizedState=null):(t!==null&&au(n,null),Eh(),_s());return qe(t,n,c,s),n.child}function Il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(t,n,s,l,c){var f=mh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&au(n,null),Eh(),tg(n),t!==null&&er(t,n,l,!0),n.childLanes=c,null}function bu(t,n){return n=Tu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,s){return _a(n,t.child,null,s),t=bu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function NE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Lt){if(l.mode==="hidden")return t=bu(n,l),n.lanes=536870912,Il(null,t);if(xh(n),(t=ae)?(t=cy(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:cs!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Mm(t),s.return=n,n.child=s,Be=n,ae=null)):t=null,t===null)throw fs(n);return n.lanes=536870912,null}return bu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(xh(n),c)if(n.flags&256)n.flags&=-257,n=Wg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||er(t,n,s,!1),c=(s&t.childLanes)!==0,Ae||c){if(l=ne,l!==null&&(p=Wr(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,ca(t,p),on(l,t,p),Hh;Vu(),n=Wg(t,n,s)}else t=f.treeContext,ae=jn(p.nextSibling),Be=n,Lt=!0,hs=null,Vn=!1,t!==null&&zm(n,t),n=bu(n,l),n.flags|=4096;return n}return t=Oi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Gh(t,n,s,l,c){return ma(n),s=Sh(t,n,s,l,void 0,c),l=Ah(),t!==null&&!Ae?(wh(t,n,c),Li(t,n,c)):(Lt&&l&&ah(n),n.flags|=1,qe(t,n,s,c),n.child)}function $g(t,n,s,l,c,f){return ma(n),n.updateQueue=null,s=ng(n,l,s,c),eg(t),l=Ah(),t!==null&&!Ae?(wh(t,n,f),Li(t,n,f)):(Lt&&l&&ah(n),n.flags|=1,qe(t,n,s,f),n.child)}function tp(t,n,s,l,c){if(ma(n),n.stateNode===null){var f=Ja,p=s.contextType;typeof p=="object"&&p!==null&&(f=Pe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ph,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Pe(p):Ja,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Bh(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ph.enqueueReplaceState(f,f.state,null),wl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,O=Ea(s,b);f.props=O;var q=f.context,K=s.contextType;p=Ja,typeof K=="object"&&K!==null&&(p=Pe(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||q!==p)&&Bg(n,f,l,p),ms=!1;var G=n.memoizedState;f.state=G,wl(n,l,f,c),Al(),q=n.memoizedState,b||G!==q||ms?(typeof $=="function"&&(Bh(n,s,$,l),q=n.memoizedState),(O=ms||Lg(n,s,O,l,G,q,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=p,l=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),p=n.memoizedProps,K=Ea(s,p),f.props=K,$=n.pendingProps,G=f.context,q=s.contextType,O=Ja,typeof q=="object"&&q!==null&&(O=Pe(q)),b=s.getDerivedStateFromProps,(q=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||G!==O)&&Bg(n,f,l,O),ms=!1,G=n.memoizedState,f.state=G,wl(n,l,f,c),Al();var Y=n.memoizedState;p!==$||G!==Y||ms||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof b=="function"&&(Bh(n,s,b,l),Y=n.memoizedState),(K=ms||Lg(n,s,K,l,G,Y,O)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=O,l=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=_a(n,t.child,null,c),n.child=_a(n,null,s,c)):qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Li(t,n,c),t}function ep(t,n,s,l){return fa(),n.flags|=256,qe(t,n,s,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fh(t){return{baseLanes:t,cachePool:Gm()}}function Yh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=vn),t}function np(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?ys(n):_s(),(t=ae)?(t=cy(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:cs!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Mm(t),s.return=n,n.child=s,Be=n,ae=null)):t=null,t===null)throw fs(n);return Df(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(_s(),c=n.mode,b=Tu({mode:"hidden",children:b},c),l=ha(l,c,s,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Fh(s),l.childLanes=Yh(t,p,s),n.memoizedState=Qh,Il(null,l)):(ys(n),Kh(n,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)n.flags&256?(ys(n),n.flags&=-257,n=Xh(t,n,s)):n.memoizedState!==null?(_s(),n.child=t.child,n.flags|=128,n=null):(_s(),b=l.fallback,c=n.mode,l=Tu({mode:"visible",children:l.children},c),b=ha(b,c,s,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,_a(n,t.child,null,s),l=n.child,l.memoizedState=Fh(s),l.childLanes=Yh(t,p,s),n.memoizedState=Qh,n=Il(null,l));else if(ys(n),Df(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var q=p.dgst;p=q,l=Error(r(419)),l.stack="",l.digest=p,vl({value:l,source:null,stack:null}),n=Xh(t,n,s)}else if(Ae||er(t,n,s,!1),p=(s&t.childLanes)!==0,Ae||p){if(p=ne,p!==null&&(l=Wr(p,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,ca(t,l),on(p,t,l),Hh;Cf(b)||Vu(),n=Xh(t,n,s)}else Cf(b)?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,ae=jn(b.nextSibling),Be=n,Lt=!0,hs=null,Vn=!1,t!==null&&zm(n,t),n=Kh(n,l.children),n.flags|=4096);return n}return c?(_s(),b=l.fallback,c=n.mode,O=t.child,q=O.sibling,l=Oi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?b=Oi(q,b):(b=ha(b,c,s,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Il(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Fh(s):(c=b.cachePool,c!==null?(O=Te._currentValue,c=c.parent!==O?{parent:O,pool:O}:c):c=Gm(),b={baseLanes:b.baseLanes|s,cachePool:c}),l.memoizedState=b,l.childLanes=Yh(t,p,s),n.memoizedState=Qh,Il(t.child,l)):(ys(n),s=t.child,t=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Kh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Xh(t,n,s){return _a(n,t.child,null,s),t=Kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ip(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,s)}function Zh(t,n,s,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function sp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=ge.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,st(ge,p),qe(t,n,l,s),l=Lt?_l:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,s,n);else if(t.tag===19)ip(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&hu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Zh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Zh(n,!0,s,null,f,l);break;case"together":Zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(er(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Oi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Oi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function RE(t,n,s){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),ds(n,Te,t.memoizedState.cache),fa();break;case 27:case 5:hn(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?np(t,n,s):(ys(n),t=Li(t,n,s),t!==null?t.sibling:null);ys(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(er(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return sp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Zg(t,n,s,n.pendingProps);case 24:ds(n,Te,t.memoizedState.cache)}return Li(t,n,s)}function ap(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Jh(t,s)&&(n.flags&128)===0)return Ae=!1,RE(t,n,s);Ae=(t.flags&131072)!==0}else Ae=!1,Lt&&(n.flags&1048576)!==0&&Um(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=pa(n.elementType),n.type=t,typeof t=="function")nh(t)?(l=Ea(t,l),n.tag=1,n=tp(null,n,t,l,s)):(n.tag=0,n=Gh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Tt){n.tag=11,n=Yg(null,n,t,l,s);break t}else if(c===D){n.tag=14,n=Kg(null,n,t,l,s);break t}}throw n=ot(t)||t,Error(r(306,n,""))}}return n;case 0:return Gh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Ea(l,n.pendingProps),tp(t,n,l,c,s);case 3:t:{if(le(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,yh(t,n),wl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,ds(n,Te,l),l!==f.cache&&hh(n,[Te],s,!0),Al(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ep(t,n,l,s);break t}else if(l!==c){c=Cn(Error(r(424)),n),vl(c),n=ep(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=jn(t.firstChild),Be=n,Lt=!0,hs=null,Vn=!0,s=Zm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fa(),l===c){n=Li(t,n,s);break t}qe(t,n,l,s)}n=n.child}return n;case 26:return xu(t,n),t===null?(s=py(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,t=n.pendingProps,l=Lu(xt.current).createElement(s),l[Ee]=n,l[je]=t,He(l,s,t),be(l),n.stateNode=l):n.memoizedState=py(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hn(n),t===null&&Lt&&(l=n.stateNode=dy(n.type,n.pendingProps,xt.current),Be=n,Vn=!0,c=ae,ws(n.type)?(If=c,ae=jn(l.firstChild)):ae=c),qe(t,n,n.pendingProps.children,s),xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((c=l=ae)&&(l=sb(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Be=n,ae=jn(l.firstChild),Vn=!1,c=!0):c=!1),c||fs(n)),hn(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,wf(c,f)?l=null:p!==null&&wf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Sh(t,n,vE,null,null,s),Fl._currentValue=c),xu(t,n),qe(t,n,l,s),n.child;case 6:return t===null&&Lt&&((t=s=ae)&&(s=ab(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,Be=n,ae=null,t=!0):t=!1),t||fs(n)),null;case 13:return np(t,n,s);case 4:return le(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_a(n,null,l,s):qe(t,n,l,s),n.child;case 11:return Yg(t,n,n.type,n.pendingProps,s);case 7:return qe(t,n,n.pendingProps,s),n.child;case 8:return qe(t,n,n.pendingProps.children,s),n.child;case 12:return qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ds(n,n.type,l.value),qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ma(n),c=Pe(c),l=l(c),n.flags|=1,qe(t,n,l,s),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,s);case 15:return Xg(t,n,n.type,n.pendingProps,s);case 19:return sp(t,n,s);case 31:return NE(t,n,s);case 22:return Zg(t,n,s,n.pendingProps);case 24:return ma(n),l=Pe(Te),t===null?(c=mh(),c===null&&(c=ne,f=fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},ph(n),ds(n,Te,c)):((t.lanes&s)!==0&&(yh(t,n),wl(n,null,null,s),Al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ds(n,Te,l)):(l=f.cache,ds(n,Te,l),l!==c.cache&&hh(n,[Te],s,!0))),qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Bi(t){t.flags|=4}function Wh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Vp())t.flags|=8192;else throw ya=lu,gh}else t.flags&=-16777217}function rp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(Vp())t.flags|=8192;else throw ya=lu,gh}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Do():536870912,t.lanes|=n,dr|=n)}function Vl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function CE(t,n,s){var l=n.pendingProps;switch(rh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Te),Yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(tr(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,oh())),re(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(re(n),rp(n,f)):(re(n),Wh(n,c,null,l,s))):f?f!==t.memoizedState?(Bi(n),re(n),rp(n,f)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),re(n),Wh(n,c,t,l,s)),null;case 27:if(Un(n),s=xt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}t=lt.current,tr(n)?Lm(n):(t=dy(c,l,s),n.stateNode=t,Bi(n))}return re(n),null;case 5:if(Un(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(f=lt.current,tr(n))Lm(n);else{var p=Lu(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[Ee]=n,f[je]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return re(n),Wh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=xt.current,tr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,s)),t||fs(n,!0)}else t=Lu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return re(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=tr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ee]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else s=oh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ee]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=oh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),re(n),null);case 4:return Yt(),t===null&&bf(n.stateNode.containerInfo),re(n),null;case 10:return ki(n.type),re(n),null;case 19:if(H(ge),l=n.memoizedState,l===null)return re(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Vl(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)jm(s,t),s=s.sibling;return st(ge,ge.current&1|2),Lt&&ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>Cu&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=hu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*We()-l.renderingStartTime>Cu&&s!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,s=ge.current,st(ge,c?s&1|2:s&1),Lt&&ji(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return yn(n),bh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&H(ga),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Te),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DE(t,n){switch(rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Te),Yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Un(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return H(ge),null;case 4:return Yt(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),bh(),t!==null&&H(ga),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function lp(t,n){switch(rh(n),n.tag){case 3:ki(Te),Yt();break;case 26:case 27:case 5:Un(n);break;case 4:Yt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:H(ge);break;case 10:ki(n.type);break;case 22:case 23:yn(n),bh(),t!==null&&H(ga);break;case 24:ki(Te)}}function Ol(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==c)}}catch(b){Jt(n,n.return,b)}}function vs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,c=n;var O=s,q=b;try{q()}catch(K){Jt(c,O,K)}}}l=l.next}while(l!==f)}}catch(K){Jt(n,n.return,K)}}function op(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Wm(n,s)}catch(l){Jt(t,t.return,l)}}}function up(t,n,s){s.props=Ea(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Jt(t,n,l)}}function jl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Jt(t,n,c)}}function Ei(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Jt(t,n,c)}else s.current=null}function cp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Jt(t,t.return,c)}}function $h(t,n,s){try{var l=t.stateNode;WE(l,t.type,s,n),l[je]=n}catch(c){Jt(t,t.return,c)}}function hp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ws(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,s),t=t.sibling;t!==null;)ef(t,n,s),t=t.sibling}function Au(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Au(t,n,s),t=t.sibling;t!==null;)Au(t,n,s),t=t.sibling}function fp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,s),n[Ee]=t,n[je]=s}catch(f){Jt(t,t.return,f)}}var Pi=!1,we=!1,nf=!1,dp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function IE(t,n){if(t=t.containerInfo,Sf=Fu,t=Am(t),Xc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,b=-1,O=-1,q=0,K=0,$=t,G=null;e:for(;;){for(var Y;$!==s||c!==0&&$.nodeType!==3||(b=p+c),$!==f||l!==0&&$.nodeType!==3||(O=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(Y=$.firstChild)!==null;)G=$,$=Y;for(;;){if($===t)break e;if(G===s&&++q===c&&(b=p),G===f&&++K===l&&(O=p),(Y=$.nextSibling)!==null)break;$=G,G=$.parentNode}$=Y}s=b===-1||O===-1?null:{start:b,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Af={focusedElem:t,selectionRange:s},Fu=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ht=Ea(s.type,c);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Jt(s,s.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Rf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function mp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(t,s),l&4&&Ol(5,s);break;case 1:if(Hi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Jt(s,s.return,p)}else{var c=Ea(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(s,s.return,p)}}l&64&&op(s),l&512&&jl(s,s.return);break;case 3:if(Hi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Wm(t,n)}catch(p){Jt(s,s.return,p)}}break;case 27:n===null&&l&4&&fp(s);case 26:case 5:Hi(t,s),n===null&&l&4&&cp(s),l&512&&jl(s,s.return);break;case 12:Hi(t,s);break;case 31:Hi(t,s),l&4&&yp(t,s);break;case 13:Hi(t,s),l&4&&_p(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=BE.bind(null,s),rb(t,s))));break;case 22:if(l=s.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||we,c=Pi;var f=we;Pi=l,(we=n)&&!f?Gi(t,s,(s.subtreeFlags&8772)!==0):Hi(t,s),Pi=c,we=f}break;case 30:break;default:Hi(t,s)}}function gp(t){var n=t.alternate;n!==null&&(t.alternate=null,gp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,sn=!1;function qi(t,n,s){for(s=s.child;s!==null;)pp(t,n,s),s=s.sibling}function pp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:we||Ei(s,n),qi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ei(s,n);var l=ue,c=sn;ws(s.type)&&(ue=s.stateNode,sn=!1),qi(t,n,s),Hl(s.stateNode),ue=l,sn=c;break;case 5:we||Ei(s,n);case 6:if(l=ue,c=sn,ue=null,qi(t,n,s),ue=l,sn=c,ue!==null)if(sn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:ue!==null&&(sn?(t=ue,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),br(t)):oy(ue,s.stateNode));break;case 4:l=ue,c=sn,ue=s.stateNode.containerInfo,sn=!0,qi(t,n,s),ue=l,sn=c;break;case 0:case 11:case 14:case 15:vs(2,s,n),we||vs(4,s,n),qi(t,n,s);break;case 1:we||(Ei(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&up(s,n,l)),qi(t,n,s);break;case 21:qi(t,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,qi(t,n,s),we=l;break;default:qi(t,n,s)}}function yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{br(t)}catch(s){Jt(n,n.return,s)}}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{br(t)}catch(s){Jt(n,n.return,s)}}function VE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dp),n;default:throw Error(r(435,t.tag))}}function wu(t,n){var s=VE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=PE.bind(null,t,l);l.then(c,c)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,p=n,b=p;t:for(;b!==null;){switch(b.tag){case 27:if(ws(b.type)){ue=b.stateNode,sn=!1;break t}break;case 5:ue=b.stateNode,sn=!1;break t;case 3:case 4:ue=b.stateNode.containerInfo,sn=!0;break t}b=b.return}if(ue===null)throw Error(r(160));pp(f,p,c),ue=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vp(n,t),n=n.sibling}var Kn=null;function vp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(vs(3,t,t.return),Ol(3,t),vs(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(we||s===null||Ei(s,s.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Kn;if(an(n,t),rn(t),l&512&&(we||s===null||Ei(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,s),f[Ee]=t,be(f),l=f;break t;case"link":var p=vy("link","href",c).get(l+(s.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(b,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;case"meta":if(p=vy("meta","content",c).get(l+(s.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(b,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ee]=t,be(f),l=f}t.stateNode=l}else Ey(c,t.type,t.stateNode);else t.stateNode=_y(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Ey(c,t.type,t.stateNode):_y(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$h(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(we||s===null||Ei(s,s.return)),s!==null&&l&4&&$h(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(we||s===null||Ei(s,s.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(ht){Jt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,$h(t,c,s!==null?s.memoizedProps:c)),l&1024&&(nf=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ht){Jt(t,t.return,ht)}}break;case 3:if(qu=null,c=Kn,Kn=Bu(n.containerInfo),an(n,t),Kn=c,rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{br(n.containerInfo)}catch(ht){Jt(t,t.return,ht)}nf&&(nf=!1,Ep(t));break;case 4:l=Kn,Kn=Bu(t.stateNode.containerInfo),an(n,t),rn(t),Kn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ru=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 22:c=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,q=Pi,K=we;if(Pi=q||c,we=K||O,an(n,t),we=K,Pi=q,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||O||Pi||we||ba(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(f=O.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=O.stateNode;var $=O.memoizedProps.style,G=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ht){Jt(O,O.return,ht)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(ht){Jt(O,O.return,ht)}}}else if(n.tag===18){if(s===null){O=n;try{var Y=O.stateNode;c?uy(Y,!0):uy(O.stateNode,!1)}catch(ht){Jt(O,O.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wu(t,s))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(hp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=tf(t);Au(t,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(nn(p,""),s.flags&=-33);var b=tf(t);Au(t,b,p);break;case 3:case 4:var O=s.stateNode.containerInfo,q=tf(t);ef(t,q,O);break;default:throw Error(r(161))}}catch(K){Jt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ep(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Hi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mp(t,n.alternate,n),n=n.sibling}function ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:vs(4,n,n.return),ba(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&up(n,n.return,s),ba(n);break;case 27:Hl(n.stateNode);case 26:case 5:Ei(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}t=t.sibling}}function Gi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,s),Ol(4,f);break;case 1:if(Gi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Jt(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var b=l.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Jm(O[c],b)}catch(q){Jt(l,l.return,q)}}s&&p&64&&op(f),jl(f,f.return);break;case 27:fp(f);case 26:case 5:Gi(c,f,s),s&&l===null&&p&4&&cp(f),jl(f,f.return);break;case 12:Gi(c,f,s);break;case 31:Gi(c,f,s),s&&p&4&&yp(c,f);break;case 13:Gi(c,f,s),s&&p&4&&_p(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,s),jl(f,f.return);break;case 30:break;default:Gi(c,f,s)}n=n.sibling}}function sf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&El(s))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Xn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(t,n,s,l),n=n.sibling}function bp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,s,l),c&2048&&Ol(9,n);break;case 1:Xn(t,n,s,l);break;case 3:Xn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){Xn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Jt(n,n.return,O)}}else Xn(t,n,s,l);break;case 31:Xn(t,n,s,l);break;case 13:Xn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,s,l):Ml(t,n):f._visibility&2?Xn(t,n,s,l):(f._visibility|=2,cr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&sf(p,n);break;case 24:Xn(t,n,s,l),c&2048&&af(n.alternate,n);break;default:Xn(t,n,s,l)}}function cr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=s,O=l,q=p.flags;switch(p.tag){case 0:case 11:case 15:cr(f,p,b,O,c),Ol(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?cr(f,p,b,O,c):Ml(f,p):(K._visibility|=2,cr(f,p,b,O,c)),c&&q&2048&&sf(p.alternate,p);break;case 24:cr(f,p,b,O,c),c&&q&2048&&af(p.alternate,p);break;default:cr(f,p,b,O,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(s,l),c&2048&&sf(l.alternate,l);break;case 24:Ml(s,l),c&2048&&af(l.alternate,l);break;default:Ml(s,l)}n=n.sibling}}var kl=8192;function hr(t,n,s){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)xp(t,n,s),t=t.sibling}function xp(t,n,s){switch(t.tag){case 26:hr(t,n,s),t.flags&kl&&t.memoizedState!==null&&_b(s,Kn,t.memoizedState,t.memoizedProps);break;case 5:hr(t,n,s);break;case 3:case 4:var l=Kn;Kn=Bu(t.stateNode.containerInfo),hr(t,n,s),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,hr(t,n,s),kl=l):hr(t,n,s));break;default:hr(t,n,s)}}function Tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,Ap(l,t)}Tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sp(t),t=t.sibling}function Sp(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&vs(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nu(t)):Ul(t);break;default:Ul(t)}}function Nu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,Ap(l,t)}Tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:vs(8,n,n.return),Nu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Nu(n));break;default:Nu(n)}t=t.sibling}}function Ap(t,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(gp(l),l===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var OE={getCacheForType:function(t){var n=Pe(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Pe(Te).controller.signal}},jE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Vt=null,jt=0,Zt=0,_n=null,Es=!1,fr=!1,rf=!1,Qi=0,fe=0,bs=0,xa=0,lf=0,vn=0,dr=0,zl=null,ln=null,of=!1,Ru=0,wp=0,Cu=1/0,Du=null,xs=null,Ve=0,Ts=null,mr=null,Fi=0,uf=0,cf=null,Np=null,Ll=0,hf=null;function En(){return(Qt&2)!==0&&jt!==0?jt&-jt:k.T!==null?yf():Io()}function Rp(){if(vn===0)if((jt&536870912)===0||Lt){var t=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function on(t,n,s){(t===ne&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(gr(t,0),Ss(t,jt,vn,!1)),Zs(t,s),((Qt&2)===0||t!==ne)&&(t===ne&&((Qt&2)===0&&(xa|=s),fe===4&&Ss(t,jt,vn,!1)),bi(t))}function Cp(t,n,s){if((Qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),c=l?UE(t,n):df(t,n,!0),f=l;do{if(c===0){fr&&!l&&Ss(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!ME(s)){c=df(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var b=t;c=zl;var O=b.current.memoizedState.isDehydrated;if(O&&(gr(b,p).flags|=256),p=df(b,p,!1),p!==2){if(rf&&!O){b.errorRecoveryDisabledLanes|=f,xa|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){gr(t,0),Ss(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ss(l,n,vn,!Es);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ru+300-We(),10<c)){if(Ss(l,n,vn,!Es),ii(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=ry(Dp.bind(null,l,s,ln,Du,of,n,vn,xa,dr,Es,f,"Throttled",-0,0),c);break t}Dp(l,s,ln,Du,of,n,vn,xa,dr,Es,f,null,-0,0)}}break}while(!0);bi(t)}function Dp(t,n,s,l,c,f,p,b,O,q,K,$,G,Y){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},xp(n,f,$);var ht=(f&62914560)===f?Ru-We():(f&4194048)===f?wp-We():0;if(ht=vb($,ht),ht!==null){Fi=f,t.cancelPendingCommit=ht(zp.bind(null,t,n,f,s,l,c,p,b,O,K,$,null,G,Y)),Ss(t,f,p,!q);return}}zp(t,n,f,s,l,c,p,b,O)}function ME(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ss(t,n,s,l){n&=~lf,n&=~xa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),p=1<<f;l[f]=-1,c&=~p}s!==0&&Js(t,s,n)}function Iu(){return(Qt&6)===0?(Bl(0),!1):!0}function ff(){if(Vt!==null){if(Zt===0)var t=Vt.return;else t=Vt,Mi=da=null,Nh(t),ar=null,xl=0,t=Vt;for(;t!==null;)lp(t.alternate,t),t=t.return;Vt=null}}function gr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fi=0,ff(),ne=t,Vt=s=Oi(t.current,null),jt=n,Zt=0,_n=null,Es=!1,fr=Ln(t,n),rf=!1,dr=vn=lf=xa=bs=fe=0,ln=zl=null,of=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return Qi=n,Wo(),s}function Ip(t,n){Ct=null,k.H=Dl,n===sr||n===ru?(n=Ym(),Zt=3):n===gh?(n=Ym(),Zt=4):Zt=n===Hh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Vt===null&&(fe=1,Eu(t,Cn(n,t.current)))}function Vp(){var t=pn.current;return t===null?!0:(jt&4194048)===jt?On===null:(jt&62914560)===jt||(jt&536870912)!==0?t===On:!1}function Op(){var t=k.H;return k.H=Dl,t===null?Dl:t}function jp(){var t=k.A;return k.A=OE,t}function Vu(){fe=4,Es||(jt&4194048)!==jt&&pn.current!==null||(fr=!0),(bs&134217727)===0&&(xa&134217727)===0||ne===null||Ss(ne,jt,vn,!1)}function df(t,n,s){var l=Qt;Qt|=2;var c=Op(),f=jp();(ne!==t||jt!==n)&&(Du=null,gr(t,n)),n=!1;var p=fe;t:do try{if(Zt!==0&&Vt!==null){var b=Vt,O=_n;switch(Zt){case 8:ff(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var q=Zt;if(Zt=0,_n=null,pr(t,b,O,q),s&&fr){p=0;break t}break;default:q=Zt,Zt=0,_n=null,pr(t,b,O,q)}}kE(),p=fe;break}catch(K){Ip(t,K)}while(!0);return n&&t.shellSuspendCounter++,Mi=da=null,Qt=l,k.H=c,k.A=f,Vt===null&&(ne=null,jt=0,Wo()),p}function kE(){for(;Vt!==null;)Mp(Vt)}function UE(t,n){var s=Qt;Qt|=2;var l=Op(),c=jp();ne!==t||jt!==n?(Du=null,Cu=We()+500,gr(t,n)):fr=Ln(t,n);t:do try{if(Zt!==0&&Vt!==null){n=Vt;var f=_n;e:switch(Zt){case 1:Zt=0,_n=null,pr(t,n,f,1);break;case 2:case 9:if(Qm(f)){Zt=0,_n=null,kp(n);break}n=function(){Zt!==2&&Zt!==9||ne!==t||(Zt=7),bi(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Qm(f)?(Zt=0,_n=null,kp(n)):(Zt=0,_n=null,pr(t,n,f,7));break;case 5:var p=null;switch(Vt.tag){case 26:p=Vt.memoizedState;case 5:case 27:var b=Vt;if(p?by(p):b.stateNode.complete){Zt=0,_n=null;var O=b.sibling;if(O!==null)Vt=O;else{var q=b.return;q!==null?(Vt=q,Ou(q)):Vt=null}break e}}Zt=0,_n=null,pr(t,n,f,5);break;case 6:Zt=0,_n=null,pr(t,n,f,6);break;case 8:ff(),fe=6;break t;default:throw Error(r(462))}}zE();break}catch(K){Ip(t,K)}while(!0);return Mi=da=null,k.H=l,k.A=c,Qt=s,Vt!==null?0:(ne=null,jt=0,Wo(),fe)}function zE(){for(;Vt!==null&&!qc();)Mp(Vt)}function Mp(t){var n=ap(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Ou(t):Vt=n}function kp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=$g(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=$g(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Nh(n);default:lp(s,n),n=Vt=jm(n,Qi),n=ap(s,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):Vt=n}function pr(t,n,s,l){Mi=da=null,Nh(n),ar=null,xl=0;var c=n.return;try{if(wE(t,c,n,s,jt)){fe=1,Eu(t,Cn(s,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;fe=1,Eu(t,Cn(s,t.current)),Vt=null;return}n.flags&32768?(Lt||l===1?t=!0:fr||(jt&536870912)!==0?t=!1:(Es=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Up(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Up(n,Es);return}t=n.return;var s=CE(n.alternate,n,Qi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);fe===0&&(fe=5)}function Up(t,n){do{var s=DE(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);fe=6,Vt=null}function zp(t,n,s,l,c,f,p,b,O){t.cancelPendingCommit=null;do ju();while(Ve!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=th,Qc(t,s,f,p,b,O),t===ne&&(Vt=ne=null,jt=0),mr=n,Ts=t,Fi=s,uf=f,cf=c,Np=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qE(ts,function(){return Hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=B.p,B.p=2,p=Qt,Qt|=4;try{IE(t,n,s)}finally{Qt=p,B.p=c,k.T=l}}Ve=1,Lp(),Bp(),Pp()}}function Lp(){if(Ve===1){Ve=0;var t=Ts,n=mr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var l=B.p;B.p=2;var c=Qt;Qt|=4;try{vp(n,t);var f=Af,p=Am(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Sm(b.ownerDocument.documentElement,b)){if(O!==null&&Xc(b)){var q=O.start,K=O.end;if(K===void 0&&(K=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(K,b.value.length);else{var $=b.ownerDocument||document,G=$&&$.defaultView||window;if(G.getSelection){var Y=G.getSelection(),ht=b.textContent.length,vt=Math.min(O.start,ht),ee=O.end===void 0?vt:Math.min(O.end,ht);!Y.extend&&vt>ee&&(p=ee,ee=vt,vt=p);var U=Tm(b,vt),j=Tm(b,ee);if(U&&j&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var P=$.createRange();P.setStart(U.node,U.offset),Y.removeAllRanges(),vt>ee?(Y.addRange(P),Y.extend(j.node,j.offset)):(P.setEnd(j.node,j.offset),Y.addRange(P))}}}}for($=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&$.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var J=$[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Fu=!!Sf,Af=Sf=null}finally{Qt=c,B.p=l,k.T=s}}t.current=n,Ve=2}}function Bp(){if(Ve===2){Ve=0;var t=Ts,n=mr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var l=B.p;B.p=2;var c=Qt;Qt|=4;try{mp(t,n.alternate,n)}finally{Qt=c,B.p=l,k.T=s}}Ve=3}}function Pp(){if(Ve===4||Ve===3){Ve=0,So();var t=Ts,n=mr,s=Fi,l=Np;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,mr=Ts=null,qp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(xs=null),Ci(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=B.p,B.p=2,k.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{k.T=n,B.p=c}}(Fi&3)!==0&&ju(),bi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===hf?Ll++:(Ll=0,hf=t):Ll=0,Bl(0)}}function qp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function ju(){return Lp(),Bp(),Pp(),Hp()}function Hp(){if(Ve!==5)return!1;var t=Ts,n=uf;uf=0;var s=Ci(Fi),l=k.T,c=B.p;try{B.p=32>s?32:s,k.T=null,s=cf,cf=null;var f=Ts,p=Fi;if(Ve=0,mr=Ts=null,Fi=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;if(Qt|=4,Sp(f.current),bp(f,f.current,p,s),Qt=b,Bl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{B.p=c,k.T=l,qp(t,n)}}function Gp(t,n,s){n=Cn(s,n),n=qh(t.stateNode,n,2),t=ps(t,n,2),t!==null&&(Zs(t,2),bi(t))}function Jt(t,n,s){if(t.tag===3)Gp(t,t,s);else for(;n!==null;){if(n.tag===3){Gp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xs===null||!xs.has(l))){t=Cn(s,t),s=Qg(2),l=ps(n,s,2),l!==null&&(Fg(s,l,n,t),Zs(l,2),bi(l));break}}n=n.return}}function mf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(rf=!0,c.add(s),t=LE.bind(null,t,n,s),n.then(t,t))}function LE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ne===t&&(jt&s)===s&&(fe===4||fe===3&&(jt&62914560)===jt&&300>We()-Ru?(Qt&2)===0&&gr(t,0):lf|=s,dr===jt&&(dr=0)),bi(t)}function Qp(t,n){n===0&&(n=Do()),t=ca(t,n),t!==null&&(Zs(t,n),bi(t))}function BE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Qp(t,s)}function PE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Qp(t,s)}function qE(t,n){return Ie(t,n)}var Mu=null,yr=null,gf=!1,ku=!1,pf=!1,As=0;function bi(t){t!==yr&&t.next===null&&(yr===null?Mu=yr=t:yr=yr.next=t),ku=!0,gf||(gf=!0,GE())}function Bl(t,n){if(!pf&&ku){pf=!0;do for(var s=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xp(l,f))}else f=jt,f=ii(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(s=!0,Xp(l,f));l=l.next}while(s);pf=!1}}function HE(){Fp()}function Fp(){ku=gf=!1;var t=0;As!==0&&tb()&&(t=As);for(var n=We(),s=null,l=Mu;l!==null;){var c=l.next,f=Yp(l,n);f===0?(l.next=null,s===null?Mu=c:s.next=c,c===null&&(yr=s)):(s=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=c}Ve!==0&&Ve!==5||Bl(t),As!==0&&(As=0)}function Yp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-de(f),b=1<<p,O=c[p];O===-1?((b&s)===0||(b&l)!==0)&&(c[p]=Gc(b,n)):O<=n&&(t.expiredLanes|=b),f&=~b}if(n=ne,s=jt,s=ii(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ln(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&$i(l),Ci(s)){case 2:case 8:s=Zr;break;case 32:s=ts;break;case 268435456:s=Ao;break;default:s=ts}return l=Kp.bind(null,t),s=Ie(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&$i(l),t.callbackPriority=2,t.callbackNode=null,2}function Kp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ju()&&t.callbackNode!==s)return null;var l=jt;return l=ii(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cp(t,l,n),Yp(t,We()),t.callbackNode!=null&&t.callbackNode===s?Kp.bind(null,t):null)}function Xp(t,n){if(ju())return null;Cp(t,n,!0)}function GE(){nb(function(){(Qt&6)!==0?Ie(Xr,HE):Fp()})}function yf(){if(As===0){var t=nr;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),As=t}return As}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function Jp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function QE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Zp((c[je]||null).action),p=l.submitter;p&&(n=(n=p[je]||null)?Zp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new mi("action","action",null,l,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var O=p?Jp(c,p):new FormData(c);kh(s,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=p?Jp(c,p):new FormData(c),kh(s,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var _f=0;_f<$c.length;_f++){var vf=$c[_f],FE=vf.toLowerCase(),YE=vf[0].toUpperCase()+vf.slice(1);Yn(FE,"on"+YE)}Yn(Rm,"onAnimationEnd"),Yn(Cm,"onAnimationIteration"),Yn(Dm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(uE,"onTransitionRun"),Yn(cE,"onTransitionStart"),Yn(hE,"onTransitionCancel"),Yn(Im,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Wp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],O=b.instance,q=b.currentTarget;if(b=b.listener,O!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=q;try{f(c)}catch(K){Jo(K)}c.currentTarget=null,f=O}else for(p=0;p<l.length;p++){if(b=l[p],O=b.instance,q=b.currentTarget,b=b.listener,O!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=q;try{f(c)}catch(K){Jo(K)}c.currentTarget=null,f=O}}}}function Ot(t,n){var s=n[ka];s===void 0&&(s=n[ka]=new Set);var l=t+"__bubble";s.has(l)||($p(n,t,2,!1),s.add(l))}function Ef(t,n,s){var l=0;n&&(l|=4),$p(s,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Uu]){t[Uu]=!0,$r.forEach(function(s){s!=="selectionchange"&&(KE.has(s)||Ef(s,!1,t),Ef(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Ef("selectionchange",!1,n))}}function $p(t,n,s,l){switch(Ry(n)){case 2:var c=xb;break;case 8:c=Tb;break;default:c=kf}s=c.bind(null,n,s,t),c=void 0,!na||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function xf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===c)break;if(p===4)for(p=l.return;p!==null;){var O=p.tag;if((O===3||O===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;b!==null;){if(p=li(b),p===null)return;if(O=p.tag,O===5||O===6||O===26||O===27){l=f=p;continue t}b=b.parentNode}}l=l.return}rs(function(){var q=f,K=An(s),$=[];t:{var G=Vm.get(t);if(G!==void 0){var Y=mi,ht=t;switch(t){case"keypress":if(sa(s)===0)break t;case"keydown":case"keyup":Y=Ko;break;case"focusin":ht="focus",Y=ra;break;case"focusout":ht="blur",Y=ra;break;case"beforeblur":case"afterblur":Y=ra;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=m;break;case Rm:case Cm:case Dm:Y=Po;break;case Im:Y=T;break;case"scroll":case"scrollend":Y=hl;break;case"wheel":Y=F;break;case"copy":case"cut":case"paste":Y=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Vi;break;case"toggle":case"beforetoggle":Y=Rt}var vt=(n&4)!==0,ee=!vt&&(t==="scroll"||t==="scrollend"),U=vt?G!==null?G+"Capture":null:G;vt=[];for(var j=q,P;j!==null;){var J=j;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||U===null||(J=Hn(j,U),J!=null&&vt.push(ql(j,J,P))),ee)break;j=j.return}0<vt.length&&(G=new Y(G,ht,null,s,K),$.push({event:G,listeners:vt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&s!==ol&&(ht=s.relatedTarget||s.fromElement)&&(li(ht)||ht[ai]))break t;if((Y||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ht=s.relatedTarget||s.toElement,Y=q,ht=ht?li(ht):null,ht!==null&&(ee=h(ht),vt=ht.tag,ht!==ee||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(Y=null,ht=q),Y!==ht)){if(vt=fl,J="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Vi,J="onPointerLeave",U="onPointerEnter",j="pointer"),ee=Y==null?G:fn(Y),P=ht==null?G:fn(ht),G=new vt(J,j+"leave",Y,s,K),G.target=ee,G.relatedTarget=P,J=null,li(K)===q&&(vt=new vt(U,j+"enter",ht,s,K),vt.target=P,vt.relatedTarget=ee,J=vt),ee=J,Y&&ht)e:{for(vt=XE,U=Y,j=ht,P=0,J=U;J;J=vt(J))P++;J=0;for(var pt=j;pt;pt=vt(pt))J++;for(;0<P-J;)U=vt(U),P--;for(;0<J-P;)j=vt(j),J--;for(;P--;){if(U===j||j!==null&&U===j.alternate){vt=U;break e}U=vt(U),j=vt(j)}vt=null}else vt=null;Y!==null&&ty($,G,Y,vt,!1),ht!==null&&ee!==null&&ty($,ee,ht,vt,!0)}}t:{if(G=q?fn(q):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var qt=ym;else if(gm(G))if(_m)qt=rE;else{qt=sE;var gt=iE}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ba(q.elementType)&&(qt=ym):qt=aE;if(qt&&(qt=qt(t,q))){pm($,qt,s,K);break t}gt&&gt(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&al(G,"number",G.value)}switch(gt=q?fn(q):window,t){case"focusin":(gm(gt)||gt.contentEditable==="true")&&(Ka=gt,Zc=q,yl=null);break;case"focusout":yl=Zc=Ka=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,wm($,s,K);break;case"selectionchange":if(oE)break;case"keydown":case"keyup":wm($,s,K)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ya?la(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(yi&&s.locale!=="ko"&&(Ya||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ya&&(Dt=cl()):(di=K,ul="value"in di?di.value:di.textContent,Ya=!0)),gt=zu(q,Mt),0<gt.length&&(Mt=new pi(Mt,t,null,s,K),$.push({event:Mt,listeners:gt}),Dt?Mt.data=Dt:(Dt=Fa(s),Dt!==null&&(Mt.data=Dt)))),(Dt=Nn?$v(t,s):tE(t,s))&&(Mt=zu(q,"onBeforeInput"),0<Mt.length&&(gt=new pi("onBeforeInput","beforeinput",null,s,K),$.push({event:gt,listeners:Mt}),gt.data=Dt)),QE($,t,q,s,K)}Wp($,n)})}function ql(t,n,s){return{instance:t,listener:n,currentTarget:s}}function zu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hn(t,s),c!=null&&l.unshift(ql(t,c,f)),c=Hn(t,n),c!=null&&l.push(ql(t,c,f))),t.tag===3)return l;t=t.return}return[]}function XE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ty(t,n,s,l,c){for(var f=n._reactName,p=[];s!==null&&s!==l;){var b=s,O=b.alternate,q=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||q===null||(O=q,c?(q=Hn(s,f),q!=null&&p.unshift(ql(s,q,O))):c||(q=Hn(s,f),q!=null&&p.push(ql(s,q,O)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var ZE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(JE,"")}function ny(t,n){return n=ey(n),ey(t)===n}function te(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,s,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Pa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Pa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),za(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zo.get(s)||s,za(t,s,l))}}function Tf(t,n,s,l,c,f){switch(s){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):za(t,s,l)}}}function He(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,f,p,s,null)}}c&&te(t,n,"srcSet",s.srcSet,s,null),l&&te(t,n,"src",s.src,s,null);return;case"input":Ot("invalid",t);var b=f=p=c=null,O=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":c=K;break;case"type":p=K;break;case"checked":O=K;break;case"defaultChecked":q=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:te(t,n,l,K,s,null)}}Mo(t,f,b,O,q,p,c,!1);return;case"select":Ot("invalid",t),l=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:te(t,n,c,b,s,null)}n=f,s=p,t.multiple=!!l,n!=null?ns(t,!!l,n,!1):s!=null&&ns(t,!!l,s,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(p in s)if(s.hasOwnProperty(p)&&(b=s[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:te(t,n,p,b,s,null)}is(t,l,c,f);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,O,l,s,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ot(Pl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,q,l,s,null)}return;default:if(Ba(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Tf(t,n,K,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&te(t,n,b,l,s,null))}function WE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,b=null,O=null,q=null,K=null;for(Y in s){var $=s[Y];if(s.hasOwnProperty(Y)&&$!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=$;default:l.hasOwnProperty(Y)||te(t,n,Y,null,l,$)}}for(var G in l){var Y=l[G];if($=s[G],l.hasOwnProperty(G)&&(Y!=null||$!=null))switch(G){case"type":f=Y;break;case"name":c=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":p=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==$&&te(t,n,G,Y,l,$)}}La(t,p,b,O,q,K,f,c);return;case"select":Y=p=b=G=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(f)||te(t,n,f,null,l,O)}for(c in l)if(f=l[c],O=s[c],l.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":G=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==O&&te(t,n,c,f,l,O)}n=b,s=p,l=Y,G!=null?ns(t,!!s,G,!1):!!l!=!!s&&(n!=null?ns(t,!!s,n,!0):ns(t,!!s,s?[]:"",!1));return;case"textarea":Y=G=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(t,n,b,null,l,c)}for(p in l)if(c=l[p],f=s[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":G=c;break;case"defaultValue":Y=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&te(t,n,p,c,l,f)}ko(t,G,Y);return;case"option":for(var ht in s)if(G=s[ht],s.hasOwnProperty(ht)&&G!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:te(t,n,ht,null,l,G)}for(O in l)if(G=l[O],Y=s[O],l.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:te(t,n,O,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)G=s[vt],s.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt)&&te(t,n,vt,null,l,G);for(q in l)if(G=l[q],Y=s[q],l.hasOwnProperty(q)&&G!==Y&&(G!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:te(t,n,q,G,l,Y)}return;default:if(Ba(n)){for(var ee in s)G=s[ee],s.hasOwnProperty(ee)&&G!==void 0&&!l.hasOwnProperty(ee)&&Tf(t,n,ee,void 0,l,G);for(K in l)G=l[K],Y=s[K],!l.hasOwnProperty(K)||G===Y||G===void 0&&Y===void 0||Tf(t,n,K,G,l,Y);return}}for(var U in s)G=s[U],s.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&te(t,n,U,null,l,G);for($ in l)G=l[$],Y=s[$],!l.hasOwnProperty($)||G===Y||G==null&&Y==null||te(t,n,$,G,l,Y)}function iy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $E(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,p=c.initiatorType,b=c.duration;if(f&&b&&iy(p)){for(p=0,b=c.responseEnd,l+=1;l<s.length;l++){var O=s[l],q=O.startTime;if(q>b)break;var K=O.transferSize,$=O.initiatorType;K&&iy($)&&(O=O.responseEnd,p+=K*(O<b?1:(b-q)/(O-q)))}if(--l,n+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sf=null,Af=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function wf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nf=null;function tb(){var t=window.event;return t&&t.type==="popstate"?t===Nf?!1:(Nf=t,!0):(Nf=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(ib)}:ry;function ib(t){setTimeout(function(){throw t})}function ws(t){return t==="head"}function oy(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),br(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Hl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Hl(t.ownerDocument.body);s=c}while(s);br(n)}function uy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rf(s),Ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function ab(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$?"||t.data==="$~"}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var If=null;function hy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return jn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function fy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,s){switch(n=Lu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ua(t)}var Mn=new Map,my=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=B.d;B.d={f:lb,r:ob,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:gb};function lb(){var t=Yi.f(),n=Iu();return t||n}function ob(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Ig(n):Yi.r(t)}var _r=typeof document>"u"?null:document;function gy(t,n,s){var l=_r;if(l&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),my.has(c)||(my.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),be(n),l.head.appendChild(n)))}}function ub(t){Yi.D(t),gy("dns-prefetch",t,null)}function cb(t,n){Yi.C(t,n),gy("preconnect",t,n)}function hb(t,n,s){Yi.L(t,n,s);var l=_r;if(l&&t&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var f=c;switch(n){case"style":f=vr(t);break;case"script":f=Er(t)}Mn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),He(n,"link",t),be(n),l.head.appendChild(n)))}}function fb(t,n){Yi.m(t,n);var s=_r;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!Mn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ql(f)))return}l=s.createElement("link"),He(l,"link",t),be(l),s.head.appendChild(l)}}}function db(t,n,s){Yi.S(t,n,s);var l=_r;if(l&&t){var c=oi(l).hoistableStyles,f=vr(t);n=n||"default";var p=c.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(Gl(f)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Mn.get(f))&&Vf(t,s);var O=p=l.createElement("link");be(O),He(O,"link",t),O._p=new Promise(function(q,K){O.onload=q,O.onerror=K}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},c.set(f,p)}}}function mb(t,n){Yi.X(t,n);var s=_r;if(s&&t){var l=oi(s).hoistableScripts,c=Er(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=A({src:t,async:!0},n),(n=Mn.get(c))&&Of(t,n),f=s.createElement("script"),be(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gb(t,n){Yi.M(t,n);var s=_r;if(s&&t){var l=oi(s).hoistableScripts,c=Er(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&Of(t,n),f=s.createElement("script"),be(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function py(t,n,s,l){var c=(c=xt.current)?Bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=vr(s.href),s=oi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=vr(s.href);var f=oi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),f||pb(c,t,s,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(s),s=oi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+en(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function yy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),be(n),t.head.appendChild(n))}function Er(t){return'[src="'+en(t)+'"]'}function Ql(t){return"script[async]"+t}function _y(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(s.href)+'"]');if(l)return n.instance=l,be(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),be(l),He(l,"style",c),Pu(l,s.precedence,t),n.instance=l;case"stylesheet":c=vr(s.href);var f=t.querySelector(Gl(c));if(f)return n.state.loading|=4,n.instance=f,be(f),f;l=yy(s),(c=Mn.get(c))&&Vf(l,c),f=(t.ownerDocument||t).createElement("link"),be(f);var p=f;return p._p=new Promise(function(b,O){p.onload=b,p.onerror=O}),He(f,"link",l),n.state.loading|=4,Pu(f,s.precedence,t),n.instance=f;case"script":return f=Er(s.src),(c=t.querySelector(Ql(f)))?(n.instance=c,be(c),c):(l=s,(c=Mn.get(f))&&(l=A({},s),Of(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),be(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,s.precedence,t));return n.instance}function Pu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function vy(t,n,s){if(qu===null){var l=new Map,c=qu=new Map;c.set(s,l)}else c=qu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ri]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function Ey(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=vr(l.href),f=n.querySelector(Gl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Hu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,l=yy(l),(c=Mn.get(c))&&Vf(l,c),f=f.createElement("link"),be(f);var p=f;p._p=new Promise(function(b,O){p.onload=b,p.onerror=O}),He(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Hu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var jf=0;function vb(t,n){return t.stylesheets&&t.count===0&&Qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&jf===0&&(jf=62500*$E());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(Eb,t),Gu=null,Hu.call(t))}function Eb(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,c),s.set(p,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function bb(t,n,s,l,c,f,p,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function xy(t,n,s,l,c,f,p,b,O,q,K,$){return t=new bb(t,n,s,p,O,q,K,$,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=fh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ph(f),t}function Ty(t){return t?(t=Ja,t):Ja}function Sy(t,n,s,l,c,f){c=Ty(c),l.context===null?l.context=c:l.pendingContext=c,l=gs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ps(t,l,n),s!==null&&(on(s,t,n),Sl(s,t,n))}function Ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Mf(t,n){Ay(t,n),(t=t.alternate)&&Ay(t,n)}function wy(t){if(t.tag===13||t.tag===31){var n=ca(t,67108864);n!==null&&on(n,t,67108864),Mf(t,67108864)}}function Ny(t){if(t.tag===13||t.tag===31){var n=En();n=Ws(n);var s=ca(t,n);s!==null&&on(s,t,n),Mf(t,n)}}var Fu=!0;function xb(t,n,s,l){var c=k.T;k.T=null;var f=B.p;try{B.p=2,kf(t,n,s,l)}finally{B.p=f,k.T=c}}function Tb(t,n,s,l){var c=k.T;k.T=null;var f=B.p;try{B.p=8,kf(t,n,s,l)}finally{B.p=f,k.T=c}}function kf(t,n,s,l){if(Fu){var c=Uf(l);if(c===null)xf(t,n,l,Yu,s),Cy(t,l);else if(Ab(c,t,n,s,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<Sb.indexOf(t)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var O=1<<31-de(p);b.entanglements[1]|=O,p&=~O}bi(f),(Qt&6)===0&&(Cu=We()+500,Bl(0))}}break;case 31:case 13:b=ca(f,2),b!==null&&on(b,f,2),Iu(),Mf(f,2)}if(f=Uf(l),f===null&&xf(t,n,l,Yu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else xf(t,n,l,null,s)}}function Uf(t){return t=An(t),zf(t)}var Yu=null;function zf(t){if(Yu=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ks()){case Xr:return 2;case Zr:return 8;case ts:case Hc:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var Lf=!1,Ns=null,Rs=null,Cs=null,Yl=new Map,Kl=new Map,Ds=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Ab(t,n,s,l,c){switch(n){case"focusin":return Ns=Xl(Ns,t,n,s,l,c),!0;case"dragenter":return Rs=Xl(Rs,t,n,s,l,c),!0;case"mouseover":return Cs=Xl(Cs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,s,l,c)),!0}return!1}function Dy(t){var n=li(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){Ny(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){Ny(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Uf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ol=l,s.target.dispatchEvent(l),ol=null}else return n=Sn(s),n!==null&&wy(n),t.blockedOn=s,!1;n.shift()}return!0}function Iy(t,n,s){Ku(t)&&s.delete(n)}function wb(){Lf=!1,Ns!==null&&Ku(Ns)&&(Ns=null),Rs!==null&&Ku(Rs)&&(Rs=null),Cs!==null&&Ku(Cs)&&(Cs=null),Yl.forEach(Iy),Kl.forEach(Iy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wb)))}var Zu=null;function Vy(t){Zu!==t&&(Zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(zf(l||s)===null)continue;break}var f=Sn(s);f!==null&&(t.splice(n,3),n-=3,kh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function br(t){function n(O){return Xu(O,t)}Ns!==null&&Xu(Ns,t),Rs!==null&&Xu(Rs,t),Cs!==null&&Xu(Cs,t),Yl.forEach(n),Kl.forEach(n);for(var s=0;s<Ds.length;s++){var l=Ds[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ds.length&&(s=Ds[0],s.blockedOn===null);)Dy(s),s.blockedOn===null&&Ds.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],p=c[je]||null;if(typeof f=="function")p||Vy(s);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[je]||null)b=p.formAction;else if(zf(c)!==null)continue}else b=p.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Vy(s)}}}function Oy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Bf(t){this._internalRoot=t}Ju.prototype.render=Bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=En();Sy(s,l,t,n,null,null)},Ju.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sy(t.current,2,null,t,null,null),Iu(),n[ai]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ds.length&&n!==0&&n<Ds[s].priority;s++);Ds.splice(s,0,t),s===0&&Dy(t)}};var jy=e.version;if(jy!=="19.2.3")throw Error(r(527,jy,"19.2.3"));B.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{zn=Wu.inject(Nb),ze=Wu}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Pg,f=qg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=xy(t,1,!1,null,null,s,l,null,c,f,p,Oy),t[ai]=n.current,bf(t),new Bf(n)},Jl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Pg,p=qg,b=Hg,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),n=xy(t,1,!0,n,s??null,l,c,O,f,p,b,Oy),n.context=Ty(null),s=n.current,l=En(),l=Ws(l),c=gs(l),c.callback=null,ps(s,c,l),s=l,n.current.lanes=s,Zs(n,s),bi(n),t[ai]=n.current,bf(t),new Ju(n)},Jl.version="19.2.3",Jl}var Gy;function Ub(){if(Gy)return Hf.exports;Gy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Hf.exports=kb(),Hf.exports}var zb=Ub();const Lb=()=>{};var Qy={};const h_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Bb=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],y=a[i++],E=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,y=d?a[o+1]:0,E=o+2<a.length,_=E?a[o+2]:0,x=h>>2,A=(h&3)<<4|y>>4;let R=(y&15)<<2|_>>6,z=_&63;E||(z=64,d||(R=64)),r.push(i[x],i[A],i[R],i[z])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(h_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Bb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],y=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||y==null||_==null||A==null)throw new Pb;const R=h<<2|y>>4;if(r.push(R),_!==64){const z=y<<4&240|_>>2;if(r.push(z),A!==64){const et=_<<6&192|A;r.push(et)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(a){const e=h_(a);return f_.encodeByteArray(e,!0)},mc=function(a){return qb(a).replace(/\./g,"")},Hb=function(a){try{return f_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qb=()=>Gb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof Qy>"u")return;const a=Qy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Yb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Hb(a[1]);return e&&JSON.parse(e)},Rd=()=>{try{return Lb()||Qb()||Fb()||Yb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Kb=a=>Rd()?.emulatorHosts?.[a],Xb=a=>{const e=Kb(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},d_=()=>Rd()?.config;class Zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Cd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jb(a){return(await fetch(a,{credentials:"include"})).ok}function Wb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[mc(JSON.stringify(i)),mc(JSON.stringify(d)),""].join(".")}const ao={};function $b(){const a={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?a.emulator.push(e):a.prod.push(e);return a}function tx(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Fy=!1;function ex(a,e){if(typeof window>"u"||typeof document>"u"||!Cd(window.location.host)||ao[a]===e||ao[a]||Fy)return;ao[a]=e;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",h=$b().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function E(R,z){R.setAttribute("width","24"),R.setAttribute("id",z),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Fy=!0,d()},R}function x(R,z){R.setAttribute("id",z),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=tx(r),z=i("text"),et=document.getElementById(z)||document.createElement("span"),X=i("learnmore"),Z=document.getElementById(X)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const dt=R.element;y(dt),x(Z,X);const Tt=_();E(_t,ft),dt.append(_t,et,Z,Tt),document.body.appendChild(dt)}h?(et.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function nx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ix(){const a=Rd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sx(){return!ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ax(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const lx="FirebaseError";class Br extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=lx,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m_.prototype.create)}}class m_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?ox(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Br(o,y,r)}}function ox(a,e){return a.replace(ux,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ux=/\{\$([^}]+)}/g;function Dr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Yy(h)&&Yy(d)){if(!Dr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Yy(a){return a!==null&&typeof a=="object"}function wi(a){return a&&a._delegate?a._delegate:a}class co{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class cx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Zb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fx(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hx(a){return a===Sa?void 0:a}function fx(a){return a.instantiationMode==="EAGER"}class dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const mx={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},gx=Pt.INFO,px={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},yx=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=px[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g_{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const _x=(a,e)=>e.some(i=>a instanceof i);let Ky,Xy;function vx(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ex(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p_=new WeakMap,ad=new WeakMap,y_=new WeakMap,Yf=new WeakMap,Dd=new WeakMap;function bx(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(js(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&p_.set(i,a)}).catch(()=>{}),Dd.set(e,a),e}function xx(a){if(ad.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});ad.set(a,e)}let rd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ad.get(a);if(e==="objectStoreNames")return a.objectStoreNames||y_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return js(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Tx(a){rd=a(rd)}function Sx(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Kf(this),e,...i);return y_.set(r,e.sort?e.sort():[e]),js(r)}:Ex().includes(a)?function(...e){return a.apply(Kf(this),e),js(p_.get(this))}:function(...e){return js(a.apply(Kf(this),e))}}function Ax(a){return typeof a=="function"?Sx(a):(a instanceof IDBTransaction&&xx(a),_x(a,vx())?new Proxy(a,rd):a)}function js(a){if(a instanceof IDBRequest)return bx(a);if(Yf.has(a))return Yf.get(a);const e=Ax(a);return e!==a&&(Yf.set(a,e),Dd.set(e,a)),e}const Kf=a=>Dd.get(a);function wx(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),y=js(d);return r&&d.addEventListener("upgradeneeded",E=>{r(js(d.result),E.oldVersion,E.newVersion,js(d.transaction),E)}),i&&d.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),y.then(E=>{h&&E.addEventListener("close",()=>h()),o&&E.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const Nx=["get","getKey","getAll","getAllKeys","count"],Rx=["put","add","delete","clear"],Xf=new Map;function Zy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=Rx.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Nx.includes(i)))return;const h=async function(d,...y){const E=this.transaction(d,o?"readwrite":"readonly");let _=E.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&E.done]))[0]};return Xf.set(e,h),h}Tx(a=>({...a,get:(e,i,r)=>Zy(e,i)||a.get(e,i,r),has:(e,i)=>!!Zy(e,i)||a.has(e,i)}));class Cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Dx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Dx(a){return a.getComponent()?.type==="VERSION"}const ld="@firebase/app",Jy="0.14.8";const Xi=new g_("@firebase/app"),Ix="@firebase/app-compat",Vx="@firebase/analytics-compat",Ox="@firebase/analytics",jx="@firebase/app-check-compat",Mx="@firebase/app-check",kx="@firebase/auth",Ux="@firebase/auth-compat",zx="@firebase/database",Lx="@firebase/data-connect",Bx="@firebase/database-compat",Px="@firebase/functions",qx="@firebase/functions-compat",Hx="@firebase/installations",Gx="@firebase/installations-compat",Qx="@firebase/messaging",Fx="@firebase/messaging-compat",Yx="@firebase/performance",Kx="@firebase/performance-compat",Xx="@firebase/remote-config",Zx="@firebase/remote-config-compat",Jx="@firebase/storage",Wx="@firebase/storage-compat",$x="@firebase/firestore",tT="@firebase/ai",eT="@firebase/firestore-compat",nT="firebase",iT="12.9.0";const od="[DEFAULT]",sT={[ld]:"fire-core",[Ix]:"fire-core-compat",[Ox]:"fire-analytics",[Vx]:"fire-analytics-compat",[Mx]:"fire-app-check",[jx]:"fire-app-check-compat",[kx]:"fire-auth",[Ux]:"fire-auth-compat",[zx]:"fire-rtdb",[Lx]:"fire-data-connect",[Bx]:"fire-rtdb-compat",[Px]:"fire-fn",[qx]:"fire-fn-compat",[Hx]:"fire-iid",[Gx]:"fire-iid-compat",[Qx]:"fire-fcm",[Fx]:"fire-fcm-compat",[Yx]:"fire-perf",[Kx]:"fire-perf-compat",[Xx]:"fire-rc",[Zx]:"fire-rc-compat",[Jx]:"fire-gcs",[Wx]:"fire-gcs-compat",[$x]:"fire-fst",[eT]:"fire-fst-compat",[tT]:"fire-vertex","fire-js":"fire-js",[nT]:"fire-js-all"};const gc=new Map,aT=new Map,ud=new Map;function Wy(a,e){try{a.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function pc(a){const e=a.name;if(ud.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,a);for(const i of gc.values())Wy(i,a);for(const i of aT.values())Wy(i,a);return!0}function rT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function lT(a){return a==null?!1:a.settings!==void 0}const oT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new m_("app","Firebase",oT);class uT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}const cT=iT;function __(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:od,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(i||(i=d_()),!i)throw Ms.create("no-options");const h=gc.get(o);if(h){if(Dr(i,h.options)&&Dr(r,h.config))return h;throw Ms.create("duplicate-app",{appName:o})}const d=new dx(o);for(const E of ud.values())d.addComponent(E);const y=new uT(i,r,d);return gc.set(o,y),y}function hT(a=od){const e=gc.get(a);if(!e&&a===od&&d_())return __();if(!e)throw Ms.create("no-app",{appName:a});return e}function wr(a,e,i){let r=sT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}pc(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const fT="firebase-heartbeat-database",dT=1,ho="firebase-heartbeat-store";let Zf=null;function v_(){return Zf||(Zf=wx(fT,dT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ms.create("idb-open",{originalErrorMessage:a.message})})),Zf}async function mT(a){try{const i=(await v_()).transaction(ho),r=await i.objectStore(ho).get(E_(a));return await i.done,r}catch(e){if(e instanceof Br)Xi.warn(e.message);else{const i=Ms.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(i.message)}}}async function $y(a,e){try{const r=(await v_()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,E_(a)),await r.done}catch(i){if(i instanceof Br)Xi.warn(i.message);else{const r=Ms.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(r.message)}}}function E_(a){return`${a.name}!${a.options.appId}`}const gT=1024,pT=30;class yT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>pT){const o=ET(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t0(),{heartbeatsToSend:i,unsentEntries:r}=_T(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function t0(){return new Date().toISOString().substring(0,10)}function _T(a,e=gT){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),e0(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),e0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class vT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ax()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e0(a){return mc(JSON.stringify({version:2,heartbeats:a})).length}function ET(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function bT(a){pc(new co("platform-logger",e=>new Cx(e),"PRIVATE")),pc(new co("heartbeat",e=>new yT(e),"PRIVATE")),wr(ld,Jy,a),wr(ld,Jy,"esm2020"),wr("fire-js","")}bT("");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,b_;(function(){var a;function e(D,N){function I(){}I.prototype=N.prototype,D.F=N.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(M,V,C){for(var S=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)S[ot-2]=arguments[ot];return N.prototype[V].apply(M,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,N,I){I||(I=0);const M=Array(16);if(typeof N=="string")for(var V=0;V<16;++V)M[V]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(V=0;V<16;++V)M[V]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=D.g[0],I=D.g[1],V=D.g[2];let C=D.g[3],S;S=N+(C^I&(V^C))+M[0]+3614090360&4294967295,N=I+(S<<7&4294967295|S>>>25),S=C+(V^N&(I^V))+M[1]+3905402710&4294967295,C=N+(S<<12&4294967295|S>>>20),S=V+(I^C&(N^I))+M[2]+606105819&4294967295,V=C+(S<<17&4294967295|S>>>15),S=I+(N^V&(C^N))+M[3]+3250441966&4294967295,I=V+(S<<22&4294967295|S>>>10),S=N+(C^I&(V^C))+M[4]+4118548399&4294967295,N=I+(S<<7&4294967295|S>>>25),S=C+(V^N&(I^V))+M[5]+1200080426&4294967295,C=N+(S<<12&4294967295|S>>>20),S=V+(I^C&(N^I))+M[6]+2821735955&4294967295,V=C+(S<<17&4294967295|S>>>15),S=I+(N^V&(C^N))+M[7]+4249261313&4294967295,I=V+(S<<22&4294967295|S>>>10),S=N+(C^I&(V^C))+M[8]+1770035416&4294967295,N=I+(S<<7&4294967295|S>>>25),S=C+(V^N&(I^V))+M[9]+2336552879&4294967295,C=N+(S<<12&4294967295|S>>>20),S=V+(I^C&(N^I))+M[10]+4294925233&4294967295,V=C+(S<<17&4294967295|S>>>15),S=I+(N^V&(C^N))+M[11]+2304563134&4294967295,I=V+(S<<22&4294967295|S>>>10),S=N+(C^I&(V^C))+M[12]+1804603682&4294967295,N=I+(S<<7&4294967295|S>>>25),S=C+(V^N&(I^V))+M[13]+4254626195&4294967295,C=N+(S<<12&4294967295|S>>>20),S=V+(I^C&(N^I))+M[14]+2792965006&4294967295,V=C+(S<<17&4294967295|S>>>15),S=I+(N^V&(C^N))+M[15]+1236535329&4294967295,I=V+(S<<22&4294967295|S>>>10),S=N+(V^C&(I^V))+M[1]+4129170786&4294967295,N=I+(S<<5&4294967295|S>>>27),S=C+(I^V&(N^I))+M[6]+3225465664&4294967295,C=N+(S<<9&4294967295|S>>>23),S=V+(N^I&(C^N))+M[11]+643717713&4294967295,V=C+(S<<14&4294967295|S>>>18),S=I+(C^N&(V^C))+M[0]+3921069994&4294967295,I=V+(S<<20&4294967295|S>>>12),S=N+(V^C&(I^V))+M[5]+3593408605&4294967295,N=I+(S<<5&4294967295|S>>>27),S=C+(I^V&(N^I))+M[10]+38016083&4294967295,C=N+(S<<9&4294967295|S>>>23),S=V+(N^I&(C^N))+M[15]+3634488961&4294967295,V=C+(S<<14&4294967295|S>>>18),S=I+(C^N&(V^C))+M[4]+3889429448&4294967295,I=V+(S<<20&4294967295|S>>>12),S=N+(V^C&(I^V))+M[9]+568446438&4294967295,N=I+(S<<5&4294967295|S>>>27),S=C+(I^V&(N^I))+M[14]+3275163606&4294967295,C=N+(S<<9&4294967295|S>>>23),S=V+(N^I&(C^N))+M[3]+4107603335&4294967295,V=C+(S<<14&4294967295|S>>>18),S=I+(C^N&(V^C))+M[8]+1163531501&4294967295,I=V+(S<<20&4294967295|S>>>12),S=N+(V^C&(I^V))+M[13]+2850285829&4294967295,N=I+(S<<5&4294967295|S>>>27),S=C+(I^V&(N^I))+M[2]+4243563512&4294967295,C=N+(S<<9&4294967295|S>>>23),S=V+(N^I&(C^N))+M[7]+1735328473&4294967295,V=C+(S<<14&4294967295|S>>>18),S=I+(C^N&(V^C))+M[12]+2368359562&4294967295,I=V+(S<<20&4294967295|S>>>12),S=N+(I^V^C)+M[5]+4294588738&4294967295,N=I+(S<<4&4294967295|S>>>28),S=C+(N^I^V)+M[8]+2272392833&4294967295,C=N+(S<<11&4294967295|S>>>21),S=V+(C^N^I)+M[11]+1839030562&4294967295,V=C+(S<<16&4294967295|S>>>16),S=I+(V^C^N)+M[14]+4259657740&4294967295,I=V+(S<<23&4294967295|S>>>9),S=N+(I^V^C)+M[1]+2763975236&4294967295,N=I+(S<<4&4294967295|S>>>28),S=C+(N^I^V)+M[4]+1272893353&4294967295,C=N+(S<<11&4294967295|S>>>21),S=V+(C^N^I)+M[7]+4139469664&4294967295,V=C+(S<<16&4294967295|S>>>16),S=I+(V^C^N)+M[10]+3200236656&4294967295,I=V+(S<<23&4294967295|S>>>9),S=N+(I^V^C)+M[13]+681279174&4294967295,N=I+(S<<4&4294967295|S>>>28),S=C+(N^I^V)+M[0]+3936430074&4294967295,C=N+(S<<11&4294967295|S>>>21),S=V+(C^N^I)+M[3]+3572445317&4294967295,V=C+(S<<16&4294967295|S>>>16),S=I+(V^C^N)+M[6]+76029189&4294967295,I=V+(S<<23&4294967295|S>>>9),S=N+(I^V^C)+M[9]+3654602809&4294967295,N=I+(S<<4&4294967295|S>>>28),S=C+(N^I^V)+M[12]+3873151461&4294967295,C=N+(S<<11&4294967295|S>>>21),S=V+(C^N^I)+M[15]+530742520&4294967295,V=C+(S<<16&4294967295|S>>>16),S=I+(V^C^N)+M[2]+3299628645&4294967295,I=V+(S<<23&4294967295|S>>>9),S=N+(V^(I|~C))+M[0]+4096336452&4294967295,N=I+(S<<6&4294967295|S>>>26),S=C+(I^(N|~V))+M[7]+1126891415&4294967295,C=N+(S<<10&4294967295|S>>>22),S=V+(N^(C|~I))+M[14]+2878612391&4294967295,V=C+(S<<15&4294967295|S>>>17),S=I+(C^(V|~N))+M[5]+4237533241&4294967295,I=V+(S<<21&4294967295|S>>>11),S=N+(V^(I|~C))+M[12]+1700485571&4294967295,N=I+(S<<6&4294967295|S>>>26),S=C+(I^(N|~V))+M[3]+2399980690&4294967295,C=N+(S<<10&4294967295|S>>>22),S=V+(N^(C|~I))+M[10]+4293915773&4294967295,V=C+(S<<15&4294967295|S>>>17),S=I+(C^(V|~N))+M[1]+2240044497&4294967295,I=V+(S<<21&4294967295|S>>>11),S=N+(V^(I|~C))+M[8]+1873313359&4294967295,N=I+(S<<6&4294967295|S>>>26),S=C+(I^(N|~V))+M[15]+4264355552&4294967295,C=N+(S<<10&4294967295|S>>>22),S=V+(N^(C|~I))+M[6]+2734768916&4294967295,V=C+(S<<15&4294967295|S>>>17),S=I+(C^(V|~N))+M[13]+1309151649&4294967295,I=V+(S<<21&4294967295|S>>>11),S=N+(V^(I|~C))+M[4]+4149444226&4294967295,N=I+(S<<6&4294967295|S>>>26),S=C+(I^(N|~V))+M[11]+3174756917&4294967295,C=N+(S<<10&4294967295|S>>>22),S=V+(N^(C|~I))+M[2]+718787259&4294967295,V=C+(S<<15&4294967295|S>>>17),S=I+(C^(V|~N))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.v=function(D,N){N===void 0&&(N=D.length);const I=N-this.blockSize,M=this.C;let V=this.h,C=0;for(;C<N;){if(V==0)for(;C<=I;)o(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<N;)if(M[V++]=D.charCodeAt(C++),V==this.blockSize){o(this,M),V=0;break}}else for(;C<N;)if(M[V++]=D[C++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=N},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)D[N++]=this.g[I]>>>M&255;return D};function h(D,N){var I=y;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=N(D)}function d(D,N){this.h=N;const I=[];let M=!0;for(let V=D.length-1;V>=0;V--){const C=D[V]|0;M&&C==N||(I[V]=C,M=!1)}this.g=I}var y={};function E(D){return-128<=D&&D<128?h(D,function(N){return new d([N|0],N<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return Z(_(-D));const N=[];let I=1;for(let M=0;D>=I;M++)N[M]=D/I|0,I*=4294967296;return new d(N,0)}function x(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return Z(x(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(N,8));let M=A;for(let C=0;C<D.length;C+=8){var V=Math.min(8,D.length-C);const S=parseInt(D.substring(C,C+V),N);V<8?(V=_(Math.pow(N,V)),M=M.j(V).add(_(S))):(M=M.j(I),M=M.add(_(S)))}return M}var A=E(0),R=E(1),z=E(16777216);a=d.prototype,a.m=function(){if(X(this))return-Z(this).m();let D=0,N=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);D+=(M>=0?M:4294967296+M)*N,N*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(et(this))return"0";if(X(this))return"-"+Z(this).toString(D);const N=_(Math.pow(D,6));var I=this;let M="";for(;;){const V=Tt(I,N).g;I=ft(I,V.j(N));let C=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=V,et(I))return C+M;for(;C.length<6;)C="0"+C;M=C+M}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function et(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function X(D){return D.h==-1}a.l=function(D){return D=ft(this,D),X(D)?-1:et(D)?0:1};function Z(D){const N=D.g.length,I=[];for(let M=0;M<N;M++)I[M]=~D.g[M];return new d(I,~D.h).add(R)}a.abs=function(){return X(this)?Z(this):this},a.add=function(D){const N=Math.max(this.g.length,D.g.length),I=[];let M=0;for(let V=0;V<=N;V++){let C=M+(this.i(V)&65535)+(D.i(V)&65535),S=(C>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=S>>>16,C&=65535,S&=65535,I[V]=S<<16|C}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(D,N){return D.add(Z(N))}a.j=function(D){if(et(this)||et(D))return A;if(X(this))return X(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(X(D))return Z(this.j(Z(D)));if(this.l(z)<0&&D.l(z)<0)return _(this.m()*D.m());const N=this.g.length+D.g.length,I=[];for(var M=0;M<2*N;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<D.g.length;V++){const C=this.i(M)>>>16,S=this.i(M)&65535,ot=D.i(V)>>>16,mt=D.i(V)&65535;I[2*M+2*V]+=S*mt,_t(I,2*M+2*V),I[2*M+2*V+1]+=C*mt,_t(I,2*M+2*V+1),I[2*M+2*V+1]+=S*ot,_t(I,2*M+2*V+1),I[2*M+2*V+2]+=C*ot,_t(I,2*M+2*V+2)}for(D=0;D<N;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=N;D<2*N;D++)I[D]=0;return new d(I,0)};function _t(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function dt(D,N){this.g=D,this.h=N}function Tt(D,N){if(et(N))throw Error("division by zero");if(et(D))return new dt(A,A);if(X(D))return N=Tt(Z(D),N),new dt(Z(N.g),Z(N.h));if(X(N))return N=Tt(D,Z(N)),new dt(Z(N.g),N.h);if(D.g.length>30){if(X(D)||X(N))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=N;M.l(D)<=0;)I=zt(I),M=zt(M);var V=St(I,1),C=St(M,1);for(M=St(M,2),I=St(I,2);!et(M);){var S=C.add(M);S.l(D)<=0&&(V=V.add(I),C=S),M=St(M,1),I=St(I,1)}return N=ft(D,V.j(N)),new dt(V,N)}for(V=A;D.l(N)>=0;){for(I=Math.max(1,Math.floor(D.m()/N.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),C=_(I),S=C.j(N);X(S)||S.l(D)>0;)I-=M,C=_(I),S=C.j(N);et(C)&&(C=R),V=V.add(C),D=ft(D,S)}return new dt(V,D)}a.B=function(D){return Tt(this,D).h},a.and=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)&D.i(M);return new d(I,this.h&D.h)},a.or=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)|D.i(M);return new d(I,this.h|D.h)},a.xor=function(D){const N=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<N;M++)I[M]=this.i(M)^D.i(M);return new d(I,this.h^D.h)};function zt(D){const N=D.g.length+1,I=[];for(let M=0;M<N;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(I,D.h)}function St(D,N){const I=N>>5;N%=32;const M=D.g.length-I,V=[];for(let C=0;C<M;C++)V[C]=N>0?D.i(C+I)>>>N|D.i(C+I+1)<<32-N:D.i(C+I);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,b_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,ks=d}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var x_,to,T_,lc,cd,S_,A_,w_;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=E,_.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,F){for(var rt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)rt[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,rt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const F=L.length||0;u.length=v+F;for(let rt=0;rt<F;rt++)u[v+rt]=L[rt]}else u.push(L)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new X(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,St=!1,D=new _t,N=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}St=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ot,V),ot.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var mt="closure_listenable_"+(Math.random()*1e6|0),k=0;function B(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++k,this.da=this.fa=!1}function Q(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function it(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let F=0;F<H.length;F++)v=H[F],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,T,L){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const rt=xt(u,m,T,L);return rt>-1?(m=u[rt],v||(m.fa=!1)):(m=new B(m,this.src,F,!!T,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),F;(F=L>=0)&&Array.prototype.splice.call(T,L,1),F&&(Q(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,T){for(let L=0;L<u.length;++L){const F=u[L];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==T)return L}return-1}var It="closure_lm_"+(Math.random()*1e6|0),le={};function Yt(u,m,v,T,L){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Yt(u,m[F],v,T,L);return null}return v=Kr(v),u&&u[mt]?u.J(m,v,y(T)?!!T.capture:!1,L):hn(u,m,v,!1,T,L)}function hn(u,m,v,T,L,F){if(!m)throw Error("Invalid event type");const rt=y(L)?!!L.capture:!!L;let Rt=Ys(u);if(Rt||(u[It]=Rt=new lt(u)),v=Rt.add(m,v,T,rt,F),v.proxy)return v;if(T=Un(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)C||(L=rt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Kt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Un(){function u(v){return m.call(u.src,u.listener,v)}const m=Je;return u}function Ri(u,m,v,T,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ri(u,m[F],v,T,L);else T=y(T)?!!T.capture:!!T,v=Kr(v),u&&u[mt]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],v=xt(m,v,T,L),v>-1&&(Q(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=Ys(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,T,L)),(v=u>-1?m[u]:null)&&Wi(v))}function Wi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[mt])Et(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Kt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ys(m))?(Et(v,u),v.h==0&&(v.src=null,m[It]=null)):Q(u)}}}function Kt(u){return u in le?le[u]:le[u]="on"+u}function Je(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Wi(u),u=v.call(T,m)}return u}function Ys(u){return u=u[It],u instanceof lt?u:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(u){return typeof u=="function"?u:(u[Yr]||(u[Yr]=function(m){return u.handleEvent(m)}),u[Yr])}function _e(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}A(_e,M),_e.prototype[mt]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Ri(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),st(m,L)}L=!0;let F,rt;if(v)for(rt=v.length-1;rt>=0;rt--)F=m.g=v[rt],L=$i(F,T,!0,m)&&L;if(F=m.g=u,L=$i(F,T,!0,m)&&L,L=$i(F,T,!1,m)&&L,v)for(rt=0;rt<v.length;rt++)F=m.g=v[rt],L=$i(F,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)Q(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function $i(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let F=0;F<m.length;++F){const rt=m[F];if(rt&&!rt.da&&rt.capture==v){const Rt=rt.listener,me=rt.ha||rt.src;rt.fa&&Et(u.i,rt),L=Rt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function qc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=qc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(u){M.call(this),this.h=u,this.g={}}A(Ks,M);var Xr=[];function Zr(u){W(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wi(m)},u),u.g={}}Ks.prototype.N=function(){Ks.Z.N.call(this),Zr(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=d.JSON.stringify,Hc=d.JSON.parse,Ao=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wo(){}function No(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){V.call(this,"d")}A(ze,V);function Tn(){V.call(this,"c")}A(Tn,V);var de={},Ro=null;function Ma(){return Ro=Ro||new _e}de.Ia="serverreachability";function Co(u){V.call(this,de.Ia,u)}A(Co,V);function ei(u){const m=Ma();Ie(m,new Co(m))}de.STAT_EVENT="statevent";function Xs(u,m){V.call(this,de.STAT_EVENT,u),this.stat=m}A(Xs,V);function ve(u){const m=Ma();Ie(m,new Xs(m,u))}de.Ja="timingevent";function ni(u,m){V.call(this,de.Ja,u),this.size=m}A(ni,V);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Gc(u,m,v,T,L,F){u.info(function(){if(u.g)if(F){var rt="",Rt=F.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var me=Rt[Gt].split("=");if(me.length>1){const oe=me[0];me=me[1];const Nn=oe.split("_");rt=Nn.length>=2&&Nn[1]=="type"?rt+(oe+"="+me+"&"):rt+(oe+"=redacted&")}}}else rt=null;else rt=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+rt})}function Do(u,m,v,T,L,F,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+F+" "+rt})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qc(u,v)+(T?" "+T:"")})}function Zs(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Qc(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return ts(F)}catch{return m}}var Js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wr;function Ws(){}A(Ws,wo),Ws.prototype.g=function(){return new XMLHttpRequest},Wr=new Ws;function Ci(u){return encodeURIComponent(String(u))}function Io(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Ee={},je={};function ai(u,m,v){u.M=1,u.A=$s(xe(m)),u.u=v,u.R=!0,ka(u,null)}function ka(u,m){u.F=Date.now(),ri(u),u.B=xe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ba(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Pn,u.g=Fo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Xr[0]=L.toString()),L=Xr);for(let F=0;F<L.length;F++){const rt=Yt(v,L[F],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Gc(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Gn(this.g),me=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Rt!=4||me==7||(me==8||Gt<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var v=Fc(this);if(this.o=m==200,Do(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var F=T;break e}}F=null}if(u=F)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Oo(this,v),oe==je){Rt==4&&(this.m=4,ve(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,oe,null),oi(this,oe);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),dl(rt),rt.P=!0,ve(11))}}else si(this.i,this.l,v,null),oi(this,v);Rt==4&&fn(this),this.o&&!this.K&&(Rt==4?qo(this.j,this):(this.o=!1,ri(this)))}else Ii(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),Sn(this)}}}catch{}finally{}};function Fc(u){if(!Vo(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let v="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<T;F++)u.h.h=!0,v+=u.h.i.decode(m[F],{stream:!(L&&F==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Oo(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Ua(u,u.H)}function Ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Zs(this.i,this.B),this.M!=2&&(ei(),ve(17)),fn(this),this.m=2,Sn(this)):Ua(this,this.T-u)};function Sn(u){u.j.I==0||u.K||qo(u.j,u)}function fn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Qa(v),os(v);else break t;ra(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&Qa(v),!S(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const oe=Gt[0];if(!(oe<=v.K))if(v.K=oe,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Nn=Gt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const yi=Gt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Qn=Gt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const la=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var F=T.h;F.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(el(F,F.h),F.h=null))}if(T.G){const Fa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(T.wa=Fa,Xt(T.J,T.G,Fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var rt=u;if(T.na=Qo(T,T.L?T.ba:null,T.W),rt.L){nl(T.h,rt);var Rt=rt,me=T.O;me&&(Rt.H=me),Rt.D&&(li(Rt),ri(Rt)),T.g=rt}else Bo(T);v.i.length>0&&gi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||pi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?pi(v,7):hl(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ei(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return z(u.i)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,F=null;T>=0?(L=u[v].substring(0,T),F=u[v].substring(T+1)):L=u[v],m(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,es(this,u.u),this.h=u.h,sl(this,zo(u.i)),this.m=u.m):u&&(m=String(u).match(jo))?(this.l=!1,Me(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),es(this,m[4]),this.h=hi(m[5]||"",!0),sl(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new is(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ta(m,La,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ta(m,La,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ta(v,v.charAt(0)=="/"?al:Mo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ta(v,ko)),u.join("")},dn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?Me(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)es(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let rt=0;rt<L.length;){const Rt=L[rt++];Rt=="."?T&&rt==L.length&&F.push(""):Rt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),T&&rt==L.length&&F.push("")):(F.push(Rt),T=!0)}T=F.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?sl(m,zo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new dn(u)}function Me(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function sl(u,m,v){m instanceof is?(u.i=m,Pa(u.i,u.l)):(v||(m=ta(m,ns)),u.i=new is(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function $s(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ta(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var La=/[#\/\?@]/g,Mo=/[#\?:]/g,al=/[#\?]/g,ns=/[#\?@]/g,ko=/#/g;function is(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&za(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=is.prototype,a.add=function(u,m){nn(this),this.i=null,u=ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Uo(u,m){nn(u),m=ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function rl(u,m){return nn(u),m=ss(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function ll(u,m){nn(u);let v=[];if(typeof m=="string")rl(u,m)&&(v=v.concat(u.g.get(ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return nn(this),this.i=null,u=ss(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function Ba(u,m,v){Uo(u,m),v.length>0&&(u.i=null,u.g.set(ss(u,m),z(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ci(v);v=ll(this,v);for(let F=0;F<v.length;F++){let rt=L;v[F]!==""&&(rt+="="+Ci(v[F])),u.push(rt)}}return this.i=u.join("&")};function zo(u){const m=new is;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Pa(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(Uo(this,T),Ba(this,L,v))},u)),u.j=m}function qn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=x(An,v,"TestLoadImage: loaded",!0,m,T),T.onerror=x(An,v,"TestLoadImage: error",!1,m,T),T.onabort=x(An,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(An,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ol(u,m){const v=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function as(){this.g=new Ao}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(fi,wo),fi.prototype.g=function(){return new ea(this.i,this.h)};function ea(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ea,_e),a=ea.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rs(this):Hn(this),this.readyState==3&&qa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,rs(this))},a.Na=function(u){this.g&&(this.response=u,rs(this))},a.ga=function(){this.g&&rs(this)};function rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return W(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function na(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Ci(v):Xt(u,m,v))}function Wt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,_e);var di=/^https?$/i,ul=["POST","PUT"];a=Wt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wr.g(),this.g.onreadystatechange=R(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){ia(this,F);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())v.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of v)this.g.setRequestHeader(F,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){ia(this,F)}};function ia(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),Di(u)}function cl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Wt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},a.Xa=function(){sa(this)};function sa(u){if(u.h&&typeof h<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=F===0){let rt=String(u.D).match(jo)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!di.test(rt?rt.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",cl(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var v=Io(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[L]||[];m[L]=F,F.push(v)}it(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ls(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new as,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ls.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Qo(this,null,this.W),gi(this)};function hl(u){if(Ha(u),u.I==3){var m=u.V++,v=xe(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),aa(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=$s(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Fo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}Go(u)}function os(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function Ha(u){os(u),u.v&&(d.clearTimeout(u.v),u.v=null),Qa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||N(),St||(zt(),St=!0),D.add(m,u),u.D=0}}function Ga(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),Ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=w(F),st(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Lo(this,L,m),v=xe(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),aa(this,v),F&&(this.R?m="headers="+Ci(wn(F))+"&"+m:this.u&&na(v,this.u,F)),el(this.h,L),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),L.U=!0,ai(L,v,null)):ai(L,v,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var v;m?v=m.l:v=u.V++;const T=xe(u.J);Xt(T,"SID",u.M),Xt(T,"RID",v),Xt(T,"AID",u.K),aa(u,T),u.u&&u.o&&na(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Lo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,v),ai(v,T,m)}function aa(u,m){u.H&&W(u.H,function(v,T){Xt(m,T,v)}),u.l&&W({},function(v,T){Xt(m,T,v)})}function Lo(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const me=["count="+v];Rt==-1?v>0?(Rt=L[0].g,me.push("ofs="+Rt)):Rt=0:me.push("ofs="+Rt);let Gt=!0;for(let oe=0;oe<v;oe++){var F=L[oe].g;const Nn=L[oe].map;if(F-=Rt,F<0)Rt=Math.max(0,L[oe].g-100),Gt=!1;else try{F="req"+F+"_"||"";try{var rt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[yi,Qn]of rt){let Fn=Qn;y(Qn)&&(Fn=ts(Qn)),me.push(F+yi+"="+encodeURIComponent(Fn))}}catch(yi){throw me.push(F+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Nn)}}if(Gt){rt=me.join("&");break t}}rt=void 0}return u=u.i.splice(0,v),m.G=u,rt}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||N(),St||(zt(),St=!0),D.add(m,u),u.A=0}}function ra(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),Ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),os(this),Po(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),aa(u,m),u.u&&u.o&&na(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=$s(xe(m)),v.u=null,v.R=!0,ka(v,u)}a.Va=function(){this.C!=null&&(this.C=null,os(this),ra(this),ve(19))};function Qa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){Qa(u),dl(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,nl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ma(),Ie(T,new ni(T,v)),gi(u)}else Bo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ga(u,m)||T==2&&ra(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Ho(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),$s(T),L?qn(T.toString(),v):ol(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Go(u),Ha(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function Qo(u,m,v){var T=v instanceof dn?xe(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),es(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const F=new dn(null);T&&Me(F,T),m&&(F.g=m),L&&es(F,L),v&&(F.h=v),T=F}return v=u.G,m=u.wa,v&&m&&Xt(T,v,m),Xt(T,"VER",u.ka),aa(u,T),T}function Fo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new fi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function us(){}us.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){_e.call(this),this.g=new ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A($e,_e),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){hl(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ts(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&gi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,$e.Z.N.call(this)};function Ko(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ko,ze);function Xo(){Tn.call(this),this.status=1}A(Xo,Tn);function Vi(u){this.g=u}A(Vi,Yo),Vi.prototype.ra=function(){Ie(this.g,"a")},Vi.prototype.qa=function(u){Ie(this.g,new Ko(u))},Vi.prototype.pa=function(u){Ie(this.g,new Xo)},Vi.prototype.oa=function(){Ie(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,w_=function(){return new us},A_=function(){return Ma()},S_=de,cd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,lc=Js,Jr.COMPLETE="complete",T_=Jr,No.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,to=No,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,x_=Wt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Pr="12.9.0";function xT(a){Pr=a}const Ra=new g_("@firebase/firestore");function xr(){return Ra.logLevel}function ct(a,...e){if(Ra.logLevel<=Pt.DEBUG){const i=e.map(Id);Ra.debug(`Firestore (${Pr}): ${a}`,...i)}}function Zi(a,...e){if(Ra.logLevel<=Pt.ERROR){const i=e.map(Id);Ra.error(`Firestore (${Pr}): ${a}`,...i)}}function Ca(a,...e){if(Ra.logLevel<=Pt.WARN){const i=e.map(Id);Ra.warn(`Firestore (${Pr}): ${a}`,...i)}}function Id(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function bt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,N_(a,r,i)}function N_(a,e,i){let r=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Ft(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||N_(e,o,r)}function Nt(a,e){return a}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class ST{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AT{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let r=this.i;const o=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let h=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new wa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=h;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},y=E=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>y(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new wa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new R_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class wT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new wT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new i0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=CT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function kt(a,e){return a<e?-1:a>e?1:0}function hd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Jf(o)===Jf(h)?kt(o,h):Jf(o)?1:-1}return kt(a.length,e.length)}const DT=55296,IT=57343;function Jf(a){const e=a.charCodeAt(0);return e>=DT&&e<=IT}function Ir(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const s0="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&bt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=xi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return kt(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class ie extends xi{construct(e,i,r){return new ie(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const VT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends xi{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return VT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Qe([s0])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ie.fromString(e))}static fromName(e){return new yt(ie.fromString(e).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ie(e.slice()))}}function C_(a,e,i){if(!i)throw new ut(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function OT(a,e,i,r){if(e===!0&&r===!0)throw new ut(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function a0(a){if(!yt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function r0(a){if(yt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function D_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Nc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":bt(12329,{type:typeof a})}function Us(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nc(a);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Ce(a,e){const i={typeString:a};return e&&(i.value=e),i}function vo(a,e){if(!D_(a))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ut(tt.INVALID_ARGUMENT,i);return!0}const l0=-62135596800,o0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*o0);return new se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<l0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vo(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fo=-1;function jT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ls(o,yt.empty(),e)}function MT(a){return new Ls(a.readTime,a.key,fo)}class Ls{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ls(At.min(),yt.empty(),fo)}static max(){return new Ls(At.max(),yt.empty(),fo)}}function kT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,e.documentKey),i!==0?i:kt(a.largestBatchId,e.largestBatchId))}const UT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qr(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==UT)throw a;ct("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,r)=>{i(e)}))}static reject(e){return new nt(((i,r)=>{r(e)}))}static waitFor(e){return new nt(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(E=>r(E)))})),d=!0,h===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const r of e)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new nt(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let E=0;E<h;E++){const _=E;i(e[_]).next((x=>{d[_]=x,++y,y===h&&r(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new nt(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function LT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hr(a){return a.name==="IndexedDbTransactionError"}class Rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;const Od=-1;function Cc(a){return a==null}function yc(a){return a===0&&1/a==-1/0}function BT(a){return typeof a=="number"&&Number.isInteger(a)&&!yc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const I_="";function PT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=u0(e)),e=qT(a.get(i),e);return u0(e)}function qT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case I_:i+="";break;default:i+=h}}return i}function u0(a){return a+I_+""}function c0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Qs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function V_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ce{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new xn([])}unionWith(e){let i=new Oe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ir(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class O_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new O_("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const HT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(a){if(Ft(!!a,39018),typeof a=="string"){let e=0;const i=HT.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ps(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}const j_="server_timestamp",M_="__type__",k_="__previous_value__",U_="__local_write_time__";function jd(a){return(a?.mapValue?.fields||{})[M_]?.stringValue===j_}function Dc(a){const e=a.mapValue.fields[k_];return jd(e)?Dc(e):e}function mo(a){const e=Bs(a.mapValue.fields[U_].timestampValue);return new se(e.seconds,e.nanos)}class GT{constructor(e,i,r,o,h,d,y,E,_,x,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=E,this.useFetchStreams=_,this.isUsingEmulator=x,this.apiKey=A}}const _c="(default)";class go{constructor(e,i){this.projectId=e,this.database=i||_c}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===_c}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}function QT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(a.options.projectId,e)}const z_="__type__",FT="__max__",ec={mapValue:{}},L_="__vector__",vc="value";function qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?jd(a)?4:KT(a)?9007199254740991:YT(a)?10:11:bt(28295,{value:a})}function Ni(a,e){if(a===e)return!0;const i=qs(a);if(i!==qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return mo(a).isEqual(mo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Bs(o.timestampValue),y=Bs(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Ps(o.bytesValue).isEqual(Ps(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),y=ye(h.doubleValue);return d===y?yc(d)===yc(y):isNaN(d)&&isNaN(y)}return!1})(a,e);case 9:return Ir(a.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(c0(d)!==c0(y))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(y[E]===void 0||!Ni(d[E],y[E])))return!1;return!0})(a,e);default:return bt(52216,{left:a})}}function po(a,e){return(a.values||[]).find((i=>Ni(i,e)))!==void 0}function Vr(a,e){if(a===e)return 0;const i=qs(a),r=qs(e);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ye(h.integerValue||h.doubleValue),E=ye(d.integerValue||d.doubleValue);return y<E?-1:y>E?1:y===E?0:isNaN(y)?isNaN(E)?0:-1:1})(a,e);case 3:return f0(a.timestampValue,e.timestampValue);case 4:return f0(mo(a),mo(e));case 5:return hd(a.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ps(h),E=Ps(d);return y.compareTo(E)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),E=d.split("/");for(let _=0;_<y.length&&_<E.length;_++){const x=kt(y[_],E[_]);if(x!==0)return x}return kt(y.length,E.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=kt(ye(h.latitude),ye(d.latitude));return y!==0?y:kt(ye(h.longitude),ye(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return d0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},E=d.fields||{},_=y[vc]?.arrayValue,x=E[vc]?.arrayValue,A=kt(_?.values?.length||0,x?.values?.length||0);return A!==0?A:d0(_,x)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const y=h.fields||{},E=Object.keys(y),_=d.fields||{},x=Object.keys(_);E.sort(),x.sort();for(let A=0;A<E.length&&A<x.length;++A){const R=hd(E[A],x[A]);if(R!==0)return R;const z=Vr(y[E[A]],_[x[A]]);if(z!==0)return z}return kt(E.length,x.length)})(a.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function f0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return kt(a,e);const i=Bs(a),r=Bs(e),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function d0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Vr(i[o],r[o]);if(h)return h}return kt(i.length,r.length)}function Or(a){return fd(a)}function fd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Bs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ps(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=fd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${fd(i.fields[d])}`;return o+"}"})(a.mapValue):bt(61005,{value:a})}function oc(a){switch(qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(a);return e?16+oc(e):16;case 5:return 2*a.stringValue.length;case 6:return Ps(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+oc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Qs(r.fields,((h,d)=>{o+=h.length+oc(d)})),o})(a.mapValue);default:throw bt(13486,{value:a})}}function m0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function dd(a){return!!a&&"integerValue"in a}function Md(a){return!!a&&"arrayValue"in a}function g0(a){return!!a&&"nullValue"in a}function p0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function uc(a){return!!a&&"mapValue"in a}function YT(a){return(a?.mapValue?.fields||{})[z_]?.stringValue===L_}function ro(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Qs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ro(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(a.arrayValue.values[i]);return e}return{...a}}function KT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===FT}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const E=this.getFieldsMap(i);this.applyChanges(E,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=ro(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Qs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new cn(ro(this.value))}}function B_(a){const e=[];return Qs(a.fields,((i,r)=>{const o=new Qe([i]);if(uc(r)){const h=B_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new xn(e)}class Ze{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ze(e,0,At.min(),At.min(),At.min(),cn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,At.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,At.min(),At.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,At.min(),At.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ec{constructor(e,i){this.position=e,this.inclusive=i}}function y0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),i.key):r=Vr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function _0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ni(a.position[i],e.position[i]))return!1;return!0}class yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function XT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class P_{}class Re extends P_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new JT(e,i,r):i==="array-contains"?new t1(e,r):i==="in"?new e1(e,r):i==="not-in"?new n1(e,r):i==="array-contains-any"?new i1(e,r):new Re(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new WT(e,r):new $T(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&qs(this.value)===qs(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends P_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ti(e,i)}matches(e){return q_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q_(a){return a.op==="and"}function H_(a){return ZT(a)&&q_(a)}function ZT(a){for(const e of a.filters)if(e instanceof ti)return!1;return!0}function md(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Or(a.value);if(H_(a))return a.filters.map((e=>md(e))).join(",");{const e=a.filters.map((i=>md(i))).join(",");return`${a.op}(${e})`}}function G_(a,e){return a instanceof Re?(function(r,o){return o instanceof Re&&r.op===o.op&&r.field.isEqual(o.field)&&Ni(r.value,o.value)})(a,e):a instanceof ti?(function(r,o){return o instanceof ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&G_(d,o.filters[y])),!0):!1})(a,e):void bt(19439)}function Q_(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Or(i.value)}`})(a):a instanceof ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(Q_).join(" ,")+"}"})(a):"Filter"}class JT extends Re{constructor(e,i,r){super(e,i,r),this.key=yt.fromName(r.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class WT extends Re{constructor(e,i){super(e,"in",i),this.keys=F_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $T extends Re{constructor(e,i){super(e,"not-in",i),this.keys=F_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function F_(a,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class t1 extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&po(i.arrayValue,this.value)}}class e1 extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&po(this.value.arrayValue,i)}}class n1 extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!po(this.value.arrayValue,i)}}class i1 extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>po(this.value.arrayValue,r)))}}class s1{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function v0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new s1(a,e,i,r,o,h,d)}function kd(a){const e=Nt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>md(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Or(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Or(r))).join(",")),e.Te=i}return e.Te}function Ud(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!XT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!G_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!_0(a.startAt,e.startAt)&&_0(a.endAt,e.endAt)}function gd(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Gr{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function a1(a,e,i,r,o,h,d,y){return new Gr(a,e,i,r,o,h,d,y)}function zd(a){return new Gr(a)}function E0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function r1(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Y_(a){return a.collectionGroup!==null}function lo(a){const e=Nt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Qe.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new yo(h,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new yo(Qe.keyField(),r))}return e.Ie}function Ti(a){const e=Nt(a);return e.Ee||(e.Ee=l1(e,lo(a))),e.Ee}function l1(a,e){if(a.limitType==="F")return v0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new yo(o.field,h)}));const i=a.endAt?new Ec(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Ec(a.startAt.position,a.startAt.inclusive):null;return v0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function pd(a,e){const i=a.filters.concat([e]);return new Gr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function o1(a,e){const i=a.explicitOrderBy.concat([e]);return new Gr(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function yd(a,e,i){return new Gr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Ic(a,e){return Ud(Ti(a),Ti(e))&&a.limitType===e.limitType}function K_(a){return`${kd(Ti(a))}|lt:${a.limitType}`}function Tr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Q_(o))).join(", ")}]`),Cc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Or(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Or(o))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function Vc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):yt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of lo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,E){const _=y0(d,y,E);return d.inclusive?_<=0:_<0})(r.startAt,lo(r),o)||r.endAt&&!(function(d,y,E){const _=y0(d,y,E);return d.inclusive?_>=0:_>0})(r.endAt,lo(r),o))})(a,e)}function u1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function X_(a){return(e,i)=>{let r=!1;for(const o of lo(a)){const h=c1(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function c1(a,e,i){const r=a.field.isKeyField()?yt.comparator(e.key,i.key):(function(h,d,y){const E=d.data.field(h),_=y.data.field(h);return E!==null&&_!==null?Vr(E,_):bt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:a.dir})}}class Ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return V_(this.inner)}size(){return this.innerSize}}const h1=new ce(yt.comparator);function Ji(){return h1}const Z_=new ce(yt.comparator);function eo(...a){let e=Z_;for(const i of a)e=e.insert(i.key,i);return e}function J_(a){let e=Z_;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Aa(){return oo()}function W_(){return oo()}function oo(){return new Ia((a=>a.toString()),((a,e)=>a.isEqual(e)))}const f1=new ce(yt.comparator),d1=new Oe(yt.comparator);function Ut(...a){let e=d1;for(const i of a)e=e.add(i);return e}const m1=new Oe(kt);function g1(){return m1}function Ld(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function $_(a){return{integerValue:""+a}}function p1(a,e){return BT(e)?$_(e):Ld(a,e)}class Oc{constructor(){this._=void 0}}function y1(a,e,i){return a instanceof _o?(function(o,h){const d={fields:{[M_]:{stringValue:j_},[U_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&jd(h)&&(h=Dc(h)),h&&(d.fields[k_]=h),{mapValue:d}})(i,e):a instanceof jr?ev(a,e):a instanceof Mr?nv(a,e):(function(o,h){const d=tv(o,h),y=b0(d)+b0(o.Ae);return dd(d)&&dd(o.Ae)?$_(y):Ld(o.serializer,y)})(a,e)}function _1(a,e,i){return a instanceof jr?ev(a,e):a instanceof Mr?nv(a,e):i}function tv(a,e){return a instanceof bc?(function(r){return dd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class _o extends Oc{}class jr extends Oc{constructor(e){super(),this.elements=e}}function ev(a,e){const i=iv(e);for(const r of a.elements)i.some((o=>Ni(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Mr extends Oc{constructor(e){super(),this.elements=e}}function nv(a,e){let i=iv(e);for(const r of a.elements)i=i.filter((o=>!Ni(o,r)));return{arrayValue:{values:i}}}class bc extends Oc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function b0(a){return ye(a.integerValue||a.doubleValue)}function iv(a){return Md(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Bd{constructor(e,i){this.field=e,this.transform=i}}function v1(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof jr&&o instanceof jr||r instanceof Mr&&o instanceof Mr?Ir(r.elements,o.elements,Ni):r instanceof bc&&o instanceof bc?Ni(r.Ae,o.Ae):r instanceof _o&&o instanceof _o})(a.transform,e.transform)}class E1{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class jc{}function sv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Pd(a.key,Wn.none()):new Eo(a.key,a.data,Wn.none());{const i=a.data,r=cn.empty();let o=new Oe(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Fs(a.key,r,new xn(o.toArray()),Wn.none())}}function b1(a,e,i){a instanceof Eo?(function(o,h,d){const y=o.value.clone(),E=T0(o.fieldTransforms,h,d.transformResults);y.setAll(E),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):a instanceof Fs?(function(o,h,d){if(!cc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=T0(o.fieldTransforms,h,d.transformResults),E=h.data;E.setAll(av(o)),E.setAll(y),h.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function uo(a,e,i,r){return a instanceof Eo?(function(h,d,y,E){if(!cc(h.precondition,d))return y;const _=h.value.clone(),x=S0(h.fieldTransforms,E,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Fs?(function(h,d,y,E){if(!cc(h.precondition,d))return y;const _=S0(h.fieldTransforms,E,d),x=d.data;return x.setAll(av(h)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(a,e,i,r):(function(h,d,y){return cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,e,i)}function x1(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=tv(r.transform,o||null);h!=null&&(i===null&&(i=cn.empty()),i.set(r.field,h))}return i||null}function x0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ir(r,o,((h,d)=>v1(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends jc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends jc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function av(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function T0(a,e,i){const r=new Map;Ft(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,_1(d,y,i[o]))}return r}function S0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,y1(h,d,e))}return r}class Pd extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T1 extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S1{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&b1(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=W_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const E=sv(d,y);E!==null&&r.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Ir(this.mutations,e.mutations,((i,r)=>x0(i,r)))&&Ir(this.baseMutations,e.baseMutations,((i,r)=>x0(i,r)))}}class qd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return f1})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new qd(e,i,r,o)}}class A1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w1{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ne,Bt;function N1(a){switch(a){case tt.OK:return bt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return bt(15467,{code:a})}}function rv(a){if(a===void 0)return Zi("GRPC error has no .code"),tt.UNKNOWN;switch(a){case Ne.OK:return tt.OK;case Ne.CANCELLED:return tt.CANCELLED;case Ne.UNKNOWN:return tt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return tt.INTERNAL;case Ne.UNAVAILABLE:return tt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return tt.NOT_FOUND;case Ne.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ne.ABORTED:return tt.ABORTED;case Ne.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ne.DATA_LOSS:return tt.DATA_LOSS;default:return bt(39323,{code:a})}}(Bt=Ne||(Ne={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function R1(){return new TextEncoder}const C1=new ks([4294967295,4294967295],0);function A0(a){const e=R1().encode(a),i=new b_;return i.update(e),new Uint8Array(i.digest())}function w0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ks([i,r],0),new ks([o,h],0)]}class Hd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ks.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ks.fromNumber(r)));return o.compare(C1)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=A0(e),[r,o]=w0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Hd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=A0(e),[r,o]=w0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mc(At.min(),o,new ce(kt),Ji(),Ut())}}class bo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new bo(r,i,Ut(),Ut(),Ut())}}class hc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class lv{constructor(e,i){this.targetId=e,this.Ce=i}}class ov{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class N0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:h})}})),new bo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=R0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class D1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=nc(),this.Je=nc(),this.Ze=new ce(kt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(gd(h))if(r===0){const d=new yt(h.path);this.et(i,d,Ze.newNoDocument(d,At.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),E=y?this.ct(y,e,d):1;if(E!==0){this.it(i);const _=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Ps(r).toUint8Array()}catch(E){if(E instanceof O_)return Ca("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{y=new Hd(d,o,h)}catch(E){return Ca(E instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&gd(y.target)){const E=new yt(y.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,Ze.newNoDocument(E,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Ut();this.Je.forEach(((h,d)=>{let y=!0;d.forEachWhile((E=>{const _=this.ot(E);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Mc(e,i,this.Ze,this.je,r);return this.je=Ji(),this.He=nc(),this.Je=nc(),this.Ze=new ce(kt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new N0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Oe(kt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Oe(kt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new ce(yt.comparator)}function R0(){return new ce(yt.comparator)}const I1={asc:"ASCENDING",desc:"DESCENDING"},V1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O1={and:"AND",or:"OR"};class j1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(a,e){return a.useProto3Json||Cc(e)?e:{value:e}}function xc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function M1(a,e){return xc(a,e.toTimestamp())}function Si(a){return Ft(!!a,49232),At.fromTimestamp((function(i){const r=Bs(i);return new se(r.seconds,r.nanos)})(a))}function Gd(a,e){return vd(a,e).canonicalString()}function vd(a,e){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function cv(a){const e=ie.fromString(a);return Ft(gv(e),10190,{key:e.toString()}),e}function Ed(a,e){return Gd(a.databaseId,e.path)}function Wf(a,e){const i=cv(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(fv(i))}function hv(a,e){return Gd(a.databaseId,e)}function k1(a){const e=cv(a);return e.length===4?ie.emptyPath():fv(e)}function bd(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function fv(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function C0(a,e,i){return{name:Ed(a,e),fields:i.value.mapValue.fields}}function U1(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,x){return _.useProto3Json?(Ft(x===void 0||typeof x=="string",58123),Fe.fromBase64String(x||"")):(Ft(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Fe.fromUint8Array(x||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const x=_.code===void 0?tt.UNKNOWN:rv(_.code);return new ut(x,_.message||"")})(d);i=new ov(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wf(a,r.document.name),h=Si(r.document.updateTime),d=r.document.createTime?Si(r.document.createTime):At.min(),y=new cn({mapValue:{fields:r.document.fields}}),E=Ze.newFoundDocument(o,h,d,y),_=r.targetIds||[],x=r.removedTargetIds||[];i=new hc(_,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wf(a,r.document),h=r.readTime?Si(r.readTime):At.min(),d=Ze.newNoDocument(o,h),y=r.removedTargetIds||[];i=new hc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wf(a,r.document),h=r.removedTargetIds||[];i=new hc([],h,o,null)}else{if(!("filter"in e))return bt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new w1(o,h),y=r.targetId;i=new lv(y,d)}}return i}function z1(a,e){let i;if(e instanceof Eo)i={update:C0(a,e.key,e.value)};else if(e instanceof Pd)i={delete:Ed(a,e.key)};else if(e instanceof Fs)i={update:C0(a,e.key,e.data),updateMask:Y1(e.fieldMask)};else{if(!(e instanceof T1))return bt(16599,{dt:e.type});i={verify:Ed(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof _o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof jr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Mr)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof bc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw bt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:M1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(a,e.precondition)),i}function L1(a,e){return a&&a.length>0?(Ft(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Si(o.updateTime):Si(h);return d.isEqual(At.min())&&(d=Si(h)),new E1(d,o.transformResults||[])})(i,e)))):[]}function B1(a,e){return{documents:[hv(a,e.path)]}}function P1(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=hv(a,o);const h=(function(_){if(_.length!==0)return mv(ti.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((x=>(function(R){return{field:Sr(R.field),direction:G1(R.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=_d(a,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function q1(a){let e=k1(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let h=[];i.where&&(h=(function(A){const R=dv(A);return R instanceof ti&&H_(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((R=>(function(et){return new yo(Ar(et.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(R)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let R;return R=typeof A=="object"?A.value:A,Cc(R)?null:R})(i.limit));let E=null;i.startAt&&(E=(function(A){const R=!!A.before,z=A.values||[];return new Ec(z,R)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const R=!A.before,z=A.values||[];return new Ec(z,R)})(i.endAt)),a1(e,o,d,h,y,"F",E,_)}function H1(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function dv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ar(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ar(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ar(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ar(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(Ar(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ti.create(i.compositeFilter.filters.map((r=>dv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(a):bt(30097,{filter:a})}function G1(a){return I1[a]}function Q1(a){return V1[a]}function F1(a){return O1[a]}function Sr(a){return{fieldPath:a.canonicalString()}}function Ar(a){return Qe.fromServerFormat(a.fieldPath)}function mv(a){return a instanceof Re?(function(i){if(i.op==="=="){if(p0(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NAN"}};if(g0(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(p0(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NAN"}};if(g0(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(i.field),op:Q1(i.op),value:i.value}}})(a):a instanceof ti?(function(i){const r=i.getFilters().map((o=>mv(o)));return r.length===1?r[0]:{compositeFilter:{op:F1(i.op),filters:r}}})(a):bt(54877,{filter:a})}function Y1(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function pv(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Os{constructor(e,i,r,o,h=At.min(),d=At.min(),y=Fe.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=E}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K1{constructor(e){this.yt=e}}function X1(a){const e=q1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?yd(e,e.limit,"L"):e}class Z1{constructor(){this.Sn=new J1}addToCollectionParentIndex(e,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(Ls.min())}updateCollectionGroup(e,i,r){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class J1{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Oe(ie.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Oe(ie.comparator)).toArray()}}const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yv=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(yv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class kr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kr(0)}static ar(){return new kr(-1)}}const I0="LruGarbageCollector",W1=1048576;function V0([a,e],[i,r]){const o=kt(a,i);return o===0?kt(e,r):o}class $1{constructor(e){this.Pr=e,this.buffer=new Oe(V0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();V0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ct(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hr(i)?ct(I0,"Ignoring IndexedDB error during garbage collection: ",i):await qr(i)}await this.Ar(3e5)}))}}class eS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(Rc.ce);const r=new $1(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(D0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,y,E,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,i)))).next((A=>(h=A,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),xr()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(E-y)+`ms
	Removed ${A} documents in `+(_-E)+`ms
Total Duration: ${_-x}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function nS(a,e){return new eS(a,e)}class iS{constructor(){this.changes=new Ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class aS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&uo(r.mutation,o,xn.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ut()){const o=Aa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=eo();return h.forEach(((y,E)=>{d=d.insert(y,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Aa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ut())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Ji();const d=oo(),y=(function(){return oo()})();return i.forEach(((E,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof Fs)?h=h.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),uo(x.mutation,_,x.mutation.getFieldMask(),se.now())):d.set(_.key,xn.empty())})),this.recalculateAndSaveOverlays(e,h).next((E=>(E.forEach(((_,x)=>d.set(_,x))),i.forEach(((_,x)=>y.set(_,new sS(x,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=oo();let o=new ce(((d,y)=>d-y)),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((E=>{const _=i.get(E);if(_===null)return;let x=r.get(E)||xn.empty();x=y.applyToLocalView(_,x),r.set(E,x);const A=(o.get(y.batchId)||Ut()).add(E);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const E=y.getNext(),_=E.key,x=E.value,A=W_();x.forEach((R=>{if(!h.has(R)){const z=sv(i.get(R),r.get(R));z!==null&&A.set(R,z),h=h.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return nt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return r1(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Y_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):nt.resolve(Aa());let y=fo,E=h;return d.next((_=>nt.forEach(_,((x,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),h.get(x)?nt.resolve():this.remoteDocumentCache.getEntry(e,x).next((R=>{E=E.insert(x,R)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,E,_,Ut()))).next((x=>({batchId:y,changes:J_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((r=>{let o=eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,h).next((y=>nt.forEach(y,(E=>{const _=(function(A,R){return new Gr(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,E.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((A,R)=>{d=d.insert(A,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((E,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,Ze.newInvalidDocument(x)))}));let y=eo();return d.forEach(((E,_)=>{const x=h.get(E);x!==void 0&&uo(x.mutation,_,xn.empty(),se.now()),Vc(i,_)&&(y=y.insert(E,_))})),y}))}}class rS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:X1(o.bundledQuery),readTime:Si(o.readTime)}})(i)),nt.resolve()}}class lS{constructor(){this.overlays=new ce(yt.comparator),this.Lr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Aa();return nt.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),nt.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,i,r){const o=Aa(),h=i.length+1,d=new yt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const E=y.getNext().value,_=E.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&E.largestBatchId>r&&o.set(E.getKey(),E)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ce(((_,x)=>_-x));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let x=h.get(_.largestBatchId);x===null&&(x=Aa(),h=h.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=Aa(),E=h.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return nt.resolve(y)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new A1(i,r));let h=this.Lr.get(i);h===void 0&&(h=Ut(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class oS{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class Qd{constructor(){this.kr=new Oe(Ue.Kr),this.qr=new Oe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new yt(new ie([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new yt(new ie([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Ut();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return yt.comparator(e.key,i.key)||kt(e.Hr,i.Hr)}static Ur(e,i){return kt(e.Hr,i.Hr)||yt.comparator(e.key,i.key)}}class uS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(Ue.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new S1(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return nt.resolve(d)}lookupMutationBatch(e,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return nt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Od:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const y=this.Zr(d.Hr);h.push(y)})),nt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Oe(kt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(y=>{r=r.add(y.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;yt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new yt(h),0);let y=new Oe(kt);return this.Jr.forEachWhile((E=>{const _=E.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(E.Hr)),!0)}),d),nt.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cS{constructor(e){this.ti=e,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=Ji();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Ji();const d=i.path,y=new yt(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(y);for(;E.hasNext();){const{key:_,value:{document:x}}=E.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||kT(MT(x),r)<=0||(o.has(x.key)||Vc(i,x))&&(h=h.insert(x.key,x.mutableCopy()))}return nt.resolve(h)}getAllFromCollectionGroup(e,i,r,o){bt(9500)}ni(e,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new hS(this)}getSize(e){return nt.resolve(this.size)}}class hS extends iS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),nt.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class fS{constructor(e){this.persistence=e,this.ri=new Ia((i=>kd(i)),Ud),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new Qd,this.targetCount=0,this.oi=kr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),nt.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.lr(i),nt.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),nt.waitFor(h).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return nt.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),nt.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),nt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return nt.resolve(r)}containsKey(e,i){return nt.resolve(this.si.containsKey(i))}}class _v{constructor(e,i){this._i={},this.overlays={},this.ai=new Rc(0),this.ui=!1,this.ui=!0,this.ci=new oS,this.referenceDelegate=e(this),this.li=new fS(this),this.indexManager=new Z1,this.remoteDocumentCache=(function(o){return new cS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new K1(i),this.Pi=new rS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new uS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ct("MemoryPersistence","Starting transaction:",e);const o=new dS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class dS extends zT{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.Ri=new Qd,this.Ai=null}static Vi(e){return new Fd(e)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),nt.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=yt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,At.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Tc{constructor(e,i){this.persistence=e,this.fi=new Ia((r=>PT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=nS(this,i)}static Vi(e,i){return new Tc(e,i)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return nt.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?nt.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(r++,h.removeEntry(d,At.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oc(e.data.value)),i}wr(e,i,r){return nt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Ut(),o=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Yd(e,i.fromCache,r,o)}}class mS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sx()?8:LT(nx())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new mS;return this.ys(e,i,d).next((y=>{if(h.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(xr()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(xr()<=Pt.DEBUG&&ct("QueryEngine","Query:",Tr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(xr()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(i))):nt.resolve())}gs(e,i){if(E0(i))return nt.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=yd(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ut(...h);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((E=>{const _=this.bs(i,y);return this.Ss(i,_,d,E.readTime)?this.gs(e,yd(i,null,"F")):this.Ds(e,_,i,E)}))))})))))}ps(e,i,r,o){return E0(i)||o.isEqual(At.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?nt.resolve(null):(xr()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.Ds(e,d,i,jT(o,fo)).next((y=>y)))}))}bs(e,i){let r=new Oe(X_(e));return i.forEach(((o,h)=>{Vc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return xr()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ls.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Kd="LocalStore",pS=3e8;class yS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ce(kt),this.Fs=new Ia((h=>kd(h)),Ud),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function _S(a,e,i,r){return new yS(a,e,i,r)}async function vv(a,e){const i=Nt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let E=Ut();for(const _ of o){d.push(_.batchId);for(const x of _.mutations)E=E.add(x.key)}for(const _ of h){y.push(_.batchId);for(const x of _.mutations)E=E.add(x.key)}return i.localDocuments.getDocuments(r,E).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function vS(a,e){const i=Nt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,E,_,x){const A=_.batch,R=A.keys();let z=nt.resolve();return R.forEach((et=>{z=z.next((()=>x.getEntry(E,et))).next((X=>{const Z=_.docVersions.get(et);Ft(Z!==null,48541),X.version.compareTo(Z)<0&&(A.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),x.addEntry(X)))}))})),z.next((()=>y.mutationQueue.removeMutationBatch(E,A)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let E=Ut();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(E=E.add(y.batch.mutations[_].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Ev(a){const e=Nt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ES(a,e){const i=Nt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((x,A)=>{const R=o.get(A);if(!R)return;y.push(i.li.removeMatchingKeys(h,x.removedDocuments,A).next((()=>i.li.addMatchingKeys(h,x.addedDocuments,A))));let z=R.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):x.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(x.resumeToken,r)),o=o.insert(A,z),(function(X,Z,ft){return X.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=pS?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(R,z,x)&&y.push(i.li.updateTargetData(h,z))}));let E=Ji(),_=Ut();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,x))})),y.push(bS(h,d,e.documentUpdates).next((x=>{E=x.Bs,_=x.Ls}))),!r.isEqual(At.min())){const x=i.li.getLastRemoteSnapshotVersion(h).next((A=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(x)}return nt.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,E,_))).next((()=>E))})).then((h=>(i.vs=o,h)))}function bS(a,e,i){let r=Ut(),o=Ut();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Ji();return i.forEach(((y,E)=>{const _=h.get(y);E.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),E.isNoDocument()&&E.version.isEqual(At.min())?(e.removeEntry(y,E.readTime),d=d.insert(y,E)):!_.isValidDocument()||E.version.compareTo(_.version)>0||E.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(E),d=d.insert(y,E)):ct(Kd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",E.version)})),{Bs:d,Ls:o}}))}function xS(a,e){const i=Nt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TS(a,e){const i=Nt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,nt.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Os(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function xd(a,e,i){const r=Nt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hr(d))throw d;ct(Kd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function O0(a,e,i){const r=Nt(a);let o=At.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,_,x){const A=Nt(E),R=A.Fs.get(x);return R!==void 0?nt.resolve(A.vs.get(R)):A.li.getTargetData(_,x)})(r,d,Ti(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,y.targetId).next((E=>{h=E}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Ut()))).next((y=>(SS(r,u1(e),y),{documents:y,ks:h})))))}function SS(a,e,i){let r=a.Ms.get(e)||At.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class j0{constructor(){this.activeTargetIds=g1()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AS{constructor(){this.vo=new j0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new j0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wS{Mo(e){}shutdown(){}}const M0="ConnectivityMonitor";class k0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(M0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ct(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ic=null;function Td(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}const $f="RestConnection",NS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===_c?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=Td(),y=this.Qo(e,i.toUriEncodedString());ct($f,`Sending RPC '${e}' ${d}:`,y,r);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,o,h);const{host:_}=new URL(y),x=Cd(_);return this.zo(e,y,E,r,x).then((A=>(ct($f,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Ca($f,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",r),A}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=NS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class CS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ke="WebChannelConnection",Wl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Nr extends RS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Nr.c_){const e=A_();Wl(e,S_.STAT_EVENT,(i=>{i.stat===cd.PROXY?ct(Ke,"STAT_EVENT: detected buffering proxy"):i.stat===cd.NOPROXY&&ct(Ke,"STAT_EVENT: detected no buffering proxy")})),Nr.c_=!0}}zo(e,i,r,o,h){const d=Td();return new Promise(((y,E)=>{const _=new x_;_.setWithCredentials(!0),_.listenOnce(T_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case lc.NO_ERROR:const A=_.getResponseJson();ct(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case lc.TIMEOUT:ct(Ke,`RPC '${e}' ${d} timed out`),E(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const R=_.getStatus();if(ct(Ke,`RPC '${e}' ${d} failed with status:`,R,"response text:",_.getResponseText()),R>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const et=z?.error;if(et&&et.status&&et.message){const X=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(_t)>=0?_t:tt.UNKNOWN})(et.status);E(new ut(X,et.message))}else E(new ut(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else E(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(Ke,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ct(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=Td(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=h.join("");ct(Ke,`Creating RPC '${e}' stream ${o}: ${_}`,y);const x=d.createWebChannel(_,y);this.I_(x);let A=!1,R=!1;const z=new CS({Ho:et=>{R?ct(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(A||(ct(Ke,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ct(Ke,`RPC '${e}' stream ${o} sending:`,et),x.send(et))},Jo:()=>x.close()});return Wl(x,to.EventType.OPEN,(()=>{R||(ct(Ke,`RPC '${e}' stream ${o} transport opened.`),z.i_())})),Wl(x,to.EventType.CLOSE,(()=>{R||(R=!0,ct(Ke,`RPC '${e}' stream ${o} transport closed`),z.o_(),this.E_(x))})),Wl(x,to.EventType.ERROR,(et=>{R||(R=!0,Ca(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),z.o_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))})),Wl(x,to.EventType.MESSAGE,(et=>{if(!R){const X=et.data[0];Ft(!!X,16349);const Z=X,ft=Z?.error||Z[0]?.error;if(ft){ct(Ke,`RPC '${e}' stream ${o} received error:`,ft);const _t=ft.status;let dt=(function(St){const D=Ne[St];if(D!==void 0)return rv(D)})(_t),Tt=ft.message;_t==="NOT_FOUND"&&Tt.includes("database")&&Tt.includes("does not exist")&&Tt.includes(this.databaseId.database)&&Ca(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),dt===void 0&&(dt=tt.INTERNAL,Tt="Unknown error status: "+_t+" with message "+ft.message),R=!0,z.o_(new ut(dt,Tt)),x.close()}else ct(Ke,`RPC '${e}' stream ${o} received:`,X),z.__(X)}})),Nr.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return w_()}}function DS(a){return new Nr(a)}function td(){return typeof document<"u"?document:null}function kc(a){return new j1(a,!0)}Nr.c_=!1;class bv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const U0="PersistentStream";class xv{constructor(e,i,r,o,h,d,y,E){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ct(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IS extends xv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=U1(this.serializer,e),r=(function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Si(d.readTime):At.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=bd(this.serializer),i.addTarget=(function(h,d){let y;const E=d.target;if(y=gd(E)?{documents:B1(h,E)}:{query:P1(h,E).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=uv(h,d.resumeToken);const _=_d(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){y.readTime=xc(h,d.snapshotVersion.toTimestamp());const _=_d(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=H1(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=bd(this.serializer),i.removeTarget=e,this.K_(i)}}class VS extends xv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=L1(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=bd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>z1(this.serializer,r)))};this.K_(i)}}class OS{}class jS extends OS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,vd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(tt.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,vd(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MS(a,e,i,r){return new jS(a,e,i,r)}class kS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class US{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Va(this)&&(ct(Da,"Restarting streams for network reachability change."),await(async function(E){const _=Nt(E);_.Ea.add(4),await xo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Uc(_)})(this))}))})),this.Va=new kS(r,o)}}async function Uc(a){if(Va(a))for(const e of a.Ra)await e(!0)}async function xo(a){for(const e of a.Ra)await e(!1)}function Tv(a,e){const i=Nt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wd(i)?Jd(i):Qr(i).O_()&&Zd(i,e))}function Xd(a,e){const i=Nt(a),r=Qr(i);i.Ia.delete(e),r.O_()&&Sv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Va(i)&&i.Va.set("Unknown"))}function Zd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qr(a).Z_(e)}function Sv(a,e){a.da.$e(e),Qr(a).X_(e)}function Jd(a){a.da=new D1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Qr(a).start(),a.Va.ua()}function Wd(a){return Va(a)&&!Qr(a).x_()&&a.Ia.size>0}function Va(a){return Nt(a).Ea.size===0}function Av(a){a.da=void 0}async function zS(a){a.Va.set("Online")}async function LS(a){a.Ia.forEach(((e,i)=>{Zd(a,e)}))}async function BS(a,e){Av(a),Wd(a)?(a.Va.ha(e),Jd(a)):a.Va.set("Unknown")}async function PS(a,e,i){if(a.Va.set("Online"),e instanceof ov&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(a,e)}catch(r){ct(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(a,r)}else if(e instanceof hc?a.da.Xe(e):e instanceof lv?a.da.st(e):a.da.tt(e),!i.isEqual(At.min()))try{const r=await Ev(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.da.Tt(d);return y.targetChanges.forEach(((E,_)=>{if(E.resumeToken.approximateByteSize()>0){const x=h.Ia.get(_);x&&h.Ia.set(_,x.withResumeToken(E.resumeToken,d))}})),y.targetMismatches.forEach(((E,_)=>{const x=h.Ia.get(E);if(!x)return;h.Ia.set(E,x.withResumeToken(Fe.EMPTY_BYTE_STRING,x.snapshotVersion)),Sv(h,E);const A=new Os(x.target,E,_,x.sequenceNumber);Zd(h,A)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){ct(Da,"Failed to raise snapshot:",r),await Sc(a,r)}}async function Sc(a,e,i){if(!Hr(e))throw e;a.Ea.add(1),await xo(a),a.Va.set("Offline"),i||(i=()=>Ev(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ct(Da,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Uc(a)}))}function wv(a,e){return e().catch((i=>Sc(a,i,e)))}async function zc(a){const e=Nt(a),i=Hs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Od;for(;qS(e);)try{const o=await xS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,HS(e,o)}catch(o){await Sc(e,o)}Nv(e)&&Rv(e)}function qS(a){return Va(a)&&a.Ta.length<10}function HS(a,e){a.Ta.push(e);const i=Hs(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function Nv(a){return Va(a)&&!Hs(a).x_()&&a.Ta.length>0}function Rv(a){Hs(a).start()}async function GS(a){Hs(a).ra()}async function QS(a){const e=Hs(a);for(const i of a.Ta)e.ea(i.mutations)}async function FS(a,e,i){const r=a.Ta.shift(),o=qd.from(r,e,i);await wv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await zc(a)}async function YS(a,e){e&&Hs(a).Y_&&await(async function(r,o){if((function(d){return N1(d)&&d!==tt.ABORTED})(o.code)){const h=r.Ta.shift();Hs(r).B_(),await wv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await zc(r)}})(a,e),Nv(a)&&Rv(a)}async function z0(a,e){const i=Nt(a);i.asyncQueue.verifyOperationInProgress(),ct(Da,"RemoteStore received new credentials");const r=Va(i);i.Ea.add(3),await xo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uc(i)}async function KS(a,e){const i=Nt(a);e?(i.Ea.delete(2),await Uc(i)):e||(i.Ea.add(2),await xo(i),i.Va.set("Unknown"))}function Qr(a){return a.ma||(a.ma=(function(i,r,o){const h=Nt(i);return h.sa(),new IS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:zS.bind(null,a),Yo:LS.bind(null,a),t_:BS.bind(null,a),J_:PS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Wd(a)?Jd(a):a.Va.set("Unknown")):(await a.ma.stop(),Av(a))}))),a.ma}function Hs(a){return a.fa||(a.fa=(function(i,r,o){const h=Nt(i);return h.sa(),new VS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GS.bind(null,a),t_:YS.bind(null,a),ta:QS.bind(null,a),na:FS.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await zc(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(Da,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class $d{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new $d(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(a,e){if(Zi("AsyncQueue",`${e}: ${a}`),Hr(a))return new ut(tt.UNAVAILABLE,`${e}: ${a}`);throw a}class Rr{static emptySet(e){return new Rr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=eo(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Rr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class L0{constructor(){this.ga=new ce(yt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ur{constructor(e,i,r,o,h,d,y,E,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=E,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ur(e,i,Rr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class XS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ZS{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Nt(i),h=o.queries;o.queries=B0(),h.forEach(((d,y)=>{for(const E of y.ba)E.onError(r)}))})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function B0(){return new Ia((a=>K_(a)),Ic)}async function JS(a,e){const i=Nt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new XS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=tm(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&em(i)}async function WS(a,e){const i=Nt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function $S(a,e){const i=Nt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.ba)y.Fa(o)&&(r=!0);d.wa=o}}r&&em(i)}function tA(a,e,i){const r=Nt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function em(a){a.Ca.forEach((e=>{e.next()}))}var Sd,P0;(P0=Sd||(Sd={})).Ma="default",P0.Cache="cache";class eA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ur(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ur.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sd.Cache}}class Cv{constructor(e){this.key=e}}class Dv{constructor(e){this.key=e}}class nA{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=X_(e),this.tu=new Rr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new L0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const R=o.get(x),z=Vc(this.query,A)?A:null,et=!!R&&this.mutatedKeys.has(R.key),X=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;R&&z?R.data.isEqual(z.data)?et!==X&&(r.track({type:3,doc:z}),Z=!0):this.su(R,z)||(r.track({type:2,doc:z}),Z=!0,(E&&this.eu(z,E)>0||_&&this.eu(z,_)<0)&&(y=!0)):!R&&z?(r.track({type:0,doc:z}),Z=!0):R&&!z&&(r.track({type:1,doc:R}),Z=!0,(E||_)&&(y=!0)),Z&&(z?(d=d.add(z),h=X?h.add(x):h.delete(x)):(d=d.delete(x),h=h.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),h=h.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,A)=>(function(z,et){const X=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:Z})}};return X(z)-X(et)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],E=this.Ya.size===0&&this.current&&!o?1:0,_=E!==this.Xa;return this.Xa=E,d.length!==0||_?{snapshot:new Ur(this.query,e.tu,h,d,e.mutatedKeys,E===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new Dv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Cv(r))})),i}cu(e){this.Za=e.ks,this.Ya=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ur.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const nm="SyncEngine";class iA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class sA{constructor(e){this.key=e,this.hu=!1}}class aA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ia((y=>K_(y)),Ic),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(yt.comparator),this.Au=new Map,this.Vu=new Qd,this.du={},this.mu=new Map,this.fu=kr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rA(a,e,i=!0){const r=kv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Iv(r,e,i,!0),o}async function lA(a,e){const i=kv(a);await Iv(i,e,!0,!1)}async function Iv(a,e,i,r){const o=await TS(a.localStore,Ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await oA(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Tv(a.remoteStore,o),y}async function oA(a,e,i,r,o){a.pu=(A,R,z)=>(async function(X,Z,ft,_t){let dt=Z.view.ru(ft);dt.Ss&&(dt=await O0(X.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,dt))));const Tt=_t&&_t.targetChanges.get(Z.targetId),zt=_t&&_t.targetMismatches.get(Z.targetId)!=null,St=Z.view.applyChanges(dt,X.isPrimaryClient,Tt,zt);return H0(X,Z.targetId,St.au),St.snapshot})(a,A,R,z);const h=await O0(a.localStore,e,!0),d=new nA(e,h.ks),y=d.ru(h.documents),E=bo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(y,a.isPrimaryClient,E);H0(a,i,_.au);const x=new iA(e,i,d);return a.Tu.set(e,x),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function uA(a,e,i){const r=Nt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Ic(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Xd(r.remoteStore,o.targetId),Ad(r,o.targetId)})).catch(qr)):(Ad(r,o.targetId),await xd(r.localStore,o.targetId,!0))}async function cA(a,e){const i=Nt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xd(i.remoteStore,r.targetId))}async function hA(a,e,i){const r=_A(a);try{const o=await(function(d,y){const E=Nt(d),_=se.now(),x=y.reduce(((z,et)=>z.add(et.key)),Ut());let A,R;return E.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let et=Ji(),X=Ut();return E.xs.getEntries(z,x).next((Z=>{et=Z,et.forEach(((ft,_t)=>{_t.isValidDocument()||(X=X.add(ft))}))})).next((()=>E.localDocuments.getOverlayedDocuments(z,et))).next((Z=>{A=Z;const ft=[];for(const _t of y){const dt=x1(_t,A.get(_t.key).overlayedDocument);dt!=null&&ft.push(new Fs(_t.key,dt,B_(dt.value.mapValue),Wn.exists(!0)))}return E.mutationQueue.addMutationBatch(z,_,ft,y)})).next((Z=>{R=Z;const ft=Z.applyToLocalDocumentSet(A,X);return E.documentOverlayCache.saveOverlays(z,Z.batchId,ft)}))})).then((()=>({batchId:R.batchId,changes:J_(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,E){let _=d.du[d.currentUser.toKey()];_||(_=new ce(kt)),_=_.insert(y,E),d.du[d.currentUser.toKey()]=_})(r,o.batchId,i),await To(r,o.changes),await zc(r.remoteStore)}catch(o){const h=tm(o,"Failed to persist write");i.reject(h)}}async function Vv(a,e){const i=Nt(a);try{const r=await ES(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await To(i,r,e)}catch(r){await qr(r)}}function q0(a,e,i){const r=Nt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const E=Nt(d);E.onlineState=y;let _=!1;E.queries.forEach(((x,A)=>{for(const R of A.ba)R.va(y)&&(_=!0)})),_&&em(E)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fA(a,e,i){const r=Nt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ce(yt.comparator);d=d.insert(h,Ze.newNoDocument(h,At.min()));const y=Ut().add(h),E=new Mc(At.min(),new Map,new ce(kt),d,y);await Vv(r,E),r.Ru=r.Ru.remove(h),r.Au.delete(e),im(r)}else await xd(r.localStore,e,!1).then((()=>Ad(r,e,i))).catch(qr)}async function dA(a,e){const i=Nt(a),r=e.batch.batchId;try{const o=await vS(i.localStore,e);jv(i,r,null),Ov(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await To(i,o)}catch(o){await qr(o)}}async function mA(a,e,i){const r=Nt(a);try{const o=await(function(d,y){const E=Nt(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return E.mutationQueue.lookupMutationBatch(_,y).next((A=>(Ft(A!==null,37113),x=A.keys(),E.mutationQueue.removeMutationBatch(_,A)))).next((()=>E.mutationQueue.performConsistencyCheck(_))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>E.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);jv(r,e,i),Ov(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await To(r,o)}catch(o){await qr(o)}}function Ov(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function jv(a,e,i){const r=Nt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ad(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||Mv(a,r)}))}function Mv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Xd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),im(a))}function H0(a,e,i){for(const r of i)r instanceof Cv?(a.Vu.addReference(r.key,e),gA(a,r)):r instanceof Dv?(ct(nm,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||Mv(a,r.key)):bt(19791,{wu:r})}function gA(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(ct(nm,"New document in limbo: "+i),a.Eu.add(r),im(a))}function im(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new yt(ie.fromString(e)),r=a.fu.next();a.Au.set(r,new sA(i)),a.Ru=a.Ru.insert(i,r),Tv(a.remoteStore,new Os(Ti(zd(i.path)),r,"TargetPurposeLimboResolution",Rc.ce))}}async function To(a,e,i){const r=Nt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,E)=>{d.push(r.pu(E,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Yd.Es(E.targetId,_);h.push(x)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(E,_){const x=Nt(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>nt.forEach(_,(R=>nt.forEach(R.Ts,(z=>x.persistence.referenceDelegate.addReference(A,R.targetId,z))).next((()=>nt.forEach(R.Is,(z=>x.persistence.referenceDelegate.removeReference(A,R.targetId,z)))))))))}catch(A){if(!Hr(A))throw A;ct(Kd,"Failed to update sequence numbers: "+A)}for(const A of _){const R=A.targetId;if(!A.fromCache){const z=x.vs.get(R),et=z.snapshotVersion,X=z.withLastLimboFreeSnapshotVersion(et);x.vs=x.vs.insert(R,X)}}})(r.localStore,h))}async function pA(a,e){const i=Nt(a);if(!i.currentUser.isEqual(e)){ct(nm,"User change. New user:",e.toKey());const r=await vv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((E=>{E.reject(new ut(tt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await To(i,r.Ns)}}function yA(a,e){const i=Nt(a),r=i.Au.get(e);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function kv(a){const e=Nt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fA.bind(null,e),e.Pu.J_=$S.bind(null,e.eventManager),e.Pu.yu=tA.bind(null,e.eventManager),e}function _A(a){const e=Nt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mA.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return _S(this.persistence,new gS,e.initialUser,this.serializer)}Cu(e){return new _v(Fd.Vi,this.serializer)}Du(e){return new AS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class vA extends Ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof Tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new _v((r=>Tc.Vi(r,i)),this.serializer)}}class wd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pA.bind(null,this.syncEngine),await KS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZS})()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),r=DS(e.databaseInfo);return MS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new US(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>q0(this.syncEngine,i,0)),(function(){return k0.v()?new k0:new wS})())}createSyncEngine(e,i){return(function(o,h,d,y,E,_,x){const A=new aA(o,h,d,y,E,_);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Nt(i);ct(Da,"RemoteStore shutting down."),r.Ea.add(5),await xo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wd.provider={build:()=>new wd};class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Gs="FirestoreClient";class bA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ct(Gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ct(Gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=tm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ed(a,e){a.asyncQueue.verifyOperationInProgress(),ct(Gs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function G0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await xA(a);ct(Gs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>z0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>z0(e.remoteStore,o))),a._onlineComponents=e}async function xA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(Gs,"Using user provided OfflineComponentProvider");try{await ed(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ca("Error using user provided cache. Falling back to memory cache: "+i),await ed(a,new Ac)}}else ct(Gs,"Using default OfflineComponentProvider"),await ed(a,new vA(void 0));return a._offlineComponents}async function Uv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(Gs,"Using user provided OnlineComponentProvider"),await G0(a,a._uninitializedComponentsProvider._online)):(ct(Gs,"Using default OnlineComponentProvider"),await G0(a,new wd))),a._onlineComponents}function TA(a){return Uv(a).then((e=>e.syncEngine))}async function Q0(a){const e=await Uv(a),i=e.eventManager;return i.onListen=rA.bind(null,e.syncEngine),i.onUnlisten=uA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cA.bind(null,e.syncEngine),i}function SA(a,e,i,r){const o=new EA(r),h=new eA(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>JS(await Q0(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>WS(await Q0(a),h)))}}function AA(a,e){const i=new wa;return a.asyncQueue.enqueueAndForget((async()=>hA(await TA(a),e,i))),i.promise}function zv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const wA="ComponentProvider",F0=new Map;function NA(a,e,i,r,o){return new GT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,zv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Lv="firestore.googleapis.com",Y0=!0;class K0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lv,this.ssl=Y0}else this.host=e.host,this.ssl=e.ssl??Y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W1)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TT;switch(r.type){case"firstParty":return new NT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=F0.get(i);r&&(ct(wA,"Removing Datastore"),F0.delete(i),r.terminate())})(this),Promise.resolve()}}function RA(a,e,i,r={}){a=Us(a,Lc);const o=Cd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${e}:${i}`;o&&(Jb(`https://${y}`),ex("Firestore",!0)),h.host!==Lv&&h.host!==y&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...h,host:y,ssl:o,emulatorOptions:r};if(!Dr(E,d)&&(a._setSettings(E),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=Xe.MOCK_USER;else{_=Wb(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Xe(A)}a._authCredentials=new ST(new R_(_,x))}}class Oa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class De{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(vo(i,De._jsonSchema))return new De(e,r||null,new yt(ie.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class zs extends Oa{constructor(e,i,r){super(e,i,zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new yt(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function nd(a,e,...i){if(a=wi(a),C_("collection","path",e),a instanceof Lc){const r=ie.fromString(e,...i);return r0(r),new zs(a,null,r)}{if(!(a instanceof De||a instanceof zs))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return r0(r),new zs(a.firestore,null,r)}}function Ki(a,e,...i){if(a=wi(a),arguments.length===1&&(e=Vd.newId()),C_("doc","path",e),a instanceof Lc){const r=ie.fromString(e,...i);return a0(r),new De(a,null,new yt(r))}{if(!(a instanceof De||a instanceof zs))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return a0(r),new De(a.firestore,a instanceof zs?a.converter:null,new yt(r))}}const X0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bv(this,"async_queue_retry"),this._c=()=>{const r=td();r&&ct(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Hr(e))throw e;ct(X0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",J0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function J0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class zr extends Lc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function CA(a,e){const i=typeof a=="object"?a:hT(),r=typeof a=="string"?a:_c,o=rT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=Xb("firestore");h&&RA(o,...h)}return o}function Bv(a){if(a._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||DA(a),a._firestoreClient}function DA(a){const e=a._freezeSettings(),i=NA(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new bA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Fe.fromBase64String(e))}catch(i){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new kn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vo(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};class sm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fr{constructor(e){this._methodName=e}}class Ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(vo(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class $n{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vo(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $n(e.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ce("string",$n._jsonSchemaVersion),vectorValues:Ce("object")};const IA=/^__.*__$/;class VA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}class Pv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Fs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:a})}}class Bc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Bc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qv(this.dataSource)&&IA.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class OA{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||kc(e)}createContext(e,i,r,o=!1){return new Bc({dataSource:e,methodName:i,targetDoc:r,path:Qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(a){const e=a._freezeSettings(),i=kc(a._databaseId);return new OA(a._databaseId,!!e.ignoreUndefinedProperties,i)}function jA(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);um("Data must be an object, but it was:",d,r);const y=Gv(r,d);let E,_;if(h.merge)E=new xn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const x=[];for(const A of h.mergeFields){const R=Lr(e,A,i);if(!d.contains(R))throw new ut(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Yv(x,R)||x.push(R)}E=new xn(x),_=d.fieldTransforms.filter((A=>E.covers(A.field)))}else E=null,_=d.fieldTransforms;return new VA(new cn(y),E,_)}class Pc extends Fr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pc}}function Hv(a,e,i){return new Bc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rm extends Fr{_toFieldTransform(e){return new Bd(e.path,new _o)}isEqual(e){return e instanceof rm}}class lm extends Fr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Hv(this,e,!0),r=this.Ac.map((h=>ja(h,i))),o=new jr(r);return new Bd(e.path,o)}isEqual(e){return e instanceof lm&&Dr(this.Ac,e.Ac)}}class om extends Fr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Hv(this,e,!0),r=this.Ac.map((h=>ja(h,i))),o=new Mr(r);return new Bd(e.path,o)}isEqual(e){return e instanceof om&&Dr(this.Ac,e.Ac)}}function MA(a,e,i,r){const o=a.createContext(1,e,i);um("Data must be an object, but it was:",o,r);const h=[],d=cn.empty();Qs(r,((E,_)=>{const x=Fv(e,E,i);_=wi(_);const A=o.childContextForFieldPath(x);if(_ instanceof Pc)h.push(x);else{const R=ja(_,A);R!=null&&(h.push(x),d.set(x,R))}}));const y=new xn(h);return new Pv(d,y,o.fieldTransforms)}function kA(a,e,i,r,o,h){const d=a.createContext(1,e,i),y=[Lr(e,r,i)],E=[o];if(h.length%2!=0)throw new ut(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)y.push(Lr(e,h[R])),E.push(h[R+1]);const _=[],x=cn.empty();for(let R=y.length-1;R>=0;--R)if(!Yv(_,y[R])){const z=y[R];let et=E[R];et=wi(et);const X=d.childContextForFieldPath(z);if(et instanceof Pc)_.push(z);else{const Z=ja(et,X);Z!=null&&(_.push(z),x.set(z,Z))}}const A=new xn(_);return new Pv(x,A,d.fieldTransforms)}function UA(a,e,i,r=!1){return ja(i,a.createContext(r?4:3,e))}function ja(a,e){if(Qv(a=wi(a)))return um("Unsupported field value:",e,a),Gv(a,e);if(a instanceof Fr)return(function(r,o){if(!qv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let E=ja(y,o.childContextForArray(d));E==null&&(E={nullValue:"NULL_VALUE"}),h.push(E),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:xc(o.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(o.serializer,h)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:uv(o.serializer,r._byteString)};if(r instanceof De){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Gd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof $n)return(function(d,y){const E=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[z_]:{stringValue:L_},[vc]:{arrayValue:{values:E.map((x=>{if(typeof x!="number")throw y.createError("VectorValues must only contain numeric values.");return Ld(y.serializer,x)}))}}}}}})(r,o);if(pv(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Nc(r)}`)})(a,e)}function Gv(a,e){const i={};return V_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(a,((r,o)=>{const h=ja(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Qv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof Ai||a instanceof kn||a instanceof De||a instanceof Fr||a instanceof $n||pv(a))}function um(a,e,i){if(!Qv(i)||!D_(i)){const r=Nc(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Lr(a,e,i){if((e=wi(e))instanceof sm)return e._internalPath;if(typeof e=="string")return Fv(a,e);throw wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const zA=new RegExp("[~\\*/\\[\\]]");function Fv(a,e,i){if(e.search(zA)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function wc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(h||d)&&(E+=" (found",h&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new ut(tt.INVALID_ARGUMENT,y+a+E)}function Yv(a,e){return a.some((i=>i.isEqual(e)))}class LA{convertValue(e,i="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Qs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[vc].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new $n(i)}convertGeoPoint(e){return new Ai(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Dc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const i=Bs(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ie.fromString(e);Ft(gv(r),9688,{name:e});const o=new go(r.get(1),r.get(3)),h=new yt(r.popFirst(5));return o.isEqual(i)||Zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Kv extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function W0(){return new rm("serverTimestamp")}function $0(...a){return new lm("arrayUnion",a)}function t_(...a){return new om("arrayRemove",a)}const e_="@firebase/firestore",n_="4.11.0";function i_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Xv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Lr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BA extends Xv{data(){return super.data()}}function PA(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class Zv extends cm{}function qA(a,e,...i){let r=[];e instanceof cm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((E=>E instanceof fm)).length,y=h.filter((E=>E instanceof hm)).length;if(d>1||d>0&&y>0)throw new ut(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class hm extends Zv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new hm(e,i,r)}_apply(e){const i=this._parse(e);return Jv(e._query,i),new Oa(e.firestore,e.converter,pd(e._query,i))}_parse(e){const i=am(e.firestore);return(function(h,d,y,E,_,x,A){let R;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){a_(A,x);const et=[];for(const X of A)et.push(s_(E,h,X));R={arrayValue:{values:et}}}else R=s_(E,h,A)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||a_(A,x),R=UA(y,d,A,x==="in"||x==="not-in");return Re.create(_,x,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class fm extends cm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ti.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const E of y)Jv(d,E),d=pd(d,E)})(e._query,i),new Oa(e.firestore,e.converter,pd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dm extends Zv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new dm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new ut(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yo(h,d)})(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,o1(e._query,i))}}function HA(a,e="asc"){const i=e,r=Lr("orderBy",a);return dm._create(r,i)}function s_(a,e,i){if(typeof(i=wi(i))=="string"){if(i==="")throw new ut(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&i.indexOf("/")!==-1)throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ie.fromString(i));if(!yt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(a,new yt(r))}if(i instanceof De)return m0(a,i._key);throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(i)}.`)}function a_(a,e){if(!Array.isArray(a)||a.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jv(a,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function GA(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends Xv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Lr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Ce("string",Na._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class fc extends Na{data(e={}){return super.data(e)}}class Cr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new fc(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const E=new fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const E=new fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new io(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),x=d.indexOf(y.doc.key)),{type:QA(y.type),doc:E,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:a})}}Cr._jsonSchemaVersion="firestore/querySnapshot/1.0",Cr._jsonSchema={type:Ce("string",Cr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Vs(a,e,i,...r){a=Us(a,De);const o=Us(a.firestore,zr),h=am(o);let d;return d=typeof(e=wi(e))=="string"||e instanceof sm?kA(h,"updateDoc",a._key,e,i,r):MA(h,"updateDoc",a._key,e),mm(o,[d.toMutation(a._key,Wn.exists(!0))])}function FA(a){return mm(Us(a.firestore,zr),[new Pd(a._key,Wn.none())])}function r_(a,e){const i=Us(a.firestore,zr),r=Ki(a),o=GA(a.converter,e),h=am(a.firestore);return mm(i,[jA(h,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then((()=>r))}function YA(a,...e){a=wi(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||i_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(i_(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let h,d,y;if(a instanceof De)d=Us(a.firestore,zr),y=zd(a._key.path),h={next:_=>{e[r]&&e[r](KA(d,a,_))},error:e[r+1],complete:e[r+2]};else{const _=Us(a,Oa);d=Us(_.firestore,zr),y=_._query;const x=new Kv(d);h={next:A=>{e[r]&&e[r](new Cr(d,x,_,A))},error:e[r+1],complete:e[r+2]},PA(a._query)}const E=Bv(d);return SA(E,y,o,h)}function mm(a,e){const i=Bv(a);return AA(i,e)}function KA(a,e,i){const r=i.docs.get(e._key),o=new Kv(a);return new Na(a,o,e._key,r,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){xT(cT),pc(new co("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new zr(new AT(r.getProvider("auth-internal")),new RT(d,r.getProvider("app-check-internal")),QT(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),wr(e_,n_,e),wr(e_,n_,"esm2020")})();var XA="firebase",ZA="12.9.0";wr(XA,ZA,"app");const dc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},JA=__(dc),Zn=CA(JA),bn=()=>!!(dc.apiKey&&dc.projectId&&dc.apiKey!=="demo-key"),l_="quotebook_quotes",Jn="quotes";function WA(){const[a,e]=at.useState([]),[i,r]=at.useState(!0),[o,h]=at.useState(null),[d,y]=at.useState(!1),[E,_]=at.useState("newest"),[x,A]=at.useState("");at.useEffect(()=>{if(bn()){y(!0);const C=qA(nd(Zn,Jn),HA("timestamp","desc")),S=YA(C,ot=>{const mt=[];ot.forEach(k=>{const B=k.data();mt.push({id:k.id,text:B.text,speaker:B.speaker,addedBy:B.addedBy,timestamp:B.timestamp instanceof se?B.timestamp.toMillis():B.timestamp||Date.now(),likes:B.likes||[],comments:(B.comments||[]).map(Q=>({...Q,likes:Q.likes||[],gifUrl:Q.gifUrl||void 0,replies:(Q.replies||[]).map(W=>({...W,likes:W.likes||[],gifUrl:W.gifUrl||void 0}))}))})}),e(mt),r(!1),h(null)},ot=>{console.error("Firestore error:",ot),h("Failed to connect to database. Check your Firebase config."),r(!1),R()});return()=>S()}else y(!1),R(),r(!1)},[]);const R=()=>{const C=localStorage.getItem(l_);if(C)try{const ot=JSON.parse(C).map(mt=>({...mt,likes:mt.likes||[],comments:(mt.comments||[]).map(k=>({...k,likes:k.likes||[],gifUrl:k.gifUrl||void 0,replies:(k.replies||[]).map(B=>({...B,likes:B.likes||[],gifUrl:B.gifUrl||void 0}))}))}));e(ot)}catch{e([])}},z=at.useCallback(C=>{localStorage.setItem(l_,JSON.stringify(C)),e(C)},[]),et=at.useCallback(()=>{let C=[...a];if(x.trim()){const S=x.toLowerCase().trim();C=C.filter(ot=>ot.text.toLowerCase().includes(S)||ot.speaker.toLowerCase().includes(S)||ot.addedBy.toLowerCase().includes(S))}switch(E){case"newest":return C.sort((S,ot)=>ot.timestamp-S.timestamp);case"oldest":return C.sort((S,ot)=>S.timestamp-ot.timestamp);case"mostLiked":return C.sort((S,ot)=>ot.likes.length-S.likes.length);default:return C}},[a,E,x]),X=at.useCallback(async(C,S,ot)=>{const mt={text:C,speaker:S.trim(),addedBy:ot.trim(),timestamp:Date.now(),likes:[],comments:[]};if(d&&bn())try{await r_(nd(Zn,Jn),{...mt,timestamp:W0()})}catch(k){console.error("Error adding quote:",k),h("Failed to add quote. Please try again.")}else{const k={...mt,id:crypto.randomUUID()};z([k,...a])}},[a,d,z]),Z=at.useCallback(async C=>{if(d&&bn())try{await FA(Ki(Zn,Jn,C))}catch(S){console.error("Error deleting quote:",S),h("Failed to delete quote. Please try again.")}else z(a.filter(S=>S.id!==C))},[a,d,z]),ft=at.useCallback(async(C,S)=>{const ot=a.find(k=>k.id===C);if(!ot)return;const mt=ot.likes.includes(S);if(d&&bn())try{const k=Ki(Zn,Jn,C);mt?await Vs(k,{likes:t_(S)}):await Vs(k,{likes:$0(S)})}catch(k){console.error("Error toggling like:",k),h("Failed to update like. Please try again.")}else{const k=a.map(B=>B.id===C?{...B,likes:mt?B.likes.filter(Q=>Q!==S):[...B.likes,S]}:B);z(k)}},[a,d,z]),_t=at.useCallback(async(C,S,ot,mt)=>{const k={id:crypto.randomUUID(),text:S.trim(),gifUrl:mt||void 0,author:ot.trim(),timestamp:Date.now(),likes:[],replies:[]};if(d&&bn())try{const B=Ki(Zn,Jn,C);await Vs(B,{comments:$0(k)})}catch(B){console.error("Error adding comment:",B),h("Failed to add comment. Please try again.")}else{const B=a.map(Q=>Q.id===C?{...Q,comments:[...Q.comments,k]}:Q);z(B)}},[a,d,z]),dt=at.useCallback(async(C,S)=>{const ot=a.find(k=>k.id===C);if(!ot)return;const mt=ot.comments.find(k=>k.id===S);if(mt)if(d&&bn())try{const k=Ki(Zn,Jn,C);await Vs(k,{comments:t_(mt)})}catch(k){console.error("Error deleting comment:",k),h("Failed to delete comment. Please try again.")}else{const k=a.map(B=>B.id===C?{...B,comments:B.comments.filter(Q=>Q.id!==S)}:B);z(k)}},[a,d,z]),Tt=at.useCallback(async(C,S,ot)=>{const mt=a.find(B=>B.id===C);if(!mt)return;const k=mt.comments.map(B=>{if(B.id===S){const Q=B.likes.includes(ot);return{...B,likes:Q?B.likes.filter(W=>W!==ot):[...B.likes,ot]}}return B});if(d&&bn())try{const B=Ki(Zn,Jn,C);await Vs(B,{comments:k})}catch(B){console.error("Error toggling comment like:",B),h("Failed to update like. Please try again.")}else{const B=a.map(Q=>Q.id===C?{...Q,comments:k}:Q);z(B)}},[a,d,z]),zt=at.useCallback(async(C,S,ot,mt,k)=>{const B=a.find(it=>it.id===C);if(!B)return;const Q={id:crypto.randomUUID(),text:ot.trim(),gifUrl:k||void 0,author:mt.trim(),timestamp:Date.now(),likes:[]},W=B.comments.map(it=>it.id===S?{...it,replies:[...it.replies,Q]}:it);if(d&&bn())try{const it=Ki(Zn,Jn,C);await Vs(it,{comments:W})}catch(it){console.error("Error adding reply:",it),h("Failed to add reply. Please try again.")}else{const it=a.map(w=>w.id===C?{...w,comments:W}:w);z(it)}},[a,d,z]),St=at.useCallback(async(C,S,ot)=>{const mt=a.find(B=>B.id===C);if(!mt)return;const k=mt.comments.map(B=>B.id===S?{...B,replies:B.replies.filter(Q=>Q.id!==ot)}:B);if(d&&bn())try{const B=Ki(Zn,Jn,C);await Vs(B,{comments:k})}catch(B){console.error("Error deleting reply:",B),h("Failed to delete reply. Please try again.")}else{const B=a.map(Q=>Q.id===C?{...Q,comments:k}:Q);z(B)}},[a,d,z]),D=at.useCallback(async(C,S,ot,mt)=>{const k=a.find(Q=>Q.id===C);if(!k)return;const B=k.comments.map(Q=>{if(Q.id===S){const W=Q.replies.map(it=>{if(it.id===ot){const w=it.likes.includes(mt);return{...it,likes:w?it.likes.filter(H=>H!==mt):[...it.likes,mt]}}return it});return{...Q,replies:W}}return Q});if(d&&bn())try{const Q=Ki(Zn,Jn,C);await Vs(Q,{comments:B})}catch(Q){console.error("Error toggling reply like:",Q),h("Failed to update like. Please try again.")}else{const Q=a.map(W=>W.id===C?{...W,comments:B}:W);z(Q)}},[a,d,z]),N=at.useCallback(()=>{const C=new Map;return a.forEach(S=>{const ot=C.get(S.speaker)||0;C.set(S.speaker,ot+1)}),Array.from(C.entries()).map(([S,ot])=>({name:S,quoteCount:ot})).sort((S,ot)=>ot.quoteCount-S.quoteCount)},[a]),I=at.useCallback(C=>a.filter(S=>S.speaker===C),[a]),M=at.useCallback(()=>{const C=JSON.stringify(a,null,2),S=new Blob([C],{type:"application/json"}),ot=URL.createObjectURL(S),mt=document.createElement("a");mt.href=ot,mt.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,mt.click(),URL.revokeObjectURL(ot)},[a]),V=at.useCallback(async C=>{const S=new FileReader;S.onload=async ot=>{try{const mt=JSON.parse(ot.target?.result);if(Array.isArray(mt)){const k=mt.filter(B=>B.text&&B.speaker&&B.addedBy);if(d&&bn())for(const B of k)await r_(nd(Zn,Jn),{text:B.text,speaker:B.speaker,addedBy:B.addedBy,timestamp:B.timestamp||W0(),likes:B.likes||[],comments:B.comments||[]});else{const B=k.map(Q=>({...Q,id:Q.id||crypto.randomUUID(),timestamp:Q.timestamp||Date.now(),likes:Q.likes||[],comments:Q.comments||[]}));z([...B,...a])}}}catch{alert("Invalid file format")}},S.readAsText(C)},[a,d,z]);return{quotes:et(),allQuotes:a,loading:i,error:o,usingFirebase:d,sortOption:E,setSortOption:_,searchQuery:x,setSearchQuery:A,addQuote:X,deleteQuote:Z,toggleLike:ft,addComment:_t,deleteComment:dt,toggleCommentLike:Tt,addReply:zt,deleteReply:St,toggleReplyLike:D,getPeople:N,getQuotesBySpeaker:I,exportData:M,importData:V}}const id=10;function sc(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function $A(a){const[e,i]=at.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:id,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=at.useCallback(()=>[...new Set(a.map(_=>_.speaker))],[a]),o=at.useCallback((_,x)=>{const A=x.filter(et=>et!==_),R=sc(A),z=[_,...R.slice(0,3)];return sc(z)},[]),h=at.useCallback(()=>{const _=r();if(_.length<2||a.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const A=sc(a)[0],R=o(A.speaker,_);i({isPlaying:!0,currentQuote:A,options:R,score:0,totalRounds:Math.min(id,a.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[a,r,o]),d=at.useCallback(_=>{if(!e.currentQuote||e.answered)return;const x=_===e.currentQuote.speaker;i(A=>({...A,answered:!0,selectedAnswer:_,isCorrect:x,score:x?A.score+1:A.score,gameHistory:[...A.gameHistory,{quote:A.currentQuote,correct:x,guessed:_}]}))},[e.currentQuote,e.answered]),y=at.useCallback(()=>{if(e.currentRound>=e.totalRounds){i(X=>({...X,isPlaying:!1,currentQuote:null}));return}const _=e.gameHistory.map(X=>X.quote.id);_.push(e.currentQuote?.id||"");const x=a.filter(X=>!_.includes(X.id));if(x.length===0){i(X=>({...X,isPlaying:!1,currentQuote:null}));return}const R=sc(x)[0],z=r(),et=o(R.speaker,z);i(X=>({...X,currentQuote:R,options:et,currentRound:X.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[a,e,r,o]),E=at.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:id,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:y,endGame:E,canPlay:r().length>=2&&a.length>=3}}const Wv=[{name:"Kasey",password:"kaseyYork"},{name:"Liam",password:"liamYork"},{name:"Ethan",password:"ethanYork"},{name:"Teethan",password:"teethanPono"},{name:"Alex",password:"alexYork"},{name:"Harrison",password:"harrisonToro"},{name:"Patrick",password:"patrickYork"},{name:"Jaice",password:"jaiceYork"},{name:"Mergan",password:"merganYork"}];function o_(a,e){return!!Wv.find(r=>r.name.toLowerCase()===a.toLowerCase()&&r.password===e)}function t2(a){const e=Wv.find(i=>i.name.toLowerCase()===a.toLowerCase());return e?e.name:null}const Ta="quotebook_user",$l="quotebook_auth";function e2(){const[a,e]=at.useState(null),[i,r]=at.useState(!1),[o,h]=at.useState(!0);at.useEffect(()=>{const A=localStorage.getItem($l),R=localStorage.getItem(Ta);if(A&&R)try{const z=JSON.parse(A),et=JSON.parse(R);o_(z.name,z.password)?(et.displayName||(et.displayName=et.name),e(et),r(!0)):(localStorage.removeItem($l),localStorage.removeItem(Ta))}catch{localStorage.removeItem($l),localStorage.removeItem(Ta)}h(!1)},[]);const d=at.useCallback((A,R)=>{if(o_(A,R)){const z=t2(A);if(!z)return!1;const et=localStorage.getItem(`quotebook_user_${z.toLowerCase()}`);let X={name:z,displayName:z,gamesPlayed:0,totalScore:0,bestScore:0};if(et)try{const Z=JSON.parse(et);X={...X,displayName:Z.displayName||z,gamesPlayed:Z.gamesPlayed||0,totalScore:Z.totalScore||0,bestScore:Z.bestScore||0}}catch{}return localStorage.setItem($l,JSON.stringify({name:z,password:R})),localStorage.setItem(Ta,JSON.stringify(X)),e(X),r(!0),!0}return!1},[]),y=at.useCallback(()=>{a&&localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(a)),localStorage.removeItem($l),localStorage.removeItem(Ta),e(null),r(!1)},[a]),E=at.useCallback(A=>{if(!a)return;const R={...a,displayName:A.trim()};e(R),localStorage.setItem(Ta,JSON.stringify(R)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(R))},[a]),_=at.useCallback(A=>{E(A)},[E]),x=at.useCallback(A=>{if(!a)return;const R={...a,gamesPlayed:a.gamesPlayed+1,totalScore:a.totalScore+A,bestScore:Math.max(a.bestScore,A)};e(R),localStorage.setItem(Ta,JSON.stringify(R)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(R))},[a]);return{user:a,isAuthenticated:i,isLoading:o,login:d,logout:y,setUsername:_,setDisplayName:E,recordGameScore:x}}const ac="quotebook_weekly_winners",sd="quotebook_wrapped_archive",rc="quotebook_current_wrapped";function n2(a){const[e,i]=at.useState(!1),[r,o]=at.useState(null),[h,d]=at.useState(null),[y,E]=at.useState([]),[_,x]=at.useState(!1),[A,R]=at.useState(null),[z,et]=at.useState(null),X=Q=>{const it=Q.getTime()+Q.getTimezoneOffset()*6e4;return new Date(it+-300*6e4)},Z=Q=>{const W=new Date(Q),it=W.getDay(),w=W.getDate()-it;return W.setDate(w),W.setHours(0,0,0,0),W},ft=Q=>{const W=Z(Q),it=new Date(W);return it.setDate(it.getDate()-7),it},_t=Q=>{const W=Z(Q),it=new Date(W);return it.setDate(it.getDate()-1),it.setHours(23,59,59,999),it},dt=Q=>{const W=Z(Q),it=new Date(W);return it.setHours(18,30,0,0),it},Tt=Q=>{const W=Z(Q),it=new Date(W);return it.setDate(it.getDate()+5),it.setHours(23,59,59,999),it},zt=(Q,W)=>`wrapped_${Q.toISOString().split("T")[0]}_${W.toISOString().split("T")[0]}`,St=Q=>{let W=0;return W+=Q.likes.length,Q.comments.forEach(it=>{it.gifUrl?W+=3:W+=2,W+=it.replies.length}),W},D=at.useCallback((Q,W)=>a.filter(it=>{const w=new Date(it.timestamp);return w>=Q&&w<=W}),[a]),N=at.useCallback((Q,W)=>{const it=new Date,w=dt(it),H=Tt(it),st=D(Q,W),lt=zt(Q,W),xt=st.map(Kt=>({quote:Kt,points:St(Kt)})).sort((Kt,Je)=>Je.points-Kt.points).slice(0,3),It=new Map;st.forEach(Kt=>{const Je=It.get(Kt.speaker)||0;It.set(Kt.speaker,Je+1)});let le=null,Yt=0;It.forEach((Kt,Je)=>{Kt>Yt&&(Yt=Kt,le={name:Je,count:Kt})});const hn=new Map;st.forEach(Kt=>{const Je=hn.get(Kt.addedBy)||0;hn.set(Kt.addedBy,Je+1)});let Un=null,Ri=0;hn.forEach((Kt,Je)=>{Kt>Ri&&(Ri=Kt,Un={name:Je,count:Kt})});const Wi=xt.length>0?xt[0].quote.speaker:null;return{id:lt,weekStartDate:Q.toISOString(),weekEndDate:W.toISOString(),releaseDate:w.toISOString(),expiryDate:H.toISOString(),topQuotes:xt,weeklyQuotee:le,weeklyQuoter:Un,quoteOfTheWeekSpeaker:Wi}},[D]),I=at.useCallback(()=>{const Q=localStorage.getItem(sd);if(Q)try{const W=JSON.parse(Q);E(W.sort((it,w)=>new Date(w.weekEndDate).getTime()-new Date(it.weekEndDate).getTime()))}catch{E([])}},[]),M=at.useCallback(Q=>{const W={id:Q.id,weekStartDate:Q.weekStartDate,weekEndDate:Q.weekEndDate,data:Q,createdAt:new Date().toISOString()},it=localStorage.getItem(sd);let w=[];if(it)try{w=JSON.parse(it)}catch{w=[]}const H=w.findIndex(st=>st.id===W.id);H===-1?w.push(W):w[H]=W,localStorage.setItem(sd,JSON.stringify(w)),E(w.sort((st,lt)=>new Date(lt.weekEndDate).getTime()-new Date(st.weekEndDate).getTime()))},[]),V=at.useCallback(()=>{const W=X(new Date),it=dt(W),w=Tt(W),H=W>=it&&W<=w;if(x(H),W<it)R(it);else if(W>w){const st=new Date(Z(W));st.setDate(st.getDate()+7);const lt=dt(st);R(lt)}if(W>w){const st=localStorage.getItem(rc);if(st)try{const lt=JSON.parse(st);M(lt),localStorage.removeItem(rc)}catch{}}return H},[M]);at.useEffect(()=>{const Q=localStorage.getItem(ac);if(Q)try{const W=JSON.parse(Q),it=new Date(W.weekEndDate),w=new Date,H=X(w),st=Tt(H);w<=st?d(W):(localStorage.removeItem(ac),d(null))}catch{localStorage.removeItem(ac)}I()},[I]),at.useEffect(()=>{V();const Q=setInterval(V,6e4);return()=>clearInterval(Q)},[V]);const C=at.useCallback(()=>{const W=X(new Date),it=ft(W),w=_t(W);return N(it,w)},[N]),S=at.useCallback(()=>{if(!_)return;const Q=localStorage.getItem(rc);if(Q)try{const it=JSON.parse(Q);o(it),i(!0);return}catch{}const W=C();if(W){o(W),i(!0),localStorage.setItem(rc,JSON.stringify(W));const it={weekEndDate:W.weekEndDate,quoteOfTheWeekSpeaker:W.quoteOfTheWeekSpeaker,weeklyQuotee:W.weeklyQuotee?.name||null,weeklyQuoter:W.weeklyQuoter?.name||null};localStorage.setItem(ac,JSON.stringify(it)),d(it)}},[_,C]),ot=at.useCallback(Q=>{et(Q),o(Q.data),i(!0)},[]),mt=()=>{i(!1),et(null)},k=at.useCallback(Q=>{if(!h)return[];const W=new Date,it=X(W),w=Tt(it);if(W>w)return[];const H=[],st=Q.toLowerCase();return h.quoteOfTheWeekSpeaker?.toLowerCase()===st&&H.push("quote"),h.weeklyQuotee?.toLowerCase()===st&&H.push("quotee"),h.weeklyQuoter?.toLowerCase()===st&&H.push("quoter"),H},[h]),B=at.useCallback(()=>A?A.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"",[A]);return{showWrapped:e,weeklyData:r,currentWinners:h,archive:y,isWrappedAvailable:_,nextReleaseDate:A,viewingArchiveItem:z,openWrapped:S,closeWrapped:mt,viewArchiveWrapped:ot,getUserMedals:k,getNextReleaseString:B}}function i2({medals:a,size:e="md"}){if(a.length===0)return null;const i={sm:"text-xs",md:"text-sm",lg:"text-base"},r=h=>{switch(h){case"quote":return"";case"quotee":return"";case"quoter":return"";default:return""}},o=h=>{switch(h){case"quote":return"Quote of the Week";case"quotee":return"Weekly Quotee";case"quoter":return"Weekly Quoter";default:return"Winner"}};return g.jsx("span",{className:`inline-flex items-center gap-0.5 ${i[e]}`,children:a.map((h,d)=>g.jsx("span",{title:o(h),className:"inline-block animate-pulse cursor-help",style:{filter:"drop-shadow(0 0 2px gold)",animation:"pulse 2s infinite"},children:r(h)},d))})}function so({name:a,medals:e=[],className:i="",size:r="md"}){return g.jsxs("span",{className:`inline-flex items-center gap-1 ${i}`,children:[g.jsx("span",{children:a}),g.jsx(i2,{medals:e,size:r})]})}function s2({user:a,activeTab:e,setActiveTab:i,getUserMedals:r,isWrappedAvailable:o}){const h=r?r(a.displayName):[];return g.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Quote Book"})]}),g.jsxs("nav",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="quotes"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Quotes"}),g.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="game"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Game"}),g.jsxs("button",{onClick:()=>i("wrapped"),className:`relative px-4 py-2 rounded-lg font-medium transition-colors ${e==="wrapped"?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[" Wrapped",o&&g.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),g.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="settings"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Settings"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx("span",{children:""}),g.jsx(so,{name:a.displayName,medals:h})]})]})})})}const u_="jQCJuGogKJU8axQhh8rbJVMJBknLUHLX";function c_({onSelect:a,onClose:e}){const[i,r]=at.useState(""),[o,h]=at.useState([]),[d,y]=at.useState(!1),[E,_]=at.useState("");at.useEffect(()=>{x()},[]);const x=async()=>{y(!0),_("");try{const R=await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=${u_}&limit=20`);if(!R.ok){const et=await R.json().catch(()=>({}));throw console.error("GIPHY API Error:",R.status,et),new Error(`API Error: ${R.status}`)}const z=await R.json();if(z.data){const et=z.data.map(X=>({id:X.id,url:X.images.fixed_height.url,previewUrl:X.images.fixed_height_still?.url||X.images.fixed_height_small?.url||X.images.fixed_height.url}));h(et)}}catch(R){console.error("Error loading GIFs:",R),_("Failed to load GIFs")}y(!1)},A=async R=>{if(!R.trim()){x();return}y(!0),_("");try{const z=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=${u_}&q=${encodeURIComponent(R)}&limit=20`);if(!z.ok){const X=await z.json().catch(()=>({}));throw console.error("GIPHY API Error:",z.status,X),new Error(`API Error: ${z.status}`)}const et=await z.json();if(et.data){const X=et.data.map(Z=>({id:Z.id,url:Z.images.fixed_height.url,previewUrl:Z.images.fixed_height_still?.url||Z.images.fixed_height_small?.url||Z.images.fixed_height.url}));h(X)}}catch(z){console.error("Error searching GIFs:",z),_("Failed to search GIFs")}y(!1)};return at.useEffect(()=>{const R=setTimeout(()=>{i&&A(i)},500);return()=>clearTimeout(R)},[i]),g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Choose a GIF"}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl leading-none p-1",children:""})]}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:i,onChange:R=>r(R.target.value),placeholder:"Search GIFs...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""}),i&&g.jsx("button",{onClick:()=>{r(""),x()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):E?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-2",children:""}),g.jsx("p",{className:"text-red-500 mb-3",children:E}),g.jsx("button",{onClick:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Try again"})]}):o.length===0?g.jsxs("div",{className:"text-center py-12 text-gray-500",children:[g.jsx("p",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"No GIFs found. Try a different search."})]}):g.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(R=>g.jsx("button",{onClick:()=>a(R.url),className:"relative aspect-square overflow-hidden rounded-lg hover:ring-4 hover:ring-indigo-500 transition-all bg-gray-100",children:g.jsx("img",{src:R.previewUrl,alt:"GIF",className:"w-full h-full object-cover",loading:"lazy",onMouseEnter:z=>{z.target.src=R.url},onMouseLeave:z=>{z.target.src=R.previewUrl}})},R.id))})}),g.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:g.jsx("span",{className:"text-xs text-gray-400",children:"Powered by GIPHY"})})]})})}function a2({quote:a,currentUser:e,getUserMedals:i,onDelete:r,onToggleLike:o,onAddComment:h,onDeleteComment:d,onToggleCommentLike:y,onAddReply:E,onDeleteReply:_,onToggleReplyLike:x}){const[A,R]=at.useState(!1),[z,et]=at.useState(""),[X,Z]=at.useState(null),[ft,_t]=at.useState(!1),[dt,Tt]=at.useState(!1),[zt,St]=at.useState(null),[D,N]=at.useState(""),[I,M]=at.useState(null),[V,C]=at.useState(!1),S=a.likes.includes(e),ot=a.addedBy===e,mt=()=>{o(a.id,e)},k=async w=>{w.preventDefault(),!(!z.trim()&&!X||dt)&&(Tt(!0),await h(a.id,z,e,X||void 0),et(""),Z(null),Tt(!1))},B=async w=>{!D.trim()&&!I||dt||(Tt(!0),await E(a.id,w,D,e,I||void 0),N(""),M(null),St(null),Tt(!1))},Q=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),W=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),it=()=>{let w=a.comments.length;return a.comments.forEach(H=>{w+=H.replies.length}),w};return g.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[g.jsxs("div",{className:"mb-4",children:[g.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',a.text,'"']}),g.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",g.jsx(so,{name:a.speaker,medals:i(a.speaker)})]})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[g.jsxs("span",{children:["Added by ",g.jsx(so,{name:a.addedBy,medals:i(a.addedBy),size:"sm"})]}),g.jsx("span",{children:Q(a.timestamp)})]}),g.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[g.jsxs("button",{onClick:mt,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${S?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:S?"":""}),g.jsx("span",{className:"font-medium",children:a.likes.length})]}),g.jsxs("button",{onClick:()=>R(!A),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"font-medium",children:it()})]}),ot&&g.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&r(a.id)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),A&&g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[g.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",it(),")"]}),a.comments.length>0?g.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:a.comments.map(w=>g.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[g.jsxs("div",{className:"relative group",children:[w.text&&g.jsx("p",{className:"text-gray-700 text-sm",children:w.text}),w.gifUrl&&g.jsx("img",{src:w.gifUrl,alt:"GIF",className:"mt-2 rounded-lg max-w-full max-h-48 object-contain"}),g.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[g.jsx(so,{name:w.author,medals:i(w.author),size:"sm",className:"font-medium"}),g.jsx("span",{children:W(w.timestamp)})]}),w.author===e&&g.jsx("button",{onClick:()=>d(a.id,w.id),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]}),g.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-200",children:[g.jsxs("button",{onClick:()=>y(a.id,w.id,e),className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${w.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:w.likes.includes(e)?"":""}),g.jsx("span",{children:w.likes.length})]}),g.jsxs("button",{onClick:()=>{St(zt===w.id?null:w.id),N(""),M(null)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Reply"})]})]}),zt===w.id&&g.jsxs("div",{className:"mt-3 space-y-2",children:[I&&g.jsxs("div",{className:"relative inline-block",children:[g.jsx("img",{src:I,alt:"Selected GIF",className:"rounded-lg max-h-24 object-contain"}),g.jsx("button",{onClick:()=>M(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>C(!0),className:"px-3 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 text-xs",children:"GIF"}),g.jsx("input",{type:"text",value:D,onChange:H=>N(H.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs"}),g.jsx("button",{onClick:()=>B(w.id),disabled:!D.trim()&&!I||dt,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium",children:dt?"...":"Reply"}),g.jsx("button",{onClick:()=>{St(null),N(""),M(null)},className:"px-3 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 text-xs",children:"Cancel"})]})]}),w.replies.length>0&&g.jsx("div",{className:"mt-3 ml-4 space-y-2 border-l-2 border-indigo-200 pl-3",children:w.replies.map(H=>g.jsxs("div",{className:"bg-white rounded-lg p-2 relative group",children:[H.text&&g.jsx("p",{className:"text-gray-700 text-xs",children:H.text}),H.gifUrl&&g.jsx("img",{src:H.gifUrl,alt:"GIF",className:"mt-1 rounded-lg max-w-full max-h-32 object-contain"}),g.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-500",children:[g.jsx(so,{name:H.author,medals:i(H.author),size:"sm",className:"font-medium"}),g.jsx("span",{children:W(H.timestamp)})]}),g.jsx("div",{className:"flex items-center gap-2 mt-1",children:g.jsxs("button",{onClick:()=>x(a.id,w.id,H.id,e),className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded transition-colors ${H.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:H.likes.includes(e)?"":""}),g.jsx("span",{children:H.likes.length})]})}),H.author===e&&g.jsx("button",{onClick:()=>_(a.id,w.id,H.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},H.id))})]},w.id))}):g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),X&&g.jsxs("div",{className:"mb-3 relative inline-block",children:[g.jsx("img",{src:X,alt:"Selected GIF",className:"rounded-lg max-h-32 object-contain"}),g.jsx("button",{onClick:()=>Z(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-sm flex items-center justify-center",children:""})]}),g.jsxs("form",{onSubmit:k,className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>_t(!0),className:"px-4 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium",children:"GIF"}),g.jsx("input",{type:"text",value:z,onChange:w=>et(w.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),g.jsx("button",{type:"submit",disabled:!z.trim()&&!X||dt,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:dt?"...":"Post"})]})]}),ft&&g.jsx(c_,{onSelect:w=>{Z(w),_t(!1)},onClose:()=>_t(!1)}),V&&g.jsx(c_,{onSelect:w=>{M(w),C(!1)},onClose:()=>C(!1)})]})}function r2({quotes:a,people:e,currentUser:i,sortOption:r,searchQuery:o,getUserMedals:h,onSortChange:d,onSearchChange:y,onAddQuote:E,onDeleteQuote:_,onToggleLike:x,onAddComment:A,onDeleteComment:R,onToggleCommentLike:z,onAddReply:et,onDeleteReply:X,onToggleReplyLike:Z}){const[ft,_t]=at.useState(!1),[dt,Tt]=at.useState(""),[zt,St]=at.useState(""),[D,N]=at.useState(""),I=V=>{V.preventDefault(),!(!dt.trim()||!zt.trim())&&(E(dt,zt,i),Tt(""),St(""),_t(!1))},M=D?a.filter(V=>V.speaker===D):a;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),g.jsxs("p",{className:"text-gray-500",children:[a.length," quote",a.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),g.jsx("button",{onClick:()=>_t(!ft),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:ft?" Cancel":"+ Add Quote"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:o,onChange:V=>y(V.target.value),placeholder:"Search quotes, speakers, or authors...",className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg bg-white shadow-sm"}),g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:""}),o&&g.jsx("button",{onClick:()=>y(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xl",children:""})]}),o&&g.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",M.length," result",M.length!==1?"s":"",' for "',o,'"']})]}),ft&&g.jsxs("form",{onSubmit:I,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),g.jsx("textarea",{value:dt,onChange:V=>Tt(V.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),g.jsx("input",{type:"text",value:zt,onChange:V=>St(V.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),g.jsx("datalist",{id:"speakers",children:e.map(V=>g.jsx("option",{value:V.name},V.name))})]}),g.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("select",{value:D,onChange:V=>N(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[g.jsx("option",{value:"",children:"All Speakers"}),e.map(V=>g.jsxs("option",{value:V.name,children:[V.name," (",V.quoteCount,")"]},V.name))]})}),g.jsx("div",{className:"flex-1",children:g.jsxs("select",{value:r,onChange:V=>d(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[g.jsx("option",{value:"newest",children:" Newest First"}),g.jsx("option",{value:"oldest",children:" Oldest First"}),g.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),M.length>0?g.jsx("div",{className:"grid gap-6",children:M.map(V=>g.jsx(a2,{quote:V,currentUser:i,getUserMedals:h,onDelete:_,onToggleLike:x,onAddComment:A,onDeleteComment:R,onToggleCommentLike:z,onAddReply:et,onDeleteReply:X,onToggleReplyLike:Z},V.id))}):g.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[g.jsx("p",{className:"text-6xl mb-4",children:o?"":""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:o?"No quotes found":D?"No quotes from this person":"No quotes yet"}),g.jsx("p",{className:"text-gray-500",children:o?"Try a different search term.":D?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function l2({gameState:a,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:y}){const E=!a.isPlaying&&a.gameHistory.length>0;if(!a.isPlaying&&!E)return g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),g.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&g.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),g.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),g.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),g.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?g.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):g.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[g.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),g.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(E){const _=Math.round(a.score/a.gameHistory.length*100),x=()=>{y(a.score),d(),r()},A=()=>{y(a.score),d()};return g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),g.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[a.score,"/",a.gameHistory.length]}),g.jsxs("p",{className:"text-gray-500 mb-6",children:[_,"% correct"]}),g.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[g.jsx("button",{onClick:x,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),g.jsx("button",{onClick:A,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),g.jsxs("div",{className:"border-t pt-6",children:[g.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),g.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:a.gameHistory.map((R,z)=>g.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${R.correct?"bg-green-50":"bg-red-50"}`,children:[g.jsx("span",{className:"text-lg",children:R.correct?"":""}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',R.quote.text,'"']}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",g.jsx("span",{className:"font-semibold",children:R.quote.speaker}),!R.correct&&g.jsxs("span",{children:["  You guessed: ",R.guessed]})]})]})]},z))})]})]})})}return g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:"font-medium",children:["Round ",a.currentRound," of ",a.totalRounds]}),g.jsxs("span",{className:"font-bold",children:["Score: ",a.score]})]}),g.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${a.currentRound/a.totalRounds*100}%`}})})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[g.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),g.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:a.currentQuote?.text})]}),g.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.options.map(_=>{let x="p-4 rounded-xl font-medium transition text-left border-2 ";return a.answered?_===a.currentQuote?.speaker?x+="border-green-500 bg-green-50 text-green-700":_===a.selectedAnswer&&!a.isCorrect?x+="border-red-500 bg-red-50 text-red-700":x+="border-gray-200 bg-gray-50 text-gray-400":x+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",g.jsx("button",{onClick:()=>o(_),disabled:a.answered,className:x,children:g.jsxs("span",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:_.charAt(0).toUpperCase()}),_]})},_)})}),a.answered&&g.jsxs("div",{className:"mt-6 text-center",children:[g.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${a.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isCorrect?" Correct!":` It was ${a.currentQuote?.speaker}`}),g.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:a.currentRound>=a.totalRounds?"See Results":"Next Question "})]})]})]}),g.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function o2({user:a,quotes:e,usingFirebase:i,onSetDisplayName:r,onLogout:o,onExport:h,onImport:d}){const[y,E]=at.useState(a.displayName),[_,x]=at.useState(!1),A=at.useRef(null),R=()=>{y.trim()&&y.trim()!==a.displayName&&(r(y.trim()),x(!0),setTimeout(()=>x(!1),2e3))},z=()=>{A.current?.click()},et=X=>{const Z=X.target.files?.[0];Z&&(d(Z),X.target.value="")};return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Profile"}),g.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Account"}),g.jsx("p",{className:"font-medium text-gray-800",children:a.name})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("input",{type:"text",value:y,onChange:X=>E(X.target.value),placeholder:"Enter display name",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),g.jsx("button",{onClick:R,disabled:!y.trim()||y.trim()===a.displayName,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),_&&g.jsx("p",{className:"text-green-600 text-sm flex items-center gap-1",children:" Display name updated!"}),g.jsx("p",{className:"text-xs text-gray-500",children:"This is how your name will appear on quotes and comments."})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Game Stats"}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:a.gamesPlayed}),g.jsx("p",{className:"text-sm text-gray-500",children:"Games Played"})]}),g.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.bestScore}),g.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"})]}),g.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.gamesPlayed>0?Math.round(a.totalScore/a.gamesPlayed):0}),g.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Data Management"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-800",children:"Connection Status"}),g.jsx("p",{className:"text-sm text-gray-500",children:i?"Connected to Firebase":"Using local storage"})]}),g.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:i?" Online":" Local"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:h,className:"flex-1 px-4 py-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:[" Export Quotes (",e.length,")"]}),g.jsx("button",{onClick:z,className:"flex-1 px-4 py-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Import Quotes"}),g.jsx("input",{ref:A,type:"file",accept:".json",onChange:et,className:"hidden"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Account"}),g.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&o()},className:"w-full px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Log Out"})]})]})}function u2({nextReleaseDate:a}){return g.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:g.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-200 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl grayscale opacity-50",children:""})}),g.jsx("div",{className:"absolute inset-0 w-32 h-32 mx-auto rounded-full bg-gradient-to-br from-gray-300 to-gray-400 opacity-20 animate-pulse"})]}),g.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:"Weekly Wrapped Locked"}),g.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6 mb-6 border-2 border-gray-200 border-dashed",children:[g.jsx("p",{className:"text-gray-500 text-sm uppercase tracking-wide mb-2",children:"Available On"}),g.jsx("p",{className:"text-xl font-semibold text-gray-600",children:a})]}),g.jsx("p",{className:"text-gray-400 text-sm",children:"The Weekly Wrapped will be available from Sunday at 6:30 PM EST until Friday at midnight."}),g.jsxs("div",{className:"mt-8 flex justify-center gap-3 opacity-30",children:[g.jsx("span",{className:"text-3xl grayscale",children:""}),g.jsx("span",{className:"text-3xl grayscale",children:""}),g.jsx("span",{className:"text-3xl grayscale",children:""})]})]})})}function c2({archive:a,onViewWrapped:e}){const i=(o,h)=>{const d=new Date(o),y=new Date(h),E=d.toLocaleDateString("en-US",{month:"short",day:"numeric"}),_=y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${E} - ${_}`},r=o=>{const h=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-orange-500 to-red-500","from-green-500 to-teal-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500"];return h[o%h.length]};return a.length===0?g.jsxs("div",{className:"text-center py-16",children:[g.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"No Archived Wraps Yet"}),g.jsx("p",{className:"text-gray-400",children:"Previous Weekly Wraps will appear here after they expire."})]}):g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Wrapped Archive"}),g.jsx("p",{className:"text-gray-500",children:"Relive previous Weekly Wraps"})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map((o,h)=>g.jsxs("button",{onClick:()=>e(o),className:`relative overflow-hidden rounded-xl p-6 text-left transition-transform hover:scale-105 bg-gradient-to-br ${r(h)} shadow-lg hover:shadow-xl`,children:[g.jsxs("div",{className:"absolute inset-0 opacity-10",children:[g.jsx("div",{className:"absolute top-2 right-2 text-4xl",children:""}),g.jsx("div",{className:"absolute bottom-2 left-2 text-2xl",children:""})]}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"text-white/80 text-sm font-medium mb-1",children:"THE 423"}),g.jsx("div",{className:"text-white text-lg font-bold mb-3",children:"Weekly Wrapped"}),g.jsx("div",{className:"text-white/90 text-sm font-medium",children:i(o.weekStartDate,o.weekEndDate)}),g.jsx("div",{className:"mt-4 flex gap-3 text-white/80 text-xs",children:o.data.topQuotes.length>0&&g.jsxs("span",{children:[" ",o.data.topQuotes.length," Top Quotes"]})}),g.jsx("div",{className:"mt-3 space-y-1 text-white/70 text-xs",children:o.data.quoteOfTheWeekSpeaker&&g.jsxs("div",{children:[" ",o.data.quoteOfTheWeekSpeaker]})})]}),g.jsx("div",{className:"absolute bottom-4 right-4 w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:g.jsx("span",{className:"text-white text-lg",children:""})})]},o.id))})]})}function h2({isWrappedAvailable:a,nextReleaseString:e,archive:i,onOpenWrapped:r,onViewArchiveWrapped:o}){return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-100",children:g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx("span",{children:""}),"This Week's Wrapped"]})}),g.jsx("div",{className:"p-6",children:a?g.jsxs("div",{className:"text-center py-8",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 rounded-full flex items-center justify-center animate-pulse",children:g.jsx("span",{className:"text-6xl",children:""})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg animate-bounce",children:""})]}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Weekly Wrapped is Ready!"}),g.jsx("p",{className:"text-gray-500 mb-6",children:"See this week's top quotes, winners, and more!"}),g.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400 text-white rounded-xl font-bold text-lg hover:scale-105 transition-transform shadow-lg hover:shadow-xl",children:" Open Weekly Wrapped"}),g.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Available until Friday at midnight EST"})]}):g.jsx(u2,{nextReleaseDate:e})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-100",children:g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx("span",{children:""}),"Wrapped Archive"]})}),g.jsx("div",{className:"p-6",children:g.jsx(c2,{archive:i,onViewWrapped:o})})]})]})}function f2({onLogin:a}){const[e,i]=at.useState(""),[r,o]=at.useState(""),[h,d]=at.useState(!1),[y,E]=at.useState(""),[_,x]=at.useState(!1),A=R=>{if(R.preventDefault(),E(""),x(!0),!e.trim()||!r.trim()){E("Please enter both name and password"),x(!1);return}a(e.trim(),r)||(E("Invalid name or password"),x(!1))};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),g.jsx("p",{className:"text-gray-500",children:"Sign in to continue"})]}),g.jsxs("form",{onSubmit:A,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),g.jsx("input",{type:"text",value:e,onChange:R=>i(R.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"username",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:h?"text":"password",value:r,onChange:R=>o(R.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"current-password"}),g.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none p-1",children:h?g.jsx("span",{className:"text-xl",children:""}):g.jsx("span",{className:"text-xl",children:""})})]}),g.jsxs("label",{className:"flex items-center gap-2 mt-3 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:h,onChange:R=>d(R.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),g.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]}),y&&g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:y})]}),g.jsx("button",{type:"submit",disabled:_,className:"w-full py-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-semibold text-lg shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:_?g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),g.jsx("div",{className:"mt-8 text-center text-sm text-gray-400",children:g.jsx("p",{children:"Access restricted to authorized users only"})})]})})}function d2({onDismiss:a}){return g.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),g.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),g.jsxs("details",{className:"text-sm",children:[g.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),g.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Go to ",g.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),g.jsx("li",{children:'Click "Create a project" (or "Add project")'}),g.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),g.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),g.jsx("li",{children:'Click "Create project"'})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),g.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),g.jsx("li",{children:'Click "Register app"'}),g.jsxs("li",{children:["Copy the ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),g.jsx("li",{children:'Click "Create database"'}),g.jsxs("li",{children:['Select "Start in ',g.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),g.jsx("li",{children:"Choose a location close to you"}),g.jsx("li",{children:'Click "Enable"'})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Open ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),g.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),g.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Run ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),g.jsxs("li",{children:["Upload the new ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),g.jsx("li",{children:"Share the URL with your friends! "})]})]}),g.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:g.jsxs("p",{className:"text-blue-800 text-sm",children:[g.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),a&&g.jsx("button",{onClick:a,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function m2({data:a,onClose:e,isArchive:i=!1}){const[r,o]=at.useState("intro"),[h,d]=at.useState(!0),y=["intro","stats","quote3","quote2","quote1","quotee","quoter","finale"],E=y.indexOf(r);at.useEffect(()=>{d(!0);const Z=setTimeout(()=>d(!1),500);return()=>clearTimeout(Z)},[r]);const _=()=>{const Z=E+1;Z<y.length&&o(y[Z])},x=()=>{const Z=E-1;Z>=0&&o(y[Z])},A=Z=>new Date(Z).toLocaleDateString("en-US",{month:"short",day:"numeric"}),R=a.topQuotes.length,z=a.topQuotes.reduce((Z,ft)=>Z+ft.points,0),et=Z=>{switch(Z){case"intro":return"from-purple-600 via-pink-500 to-orange-400";case"stats":return"from-blue-600 via-cyan-500 to-teal-400";case"quote3":return"from-amber-500 via-orange-500 to-red-500";case"quote2":return"from-gray-400 via-gray-300 to-gray-200";case"quote1":return"from-yellow-400 via-yellow-500 to-amber-500";case"quotee":return"from-emerald-500 via-green-500 to-teal-500";case"quoter":return"from-violet-600 via-purple-500 to-fuchsia-500";case"finale":return"from-indigo-600 via-purple-600 to-pink-500";default:return"from-purple-600 to-pink-500"}},X=()=>{switch(r){case"intro":return g.jsxs("div",{className:"text-center",children:[i&&g.jsx("div",{className:"mb-4 px-4 py-2 bg-white/20 rounded-full inline-block",children:g.jsx("span",{className:"text-white/90 text-sm",children:" From the Archive"})}),g.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),g.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-4 tracking-tight",children:"THE 423"}),g.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white/90 mb-6",children:"WEEKLY WRAPPED"}),g.jsxs("div",{className:"text-xl text-white/80",children:[A(a.weekStartDate)," - ",A(a.weekEndDate)]}),g.jsx("div",{className:"mt-12 text-white/60 animate-pulse",children:"Tap to continue "})]});case"stats":return g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-12",children:"This Week in Quotes"}),g.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto",children:[g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[g.jsx("div",{className:"text-5xl font-black text-white",children:R}),g.jsx("div",{className:"text-white/80 mt-2",children:"Top Quotes"})]}),g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[g.jsx("div",{className:"text-5xl font-black text-white",children:z}),g.jsx("div",{className:"text-white/80 mt-2",children:"Total Points"})]})]}),g.jsx("div",{className:"mt-12 text-6xl",children:""})]});case"quote3":return a.topQuotes.length<3?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"#3 Quote of the Week"}),g.jsx("p",{className:"text-xl text-white/80",children:"Not enough quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"#3 Quote of the Week"}),g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-white italic mb-6",children:['"',a.topQuotes[2].quote.text,'"']}),g.jsxs("p",{className:"text-xl text-white/90 font-semibold",children:[" ",a.topQuotes[2].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-white/70",children:[a.topQuotes[2].points," points"]})]})]});case"quote2":return a.topQuotes.length<2?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"#2 Quote of the Week"}),g.jsx("p",{className:"text-xl text-gray-600",children:"Not enough quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"#2 Quote of the Week"}),g.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-xl",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6",children:['"',a.topQuotes[1].quote.text,'"']}),g.jsxs("p",{className:"text-xl text-gray-700 font-semibold",children:[" ",a.topQuotes[1].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-gray-600",children:[a.topQuotes[1].points," points"]})]})]});case"quote1":return a.topQuotes.length<1?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-8xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Quote of the Week"}),g.jsx("p",{className:"text-xl text-gray-600",children:"No quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"QUOTE OF THE WEEK"}),g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-2xl border-4 border-yellow-400",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6 font-medium",children:['"',a.topQuotes[0].quote.text,'"']}),g.jsxs("p",{className:"text-2xl text-gray-700 font-bold",children:[" ",a.topQuotes[0].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-yellow-600 font-semibold text-lg",children:[" ",a.topQuotes[0].points," points "]})]})]});case"quotee":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTEE"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Most Quoted Person"}),a.weeklyQuotee?g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuotee.name}),g.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuotee.count," quotes this week!"]})]}):g.jsx("p",{className:"text-xl text-white/80",children:"No quotees this week!"})]});case"quoter":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTER"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Added the Most Quotes"}),a.weeklyQuoter?g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuoter.name}),g.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuoter.count," quotes added!"]})]}):g.jsx("p",{className:"text-xl text-white/80",children:"No quoters this week!"})]});case"finale":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6",children:"That's a Wrap!"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:i?"Thanks for reliving the memories!":"See you next Sunday for another Weekly Wrapped!"}),g.jsxs("div",{className:"flex justify-center gap-4 text-5xl mb-8",children:[g.jsx("span",{className:"animate-bounce",style:{animationDelay:"0ms"},children:""}),g.jsx("span",{className:"animate-bounce",style:{animationDelay:"100ms"},children:""}),g.jsx("span",{className:"animate-bounce",style:{animationDelay:"200ms"},children:""})]}),g.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-purple-600 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-xl",children:"Close Wrapped"})]})}};return g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${et(r)} transition-all duration-500`}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((Z,ft)=>g.jsx("div",{className:"absolute w-2 h-2 bg-white/30 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`}},ft))}),g.jsx("div",{className:`relative z-10 w-full max-w-2xl mx-4 transition-all duration-500 ${h?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:X()}),g.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center items-center gap-4 z-20",children:g.jsx("div",{className:"flex gap-2",children:y.map((Z,ft)=>g.jsx("button",{onClick:()=>o(Z),className:`w-2 h-2 rounded-full transition-all ${ft===E?"bg-white w-6":"bg-white/40 hover:bg-white/60"}`},Z))})}),g.jsx("button",{onClick:x,disabled:E===0,className:"absolute left-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Previous slide"}),g.jsx("button",{onClick:_,disabled:E===y.length-1,className:"absolute right-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Next slide"}),g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 text-white/80 hover:text-white text-3xl p-2",children:""}),E>0&&g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),E<y.length-1&&g.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),g.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
          50% { transform: translateY(-20px) rotate(180deg); opacity: 0.6; }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
      `})]})}function g2(){const[a,e]=at.useState("quotes"),[i,r]=at.useState(!bn()),{user:o,isAuthenticated:h,isLoading:d,login:y,logout:E,setDisplayName:_,recordGameScore:x}=e2(),{quotes:A,allQuotes:R,loading:z,error:et,usingFirebase:X,sortOption:Z,setSortOption:ft,searchQuery:_t,setSearchQuery:dt,addQuote:Tt,deleteQuote:zt,toggleLike:St,addComment:D,deleteComment:N,toggleCommentLike:I,addReply:M,deleteReply:V,toggleReplyLike:C,getPeople:S,exportData:ot,importData:mt}=WA(),{showWrapped:k,weeklyData:B,archive:Q,isWrappedAvailable:W,viewingArchiveItem:it,openWrapped:w,closeWrapped:H,viewArchiveWrapped:st,getUserMedals:lt,getNextReleaseString:Et}=n2(R||A),{gameState:xt,startGame:It,submitAnswer:le,nextRound:Yt,endGame:hn,canPlay:Un}=$A(A);return d?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!h||!o?g.jsx(f2,{onLogin:y}):g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[g.jsx(s2,{user:o,activeTab:a,setActiveTab:e,getUserMedals:lt,isWrappedAvailable:W}),g.jsx("div",{className:`text-center py-2 text-sm font-medium ${X?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:X?g.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):g.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),et&&g.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",et]}),g.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!bn()&&a==="quotes"&&g.jsx(d2,{onDismiss:()=>r(!1)}),z?g.jsx("div",{className:"flex items-center justify-center py-20",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):g.jsxs(g.Fragment,{children:[a==="quotes"&&g.jsx(r2,{quotes:A,people:S(),currentUser:o.displayName,sortOption:Z,searchQuery:_t,getUserMedals:lt,onSortChange:ft,onSearchChange:dt,onAddQuote:Tt,onDeleteQuote:zt,onToggleLike:St,onAddComment:D,onDeleteComment:N,onToggleCommentLike:I,onAddReply:M,onDeleteReply:V,onToggleReplyLike:C}),a==="game"&&g.jsx(l2,{gameState:xt,canPlay:Un,user:o,onStartGame:It,onSubmitAnswer:le,onNextRound:Yt,onEndGame:hn,onRecordScore:x}),a==="wrapped"&&g.jsx(h2,{isWrappedAvailable:W,nextReleaseString:Et(),archive:Q,onOpenWrapped:w,onViewArchiveWrapped:st}),a==="settings"&&g.jsx(o2,{user:o,quotes:A,usingFirebase:X,onSetDisplayName:_,onLogout:E,onExport:ot,onImport:mt})]})]}),g.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[g.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),g.jsx("p",{className:"text-xs mt-1",children:X?" Real-time sync enabled":" Local mode"})]}),k&&B&&g.jsx(m2,{data:B,onClose:H,isArchive:it!==null})]})}zb.createRoot(document.getElementById("root")).render(g.jsx(at.StrictMode,{children:g.jsx(g2,{})}));
