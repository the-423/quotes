(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Df={exports:{}},Ll={};var Ey;function cT(){if(Ey)return Ll;Ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var Ty;function hT(){return Ty||(Ty=1,Df.exports=cT()),Df.exports}var b=hT(),Vf={exports:{}},_t={};var by;function fT(){if(by)return _t;by=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Y(I){return I===null||typeof I!="object"?null:(I=M&&I[M]||I["@@iterator"],typeof I=="function"?I:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function at(I,K,nt){this.props=I,this.context=K,this.refs=J,this.updater=nt||tt}at.prototype.isReactComponent={},at.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},at.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function ct(I,K,nt){this.props=I,this.context=K,this.refs=J,this.updater=nt||tt}var At=ct.prototype=new ut;At.constructor=ct,$(At,at.prototype),At.isPureReactComponent=!0;var Et=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(I,K,nt){var rt=nt.ref;return{$$typeof:s,type:I,key:K,ref:rt!==void 0?rt:null,props:nt}}function O(I,K){return C(I.type,K,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function U(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return K[nt]})}var w=/\/+/g;function ie(I,K){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):K.toString(36)}function Re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(wt,wt):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function G(I,K,nt,rt,pt){var St=typeof I;(St==="undefined"||St==="boolean")&&(I=null);var Mt=!1;if(I===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(I.$$typeof){case s:case e:Mt=!0;break;case A:return Mt=I._init,G(Mt(I._payload),K,nt,rt,pt)}}if(Mt)return pt=pt(I),Mt=rt===""?"."+ie(I,0):rt,Et(pt)?(nt="",Mt!=null&&(nt=Mt.replace(w,"$&/")+"/"),G(pt,K,nt,"",function(Oa){return Oa})):pt!=null&&(V(pt)&&(pt=O(pt,nt+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),K.push(pt)),1;Mt=0;var Ce=rt===""?".":rt+":";if(Et(I))for(var ae=0;ae<I.length;ae++)rt=I[ae],St=Ce+ie(rt,ae),Mt+=G(rt,K,nt,St,pt);else if(ae=Y(I),typeof ae=="function")for(I=ae.call(I),ae=0;!(rt=I.next()).done;)rt=rt.value,St=Ce+ie(rt,ae++),Mt+=G(rt,K,nt,St,pt);else if(St==="object"){if(typeof I.then=="function")return G(Re(I),K,nt,rt,pt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(I,K,nt){if(I==null)return I;var rt=[],pt=0;return G(I,rt,"","",function(St){return K.call(nt,St,pt++)}),rt}function dt(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var Lt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Gt={map:et,forEach:function(I,K,nt){et(I,function(){K.apply(this,arguments)},nt)},count:function(I){var K=0;return et(I,function(){K++}),K},toArray:function(I){return et(I,function(K){return K})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return _t.Activity=S,_t.Children=Gt,_t.Component=at,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=ct,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},_t.cache=function(I){return function(){return I.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(I,K,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=$({},I.props),pt=I.key;if(K!=null)for(St in K.key!==void 0&&(pt=""+K.key),K)!x.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Mt=Array(St),Ce=0;Ce<St;Ce++)Mt[Ce]=arguments[Ce+2];rt.children=Mt}return C(I.type,pt,rt)},_t.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},_t.createElement=function(I,K,nt){var rt,pt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)x.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var Mt=arguments.length-2;if(Mt===1)pt.children=nt;else if(1<Mt){for(var Ce=Array(Mt),ae=0;ae<Mt;ae++)Ce[ae]=arguments[ae+2];pt.children=Ce}if(I&&I.defaultProps)for(rt in Mt=I.defaultProps,Mt)pt[rt]===void 0&&(pt[rt]=Mt[rt]);return C(I,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(I){return{$$typeof:_,render:I}},_t.isValidElement=V,_t.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:dt}},_t.memo=function(I,K){return{$$typeof:y,type:I,compare:K===void 0?null:K}},_t.startTransition=function(I){var K=N.T,nt={};N.T=nt;try{var rt=I(),pt=N.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(wt,Lt)}catch(St){Lt(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),N.T=K}},_t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_t.use=function(I){return N.H.use(I)},_t.useActionState=function(I,K,nt){return N.H.useActionState(I,K,nt)},_t.useCallback=function(I,K){return N.H.useCallback(I,K)},_t.useContext=function(I){return N.H.useContext(I)},_t.useDebugValue=function(){},_t.useDeferredValue=function(I,K){return N.H.useDeferredValue(I,K)},_t.useEffect=function(I,K){return N.H.useEffect(I,K)},_t.useEffectEvent=function(I){return N.H.useEffectEvent(I)},_t.useId=function(){return N.H.useId()},_t.useImperativeHandle=function(I,K,nt){return N.H.useImperativeHandle(I,K,nt)},_t.useInsertionEffect=function(I,K){return N.H.useInsertionEffect(I,K)},_t.useLayoutEffect=function(I,K){return N.H.useLayoutEffect(I,K)},_t.useMemo=function(I,K){return N.H.useMemo(I,K)},_t.useOptimistic=function(I,K){return N.H.useOptimistic(I,K)},_t.useReducer=function(I,K,nt){return N.H.useReducer(I,K,nt)},_t.useRef=function(I){return N.H.useRef(I)},_t.useState=function(I){return N.H.useState(I)},_t.useSyncExternalStore=function(I,K,nt){return N.H.useSyncExternalStore(I,K,nt)},_t.useTransition=function(){return N.H.useTransition()},_t.version="19.2.3",_t}var Ay;function pd(){return Ay||(Ay=1,Vf.exports=fT()),Vf.exports}var Ut=pd(),If={exports:{}},Bl={},Of={exports:{}},Mf={};var Sy;function dT(){return Sy||(Sy=1,(function(s){function e(G,et){var dt=G.length;G.push(et);t:for(;0<dt;){var Lt=dt-1>>>1,Gt=G[Lt];if(0<o(Gt,et))G[Lt]=et,G[dt]=Gt,dt=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],dt=G.pop();if(dt!==et){G[0]=dt;t:for(var Lt=0,Gt=G.length,I=Gt>>>1;Lt<I;){var K=2*(Lt+1)-1,nt=G[K],rt=K+1,pt=G[rt];if(0>o(nt,dt))rt<Gt&&0>o(pt,nt)?(G[Lt]=pt,G[rt]=dt,Lt=rt):(G[Lt]=nt,G[K]=dt,Lt=K);else if(rt<Gt&&0>o(pt,dt))G[Lt]=pt,G[rt]=dt,Lt=rt;else break t}}return et}function o(G,et){var dt=G.sortIndex-et.sortIndex;return dt!==0?dt:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var v=[],y=[],A=1,S=null,M=3,Y=!1,tt=!1,$=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function At(G){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=G)r(y),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(y)}}function Et(G){if($=!1,At(G),!tt)if(i(v)!==null)tt=!0,wt||(wt=!0,U());else{var et=i(y);et!==null&&Re(Et,et.startTime-G)}}var wt=!1,N=-1,x=5,C=-1;function O(){return J?!0:!(s.unstable_now()-C<x)}function V(){if(J=!1,wt){var G=s.unstable_now();C=G;var et=!0;try{t:{tt=!1,$&&($=!1,ut(N),N=-1),Y=!0;var dt=M;try{e:{for(At(G),S=i(v);S!==null&&!(S.expirationTime>G&&O());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,M=S.priorityLevel;var Gt=Lt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,At(G),et=!0;break e}S===i(v)&&r(v),At(G)}else r(v);S=i(v)}if(S!==null)et=!0;else{var I=i(y);I!==null&&Re(Et,I.startTime-G),et=!1}}break t}finally{S=null,M=dt,Y=!1}et=void 0}}finally{et?U():wt=!1}}}var U;if(typeof ct=="function")U=function(){ct(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=V,U=function(){ie.postMessage(null)}}else U=function(){at(V,0)};function Re(G,et){N=at(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var dt=M;M=et;try{return G()}finally{M=dt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=M;M=G;try{return et()}finally{M=dt}},s.unstable_scheduleCallback=function(G,et,dt){var Lt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,G={id:A++,callback:et,priorityLevel:G,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>Lt?(G.sortIndex=dt,e(y,G),i(v)===null&&G===i(y)&&($?(ut(N),N=-1):$=!0,Re(Et,dt-Lt))):(G.sortIndex=Gt,e(v,G),tt||Y||(tt=!0,wt||(wt=!0,U()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var et=M;return function(){var dt=M;M=et;try{return G.apply(this,arguments)}finally{M=dt}}}})(Mf)),Mf}var xy;function mT(){return xy||(xy=1,Of.exports=dT()),Of.exports}var jf={exports:{}},Fe={};var wy;function gT(){if(wy)return Fe;wy=1;var s=pd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,A)},Fe.flushSync=function(v){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=A,r.d.f()}},Fe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=_(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Y}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=_(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Fe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=_(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=_(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,y){return v(y)},Fe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var Ry;function pT(){if(Ry)return jf.exports;Ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jf.exports=gT(),jf.exports}var Cy;function yT(){if(Cy)return Bl;Cy=1;var s=mT(),e=pd(),i=pT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case Et:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case ct:return t.displayName||"Context";case ut:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Re=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function I(t){return{current:t}}function K(t){0>Gt||(t.current=Lt[Gt],Lt[Gt]=null,Gt--)}function nt(t,n){Gt++,Lt[Gt]=t.current,t.current=n}var rt=I(null),pt=I(null),St=I(null),Mt=I(null);function Ce(t,n){switch(nt(St,n),nt(pt,t),nt(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(rt),nt(rt,t)}function ae(){K(rt),K(pt),K(St)}function Oa(t){t.memoizedState!==null&&nt(Mt,t);var n=rt.current,a=Gp(n,t.type);n!==a&&(nt(pt,t),nt(rt,a))}function Ss(t){pt.current===t&&(K(rt),K(pt)),Mt.current===t&&(K(Mt),Ml._currentValue=dt)}var xs,ws;function Yn(t){if(xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xs=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+t+ws}var Mr=!1;function Ma(t,n){if(!t||Mr)return"";Mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var k=P}Reflect.construct(t,[],F)}else{try{F.call()}catch(P){k=P}t.call(F.prototype)}}else{try{throw Error()}catch(P){k=P}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function jr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Ma(t.type,!1);case 11:return Ma(t.type.render,!1);case 1:return Ma(t.type,!0);case 31:return Yn("Activity");default:return""}}function Ur(t){try{var n="",a=null;do n+=jr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,Hi=s.unstable_cancelCallback,Vc=s.unstable_shouldYield,fo=s.unstable_requestPaint,Ze=s.unstable_now,ja=s.unstable_getCurrentPriorityLevel,zr=s.unstable_ImmediatePriority,Lr=s.unstable_UserBlockingPriority,Gi=s.unstable_NormalPriority,Ic=s.unstable_LowPriority,mo=s.unstable_IdlePriority,go=s.log,po=s.unstable_setDisableYieldValue,In=null,ze=null;function yn(t){if(typeof go=="function"&&po(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(In,t)}catch{}}var ce=Math.clz32?Math.clz32:_o,yo=Math.log,Rs=Math.LN2;function _o(t){return t>>>=0,t===0?32:31-(yo(t)/Rs|0)|0}var Kn=256,Ua=262144,pe=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function za(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-ce(a),F=1<<H;E[H]=0,R[H]=-1;var k=B[H];if(k!==null)for(B[H]=null,H=0;H<k.length;H++){var P=k[H];P!==null&&(P.lane&=-536870913)}a&=~F}l!==0&&La(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function La(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Br(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function kr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ba(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:dy(t.type))}function Mn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var jn=Math.random().toString(36).slice(2),ye="__reactFiber$"+jn,Oe="__reactProps$"+jn,$n="__reactContainer$"+jn,Cs="__reactEvents$"+jn,jc="__reactListeners$"+jn,To="__reactHandles$"+jn,bo="__reactResources$"+jn,Wn="__reactMarker$"+jn;function Ns(t){delete t[ye],delete t[Oe],delete t[Cs],delete t[jc],delete t[To]}function ti(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Jp(t);t!==null;){if(a=t[ye])return a;t=Jp(t)}return n}t=a,a=t.parentNode}return null}function _n(t){if(t=t[ye]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[bo];return n||(n=t[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[Wn]=!0}var qr=new Set,Pr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Pr[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var Hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gr={},Qr={};function Ao(t){return ge.call(Qr,t)?!0:ge.call(Gr,t)?!1:Hr.test(t)?Qr[t]=!0:(Gr[t]=!0,!1)}function Ds(t,n,a){if(Ao(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Qi(t)?"checked":"value";t._valueTracker=Fr(t,n,""+t[n])}}function ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qa=/[\n"\\]/g;function We(t){return t.replace(qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vs(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Yr(t,g,Me(n)):a!=null?Yr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function So(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function Yr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Yi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||wo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Kr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Kr(t,f,n[f])}function Is(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Zr=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,si=null;function Pa(t){var n=_n(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Vs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ka(l)}break t;case"textarea":xo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Fi(t,!!a.multiple,n,!1)}}}var Ms=!1;function Zi(t,n,a){if(Ms)return t(n,a);Ms=!0;try{var l=t(n);return l}finally{if(Ms=!1,(Xi!==null||si!==null)&&(Eu(),Xi&&(n=Xi,t=si,si=Xi=null,Pa(n),t)))for(n=0;n<t.length;n++)Pa(t[n])}}function zn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(En)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Ha=!1}var ri=null,Jr=null,Ga=null;function $r(){if(Ga)return Ga;var t,n=Jr,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ga=c.slice(t,1<l?1-l:void 0)}function Qa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Ln(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:Ln,this.isPropagationStopped=Ln,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Le(Ai),Ji=S({},Ai,{view:0,detail:0}),Wr=Le(Ji),$i,js,oi,Us=S({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?($i=t.screenX-oi.screenX,js=t.screenY-oi.screenY):js=$i=0,oi=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:js}}),tl=Le(Us),Fa=S({},Us,{dataTransfer:0}),Co=Le(Fa),No=S({},Ji,{relatedTarget:0}),Ya=Le(No),el=S({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Le(el),zs=S({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=Le(zs),Io=S({},Ai,{data:0}),ui=Le(Io),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jo[t])?!!n[t]:!1}function Wi(){return Uo}var Je=S({},Ji,{key:function(t){if(t.key){var n=Oo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zo=Le(Je),Lo=S({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=Le(Lo),u=S({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=Le(u),p=S({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),z=S({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(z),W=S({},Ai,{newState:0,oldState:0}),Tt=Le(W),he=[9,13,27,32],qt=En&&"CompositionEvent"in window,se=null;En&&"documentMode"in document&&(se=document.documentMode);var Tn=En&&"TextEvent"in window&&!se,ci=En&&(!qt||se&&8<se&&11>=se),Bn=" ",kn=!1;function Ka(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ls(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function Mv(t,n){switch(t){case"compositionend":return Ls(n);case"keypress":return n.which!==32?null:(kn=!0,Bn);case"textInput":return t=n.data,t===Bn&&kn?null:t;default:return null}}function jv(t,n){if(Bs)return t==="compositionend"||!qt&&Ka(t,n)?(t=$r(),Ga=Jr=ri=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Uv[t.type]:n==="textarea"}function em(t,n,a,l){Xi?si?si.push(l):si=[l]:Xi=l,n=Ru(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var nl=null,il=null;function zv(t){zp(t,0)}function Bo(t){var n=on(t);if(ka(n))return t}function nm(t,n){if(t==="change")return n}var im=!1;if(En){var Uc;if(En){var zc="oninput"in document;if(!zc){var am=document.createElement("div");am.setAttribute("oninput","return;"),zc=typeof am.oninput=="function"}Uc=zc}else Uc=!1;im=Uc&&(!document.documentMode||9<document.documentMode)}function sm(){nl&&(nl.detachEvent("onpropertychange",rm),il=nl=null)}function rm(t){if(t.propertyName==="value"&&Bo(il)){var n=[];em(n,il,t,vn(t)),Zi(zv,n)}}function Lv(t,n,a){t==="focusin"?(sm(),nl=n,il=a,nl.attachEvent("onpropertychange",rm)):t==="focusout"&&sm()}function Bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(il)}function kv(t,n){if(t==="click")return Bo(n)}function qv(t,n){if(t==="input"||t==="change")return Bo(n)}function Pv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:Pv;function al(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var a=lm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lm(a)}}function um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Lc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Hv=En&&"documentMode"in document&&11>=document.documentMode,ks=null,Bc=null,sl=null,kc=!1;function hm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||ks==null||ks!==ai(l)||(l=ks,"selectionStart"in l&&Lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=Ru(Bc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ks)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qs={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},qc={},fm={};En&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Za(t){if(qc[t])return qc[t];if(!qs[t])return t;var n=qs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in fm)return qc[t]=n[a];return t}var dm=Za("animationend"),mm=Za("animationiteration"),gm=Za("animationstart"),Gv=Za("transitionrun"),Qv=Za("transitionstart"),Fv=Za("transitioncancel"),pm=Za("transitionend"),ym=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function qn(t,n){ym.set(t,n),ni(n,[t])}var ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Ps=0,Hc=0;function qo(){for(var t=Ps,n=Hc=Ps=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function Po(t,n,a,l){bn[Ps++]=t,bn[Ps++]=n,bn[Ps++]=a,bn[Ps++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,a,l){return Po(t,n,a,l),Ho(t)}function Ja(t,n){return Po(t,null,null,n),Ho(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ho(t){if(50<Rl)throw Rl=0,Wh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hs={};function Yv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new Yv(t,n,a,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Qc(t)&&(g=1);else if(typeof t=="string")g=$E(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,a,n,c),t.elementType=C,t.lanes=f,t;case $:return $a(a.children,c,f,n);case J:g=8,c|=24;break;case at:return t=hn(12,a,n,c|2),t.elementType=at,t.lanes=f,t;case Et:return t=hn(13,a,n,c),t.elementType=Et,t.lanes=f,t;case wt:return t=hn(19,a,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:g=10;break t;case ut:g=9;break t;case At:g=11;break t;case N:g=14;break t;case x:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function $a(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Fc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function Em(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function Yc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Tm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=Tm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ur(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Ur(n)}}var Gs=[],Qs=0,Qo=null,rl=0,Sn=[],xn=0,ta=null,hi=1,fi="";function wi(t,n){Gs[Qs++]=rl,Gs[Qs++]=Qo,Qo=t,rl=n}function bm(t,n,a){Sn[xn++]=hi,Sn[xn++]=fi,Sn[xn++]=ta,ta=t;var l=hi;t=fi;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-ce(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Kc(t){t.return!==null&&(wi(t,1),bm(t,1,0))}function Xc(t){for(;t===Qo;)Qo=Gs[--Qs],Gs[Qs]=null,rl=Gs[--Qs],Gs[Qs]=null;for(;t===ta;)ta=Sn[--xn],Sn[xn]=null,fi=Sn[--xn],Sn[xn]=null,hi=Sn[--xn],Sn[xn]=null}function Am(t,n){Sn[xn++]=hi,Sn[xn++]=fi,Sn[xn++]=ta,hi=n.id,fi=n.overflow,ta=t}var Be=null,ee=null,Ot=!1,ea=null,wn=!1,Zc=Error(r(519));function na(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(An(n,t)),Zc}function Sm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ct(Nl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),So(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||qp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||na(t,!0)}function xm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function Fs(t){if(t!==Be)return!1;if(!Ot)return xm(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gf(t.type,t.memoizedProps)),a=!a),a&&ee&&na(t),xm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=Zp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=Zp(t)}else n===27?(n=ee,pa(t.type)?(t=Ef,Ef=null,ee=t):ee=n):ee=Be?Cn(t.stateNode.nextSibling):null;return!0}function Wa(){ee=Be=null,Ot=!1}function Jc(){var t=ea;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ea=null),t}function ll(t){ea===null?ea=[t]:ea.push(t)}var $c=I(null),ts=null,Ri=null;function ia(t,n,a){nt($c,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=$c.current,K($c)}function Wc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function th(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Wc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ys(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&th(n,t,a,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){ts=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return wm(ts,t)}function Yo(t,n){return ts===null&&es(t),wm(t,n)}function wm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(t===null)throw Error(r(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return a}var Kv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Xv=s.unstable_scheduleCallback,Zv=s.unstable_NormalPriority,Ee={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new Kv,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Xv(Zv,function(){t.controller.abort()})}var ul=null,nh=0,Ks=0,Xs=null;function Jv(t,n){if(ul===null){var a=ul=[];nh=0,Ks=rf(),Xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nh++,n.then(Rm,Rm),n}function Rm(){if(--nh===0&&ul!==null){Xs!==null&&(Xs.status="fulfilled");var t=ul;ul=null,Ks=0,Xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Cm=G.S;G.S=function(t,n){hp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jv(t,n),Cm!==null&&Cm(t,n)};var ns=I(null);function ih(){var t=ns.current;return t!==null?t:$t.pooledCache}function Ko(t,n){n===null?nt(ns,ns.current):nt(ns,n.pool)}function Nm(){var t=ih();return t===null?null:{parent:Ee._currentValue,pool:t}}var Zs=Error(r(460)),ah=Error(r(474)),Xo=Error(r(542)),Zo={then:function(){}};function Dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t}throw as=n,Zs}}function is(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(as=a,Zs):a}}var as=null;function Im(){if(as===null)throw Error(r(459));var t=as;return as=null,t}function Om(t){if(t===Zs||t===Xo)throw Error(r(483))}var Js=null,cl=0;function Jo(t){var n=cl;return cl+=1,Js===null&&(Js=[]),Vm(Js,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $o(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mm(t){function n(j,D){if(t){var L=j.deletions;L===null?(j.deletions=[D],j.flags|=16):L.push(D)}}function a(j,D){if(!t)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function c(j,D){return j=xi(j,D),j.index=0,j.sibling=null,j}function f(j,D,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<D?(j.flags|=67108866,D):L):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,D,L,Q){return D===null||D.tag!==6?(D=Fc(L,j.mode,Q),D.return=j,D):(D=c(D,L),D.return=j,D)}function R(j,D,L,Q){var ht=L.type;return ht===$?H(j,D,L.props.children,Q,L.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===x&&is(ht)===D.type)?(D=c(D,L.props),hl(D,L),D.return=j,D):(D=Go(L.type,L.key,L.props,null,j.mode,Q),hl(D,L),D.return=j,D)}function B(j,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Yc(L,j.mode,Q),D.return=j,D):(D=c(D,L.children||[]),D.return=j,D)}function H(j,D,L,Q,ht){return D===null||D.tag!==7?(D=$a(L,j.mode,Q,ht),D.return=j,D):(D=c(D,L),D.return=j,D)}function F(j,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fc(""+D,j.mode,L),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return L=Go(D.type,D.key,D.props,null,j.mode,L),hl(L,D),L.return=j,L;case tt:return D=Yc(D,j.mode,L),D.return=j,D;case x:return D=is(D),F(j,D,L)}if(Re(D)||U(D))return D=$a(D,j.mode,L,null),D.return=j,D;if(typeof D.then=="function")return F(j,Jo(D),L);if(D.$$typeof===ct)return F(j,Yo(j,D),L);$o(j,D)}return null}function k(j,D,L,Q){var ht=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(j,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ht?R(j,D,L,Q):null;case tt:return L.key===ht?B(j,D,L,Q):null;case x:return L=is(L),k(j,D,L,Q)}if(Re(L)||U(L))return ht!==null?null:H(j,D,L,Q,null);if(typeof L.then=="function")return k(j,D,Jo(L),Q);if(L.$$typeof===ct)return k(j,D,Yo(j,L),Q);$o(j,L)}return null}function P(j,D,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(L)||null,E(D,j,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return j=j.get(Q.key===null?L:Q.key)||null,R(D,j,Q,ht);case tt:return j=j.get(Q.key===null?L:Q.key)||null,B(D,j,Q,ht);case x:return Q=is(Q),P(j,D,L,Q,ht)}if(Re(Q)||U(Q))return j=j.get(L)||null,H(D,j,Q,ht,null);if(typeof Q.then=="function")return P(j,D,L,Jo(Q),ht);if(Q.$$typeof===ct)return P(j,D,L,Yo(D,Q),ht);$o(D,Q)}return null}function lt(j,D,L,Q){for(var ht=null,Bt=null,ot=D,xt=D=0,Dt=null;ot!==null&&xt<L.length;xt++){ot.index>xt?(Dt=ot,ot=null):Dt=ot.sibling;var kt=k(j,ot,L[xt],Q);if(kt===null){ot===null&&(ot=Dt);break}t&&ot&&kt.alternate===null&&n(j,ot),D=f(kt,D,xt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt,ot=Dt}if(xt===L.length)return a(j,ot),Ot&&wi(j,xt),ht;if(ot===null){for(;xt<L.length;xt++)ot=F(j,L[xt],Q),ot!==null&&(D=f(ot,D,xt),Bt===null?ht=ot:Bt.sibling=ot,Bt=ot);return Ot&&wi(j,xt),ht}for(ot=l(ot);xt<L.length;xt++)Dt=P(ot,j,xt,L[xt],Q),Dt!==null&&(t&&Dt.alternate!==null&&ot.delete(Dt.key===null?xt:Dt.key),D=f(Dt,D,xt),Bt===null?ht=Dt:Bt.sibling=Dt,Bt=Dt);return t&&ot.forEach(function(Ta){return n(j,Ta)}),Ot&&wi(j,xt),ht}function mt(j,D,L,Q){if(L==null)throw Error(r(151));for(var ht=null,Bt=null,ot=D,xt=D=0,Dt=null,kt=L.next();ot!==null&&!kt.done;xt++,kt=L.next()){ot.index>xt?(Dt=ot,ot=null):Dt=ot.sibling;var Ta=k(j,ot,kt.value,Q);if(Ta===null){ot===null&&(ot=Dt);break}t&&ot&&Ta.alternate===null&&n(j,ot),D=f(Ta,D,xt),Bt===null?ht=Ta:Bt.sibling=Ta,Bt=Ta,ot=Dt}if(kt.done)return a(j,ot),Ot&&wi(j,xt),ht;if(ot===null){for(;!kt.done;xt++,kt=L.next())kt=F(j,kt.value,Q),kt!==null&&(D=f(kt,D,xt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return Ot&&wi(j,xt),ht}for(ot=l(ot);!kt.done;xt++,kt=L.next())kt=P(ot,j,xt,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?xt:kt.key),D=f(kt,D,xt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return t&&ot.forEach(function(uT){return n(j,uT)}),Ot&&wi(j,xt),ht}function Jt(j,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ht=L.key;D!==null;){if(D.key===ht){if(ht=L.type,ht===$){if(D.tag===7){a(j,D.sibling),Q=c(D,L.props.children),Q.return=j,j=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===x&&is(ht)===D.type){a(j,D.sibling),Q=c(D,L.props),hl(Q,L),Q.return=j,j=Q;break t}a(j,D);break}else n(j,D);D=D.sibling}L.type===$?(Q=$a(L.props.children,j.mode,Q,L.key),Q.return=j,j=Q):(Q=Go(L.type,L.key,L.props,null,j.mode,Q),hl(Q,L),Q.return=j,j=Q)}return g(j);case tt:t:{for(ht=L.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(j,D.sibling),Q=c(D,L.children||[]),Q.return=j,j=Q;break t}else{a(j,D);break}else n(j,D);D=D.sibling}Q=Yc(L,j.mode,Q),Q.return=j,j=Q}return g(j);case x:return L=is(L),Jt(j,D,L,Q)}if(Re(L))return lt(j,D,L,Q);if(U(L)){if(ht=U(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),mt(j,D,L,Q)}if(typeof L.then=="function")return Jt(j,D,Jo(L),Q);if(L.$$typeof===ct)return Jt(j,D,Yo(j,L),Q);$o(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(j,D.sibling),Q=c(D,L),Q.return=j,j=Q):(a(j,D),Q=Fc(L,j.mode,Q),Q.return=j,j=Q),g(j)):a(j,D)}return function(j,D,L,Q){try{cl=0;var ht=Jt(j,D,L,Q);return Js=null,ht}catch(ot){if(ot===Zs||ot===Xo)throw ot;var Bt=hn(29,ot,null,j.mode);return Bt.lanes=Q,Bt.return=j,Bt}finally{}}}var ss=Mm(!0),jm=Mm(!1),aa=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),_m(t,null,a),n}return Po(t,l,n,a),Ho(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}function lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var oh=!1;function dl(){if(oh){var t=Xs;if(t!==null)throw t}}function ml(t,n,a,l){oh=!1;var c=t.updateQueue;aa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,g===null?f=B:g.next=B,g=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,H=B=R=null,E=f;do{var k=E.lane&-536870913,P=k!==E.lane;if(P?(Nt&k)===k:(l&k)===k){k!==0&&k===Ks&&(oh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,mt=E;k=n;var Jt=a;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){F=lt.call(Jt,F,k);break t}F=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,k=typeof lt=="function"?lt.call(Jt,F,k):lt,k==null)break t;F=S({},F,k);break t;case 2:aa=!0}}k=E.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[k]:P.push(k))}else P={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,R=F):H=H.next=P,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(R=F),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=F}}function Um(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Um(a[t],n)}var $s=I(null),Wo=I(0);function Lm(t,n){t=zi,nt(Wo,t),nt($s,n),zi=t|n.baseLanes}function uh(){nt(Wo,zi),nt($s,$s.current)}function ch(){zi=Wo.current,K($s),K(Wo)}var fn=I(null),Rn=null;function la(t){var n=t.alternate;nt(fe,fe.current&1),nt(fn,t),Rn===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(Rn=t)}function hh(t){nt(fe,fe.current),nt(fn,t),Rn===null&&(Rn=t)}function Bm(t){t.tag===22?(nt(fe,fe.current),nt(fn,t),Rn===null&&(Rn=t)):oa()}function oa(){nt(fe,fe.current),nt(fn,fn.current)}function dn(t){K(fn),Rn===t&&(Rn=null),K(fe)}var fe=I(0);function tu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_f(a)||vf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,bt=null,Xt=null,Te=null,eu=!1,Ws=!1,rs=!1,nu=0,gl=0,tr=null,Wv=0;function oe(){throw Error(r(321))}function fh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function dh(t,n,a,l,c,f){return Ni=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?bg:Ch,rs=!1,f=a(l,c),rs=!1,Ws&&(f=qm(n,a,l,c)),km(t),f}function km(t){G.H=_l;var n=Xt!==null&&Xt.next!==null;if(Ni=0,Te=Xt=bt=null,eu=!1,gl=0,tr=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&Fo(t)&&(be=!0))}function qm(t,n,a,l){bt=t;var c=0;do{if(Ws&&(tr=null),gl=0,Ws=!1,25<=c)throw Error(r(301));if(c+=1,Te=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ag,f=n(a,l)}while(Ws);return f}function tE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(bt.flags|=1024),n}function mh(){var t=nu!==0;return nu=0,t}function gh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function ph(t){if(eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}eu=!1}Ni=0,Te=Xt=bt=null,Ws=!1,gl=nu=0,tr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?bt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Te===null?bt.memoizedState:Te.next;if(n!==null)Te=n,Xt=t;else{if(t===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?bt.memoizedState=Te=t:Te=Te.next=t}return Te}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,tr===null&&(tr=[]),t=Vm(tr,t,n),n=bt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?bg:Ch),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ct)return ke(t)}throw Error(r(438,String(t)))}function yh(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=iu(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Di(t,n){return typeof n=="function"?n(t):n}function su(t){var n=de();return _h(n,Xt,t)}function _h(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,R=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Nt&F)===F:(Ni&F)===F){var k=B.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Ks&&(H=!0);else if((Ni&k)===k){B=B.next,k===Ks&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,bt.lanes|=k,ha|=k;F=B.action,rs&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else k={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=k,g=f):R=R.next=k,bt.lanes|=F,ha|=F;B=B.next}while(B!==null&&B!==n);if(R===null?g=f:R.next=E,!cn(f,t.memoizedState)&&(be=!0,H&&(a=Xs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);cn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=bt,c=de(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!cn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,bh(Qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,er(9,{destroy:void 0},Gm.bind(null,l,c,a,n),null),$t===null)throw Error(r(349));f||(Ni&127)!==0||Hm(l,n,a)}return a}function Hm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=iu(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Gm(t,n,a,l){n.value=a,n.getSnapshot=l,Fm(n)&&Ym(t)}function Qm(t,n,a){return a(function(){Fm(n)&&Ym(t)})}function Fm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Ym(t){var n=Ja(t,2);n!==null&&rn(n,t,2)}function Eh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),rs){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function Km(t,n,a,l){return t.baseState=a,_h(t,Xt,typeof l=="function"?l:Di)}function eE(t,n,a,l,c){if(ou(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Xm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Xm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),R=G.S;R!==null&&R(g,E),Zm(t,n,E)}catch(B){Th(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),Zm(t,n,f)}catch(B){Th(t,n,B)}}function Zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jm(t,n,l)},function(l){return Th(t,n,l)}):Jm(t,n,a)}function Jm(t,n,a){n.status="fulfilled",n.value=a,$m(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Xm(t,a)))}function Th(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,$m(n),n=n.next;while(n!==l)}t.action=null}function $m(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(Ot){var a=$t.formState;if(a!==null){t:{var l=bt;if(Ot){if(ee){e:{for(var c=ee,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Cn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Cn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},a.queue=l,a=vg.bind(null,bt,l),l.dispatch=a,l=Eh(!1),f=Rh.bind(null,bt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=eE.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function eg(t){var n=de();return ng(n,Xt,t)}function ng(t,n,a){if(n=_h(t,n,Wm)[0],t=su(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(g){throw g===Zs?Xo:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,er(9,{destroy:void 0},nE.bind(null,c,a),null)),[l,f,t]}function nE(t,n){t.action=n}function ig(t){var n=de(),a=Xt;if(a!==null)return ng(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function er(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=iu(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ag(){return de().memoizedState}function ru(t,n,a,l){var c=$e();bt.flags|=t,c.memoizedState=er(1|n,{destroy:void 0},a,l===void 0?null:l)}function lu(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&fh(l,Xt.memoizedState.deps)?c.memoizedState=er(n,f,a,l):(bt.flags|=t,c.memoizedState=er(1|n,f,a,l))}function sg(t,n){ru(8390656,8,t,n)}function bh(t,n){lu(2048,8,t,n)}function iE(t){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=iu(),bt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function rg(t){var n=de().memoizedState;return iE({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function lg(t,n){return lu(4,2,t,n)}function og(t,n){return lu(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,a){a=a!=null?a.concat([t]):null,lu(4,4,ug.bind(null,n,t),a)}function Ah(){}function hg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&fh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function fg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&fh(n,l[1]))return l[0];if(l=t(),rs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l}function Sh(t,n,a){return a===void 0||(Ni&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=dp(),bt.lanes|=t,ha|=t,a)}function dg(t,n,a,l){return cn(a,n)?a:$s.current!==null?(t=Sh(t,a,l),cn(t,n)||(be=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(Nt&261930)===0?(be=!0,t.memoizedState=a):(t=dp(),bt.lanes|=t,ha|=t,n)}function mg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rh(t,!1,n,a);try{var R=c(),B=G.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=$v(R,l);yl(t,n,H,pn(t))}else yl(t,n,l,pn(t))}catch(F){yl(t,n,{then:function(){},status:"rejected",reason:F},pn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function aE(){}function xh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,n,dt,a===null?aE:function(){return pg(t),a(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t);n.next===null&&(n=t.alternate.memoizedState),yl(t,n.next.queue,{},pn())}function wh(){return ke(Ml)}function yg(){return de().memoizedState}function _g(){return de().memoizedState}function sE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=sa(a);var l=ra(n,t,a);l!==null&&(rn(l,n,a),fl(l,n,a)),n={cache:eh()},t.payload=n;return}n=n.return}}function rE(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ou(t)?Eg(n,a):(a=Gc(t,n,a,l),a!==null&&(rn(a,t,l),Tg(a,n,l)))}function vg(t,n,a){var l=pn();yl(t,n,a,l)}function yl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ou(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return Po(t,n,c,0),$t===null&&qo(),!1}catch{}finally{}if(a=Gc(t,n,c,l),a!==null)return rn(a,t,l),Tg(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:rf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(n)throw Error(r(479))}else n=Gc(t,a,l,2),n!==null&&rn(n,t,2)}function ou(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Eg(t,n){Ws=eu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Tg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}var _l={readContext:ke,use:au,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};_l.useEffectEvent=oe;var bg={readContext:ke,use:au,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ru(4194308,4,ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(rs){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(rs){yn(!0);try{a(n)}finally{yn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=rE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,a=vg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(t,n){var a=$e();return Sh(a,t,n)},useTransition:function(){var t=Eh(!1);return t=mg.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=$e();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),$t===null)throw Error(r(349));(Nt&127)!==0||Hm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,sg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,er(9,{destroy:void 0},Gm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Ot){var a=fi,l=hi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Wv++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return $e().memoizedState=sE.bind(null,bt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ch={readContext:ke,use:au,useCallback:hg,useContext:ke,useEffect:bh,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:su,useRef:ag,useState:function(){return su(Di)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=de();return dg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=su(Di)[0],n=de().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Pm,useId:yg,useHostTransitionStatus:wh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=de();return Km(a,Xt,t,n)},useMemoCache:yh,useCacheRefresh:_g};Ch.useEffectEvent=rg;var Ag={readContext:ke,use:au,useCallback:hg,useContext:ke,useEffect:bh,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:vh,useRef:ag,useState:function(){return vh(Di)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=de();return Xt===null?Sh(a,t,n):dg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=vh(Di)[0],n=de().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Pm,useId:yg,useHostTransitionStatus:wh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=de();return Xt!==null?Km(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:_g};Ag.useEffectEvent=rg;function Nh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(rn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(rn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=ra(t,l,a),n!==null&&(rn(n,t,a),fl(n,t,a))}};function Sg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(c,f):!0}function xg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function ls(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function wg(t){ko(t)}function Rg(t){console.error(t)}function Cg(t){ko(t)}function uu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ng(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){uu(t,n)},a}function Dg(t){return t=sa(t),t.tag=3,t}function Vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ng(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function lE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return Rn===null?Tu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Zo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),nf(t,l,c)),!1;case 22:return a.flags|=65536,l===Zo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),nf(t,l,c)),!1}throw Error(r(435,a.tag))}return nf(t,l,c),Tu(),!1}if(Ot)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),ll(An(t,a)))):(l!==Zc&&(n=Error(r(423),{cause:l}),ll(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=Vh(t.stateNode,l,c),lh(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=An(f,a),wl===null?wl=[f]:wl.push(f),ue!==4&&(ue=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),lh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fa===null||!fa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Dg(c),Vg(c,t,a,l),lh(a,c),!1}a=a.return}while(a!==null);return!1}var Ih=Error(r(461)),be=!1;function qe(t,n,a,l){n.child=t===null?jm(n,null,a,l):ss(n,t.child,a,l)}function Ig(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return es(n),l=dh(t,n,a,g,f,c),E=mh(),t!==null&&!be?(gh(t,n,c),Vi(t,n,c)):(Ot&&E&&Kc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Og(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Mg(t,n,f,l,c)):(t=Go(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(g,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return Oh(t,n,a,l,c)}function jg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ug(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Lm(n,f):uh(),Bm(n);else return l=n.lanes=536870912,Ug(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ko(n,f.cachePool),Lm(n,f),oa(),n.memoizedState=null):(t!==null&&Ko(n,null),uh(),oa());return qe(t,n,c,a),n.child}function vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ug(t,n,a,l,c){var f=ih();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ko(n,null),uh(),Bm(n),t!==null&&Ys(t,n,l,!0),n.childLanes=c,null}function cu(t,n){return n=fu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function zg(t,n,a){return ss(n,t.child,null,a),t=cu(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function oE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=cu(n,l),n.lanes=536870912,vl(null,t);if(hh(n),(t=ee)?(t=Xp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Em(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return cu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hh(n),c)if(n.flags&256)n.flags&=-257,n=zg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Ys(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=$t,l!==null&&(g=kr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ja(t,g),rn(l,t,g),Ih;Tu(),n=zg(t,n,a)}else t=f.treeContext,ee=Cn(g.nextSibling),Be=n,Ot=!0,ea=null,wn=!1,t!==null&&Am(n,t),n=cu(n,l),n.flags|=4096;return n}return t=xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Oh(t,n,a,l,c){return es(n),a=dh(t,n,a,l,void 0,c),l=mh(),t!==null&&!be?(gh(t,n,c),Vi(t,n,c)):(Ot&&l&&Kc(n),n.flags|=1,qe(t,n,a,c),n.child)}function Lg(t,n,a,l,c,f){return es(n),n.updateQueue=null,a=qm(n,l,a,c),km(t),l=mh(),t!==null&&!be?(gh(t,n,f),Vi(t,n,f)):(Ot&&l&&Kc(n),n.flags|=1,qe(t,n,a,f),n.child)}function Bg(t,n,a,l,c){if(es(n),n.stateNode===null){var f=Hs,g=a.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?ke(g):Hs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Dh.enqueueReplaceState(f,f.state,null),ml(n,l,f,c),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ls(a,E);f.props=R;var B=f.context,H=a.contextType;g=Hs,typeof H=="object"&&H!==null&&(g=ke(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&xg(n,f,l,g),aa=!1;var k=n.memoizedState;f.state=k,ml(n,l,f,c),dl(),B=n.memoizedState,E||k!==B||aa?(typeof F=="function"&&(Nh(n,a,F,l),B=n.memoizedState),(R=aa||Sg(n,a,R,l,k,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rh(t,n),g=n.memoizedProps,H=ls(a,g),f.props=H,F=n.pendingProps,k=f.context,B=a.contextType,R=Hs,typeof B=="object"&&B!==null&&(R=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||k!==R)&&xg(n,f,l,R),aa=!1,k=n.memoizedState,f.state=k,ml(n,l,f,c),dl();var P=n.memoizedState;g!==F||k!==P||aa||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Nh(n,a,E,l),P=n.memoizedState),(H=aa||Sg(n,a,H,l,k,P,R)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ss(n,t.child,null,c),n.child=ss(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Vi(t,n,c),t}function kg(t,n,a,l){return Wa(),n.flags|=256,qe(t,n,a,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:Nm()}}function Uh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?la(n):oa(),(t=ee)?(t=Xp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Em(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw na(n);return vf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(oa(),c=n.mode,E=fu({mode:"hidden",children:E},c),l=$a(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jh(a),l.childLanes=Uh(t,g,a),n.memoizedState=Mh,vl(null,l)):(la(n),zh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(la(n),n.flags&=-257,n=Lh(t,n,a)):n.memoizedState!==null?(oa(),n.child=t.child,n.flags|=128,n=null):(oa(),E=l.fallback,c=n.mode,l=fu({mode:"visible",children:l.children},c),E=$a(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ss(n,t.child,null,a),l=n.child,l.memoizedState=jh(a),l.childLanes=Uh(t,g,a),n.memoizedState=Mh,n=vl(null,l));else if(la(n),vf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,ll({value:l,source:null,stack:null}),n=Lh(t,n,a)}else if(be||Ys(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=$t,g!==null&&(l=kr(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ja(t,l),rn(g,t,l),Ih;_f(E)||Tu(),n=Lh(t,n,a)}else _f(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ee=Cn(E.nextSibling),Be=n,Ot=!0,ea=null,wn=!1,t!==null&&Am(n,t),n=zh(n,l.children),n.flags|=4096);return n}return c?(oa(),E=l.fallback,c=n.mode,R=t.child,B=R.sibling,l=xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?E=xi(B,E):(E=$a(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,vl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jh(a):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Nm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Uh(t,g,a),n.memoizedState=Mh,vl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function zh(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function Lh(t,n,a){return ss(n,t.child,null,a),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,a)}function Bh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(t,n,l,a),l=Ot?rl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,a,n);else if(t.tag===19)Pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&tu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Bh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Bh(n,!0,a,null,f,l);break;case"together":Bh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function uE(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ia(n,Ee,t.memoizedState.cache),Wa();break;case 27:case 5:Oa(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?qg(t,n,a):(la(n),t=Vi(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,jg(t,n,a,n.pendingProps);case 24:ia(n,Ee,t.memoizedState.cache)}return Vi(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return be=!1,uE(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&bm(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=is(n.elementType),n.type=t,typeof t=="function")Qc(t)?(l=ls(t,l),n.tag=1,n=Bg(null,n,t,l,a)):(n.tag=0,n=Oh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===At){n.tag=11,n=Ig(null,n,t,l,a);break t}else if(c===N){n.tag=14,n=Og(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ls(l,n.pendingProps),Bg(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,rh(t,n),ml(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,Ee,l),l!==f.cache&&th(n,[Ee],a,!0),dl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,a);break t}else if(l!==c){c=An(Error(r(424)),n),ll(c),n=kg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Cn(t.firstChild),Be=n,Ot=!0,ea=null,wn=!0,a=jm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wa(),l===c){n=Vi(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return hu(t,n),t===null?(a=ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Cu(St.current).createElement(a),l[ye]=n,l[Oe]=t,Pe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oa(n),t===null&&Ot&&(l=n.stateNode=$p(n.type,n.pendingProps,St.current),Be=n,wn=!0,c=ee,pa(n.type)?(Ef=c,ee=Cn(l.firstChild)):ee=c),qe(t,n,n.pendingProps.children,a),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ee)&&(l=BE(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,ee=Cn(l.firstChild),wn=!1,c=!0):c=!1),c||na(n)),Oa(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,gf(c,f)?l=null:g!==null&&gf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=dh(t,n,tE,null,null,a),Ml._currentValue=c),hu(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ee)&&(a=kE(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,ee=null,t=!0):t=!1),t||na(n)),null;case 13:return qg(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ss(n,null,l,a):qe(t,n,l,a),n.child;case 11:return Ig(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,es(n),c=ke(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Og(t,n,n.type,n.pendingProps,a);case 15:return Mg(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return oE(t,n,a);case 22:return jg(t,n,a,n.pendingProps);case 24:return es(n),l=ke(Ee),t===null?(c=ih(),c===null&&(c=$t,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},sh(n),ia(n,Ee,c)):((t.lanes&a)!==0&&(rh(t,n),ml(n,null,null,a),dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,Ee,l)):(l=f.cache,ia(n,Ee,l),l!==c.cache&&th(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ii(t){t.flags|=4}function qh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(yp())t.flags|=8192;else throw as=Zo,ah}else t.flags&=-16777217}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ry(n))if(yp())t.flags|=8192;else throw as=Zo,ah}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vo():536870912,t.lanes|=n,sr|=n)}function El(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function cE(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jc())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ii(n),f!==null?(ne(n),Qg(n,f)):(ne(n),qh(n,c,null,l,a))):f?f!==t.memoizedState?(Ii(n),ne(n),Qg(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ii(n),ne(n),qh(n,c,t,l,a)),null;case 27:if(Ss(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=rt.current,Fs(n)?Sm(n):(t=$p(c,l,a),n.stateNode=t,Ii(n))}return ne(n),null;case 5:if(Ss(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=rt.current,Fs(n))Sm(n);else{var g=Cu(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ii(n)}}return ne(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=St.current,Fs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qp(t.nodeValue,a)),t||na(n,!0)}else t=Cu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fs(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),du(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&cf(n.stateNode.containerInfo),ne(n),null;case 10:return Ci(n.type),ne(n),null;case 19:if(K(fe),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)El(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tu(t),f!==null){for(n.flags|=128,El(l,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return nt(fe,fe.current&1|2),Ot&&wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>_u&&(n.flags|=128,c=!0,El(l,!1),n.lanes=4194304)}else{if(!c)if(t=tu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ne(n),null}else 2*Ze()-l.renderingStartTime>_u&&a!==536870912&&(n.flags|=128,c=!0,El(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,nt(fe,c?a&1|2:a&1),Ot&&wi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return dn(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function hE(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ss(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(r(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(fe),null;case 4:return ae(),null;case 10:return Ci(n.type),null;case 22:case 23:return dn(n),ch(),t!==null&&K(ns),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Ee),null;case 25:return null;default:return null}}function Fg(t,n){switch(Xc(n),n.tag){case 3:Ci(Ee),ae();break;case 26:case 27:case 5:Ss(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:K(fe);break;case 10:Ci(n.type);break;case 22:case 23:dn(n),ch(),t!==null&&K(ns);break;case 24:Ci(Ee)}}function Tl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ua(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,B=E;try{B()}catch(H){Yt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Yt(n,n.return,H)}}function Yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{zm(n,a)}catch(l){Yt(t,t.return,l)}}}function Kg(t,n,a){a.props=ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Xg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;OE(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Hh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Gh(t,n,a),t=t.sibling;t!==null;)Gh(t,n,a),t=t.sibling}function mu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mu(t,n,a),t=t.sibling;t!==null;)mu(t,n,a),t=t.sibling}function Jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ye]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var Oi=!1,Ae=!1,Qh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,je=null;function fE(t,n){if(t=t.containerInfo,df=ju,t=cm(t),Lc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,B=0,H=0,F=t,k=null;e:for(;;){for(var P;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(R=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(P=F.firstChild)!==null;)k=F,F=P;for(;;){if(F===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++H===l&&(R=g),(P=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=P}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(mf={focusedElem:t,selectionRange:a},ju=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var lt=ls(a.type,c);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Yt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)yf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Tl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ls(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&Yg(a),l&512&&bl(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{zm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Jg(a);case 26:case 5:ji(t,a),n===null&&l&4&&Xg(a),l&512&&bl(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&np(t,a);break;case 13:ji(t,a),l&4&&ip(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TE.bind(null,a),qE(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var f=Ae;Oi=l,(Ae=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Oi=c,Ae=f}break;case 30:break;default:ji(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ns(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Mi(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:Ae||di(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||di(a,n);var l=re,c=en;pa(a.type)&&(re=a.stateNode,en=!1),Mi(t,n,a),Vl(a.stateNode),re=l,en=c;break;case 5:Ae||di(a,n);case 6:if(l=re,c=en,re=null,Mi(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:re!==null&&(en?(t=re,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),dr(t)):Yp(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Mi(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:ua(2,a,n),Ae||ua(4,a,n),Mi(t,n,a);break;case 1:Ae||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Mi(t,n,a),Ae=l;break;default:Mi(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dr(t)}catch(a){Yt(n,n.return,a)}}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dr(t)}catch(a){Yt(n,n.return,a)}}function dE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(r(435,t.tag))}}function gu(t,n){var a=dE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=bE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(r(160));ep(f,g,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Pn=null;function ap(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ua(3,t,t.return),Tl(3,t),ua(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Pn;if(nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=ay("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ay("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else sy(c,t.type,t.stateNode);else t.stateNode=iy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?sy(c,t.type,t.stateNode):iy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(lt){Yt(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Qh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(lt){Yt(t,t.return,lt)}}break;case 3:if(Vu=null,c=Pn,Pn=Nu(n.containerInfo),nn(n,t),Pn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(n.containerInfo)}catch(lt){Yt(t,t.return,lt)}Qh&&(Qh=!1,sp(t));break;case 4:l=Pn,Pn=Nu(t.stateNode.containerInfo),nn(n,t),an(t),Pn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Oi,H=Ae;if(Oi=B||c,Ae=H||R,nn(n,t),Ae=H,Oi=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Oi||Ae||os(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===18){if(a===null){R=n;try{var P=R.stateNode;c?Kp(P,!0):Kp(R.stateNode,!1)}catch(lt){Yt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Hh(t);mu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Hh(t);mu(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,B=Hh(t);Gh(t,B,R);break;default:throw Error(r(161))}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ua(4,n,n.return),os(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),os(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),Tl(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Um(R[c],E)}catch(B){Yt(l,l.return,B)}}a&&g&64&&Yg(f),bl(f,f.return);break;case 27:Jg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Xg(f),bl(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&np(c,f);break;case 13:Ui(c,f,a),a&&g&4&&ip(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),bl(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function Fh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function Hn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,a,l),n=n.sibling}function rp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n,a,l),c&2048&&Tl(9,n);break;case 1:Hn(t,n,a,l);break;case 3:Hn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(c&2048){Hn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Hn(t,n,a,l);break;case 31:Hn(t,n,a,l);break;case 13:Hn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(t,n,a,l):Al(t,n):f._visibility&2?Hn(t,n,a,l):(f._visibility|=2,nr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Fh(g,n);break;case 24:Hn(t,n,a,l),c&2048&&Yh(n.alternate,n);break;default:Hn(t,n,a,l)}}function nr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,R=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:nr(f,g,E,R,c),Tl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?nr(f,g,E,R,c):Al(f,g):(H._visibility|=2,nr(f,g,E,R,c)),c&&B&2048&&Fh(g.alternate,g);break;case 24:nr(f,g,E,R,c),c&&B&2048&&Yh(g.alternate,g);break;default:nr(f,g,E,R,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Al(a,l),c&2048&&Fh(l.alternate,l);break;case 24:Al(a,l),c&2048&&Yh(l.alternate,l);break;default:Al(a,l)}n=n.sibling}}var Sl=8192;function ir(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)lp(t,n,a),t=t.sibling}function lp(t,n,a){switch(t.tag){case 26:ir(t,n,a),t.flags&Sl&&t.memoizedState!==null&&WE(a,Pn,t.memoizedState,t.memoizedProps);break;case 5:ir(t,n,a);break;case 3:case 4:var l=Pn;Pn=Nu(t.stateNode.containerInfo),ir(t,n,a),Pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,ir(t,n,a),Sl=l):ir(t,n,a));break;default:ir(t,n,a)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,cp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&ua(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):xl(t);break;default:xl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];je=l,cp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ua(8,n,n.return),pu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function cp(t,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:ua(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(tp(l),l===a){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var mE={getCacheForType:function(t){var n=ke(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(Ee).controller.signal}},gE=typeof WeakMap=="function"?WeakMap:Map,Pt=0,$t=null,Rt=null,Nt=0,Ft=0,mn=null,ca=!1,ar=!1,Kh=!1,zi=0,ue=0,ha=0,us=0,Xh=0,gn=0,sr=0,wl=null,sn=null,Zh=!1,yu=0,hp=0,_u=1/0,vu=null,fa=null,De=0,da=null,rr=null,Li=0,Jh=0,$h=null,fp=null,Rl=0,Wh=null;function pn(){return(Pt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?rf():Eo()}function dp(){if(gn===0)if((Nt&536870912)===0||Ot){var t=Ua;Ua<<=1,(Ua&3932160)===0&&(Ua=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function rn(t,n,a){(t===$t&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(lr(t,0),ma(t,Nt,gn,!1)),za(t,a),((Pt&2)===0||t!==$t)&&(t===$t&&((Pt&2)===0&&(us|=a),ue===4&&ma(t,Nt,gn,!1)),mi(t))}function mp(t,n,a){if((Pt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?_E(t,n):ef(t,n,!0),f=l;do{if(c===0){ar&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!pE(a)){c=ef(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=wl;var R=E.current.memoizedState.isDehydrated;if(R&&(lr(E,g).flags|=256),g=ef(E,g,!1),g!==2){if(Kh&&!R){E.errorRecoveryDisabledLanes|=f,us|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){lr(t,0),ma(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,gn,!ca);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=yu+300-Ze(),10<c)){if(ma(l,n,gn,!ca),Zn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=Qp(gp.bind(null,l,a,sn,vu,Zh,n,gn,us,sr,ca,f,"Throttled",-0,0),c);break t}gp(l,a,sn,vu,Zh,n,gn,us,sr,ca,f,null,-0,0)}}break}while(!0);mi(t)}function gp(t,n,a,l,c,f,g,E,R,B,H,F,k,P){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},lp(n,f,F);var lt=(f&62914560)===f?yu-Ze():(f&4194048)===f?hp-Ze():0;if(lt=tT(F,lt),lt!==null){Li=f,t.cancelPendingCommit=lt(Ap.bind(null,t,n,f,a,l,c,g,E,R,H,F,null,k,P)),ma(t,f,g,!B);return}}Ap(t,n,f,a,l,c,g,E,R)}function pE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Xh,n&=~us,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&La(t,a,n)}function Eu(){return(Pt&6)===0?(Cl(0),!1):!0}function tf(){if(Rt!==null){if(Ft===0)var t=Rt.return;else t=Rt,Ri=ts=null,ph(t),Js=null,cl=0,t=Rt;for(;t!==null;)Fg(t.alternate,t),t=t.return;Rt=null}}function lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Li=0,tf(),$t=t,Rt=a=xi(t.current,null),Nt=n,Ft=0,mn=null,ca=!1,ar=On(t,n),Kh=!1,sr=gn=Xh=us=ha=ue=0,sn=wl=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return zi=n,qo(),a}function pp(t,n){bt=null,G.H=_l,n===Zs||n===Xo?(n=Im(),Ft=3):n===ah?(n=Im(),Ft=4):Ft=n===Ih?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Rt===null&&(ue=1,uu(t,An(n,t.current)))}function yp(){var t=fn.current;return t===null?!0:(Nt&4194048)===Nt?Rn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Rn:!1}function _p(){var t=G.H;return G.H=_l,t===null?_l:t}function vp(){var t=G.A;return G.A=mE,t}function Tu(){ue=4,ca||(Nt&4194048)!==Nt&&fn.current!==null||(ar=!0),(ha&134217727)===0&&(us&134217727)===0||$t===null||ma($t,Nt,gn,!1)}function ef(t,n,a){var l=Pt;Pt|=2;var c=_p(),f=vp();($t!==t||Nt!==n)&&(vu=null,lr(t,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,R=mn;switch(Ft){case 8:tf(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var B=Ft;if(Ft=0,mn=null,or(t,E,R,B),a&&ar){g=0;break t}break;default:B=Ft,Ft=0,mn=null,or(t,E,R,B)}}yE(),g=ue;break}catch(H){pp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ri=ts=null,Pt=l,G.H=c,G.A=f,Rt===null&&($t=null,Nt=0,qo()),g}function yE(){for(;Rt!==null;)Ep(Rt)}function _E(t,n){var a=Pt;Pt|=2;var l=_p(),c=vp();$t!==t||Nt!==n?(vu=null,_u=Ze()+500,lr(t,n)):ar=On(t,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=mn;e:switch(Ft){case 1:Ft=0,mn=null,or(t,n,f,1);break;case 2:case 9:if(Dm(f)){Ft=0,mn=null,Tp(n);break}n=function(){Ft!==2&&Ft!==9||$t!==t||(Ft=7),mi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Dm(f)?(Ft=0,mn=null,Tp(n)):(Ft=0,mn=null,or(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?ry(g):E.stateNode.complete){Ft=0,mn=null;var R=E.sibling;if(R!==null)Rt=R;else{var B=E.return;B!==null?(Rt=B,bu(B)):Rt=null}break e}}Ft=0,mn=null,or(t,n,f,5);break;case 6:Ft=0,mn=null,or(t,n,f,6);break;case 8:tf(),ue=6;break t;default:throw Error(r(462))}}vE();break}catch(H){pp(t,H)}while(!0);return Ri=ts=null,G.H=l,G.A=c,Pt=a,Rt!==null?0:($t=null,Nt=0,qo(),ue)}function vE(){for(;Rt!==null&&!Vc();)Ep(Rt)}function Ep(t){var n=Gg(t.alternate,t,zi);t.memoizedProps=t.pendingProps,n===null?bu(t):Rt=n}function Tp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Lg(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Lg(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:ph(n);default:Fg(a,n),n=Rt=vm(n,zi),n=Gg(a,n,zi)}t.memoizedProps=t.pendingProps,n===null?bu(t):Rt=n}function or(t,n,a,l){Ri=ts=null,ph(n),Js=null,cl=0;var c=n.return;try{if(lE(t,c,n,a,Nt)){ue=1,uu(t,An(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ue=1,uu(t,An(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:ar||(Nt&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bp(n,t)):bu(n)}function bu(t){var n=t;do{if((n.flags&32768)!==0){bp(n,ca);return}t=n.return;var a=cE(n.alternate,n,zi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ue===0&&(ue=5)}function bp(t,n){do{var a=hE(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ue=6,Rt=null}function Ap(t,n,a,l,c,f,g,E,R){t.cancelPendingCommit=null;do Au();while(De!==0);if((Pt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hc,Mc(t,a,f,g,E,R),t===$t&&(Rt=$t=null,Nt=0),rr=n,da=t,Li=a,Jh=f,$h=c,fp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AE(Gi,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{fE(t,n,a)}finally{Pt=g,et.p=c,G.T=l}}De=1,Sp(),xp(),wp()}}function Sp(){if(De===1){De=0;var t=da,n=rr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{ap(n,t);var f=mf,g=cm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&um(E.ownerDocument.documentElement,E)){if(R!==null&&Lc(E)){var B=R.start,H=R.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var P=k.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),Jt=R.end===void 0?mt:Math.min(R.end,lt);!P.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var j=om(E,mt),D=om(E,Jt);if(j&&D&&(P.rangeCount!==1||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==D.node||P.focusOffset!==D.offset)){var L=F.createRange();L.setStart(j.node,j.offset),P.removeAllRanges(),mt>Jt?(P.addRange(L),P.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),P.addRange(L))}}}}for(F=[],P=E;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ju=!!df,mf=df=null}finally{Pt=c,et.p=l,G.T=a}}t.current=n,De=2}}function xp(){if(De===2){De=0;var t=da,n=rr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Wg(t,n.alternate,n)}finally{Pt=c,et.p=l,G.T=a}}De=3}}function wp(){if(De===4||De===3){De=0,fo();var t=da,n=rr,a=Li,l=fp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,rr=da=null,Rp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ti(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(In,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(Li&3)!==0&&Au(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Wh?Rl++:(Rl=0,Wh=t):Rl=0,Cl(0)}}function Rp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function Au(){return Sp(),xp(),wp(),Cp()}function Cp(){if(De!==5)return!1;var t=da,n=Jh;Jh=0;var a=Ti(Li),l=G.T,c=et.p;try{et.p=32>a?32:a,G.T=null,a=$h,$h=null;var f=da,g=Li;if(De=0,rr=da=null,Li=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,up(f.current),rp(f,f.current,g,a),Pt=E,Cl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{et.p=c,G.T=l,Rp(t,n)}}function Np(t,n,a){n=An(a,n),n=Vh(t.stateNode,n,2),t=ra(t,n,2),t!==null&&(za(t,2),mi(t))}function Yt(t,n,a){if(t.tag===3)Np(t,t,a);else for(;n!==null;){if(n.tag===3){Np(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=An(a,t),a=Dg(2),l=ra(n,a,2),l!==null&&(Vg(a,l,n,t),za(l,2),mi(l));break}}n=n.return}}function nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Kh=!0,c.add(a),t=EE.bind(null,t,n,a),n.then(t,t))}function EE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Nt&a)===a&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>Ze()-yu?(Pt&2)===0&&lr(t,0):Xh|=a,sr===Nt&&(sr=0)),mi(t)}function Dp(t,n){n===0&&(n=vo()),t=Ja(t,n),t!==null&&(za(t,n),mi(t))}function TE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Dp(t,a)}function bE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Dp(t,a)}function AE(t,n){return Ne(t,n)}var Su=null,ur=null,af=!1,xu=!1,sf=!1,ga=0;function mi(t){t!==ur&&t.next===null&&(ur===null?Su=ur=t:ur=ur.next=t),xu=!0,af||(af=!0,xE())}function Cl(t,n){if(!sf&&xu){sf=!0;do for(var a=!1,l=Su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Mp(l,f))}else f=Nt,f=Zn(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Mp(l,f));l=l.next}while(a);sf=!1}}function SE(){Vp()}function Vp(){xu=af=!1;var t=0;ga!==0&&jE()&&(t=ga);for(var n=Ze(),a=null,l=Su;l!==null;){var c=l.next,f=Ip(l,n);f===0?(l.next=null,a===null?Su=c:a.next=c,c===null&&(ur=a)):(a=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=c}De!==0&&De!==5||Cl(t),ga!==0&&(ga=0)}function Ip(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Oc(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Nt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Hi(l),Ti(a)){case 2:case 8:a=Lr;break;case 32:a=Gi;break;case 268435456:a=mo;break;default:a=Gi}return l=Op.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function Op(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=Nt;return l=Zn(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mp(t,l,n),Ip(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Op.bind(null,t):null)}function Mp(t,n){if(Au())return null;mp(t,n,!0)}function xE(){zE(function(){(Pt&6)!==0?Ne(zr,SE):Vp()})}function rf(){if(ga===0){var t=Ks;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),ga=t}return ga}function jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function Up(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function wE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=jp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?jp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=g?Up(c,g):new FormData(c);xh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Up(c,g):new FormData(c),xh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var lf=0;lf<Pc.length;lf++){var of=Pc[lf],RE=of.toLowerCase(),CE=of[0].toUpperCase()+of.slice(1);qn(RE,"on"+CE)}qn(dm,"onAnimationEnd"),qn(mm,"onAnimationIteration"),qn(gm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Gv,"onTransitionRun"),qn(Qv,"onTransitionStart"),qn(Fv,"onTransitionCancel"),qn(pm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ko(H)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,B=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ko(H)}c.currentTarget=null,f=R}}}}function Ct(t,n){var a=n[Cs];a===void 0&&(a=n[Cs]=new Set);var l=t+"__bubble";a.has(l)||(Lp(n,t,2,!1),a.add(l))}function uf(t,n,a){var l=0;n&&(l|=4),Lp(a,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[wu]){t[wu]=!0,qr.forEach(function(a){a!=="selectionchange"&&(NE.has(a)||uf(a,!1,t),uf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,uf("selectionchange",!1,n))}}function Lp(t,n,a,l){switch(dy(n)){case 2:var c=iT;break;case 8:c=aT;break;default:c=xf}a=c.bind(null,n,a,t),c=void 0,!Ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function hf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=f,H=vn(a),F=[];t:{var k=ym.get(t);if(k!==void 0){var P=li,lt=t;switch(t){case"keypress":if(Qa(a)===0)break t;case"keydown":case"keyup":P=zo;break;case"focusin":lt="focus",P=Ya;break;case"focusout":lt="blur",P=Ya;break;case"beforeblur":case"afterblur":P=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case dm:case mm:case gm:P=Do;break;case pm:P=T;break;case"scroll":case"scrollend":P=Wr;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Si;break;case"toggle":case"beforetoggle":P=Tt}var mt=(n&4)!==0,Jt=!mt&&(t==="scroll"||t==="scrollend"),j=mt?k!==null?k+"Capture":null:k;mt=[];for(var D=B,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||j===null||(Q=zn(D,j),Q!=null&&mt.push(Dl(D,Q,L))),Jt)break;D=D.return}0<mt.length&&(k=new P(k,lt,null,a,H),F.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&a!==Zr&&(lt=a.relatedTarget||a.fromElement)&&(ti(lt)||lt[$n]))break t;if((P||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,P?(lt=a.relatedTarget||a.toElement,P=B,lt=lt?ti(lt):null,lt!==null&&(Jt=h(lt),mt=lt.tag,lt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(P=null,lt=B),P!==lt)){if(mt=tl,Q="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Si,Q="onPointerLeave",j="onPointerEnter",D="pointer"),Jt=P==null?k:on(P),L=lt==null?k:on(lt),k=new mt(Q,D+"leave",P,a,H),k.target=Jt,k.relatedTarget=L,Q=null,ti(H)===B&&(mt=new mt(j,D+"enter",lt,a,H),mt.target=L,mt.relatedTarget=Jt,Q=mt),Jt=Q,P&&lt)e:{for(mt=DE,j=P,D=lt,L=0,Q=j;Q;Q=mt(Q))L++;Q=0;for(var ht=D;ht;ht=mt(ht))Q++;for(;0<L-Q;)j=mt(j),L--;for(;0<Q-L;)D=mt(D),Q--;for(;L--;){if(j===D||D!==null&&j===D.alternate){mt=j;break e}j=mt(j),D=mt(D)}mt=null}else mt=null;P!==null&&Bp(F,k,P,mt,!1),lt!==null&&Jt!==null&&Bp(F,Jt,lt,mt,!0)}}t:{if(k=B?on(B):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var Bt=nm;else if(tm(k))if(im)Bt=qv;else{Bt=Bv;var ot=Lv}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Is(B.elementType)&&(Bt=nm):Bt=kv;if(Bt&&(Bt=Bt(t,B))){em(F,Bt,a,H);break t}ot&&ot(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Yr(k,"number",k.value)}switch(ot=B?on(B):window,t){case"focusin":(tm(ot)||ot.contentEditable==="true")&&(ks=ot,Bc=B,sl=null);break;case"focusout":sl=Bc=ks=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,hm(F,a,H);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":hm(F,a,H)}var xt;if(qt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Bs?Ka(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(ci&&a.locale!=="ko"&&(Bs||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Bs&&(xt=$r()):(ri=H,Jr="value"in ri?ri.value:ri.textContent,Bs=!0)),ot=Ru(B,Dt),0<ot.length&&(Dt=new ui(Dt,t,null,a,H),F.push({event:Dt,listeners:ot}),xt?Dt.data=xt:(xt=Ls(a),xt!==null&&(Dt.data=xt)))),(xt=Tn?Mv(t,a):jv(t,a))&&(Dt=Ru(B,"onBeforeInput"),0<Dt.length&&(ot=new ui("onBeforeInput","beforeinput",null,a,H),F.push({event:ot,listeners:Dt}),ot.data=xt)),wE(F,t,B,a,H)}zp(F,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ru(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=zn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function DE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=zn(a,f),B!=null&&g.unshift(Dl(a,B,R))):c||(B=zn(a,f),B!=null&&g.push(Dl(a,B,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var VE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(IE,"")}function qp(t,n){return n=kp(n),kp(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":un(t,"class",l);break;case"tabIndex":un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(t,a,l);break;case"style":Xr(t,l,f);break;case"data":if(n!=="object"){un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ds(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ro.get(a)||a,Ds(t,a,l))}}function ff(t,n,a,l,c,f){switch(a){case"style":Xr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ds(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,f,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Zt(t,n,l,H,a,null)}}So(t,f,E,R,B,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,n,g,E,a,null)}Yi(t,l,c,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ct(Nl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,B,l,a,null)}return;default:if(Is(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&ff(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function OE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,B=null,H=null;for(P in a){var F=a[P];if(a.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(P)||Zt(t,n,P,null,l,F)}}for(var k in l){var P=l[k];if(F=a[k],l.hasOwnProperty(k)&&(P!=null||F!=null))switch(k){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==F&&Zt(t,n,k,P,l,F)}}Vs(t,g,E,R,B,H,f,c);return;case"select":P=g=E=k=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":P=R;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(t,n,c,f,l,R)}n=E,a=g,l=P,k!=null?Fi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Fi(t,!!a,n,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":P=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(t,n,g,c,l,f)}xo(t,k,P);return;case"option":for(var lt in a)if(k=a[lt],a.hasOwnProperty(lt)&&k!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Zt(t,n,lt,null,l,k)}for(R in l)if(k=l[R],P=a[R],l.hasOwnProperty(R)&&k!==P&&(k!=null||P!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Zt(t,n,R,k,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)k=a[mt],a.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Zt(t,n,mt,null,l,k);for(B in l)if(k=l[B],P=a[B],l.hasOwnProperty(B)&&k!==P&&(k!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Zt(t,n,B,k,l,P)}return;default:if(Is(n)){for(var Jt in a)k=a[Jt],a.hasOwnProperty(Jt)&&k!==void 0&&!l.hasOwnProperty(Jt)&&ff(t,n,Jt,void 0,l,k);for(H in l)k=l[H],P=a[H],!l.hasOwnProperty(H)||k===P||k===void 0&&P===void 0||ff(t,n,H,k,l,P);return}}for(var j in a)k=a[j],a.hasOwnProperty(j)&&k!=null&&!l.hasOwnProperty(j)&&Zt(t,n,j,null,l,k);for(F in l)k=l[F],P=a[F],!l.hasOwnProperty(F)||k===P||k==null&&P==null||Zt(t,n,F,k,l,P)}function Pp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ME(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Pp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],B=R.startTime;if(B>E)break;var H=R.transferSize,F=R.initiatorType;H&&Pp(F)&&(R=R.responseEnd,g+=H*(R<E?1:(E-B)/(R-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var df=null,mf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(LE)}:Qp;function LE(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function Yp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),dr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);dr(n)}function Kp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yf(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function kE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Cn(t.nextSibling),t===null))return null;return t}function Xp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function _f(t){return t.data==="$?"||t.data==="$~"}function vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ef=null;function Zp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Cn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Jp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function $p(t,n,a){switch(n=Cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ns(t)}var Nn=new Map,Wp=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=et.d;et.d={f:PE,r:HE,D:GE,C:QE,L:FE,m:YE,X:XE,S:KE,M:ZE};function PE(){var t=Bi.f(),n=Eu();return t||n}function HE(t){var n=_n(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Bi.r(t)}var cr=typeof document>"u"?null:document;function ty(t,n,a){var l=cr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Wp.has(c)||(Wp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function GE(t){Bi.D(t),ty("dns-prefetch",t,null)}function QE(t,n){Bi.C(t,n),ty("preconnect",t,n)}function FE(t,n,a){Bi.L(t,n,a);var l=cr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=hr(t);break;case"script":f=fr(t)}Nn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function YE(t,n){Bi.m(t,n);var a=cr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fr(t)}if(!Nn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Nn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}l=a.createElement("link"),Pe(l,"link",t),_e(l),a.head.appendChild(l)}}}function KE(t,n,a){Bi.S(t,n,a);var l=cr;if(l&&t){var c=ei(l).hoistableStyles,f=hr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(f))&&Tf(t,a);var R=g=l.createElement("link");_e(R),Pe(R,"link",t),R._p=new Promise(function(B,H){R.onload=B,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Du(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function XE(t,n){Bi.X(t,n);var a=cr;if(a&&t){var l=ei(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ol(c)),f||(t=S({src:t,async:!0},n),(n=Nn.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ZE(t,n){Bi.M(t,n);var a=cr;if(a&&t){var l=ei(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ol(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ey(t,n,a,l){var c=(c=St.current)?Nu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||JE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function hr(t){return'href="'+We(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function ny(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),_e(n),t.head.appendChild(n))}function fr(t){return'[src="'+We(t)+'"]'}function Ol(t){return"script[async]"+t}function iy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Pe(l,"style",c),Du(l,a.precedence,t),n.instance=l;case"stylesheet":c=hr(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=ny(a),(c=Nn.get(c))&&Tf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Du(f,a.precedence,t),n.instance=f;case"script":return f=fr(a.src),(c=t.querySelector(Ol(f)))?(n.instance=c,_e(c),c):(l=a,(c=Nn.get(f))&&(l=S({},a),bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Du(l,a.precedence,t));return n.instance}function Du(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function ay(t,n,a){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(a,l)}else c=Vu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function sy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $E(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=hr(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Iu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=ny(l),(c=Nn.get(c))&&Tf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Iu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Af=0;function tT(t,n){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Af===0&&(Af=62500*ME());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Af?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Mu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,n.forEach(eT,t),Ou=null,Iu.call(t))}function eT(t,n){if(!(n.state.loading&4)){var a=Ou.get(t);if(a)var l=a.get(null);else{a=new Map,Ou.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Iu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:ct,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function nT(t,n,a,l,c,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ly(t,n,a,l,c,f,g,E,R,B,H,F){return t=new nT(t,n,a,g,R,B,H,F,E),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},sh(f),t}function oy(t){return t?(t=Hs,t):Hs}function uy(t,n,a,l,c,f){c=oy(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ra(t,l,n),a!==null&&(rn(a,t,n),fl(a,t,n))}function cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Sf(t,n){cy(t,n),(t=t.alternate)&&cy(t,n)}function hy(t){if(t.tag===13||t.tag===31){var n=Ja(t,67108864);n!==null&&rn(n,t,67108864),Sf(t,67108864)}}function fy(t){if(t.tag===13||t.tag===31){var n=pn();n=Ba(n);var a=Ja(t,n);a!==null&&rn(a,t,n),Sf(t,n)}}var ju=!0;function iT(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=2,xf(t,n,a,l)}finally{et.p=f,G.T=c}}function aT(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=8,xf(t,n,a,l)}finally{et.p=f,G.T=c}}function xf(t,n,a,l){if(ju){var c=wf(l);if(c===null)hf(t,n,l,Uu,a),my(t,l);else if(rT(c,t,n,a,l))l.stopPropagation();else if(my(t,l),n&4&&-1<sT.indexOf(t)){for(;c!==null;){var f=_n(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}mi(f),(Pt&6)===0&&(_u=Ze()+500,Cl(0))}}break;case 31:case 13:E=Ja(f,2),E!==null&&rn(E,f,2),Eu(),Sf(f,2)}if(f=wf(l),f===null&&hf(t,n,l,Uu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else hf(t,n,l,null,a)}}function wf(t){return t=vn(t),Rf(t)}var Uu=null;function Rf(t){if(Uu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=_(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case zr:return 2;case Lr:return 8;case Gi:case Ic:return 32;case mo:return 268435456;default:return 32}default:return 32}}var Cf=!1,ya=null,_a=null,va=null,jl=new Map,Ul=new Map,Ea=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=_n(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rT(t,n,a,l,c){switch(n){case"focusin":return ya=zl(ya,t,n,a,l,c),!0;case"dragenter":return _a=zl(_a,t,n,a,l,c),!0;case"mouseover":return va=zl(va,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,zl(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,zl(Ul.get(f)||null,t,n,a,l,c)),!0}return!1}function gy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){fy(a)});return}}else if(n===31){if(n=_(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){fy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zr=l,a.target.dispatchEvent(l),Zr=null}else return n=_n(a),n!==null&&hy(n),t.blockedOn=a,!1;n.shift()}return!0}function py(t,n,a){zu(t)&&a.delete(n)}function lT(){Cf=!1,ya!==null&&zu(ya)&&(ya=null),_a!==null&&zu(_a)&&(_a=null),va!==null&&zu(va)&&(va=null),jl.forEach(py),Ul.forEach(py)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Cf||(Cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lT)))}var Bu=null;function yy(t){Bu!==t&&(Bu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||a)===null)continue;break}var f=_n(a);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function dr(t){function n(R){return Lu(R,t)}ya!==null&&Lu(ya,t),_a!==null&&Lu(_a,t),va!==null&&Lu(va,t),jl.forEach(n),Ul.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||yy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Rf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),yy(a)}}}function _y(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Nf(t){this._internalRoot=t}ku.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=pn();uy(a,l,t,n,null,null)},ku.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;uy(t.current,2,null,t,null,null),Eu(),n[$n]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Eo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&gy(t)}};var vy=e.version;if(vy!=="19.2.3")throw Error(r(527,vy,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var oT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{In=qu.inject(oT),ze=qu}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=wg,f=Rg,g=Cg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ly(t,1,!1,null,null,a,l,null,c,f,g,_y),t[$n]=n.current,cf(t),new Nf(n)},Bl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=wg,g=Rg,E=Cg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=ly(t,1,!0,n,a??null,l,c,R,f,g,E,_y),n.context=oy(null),a=n.current,l=pn(),l=Ba(l),c=sa(l),c.callback=null,ra(a,c,l),a=l,n.current.lanes=a,za(n,a),mi(n),t[$n]=n.current,cf(t),new ku(n)},Bl.version="19.2.3",Bl}var Ny;function _T(){if(Ny)return If.exports;Ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=yT(),If.exports}var vT=_T();const ET=()=>{};var Dy={};const Q_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},TT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],_=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,_=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,A=h>>2,S=(h&3)<<4|_>>4;let M=(_&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(M=64)),r.push(i[A],i[S],i[M],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):TT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||_==null||y==null||S==null)throw new bT;const M=h<<2|_>>4;if(r.push(M),y!==64){const Y=_<<4&240|y>>2;if(r.push(Y),S!==64){const tt=y<<6&192|S;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AT=function(s){const e=Q_(s);return F_.encodeByteArray(e,!0)},ic=function(s){return AT(s).replace(/\./g,"")},ST=function(s){try{return F_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wT=()=>xT().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof Dy>"u")return;const s=Dy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ST(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return ET()||wT()||RT()||CT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},NT=s=>yd()?.emulatorHosts?.[s],DT=s=>{const e=NT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Y_=()=>yd()?.config;class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _d(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IT(s){return(await fetch(s,{credentials:"include"})).ok}function OT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}const Ql={};function MT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?s.emulator.push(e):s.prod.push(e);return s}function jT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Vy=!1;function UT(s,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Ql[s]===e||Ql[s]||Vy)return;Ql[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=MT().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function _(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Vy=!0,d()},M}function A(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=jT(r),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),at=i("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ct=M.element;_(ct),A(J,$);const At=y();v(ut,at),ct.append(ut,tt,J,At),document.body.appendChild(ct)}h?(tt.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function zT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){const s=yd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const PT="FirebaseError";class Cr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=PT,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K_.prototype.create)}}class K_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?HT(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Cr(o,_,r)}}function HT(s,e){return s.replace(GT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GT=/\{\$([^}]+)}/g;function ac(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Iy(h)&&Iy(d)){if(!ac(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Iy(s){return s!==null&&typeof s=="object"}function gs(s){return s&&s._delegate?s._delegate:s}class Zl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cs="[DEFAULT]";class QT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new VT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YT(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FT(s){return s===cs?void 0:s}function YT(s){return s.instantiationMode==="EAGER"}class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const XT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},ZT=zt.INFO,JT={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},$T=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=JT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=ZT,this._logHandler=$T,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const WT=(s,e)=>e.some(i=>s instanceof i);let Oy,My;function t1(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return My||(My=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Kf=new WeakMap,J_=new WeakMap,Uf=new WeakMap,vd=new WeakMap;function n1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Aa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,s)}).catch(()=>{}),vd.set(e,s),e}function i1(s){if(Kf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Kf.set(s,e)}let Xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function a1(s){Xf=s(Xf)}function s1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(zf(this),e,...i);return J_.set(r,e.sort?e.sort():[e]),Aa(r)}:e1().includes(s)?function(...e){return s.apply(zf(this),e),Aa(Z_.get(this))}:function(...e){return Aa(s.apply(zf(this),e))}}function r1(s){return typeof s=="function"?s1(s):(s instanceof IDBTransaction&&i1(s),WT(s,t1())?new Proxy(s,Xf):s)}function Aa(s){if(s instanceof IDBRequest)return n1(s);if(Uf.has(s))return Uf.get(s);const e=r1(s);return e!==s&&(Uf.set(s,e),vd.set(e,s)),e}const zf=s=>vd.get(s);function l1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),_=Aa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Aa(d.result),v.oldVersion,v.newVersion,Aa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const o1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Lf=new Map;function jy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=u1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||o1.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&v.done]))[0]};return Lf.set(e,h),h}a1(s=>({...s,get:(e,i,r)=>jy(e,i)||s.get(e,i,r),has:(e,i)=>!!jy(e,i)||s.has(e,i)}));class c1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(h1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function h1(s){return s.getComponent()?.type==="VERSION"}const Zf="@firebase/app",Uy="0.14.8";const ki=new X_("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",p1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",b1="@firebase/functions",A1="@firebase/functions-compat",S1="@firebase/installations",x1="@firebase/installations-compat",w1="@firebase/messaging",R1="@firebase/messaging-compat",C1="@firebase/performance",N1="@firebase/performance-compat",D1="@firebase/remote-config",V1="@firebase/remote-config-compat",I1="@firebase/storage",O1="@firebase/storage-compat",M1="@firebase/firestore",j1="@firebase/ai",U1="@firebase/firestore-compat",z1="firebase",L1="12.9.0";const Jf="[DEFAULT]",B1={[Zf]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[b1]:"fire-fn",[A1]:"fire-fn-compat",[S1]:"fire-iid",[x1]:"fire-iid-compat",[w1]:"fire-fcm",[R1]:"fire-fcm-compat",[C1]:"fire-perf",[N1]:"fire-perf-compat",[D1]:"fire-rc",[V1]:"fire-rc-compat",[I1]:"fire-gcs",[O1]:"fire-gcs-compat",[M1]:"fire-fst",[U1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};const sc=new Map,k1=new Map,$f=new Map;function zy(s,e){try{s.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function rc(s){const e=s.name;if($f.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,s);for(const i of sc.values())zy(i,s);for(const i of k1.values())zy(i,s);return!0}function q1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function P1(s){return s==null?!1:s.settings!==void 0}const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new K_("app","Firebase",H1);class G1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}const Q1=L1;function $_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Jf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(i||(i=Y_()),!i)throw Sa.create("no-options");const h=sc.get(o);if(h){if(ac(i,h.options)&&ac(r,h.config))return h;throw Sa.create("duplicate-app",{appName:o})}const d=new KT(o);for(const v of $f.values())d.addComponent(v);const _=new G1(i,r,d);return sc.set(o,_),_}function F1(s=Jf){const e=sc.get(s);if(!e&&s===Jf&&Y_())return $_();if(!e)throw Sa.create("no-app",{appName:s});return e}function _r(s,e,i){let r=B1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}rc(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Y1="firebase-heartbeat-database",K1=1,Jl="firebase-heartbeat-store";let Bf=null;function W_(){return Bf||(Bf=l1(Y1,K1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sa.create("idb-open",{originalErrorMessage:s.message})})),Bf}async function X1(s){try{const i=(await W_()).transaction(Jl),r=await i.objectStore(Jl).get(t0(s));return await i.done,r}catch(e){if(e instanceof Cr)ki.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e?.message});ki.warn(i.message)}}}async function Ly(s,e){try{const r=(await W_()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,t0(s)),await r.done}catch(i){if(i instanceof Cr)ki.warn(i.message);else{const r=Sa.create("idb-set",{originalErrorMessage:i?.message});ki.warn(r.message)}}}function t0(s){return`${s.name}!${s.options.appId}`}const Z1=1024,J1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=By();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>J1){const o=eb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=By(),{heartbeatsToSend:i,unsentEntries:r}=W1(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ki.warn(e),""}}}function By(){return new Date().toISOString().substring(0,10)}function W1(s,e=Z1){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),ky(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ky(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ly(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ky(s){return ic(JSON.stringify({version:2,heartbeats:s})).length}function eb(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function nb(s){rc(new Zl("platform-logger",e=>new c1(e),"PRIVATE")),rc(new Zl("heartbeat",e=>new $1(e),"PRIVATE")),_r(Zf,Uy,s),_r(Zf,Uy,"esm2020"),_r("fire-js","")}nb("");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xa,e0;(function(){var s;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,V,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return x.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)O[V]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],V=N.g[2];let U=N.g[3],w;w=x+(U^C&(V^U))+O[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=U+(V^x&(C^V))+O[1]+3905402710&4294967295,U=x+(w<<12&4294967295|w>>>20),w=V+(C^U&(x^C))+O[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(x^V&(U^x))+O[3]+3250441966&4294967295,C=V+(w<<22&4294967295|w>>>10),w=x+(U^C&(V^U))+O[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=U+(V^x&(C^V))+O[5]+1200080426&4294967295,U=x+(w<<12&4294967295|w>>>20),w=V+(C^U&(x^C))+O[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(x^V&(U^x))+O[7]+4249261313&4294967295,C=V+(w<<22&4294967295|w>>>10),w=x+(U^C&(V^U))+O[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=U+(V^x&(C^V))+O[9]+2336552879&4294967295,U=x+(w<<12&4294967295|w>>>20),w=V+(C^U&(x^C))+O[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(x^V&(U^x))+O[11]+2304563134&4294967295,C=V+(w<<22&4294967295|w>>>10),w=x+(U^C&(V^U))+O[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=U+(V^x&(C^V))+O[13]+4254626195&4294967295,U=x+(w<<12&4294967295|w>>>20),w=V+(C^U&(x^C))+O[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(x^V&(U^x))+O[15]+1236535329&4294967295,C=V+(w<<22&4294967295|w>>>10),w=x+(V^U&(C^V))+O[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(x^C))+O[6]+3225465664&4294967295,U=x+(w<<9&4294967295|w>>>23),w=V+(x^C&(U^x))+O[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^x&(V^U))+O[0]+3921069994&4294967295,C=V+(w<<20&4294967295|w>>>12),w=x+(V^U&(C^V))+O[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(x^C))+O[10]+38016083&4294967295,U=x+(w<<9&4294967295|w>>>23),w=V+(x^C&(U^x))+O[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^x&(V^U))+O[4]+3889429448&4294967295,C=V+(w<<20&4294967295|w>>>12),w=x+(V^U&(C^V))+O[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(x^C))+O[14]+3275163606&4294967295,U=x+(w<<9&4294967295|w>>>23),w=V+(x^C&(U^x))+O[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^x&(V^U))+O[8]+1163531501&4294967295,C=V+(w<<20&4294967295|w>>>12),w=x+(V^U&(C^V))+O[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(x^C))+O[2]+4243563512&4294967295,U=x+(w<<9&4294967295|w>>>23),w=V+(x^C&(U^x))+O[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^x&(V^U))+O[12]+2368359562&4294967295,C=V+(w<<20&4294967295|w>>>12),w=x+(C^V^U)+O[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=U+(x^C^V)+O[8]+2272392833&4294967295,U=x+(w<<11&4294967295|w>>>21),w=V+(U^x^C)+O[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^x)+O[14]+4259657740&4294967295,C=V+(w<<23&4294967295|w>>>9),w=x+(C^V^U)+O[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=U+(x^C^V)+O[4]+1272893353&4294967295,U=x+(w<<11&4294967295|w>>>21),w=V+(U^x^C)+O[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^x)+O[10]+3200236656&4294967295,C=V+(w<<23&4294967295|w>>>9),w=x+(C^V^U)+O[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=U+(x^C^V)+O[0]+3936430074&4294967295,U=x+(w<<11&4294967295|w>>>21),w=V+(U^x^C)+O[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^x)+O[6]+76029189&4294967295,C=V+(w<<23&4294967295|w>>>9),w=x+(C^V^U)+O[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=U+(x^C^V)+O[12]+3873151461&4294967295,U=x+(w<<11&4294967295|w>>>21),w=V+(U^x^C)+O[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^x)+O[2]+3299628645&4294967295,C=V+(w<<23&4294967295|w>>>9),w=x+(V^(C|~U))+O[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=U+(C^(x|~V))+O[7]+1126891415&4294967295,U=x+(w<<10&4294967295|w>>>22),w=V+(x^(U|~C))+O[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~x))+O[5]+4237533241&4294967295,C=V+(w<<21&4294967295|w>>>11),w=x+(V^(C|~U))+O[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=U+(C^(x|~V))+O[3]+2399980690&4294967295,U=x+(w<<10&4294967295|w>>>22),w=V+(x^(U|~C))+O[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~x))+O[1]+2240044497&4294967295,C=V+(w<<21&4294967295|w>>>11),w=x+(V^(C|~U))+O[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=U+(C^(x|~V))+O[15]+4264355552&4294967295,U=x+(w<<10&4294967295|w>>>22),w=V+(x^(U|~C))+O[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~x))+O[13]+1309151649&4294967295,C=V+(w<<21&4294967295|w>>>11),w=x+(V^(C|~U))+O[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=U+(C^(x|~V))+O[11]+3174756917&4294967295,U=x+(w<<10&4294967295|w>>>22),w=V+(x^(U|~C))+O[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~x))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<x;){if(V==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<x;)if(O[V++]=N.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<x;)if(O[V++]=N[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[x++]=this.g[C]>>>O&255;return N};function h(N,x){var C=_;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function d(N,x){this.h=x;const C=[];let O=!0;for(let V=N.length-1;V>=0;V--){const U=N[V]|0;O&&U==x||(C[V]=U,O=!1)}this.g=C}var _={};function v(N){return-128<=N&&N<128?h(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(y(-N));const x=[];let C=1;for(let O=0;N>=C;O++)x[O]=N/C|0,C*=4294967296;return new d(x,0)}function A(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return J(A(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let O=S;for(let U=0;U<N.length;U+=8){var V=Math.min(8,N.length-U);const w=parseInt(N.substring(U,U+V),x);V<8?(V=y(Math.pow(x,V)),O=O.j(V).add(y(w))):(O=O.j(C),O=O.add(y(w)))}return O}var S=v(0),M=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if($(this))return-J(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if($(this))return"-"+J(this).toString(N);const x=y(Math.pow(N,6));var C=this;let O="";for(;;){const V=At(C,x).g;C=at(C,V.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,tt(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function $(N){return N.h==-1}s.l=function(N){return N=at(this,N),$(N)?-1:tt(N)?0:1};function J(N){const x=N.g.length,C=[];for(let O=0;O<x;O++)C[O]=~N.g[O];return new d(C,~N.h).add(M)}s.abs=function(){return $(this)?J(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let V=0;V<=x;V++){let U=O+(this.i(V)&65535)+(N.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=w>>>16,U&=65535,w&=65535,C[V]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(N,x){return N.add(J(x))}s.j=function(N){if(tt(this)||tt(N))return S;if($(this))return $(N)?J(this).j(J(N)):J(J(this).j(N));if($(N))return J(this.j(J(N)));if(this.l(Y)<0&&N.l(Y)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<N.g.length;V++){const U=this.i(O)>>>16,w=this.i(O)&65535,ie=N.i(V)>>>16,Re=N.i(V)&65535;C[2*O+2*V]+=w*Re,ut(C,2*O+2*V),C[2*O+2*V+1]+=U*Re,ut(C,2*O+2*V+1),C[2*O+2*V+1]+=w*ie,ut(C,2*O+2*V+1),C[2*O+2*V+2]+=U*ie,ut(C,2*O+2*V+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function ut(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ct(N,x){this.g=N,this.h=x}function At(N,x){if(tt(x))throw Error("division by zero");if(tt(N))return new ct(S,S);if($(N))return x=At(J(N),x),new ct(J(x.g),J(x.h));if($(x))return x=At(N,J(x)),new ct(J(x.g),x.h);if(N.g.length>30){if($(N)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var C=M,O=x;O.l(N)<=0;)C=Et(C),O=Et(O);var V=wt(C,1),U=wt(O,1);for(O=wt(O,2),C=wt(C,2);!tt(O);){var w=U.add(O);w.l(N)<=0&&(V=V.add(C),U=w),O=wt(O,1),C=wt(C,1)}return x=at(N,V.j(x)),new ct(V,x)}for(V=S;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=y(C),w=U.j(x);$(w)||w.l(N)>0;)C-=O,U=y(C),w=U.j(x);tt(U)&&(U=M),V=V.add(U),N=at(N,w)}return new ct(V,N)}s.B=function(N){return At(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&N.i(O);return new d(C,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|N.i(O);return new d(C,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^N.i(O);return new d(C,this.h^N.h)};function Et(N){const x=N.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(C,N.h)}function wt(N,x){const C=x>>5;x%=32;const O=N.g.length-C,V=[];for(let U=0;U<O;U++)V[U]=x>0?N.i(U+C)>>>x|N.i(U+C+1)<<32-x:N.i(U+C);return new d(V,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,e0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,xa=d}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n0,ql,i0,Zu,Wf,a0,s0,r0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function y(u,m,p){return y=v,y.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,z,q){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[z].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const q=z.length||0;u.length=p+q;for(let W=0;W<q;W++)u[p+W]=z[W]}else u.push(z)}}class ${constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function at(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,p){const T=ct.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new $(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,wt=!1,N=new ut,x=()=>{const u=Promise.resolve(void 0);Et=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(p){J(p)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,V),ie.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Gt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function I(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let q=0;q<K.length;q++)p=K[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,T,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=St(u,m,T,z);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new et(m,this.src,q,!!T,z),m.fa=p,u.push(m)),m};function pt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(T,z,1),q&&(dt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function St(u,m,p,T){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return z}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ae(u,m,p,T,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],p,T,z);return null}return p=Ur(p),u&&u[Re]?u.J(m,p,_(T)?!!T.capture:!1,z):Oa(u,m,p,!1,T,z)}function Oa(u,m,p,T,z,q){if(!m)throw Error("Invalid event type");const W=_(z)?!!z.capture:!!z;let Tt=Ma(u);if(Tt||(u[Mt]=Tt=new rt(u)),p=Tt.add(m,p,T,W,q),p.proxy)return p;if(T=Ss(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(z=W),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ss(){function u(p){return m.call(u.src,u.listener,p)}const m=Mr;return u}function xs(u,m,p,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)xs(u,m[q],p,T,z);else T=_(T)?!!T.capture:!!T,p=Ur(p),u&&u[Re]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=St(m,p,T,z),p>-1&&(dt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ma(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,p,T,z)),(p=u>-1?m[u]:null)&&ws(p))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])pt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ma(m))?(pt(p,u),p.h==0&&(p.src=null,m[Mt]=null)):dt(u)}}}function Yn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Mr(u,m){if(u.da)u=!0;else{m=new ie(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&ws(u),u=p.call(T,m)}return u}function Ma(u){return u=u[Mt],u instanceof rt?u:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(u){return typeof u=="function"?u:(u[jr]||(u[jr]=function(m){return u.handleEvent(m)}),u[jr])}function ge(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,O),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,p,T){xs(this,u,m,p,T)};function Ne(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var z=m;m=new V(T,u),nt(m,z)}z=!0;let q,W;if(p)for(W=p.length-1;W>=0;W--)q=m.g=p[W],z=Hi(q,T,!0,m)&&z;if(q=m.g=u,z=Hi(q,T,!0,m)&&z,z=Hi(q,T,!1,m)&&z,p)for(W=0;W<p.length;W++)q=m.g=p[W],z=Hi(q,T,!1,m)&&z}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)dt(p[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==p){const Tt=W.listener,he=W.ha||W.src;W.fa&&pt(u.i,W),z=Tt.call(he,T)!==!1&&z}}return z&&!T.defaultPrevented}function Vc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function fo(u){u.g=Vc(()=>{u.g=null,u.i&&(u.i=!1,fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(u){O.call(this),this.h=u,this.g={}}S(ja,O);var zr=[];function Lr(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ws(m)},u),u.g={}}ja.prototype.N=function(){ja.Z.N.call(this),Lr(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Ic=d.JSON.parse,mo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function go(){}function po(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){V.call(this,"d")}S(ze,V);function yn(){V.call(this,"c")}S(yn,V);var ce={},yo=null;function Rs(){return yo=yo||new ge}ce.Ia="serverreachability";function _o(u){V.call(this,ce.Ia,u)}S(_o,V);function Kn(u){const m=Rs();Ne(m,new _o(m))}ce.STAT_EVENT="statevent";function Ua(u,m){V.call(this,ce.STAT_EVENT,u),this.stat=m}S(Ua,V);function pe(u){const m=Rs();Ne(m,new Ua(m,u))}ce.Ja="timingevent";function Xn(u,m){V.call(this,ce.Ja,u),this.size=m}S(Xn,V);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Oc(u,m,p,T,z,q){u.info(function(){if(u.g)if(q){var W="",Tt=q.split("&");for(let qt=0;qt<Tt.length;qt++){var he=Tt[qt].split("=");if(he.length>1){const se=he[0];he=he[1];const Tn=se.split("_");W=Tn.length>=2&&Tn[1]=="type"?W+(se+"="+he+"&"):W+(se+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function vo(u,m,p,T,z,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+W})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mc(u,p)+(T?" "+T:"")})}function za(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Mc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Gi(q)}catch{return m}}var La={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function Ba(){}S(Ba,go),Ba.prototype.g=function(){return new XMLHttpRequest},kr=new Ba;function Ti(u){return encodeURIComponent(String(u))}function Eo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Mn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function $n(u,m,p){u.M=1,u.A=ka(ve(m)),u.u=p,u.R=!0,Cs(u,null)}function Cs(u,m){u.F=Date.now(),Wn(u),u.B=ve(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Is(p.i,"t",T),u.C=0,p=u.j.L,u.h=new jn,u.g=jo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(zr[0]=z.toString()),z=zr);for(let q=0;q<z.length;q++){const W=ae(p,z[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),Oc(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ln(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Ln(this.g),he=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Tt!=4||he==7||(he==8||qt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var p=jc(this);if(this.o=m==200,vo(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,pe(12),on(this),_n(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=bo(this,p),se==Oe){Tt==4&&(this.m=4,pe(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),on(this),_n(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),el(W),W.P=!0,pe(11))}}else Jn(this.i,this.l,p,null),ei(this,p);Tt==4&&on(this),this.o&&!this.K&&(Tt==4?Vo(this.j,this):(this.o=!1,Wn(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),on(this),_n(this)}}}catch{}finally{}};function jc(u){if(!To(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let p="";const T=m.length,z=Ln(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return on(u),_n(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(z&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function To(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}Mn.prototype.cancel=function(){this.K=!0,on(this)};function Wn(u){u.T=Date.now()+u.H,Ns(u,u.H)}function Ns(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(y(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(za(this.i,this.B),this.M!=2&&(Kn(),pe(17)),on(this),this.m=2,_n(this)):Ns(this,this.T-u)};function _n(u){u.j.I==0||u.K||Vo(u.j,u)}function on(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Lr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)zs(p),$i(p);else break t;Ya(p),pe(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(y(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&zs(p),!w(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const se=qt[0];if(!(se<=p.K))if(p.K=se,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const Tn=qt[3];Tn!=null&&(p.ka=Tn,p.j.info("VER="+p.ka));const ci=qt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const Bn=qt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=u.g;if(kn){const Ka=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var q=T.h;q.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Hr(q,q.h),q.h=null))}if(T.G){const Ls=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(T.wa=Ls,Qt(T.J,T.G,Ls))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Mo(T,T.L?T.ba:null,T.W),W.L){Gr(T.h,W);var Tt=W,he=T.O;he&&(Tt.H=he),Tt.D&&(ti(Tt),Wn(Tt)),T.g=W}else No(T);p.i.length>0&&oi(p)}else qt[0]!="stop"&&qt[0]!="close"||ui(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(p,7):Wr(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Kn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function qr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Hr(u,m){u.g?u.g.add(m):u.h=m}function Gr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Y(u.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let z,q=null;T>=0?(z=u[p].substring(0,T),q=u[p].substring(T+1)):z=u[p],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof un?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.u),this.h=u.h,Fr(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(Ao))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Qi(this,m[4]),this.h=ai(m[5]||"",!0),Fr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(qa(m,Vs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,Vs,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(qa(p,p.charAt(0)=="/"?Yr:So,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",qa(p,xo)),u.join("")},un.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Qi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let W=0;W<z.length;){const Tt=z[W++];Tt=="."?T&&W==z.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==z.length&&q.push("")):(q.push(Tt),T=!0)}T=q.join("/")}else T=z}return p?m.h=T:p=u.i.toString()!=="",p?Fr(m,Ro(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new un(u)}function Me(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Fr(u,m,p){m instanceof Yi?(u.i=m,Os(u.i,u.l)):(p||(m=qa(m,Fi)),u.i=new Yi(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function ka(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vs=/[#\/\?@]/g,So=/[#\?:]/g,Yr=/[#\?]/g,Fi=/[#\?@]/g,xo=/#/g;function Yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ds(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Yi.prototype,s.add=function(u,m){tn(this),this.i=null,u=Ki(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function wo(u,m){tn(u),m=Ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kr(u,m){return tn(u),m=Ki(u,m),u.g.has(m)}s.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)};function Xr(u,m){tn(u);let p=[];if(typeof m=="string")Kr(u,m)&&(p=p.concat(u.g.get(Ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return tn(this),this.i=null,u=Ki(this,u),Kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Xr(this,u),u.length>0?String(u[0]):m):m};function Is(u,m,p){wo(u,m),p.length>0&&(u.i=null,u.g.set(Ki(u,m),Y(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const z=Ti(p);p=Xr(this,p);for(let q=0;q<p.length;q++){let W=z;p[q]!==""&&(W+="="+Ti(p[q])),u.push(W)}}return this.i=u.join("&")};function Ro(u){const m=new Yi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Os(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const z=T.toLowerCase();T!=z&&(wo(this,T),Is(this,z,p))},u)),u.j=m}function Un(u,m){const p=new On;if(d.Image){const T=new Image;T.onload=A(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(vn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Zr(u,m){const p=new On,T=new AbortController,z=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Xi(){this.g=new mo}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(si,go),si.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Pa,ge),s=Pa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ms(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ms(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zi(this):zn(this),this.readyState==3&&Ms(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Zi(this))},s.Na=function(u){this.g&&(this.response=u,Zi(this))},s.ga=function(){this.g&&Zi(this)};function Zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function En(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ha(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=En(p),typeof u=="string"?p!=null&&Ti(p):Qt(u,m,p))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var ri=/^https?$/i,Jr=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ga(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jr,m,void 0)>=0)||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ga(this,q)}};function Ga(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,$r(u),bi(u)}function $r(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qa(this):this.Xa())},s.Xa=function(){Qa(this)};function Qa(u){if(u.h&&typeof h<"u"){if(u.v&&Ln(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let W=String(u.D).match(Ao)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ri.test(W?W.toLowerCase():"")}p=T}if(p)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var z=Ln(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",$r(u)}}finally{bi(u)}}}}function bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ne(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ic(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(u){const m={};u=(u.g&&Ln(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var p=Eo(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}Gt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ji(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qr(u&&u.concurrentRequestLimit),this.Ba=new Xi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ji.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){pe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Mo(this,null,this.W),oi(this)};function Wr(u){if(js(u),u.I==3){var m=u.V++,p=ve(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Fa(u,p),m=new Mn(u,u.j,m),m.M=2,m.A=ka(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=jo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Oo(u)}function $i(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function js(u){$i(u),u.v&&(d.clearTimeout(u.v),u.v=null),zs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Pr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Et||x(),wt||(Et(),wt=!0),N.add(m,u),u.D=0}}function Us(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(y(u.Ea,u,m),Io(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Mn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Co(this,z,m),p=ve(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),Fa(this,p),q&&(this.R?m="headers="+Ti(En(q))+"&"+m:this.u&&Ha(p,this.u,q)),Hr(this.h,z),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),z.U=!0,$n(z,p,null)):$n(z,p,m),this.I=2}}else this.I==3&&(u?tl(this,u):this.i.length==0||Pr(this.h)||tl(this))};function tl(u,m){var p;m?p=m.l:p=u.V++;const T=ve(u.J);Qt(T,"SID",u.M),Qt(T,"RID",p),Qt(T,"AID",u.K),Fa(u,T),u.u&&u.o&&Ha(T,u.u,u.o),p=new Mn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Co(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Hr(u.h,p),$n(p,T,m)}function Fa(u,m){u.H&&Lt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Lt({},function(p,T){Qt(m,T,p)})}function Co(u,m,p){p=Math.min(u.i.length,p);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let Tt=-1;for(;;){const he=["count="+p];Tt==-1?p>0?(Tt=z[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let qt=!0;for(let se=0;se<p;se++){var q=z[se].g;const Tn=z[se].map;if(q-=Tt,q<0)Tt=Math.max(0,z[se].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var W=Tn instanceof Map?Tn:Object.entries(Tn);for(const[ci,Bn]of W){let kn=Bn;_(Bn)&&(kn=Gi(Bn)),he.push(q+ci+"="+encodeURIComponent(kn))}}catch(ci){throw he.push(q+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(Tn)}}if(qt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Et||x(),wt||(Et(),wt=!0),N.add(m,u),u.A=0}}function Ya(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(y(u.Da,u),Io(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Do(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),$i(this),Do(this))};function el(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Do(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Fa(u,m),u.u&&u.o&&Ha(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=ka(ve(m)),p.u=null,p.R=!0,Cs(p,u)}s.Va=function(){this.C!=null&&(this.C=null,$i(this),Ya(this),pe(19))};function zs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){zs(u),el(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Gr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;T=Rs(),Ne(T,new Xn(T,p)),oi(u)}else No(u);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Us(u,m)||T==2&&Ya(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Io(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.bb,u),T=u.Ua;const z=!T;T=new un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ka(T),z?Un(T.toString(),p):Zr(T.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),Oo(u),js(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Oo(u){if(u.I=0,u.ja=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Mo(u,m,p){var T=p instanceof un?ve(p):new un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new un(null);T&&Me(q,T),m&&(q.g=m),z&&Qi(q,z),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",u.ka),Fa(u,T),T}function jo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new si({ab:p})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}s=Uo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Wi(){}Wi.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new Ji(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Si(this)}S(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Wr(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Gi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Wr(this.g),delete this.g,Je.Z.N.call(this)};function zo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(zo,ze);function Lo(){yn.call(this),this.status=1}S(Lo,yn);function Si(u){this.g=u}S(Si,Uo),Si.prototype.ra=function(){Ne(this.g,"a")},Si.prototype.qa=function(u){Ne(this.g,new zo(u))},Si.prototype.pa=function(u){Ne(this.g,new Lo)},Si.prototype.oa=function(){Ne(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,r0=function(){return new Wi},s0=function(){return Rs()},a0=ce,Wf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,Zu=La,Br.COMPLETE="complete",i0=Br,po.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",ge.prototype.listen=ge.prototype.J,ql=po,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,n0=Kt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Nr="12.9.0";function ib(s){Nr=s}const ps=new X_("@firebase/firestore");function mr(){return ps.logLevel}function st(s,...e){if(ps.logLevel<=zt.DEBUG){const i=e.map(Ed);ps.debug(`Firestore (${Nr}): ${s}`,...i)}}function qi(s,...e){if(ps.logLevel<=zt.ERROR){const i=e.map(Ed);ps.error(`Firestore (${Nr}): ${s}`,...i)}}function ys(s,...e){if(ps.logLevel<=zt.WARN){const i=e.map(Ed);ps.warn(`Firestore (${Nr}): ${s}`,...i)}}function Ed(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,l0(s,r,i)}function l0(s,e,i){let r=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw qi(r),new Error(r)}function Ht(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||l0(e,o,r)}function vt(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Cr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class o0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ab{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class sb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ds,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},_=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ds)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new o0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class lb{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ob{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new lb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ub{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=cb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function td(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return kf(o)===kf(h)?Vt(o,h):kf(o)?1:-1}return Vt(s.length,e.length)}const hb=55296,fb=57343;function kf(s){const e=s.charCodeAt(0);return e>=hb&&e<=fb}function Ar(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Hy="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Wt extends gi{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return db.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Ge([Hy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}function u0(s,e,i){if(!i)throw new it(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function mb(s,e,i,r){if(e===!0&&r===!0)throw new it(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Gy(s){if(!ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qy(s){if(ft.isDocumentKey(s))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function c0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function yc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function vr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yc(s);throw new it(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function lo(s,e){if(!c0(s))throw new it(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new it(X.INVALID_ARGUMENT,i);return!0}const Fy=-62135596800,Yy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Yy);return new te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fy)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:we("string",te._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new te(0,0))}static max(){return new yt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function gb(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Ra(o,ft.empty(),e)}function pb(s){return new Ra(s.readTime,s.key,$l)}class Ra{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ra(yt.min(),ft.empty(),$l)}static max(){return new Ra(yt.max(),ft.empty(),$l)}}function yb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}const _b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dr(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==_b)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++_,_===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function Eb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vr(s){return s.name==="IndexedDbTransactionError"}class _c{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_c.ce=-1;const bd=-1;function vc(s){return s==null}function lc(s){return s===0&&1/s==-1/0}function Tb(s){return typeof s=="number"&&Number.isInteger(s)&&!lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const h0="";function bb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ky(e)),e=Ab(s.get(i),e);return Ky(e)}function Ab(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case h0:i+="";break;default:i+=h}}return i}function Ky(s){return s+h0+""}function Xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vs(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function f0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new d0("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=Sb.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Na(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const m0="server_timestamp",g0="__type__",p0="__previous_value__",y0="__local_write_time__";function Ad(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===m0}function Ec(s){const e=s.mapValue.fields[p0];return Ad(e)?Ec(e):e}function Wl(s){const e=Ca(s.mapValue.fields[y0].timestampValue);return new te(e.seconds,e.nanos)}class xb{constructor(e,i,r,o,h,d,_,v,y,A,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const oc="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}function wb(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(s.options.projectId,e)}const _0="__type__",Rb="__max__",Gu={mapValue:{}},v0="__vector__",uc="value";function Da(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ad(s)?4:Nb(s)?9007199254740991:Cb(s)?10:11:gt(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Da(s);if(i!==Da(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ca(o.timestampValue),_=Ca(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Na(o.bytesValue).isEqual(Na(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),_=me(h.doubleValue);return d===_?lc(d)===lc(_):isNaN(d)&&isNaN(_)}return!1})(s,e);case 9:return Ar(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(Xy(d)!==Xy(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!Ei(d[v],_[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function eo(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function Sr(s,e){if(s===e)return 0;const i=Da(s),r=Da(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(s,e);case 3:return Jy(s.timestampValue,e.timestampValue);case 4:return Jy(Wl(s),Wl(e));case 5:return td(s.stringValue,e.stringValue);case 6:return(function(h,d){const _=Na(h),v=Na(d);return _.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const A=Vt(_[y],v[y]);if(A!==0)return A}return Vt(_.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Vt(me(h.latitude),me(d.latitude));return _!==0?_:Vt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $y(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[uc]?.arrayValue,A=v[uc]?.arrayValue,S=Vt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:$y(y,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Gu.mapValue&&d===Gu.mapValue)return 0;if(h===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const M=td(v[S],A[S]);if(M!==0)return M;const Y=Sr(_[v[S]],y[A[S]]);if(Y!==0)return Y}return Vt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Jy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Ca(s),r=Ca(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function $y(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Sr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function xr(s){return ed(s)}function ed(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ca(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Na(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ed(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ed(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function Ju(s){switch(Da(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(s);return e?16+Ju(e):16;case 5:return 2*s.stringValue.length;case 6:return Na(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Ju(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return vs(r.fields,((h,d)=>{o+=h.length+Ju(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function Wy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function nd(s){return!!s&&"integerValue"in s}function Sd(s){return!!s&&"arrayValue"in s}function t_(s){return!!s&&"nullValue"in s}function e_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $u(s){return!!s&&"mapValue"in s}function Cb(s){return(s?.mapValue?.fields||{})[_0]?.stringValue===v0}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vs(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function Nb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Rb}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!$u(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=Fl(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());$u(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){vs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Dn(Fl(this.value))}}function E0(s){const e=[];return vs(s.fields,((i,r)=>{const o=new Ge([i]);if($u(r)){const h=E0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Gn(e)}class Xe{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),Dn.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,yt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(e,i){this.position=e,this.inclusive=i}}function n_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Sr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function i_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}class no{constructor(e,i="asc"){this.field=e,this.dir=i}}function Db(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class T0{}class xe extends T0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Ib(e,i,r):i==="array-contains"?new jb(e,r):i==="in"?new Ub(e,r):i==="not-in"?new zb(e,r):i==="array-contains-any"?new Lb(e,r):new xe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Ob(e,r):new Mb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sr(i,this.value)):i!==null&&Da(this.value)===Da(i)&&this.matchesComparison(Sr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends T0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return b0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b0(s){return s.op==="and"}function A0(s){return Vb(s)&&b0(s)}function Vb(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function id(s){if(s instanceof xe)return s.field.canonicalString()+s.op.toString()+xr(s.value);if(A0(s))return s.filters.map((e=>id(e))).join(",");{const e=s.filters.map((i=>id(i))).join(",");return`${s.op}(${e})`}}function S0(s,e){return s instanceof xe?(function(r,o){return o instanceof xe&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof Fn?(function(r,o){return o instanceof Fn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&S0(d,o.filters[_])),!0):!1})(s,e):void gt(19439)}function x0(s){return s instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${xr(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(x0).join(" ,")+"}"})(s):"Filter"}class Ib extends xe{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ob extends xe{constructor(e,i){super(e,"in",i),this.keys=w0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Mb extends xe{constructor(e,i){super(e,"not-in",i),this.keys=w0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function w0(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class jb extends xe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&eo(i.arrayValue,this.value)}}class Ub extends xe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class zb extends xe{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class Lb extends xe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eo(this.value.arrayValue,r)))}}class Bb{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function a_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new Bb(s,e,i,r,o,h,d)}function xd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>id(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),vc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>xr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>xr(r))).join(",")),e.Te=i}return e.Te}function wd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Db(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!S0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!i_(s.startAt,e.startAt)&&i_(s.endAt,e.endAt)}function ad(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ir{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kb(s,e,i,r,o,h,d,_){return new Ir(s,e,i,r,o,h,d,_)}function Rd(s){return new Ir(s)}function s_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function qb(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function R0(s){return s.collectionGroup!==null}function Yl(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new no(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new no(Ge.keyField(),r))}return e.Ie}function pi(s){const e=vt(s);return e.Ee||(e.Ee=Pb(e,Yl(s))),e.Ee}function Pb(s,e){if(s.limitType==="F")return a_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new no(o.field,h)}));const i=s.endAt?new cc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new cc(s.startAt.position,s.startAt.inclusive):null;return a_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function sd(s,e){const i=s.filters.concat([e]);return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Hb(s,e){const i=s.explicitOrderBy.concat([e]);return new Ir(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function rd(s,e,i){return new Ir(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Tc(s,e){return wd(pi(s),pi(e))&&s.limitType===e.limitType}function C0(s){return`${xd(pi(s))}|lt:${s.limitType}`}function gr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>x0(o))).join(", ")}]`),vc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>xr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>xr(o))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function bc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Yl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,v){const y=n_(d,_,v);return d.inclusive?y<=0:y<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(d,_,v){const y=n_(d,_,v);return d.inclusive?y>=0:y>0})(r.endAt,Yl(r),o))})(s,e)}function Gb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N0(s){return(e,i)=>{let r=!1;for(const o of Yl(s)){const h=Qb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function Qb(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?Sr(v,y):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class Es{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}const Fb=new le(ft.comparator);function Pi(){return Fb}const D0=new le(ft.comparator);function Pl(...s){let e=D0;for(const i of s)e=e.insert(i.key,i);return e}function V0(s){let e=D0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function hs(){return Kl()}function I0(){return Kl()}function Kl(){return new Es((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Yb=new le(ft.comparator),Kb=new Ie(ft.comparator);function It(...s){let e=Kb;for(const i of s)e=e.add(i);return e}const Xb=new Ie(Vt);function Zb(){return Xb}function Cd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function O0(s){return{integerValue:""+s}}function Jb(s,e){return Tb(e)?O0(e):Cd(s,e)}class Ac{constructor(){this._=void 0}}function $b(s,e,i){return s instanceof io?(function(o,h){const d={fields:{[g0]:{stringValue:m0},[y0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=Ec(h)),h&&(d.fields[p0]=h),{mapValue:d}})(i,e):s instanceof ao?j0(s,e):s instanceof so?U0(s,e):(function(o,h){const d=M0(o,h),_=r_(d)+r_(o.Ae);return nd(d)&&nd(o.Ae)?O0(_):Cd(o.serializer,_)})(s,e)}function Wb(s,e,i){return s instanceof ao?j0(s,e):s instanceof so?U0(s,e):i}function M0(s,e){return s instanceof hc?(function(r){return nd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class io extends Ac{}class ao extends Ac{constructor(e){super(),this.elements=e}}function j0(s,e){const i=z0(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class so extends Ac{constructor(e){super(),this.elements=e}}function U0(s,e){let i=z0(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class hc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r_(s){return me(s.integerValue||s.doubleValue)}function z0(s){return Sd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class tA{constructor(e,i){this.field=e,this.transform=i}}function eA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ao&&o instanceof ao||r instanceof so&&o instanceof so?Ar(r.elements,o.elements,Ei):r instanceof hc&&o instanceof hc?Ei(r.Ae,o.Ae):r instanceof io&&o instanceof io})(s.transform,e.transform)}class nA{constructor(e,i){this.version=e,this.transformResults=i}}class yi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sc{}function L0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Nd(s.key,yi.none()):new oo(s.key,s.data,yi.none());{const i=s.data,r=Dn.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ts(s.key,r,new Gn(o.toArray()),yi.none())}}function iA(s,e,i){s instanceof oo?(function(o,h,d){const _=o.value.clone(),v=o_(o.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):s instanceof Ts?(function(o,h,d){if(!Wu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=o_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(B0(o)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Xl(s,e,i,r){return s instanceof oo?(function(h,d,_,v){if(!Wu(h.precondition,d))return _;const y=h.value.clone(),A=u_(h.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ts?(function(h,d,_,v){if(!Wu(h.precondition,d))return _;const y=u_(h.fieldTransforms,v,d),A=d.data;return A.setAll(B0(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,_){return Wu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,e,i)}function aA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=M0(r.transform,o||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(r.field,h))}return i||null}function l_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ar(r,o,((h,d)=>eA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class oo extends Sc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Sc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function B0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function o_(s,e,i){const r=new Map;Ht(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,Wb(d,_,i[o]))}return r}function u_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,$b(h,d,e))}return r}class Nd extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&iA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Xl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Xl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=I0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const v=L0(d,_);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,((i,r)=>l_(i,r)))&&Ar(this.baseMutations,e.baseMutations,((i,r)=>l_(i,r)))}}class Dd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Yb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Dd(e,i,r,o)}}class lA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Se,jt;function uA(s){switch(s){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function k0(s){if(s===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(s){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:s})}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function cA(){return new TextEncoder}const hA=new xa([4294967295,4294967295],0);function c_(s){const e=cA().encode(s),i=new e0;return i.update(e),new Uint8Array(i.digest())}function h_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new xa([i,r],0),new xa([o,h],0)]}class Vd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xa.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(xa.fromNumber(r)));return o.compare(hA)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=c_(e),[r,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=c_(e),[r,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new xc(yt.min(),o,new le(Vt),Pi(),It())}}class uo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new uo(r,i,It(),It(),It())}}class tc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class q0{constructor(e,i){this.targetId=e,this.Ce=i}}class P0{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=d_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:h})}})),new uo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=d_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.He=Qu(),this.Je=Qu(),this.Ze=new le(Vt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(r===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Na(r).toUint8Array()}catch(v){if(v instanceof d0)return ys("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Vd(d,o,h)}catch(v){return ys(v instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&ad(_.target)){const v=new ft(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=It();this.Je.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new xc(e,i,this.Ze,this.je,r);return this.je=Pi(),this.He=Qu(),this.Je=Qu(),this.Ze=new le(Vt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new f_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(Vt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(Vt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new le(ft.comparator)}function d_(){return new le(ft.comparator)}const dA={asc:"ASCENDING",desc:"DESCENDING"},mA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gA={and:"AND",or:"OR"};class pA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ld(s,e){return s.useProto3Json||vc(e)?e:{value:e}}function fc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function yA(s,e){return fc(s,e.toTimestamp())}function _i(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const r=Ca(i);return new te(r.seconds,r.nanos)})(s))}function Id(s,e){return od(s,e).canonicalString()}function od(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function G0(s){const e=Wt.fromString(s);return Ht(X0(e),10190,{key:e.toString()}),e}function ud(s,e){return Id(s.databaseId,e.path)}function qf(s,e){const i=G0(e);if(i.get(1)!==s.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(F0(i))}function Q0(s,e){return Id(s.databaseId,e)}function _A(s){const e=G0(s);return e.length===4?Wt.emptyPath():F0(e)}function cd(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function F0(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function m_(s,e,i){return{name:ud(s,e),fields:i.value.mapValue.fields}}function vA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:k0(y.code);return new it(A,y.message||"")})(d);i=new P0(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qf(s,r.document.name),h=_i(r.document.updateTime),d=r.document.createTime?_i(r.document.createTime):yt.min(),_=new Dn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,_),y=r.targetIds||[],A=r.removedTargetIds||[];i=new tc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qf(s,r.document),h=r.readTime?_i(r.readTime):yt.min(),d=Xe.newNoDocument(o,h),_=r.removedTargetIds||[];i=new tc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qf(s,r.document),h=r.removedTargetIds||[];i=new tc([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new oA(o,h),_=r.targetId;i=new q0(_,d)}}return i}function EA(s,e){let i;if(e instanceof oo)i={update:m_(s,e.key,e.value)};else if(e instanceof Nd)i={delete:ud(s,e.key)};else if(e instanceof Ts)i={update:m_(s,e.key,e.data),updateMask:NA(e.fieldMask)};else{if(!(e instanceof sA))return gt(16599,{dt:e.type});i={verify:ud(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof io)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof hc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:yA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function TA(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?_i(o.updateTime):_i(h);return d.isEqual(yt.min())&&(d=_i(h)),new nA(d,o.transformResults||[])})(i,e)))):[]}function bA(s,e){return{documents:[Q0(s,e.path)]}}function AA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Q0(s,o);const h=(function(y){if(y.length!==0)return K0(Fn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:pr(M.field),direction:wA(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=ld(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function SA(s){let e=_A(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const M=Y0(S);return M instanceof Fn&&A0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(tt){return new no(yr(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let _=null;i.limit&&(_=(function(S){let M;return M=typeof S=="object"?S.value:S,vc(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,Y=S.values||[];return new cc(Y,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,Y=S.values||[];return new cc(Y,M)})(i.endAt)),kb(e,o,d,h,_,"F",v,y)}function xA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Y0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=yr(i.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=yr(i.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=yr(i.unaryFilter.field);return xe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yr(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return xe.create(yr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>Y0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function wA(s){return dA[s]}function RA(s){return mA[s]}function CA(s){return gA[s]}function pr(s){return{fieldPath:s.canonicalString()}}function yr(s){return Ge.fromServerFormat(s.fieldPath)}function K0(s){return s instanceof xe?(function(i){if(i.op==="=="){if(e_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NAN"}};if(t_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NAN"}};if(t_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(i.field),op:RA(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((o=>K0(o)));return r.length===1?r[0]:{compositeFilter:{op:CA(i.op),filters:r}}})(s):gt(54877,{filter:s})}function NA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function X0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Z0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ba{constructor(e,i,r,o,h=yt.min(),d=yt.min(),_=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DA{constructor(e){this.yt=e}}function VA(s){const e=SA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rd(e,e.limit,"L"):e}class IA{constructor(){this.Sn=new OA}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ra.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ra.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class OA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ie(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ie(Wt.comparator)).toArray()}}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(J0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class wr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wr(0)}static ar(){return new wr(-1)}}const p_="LruGarbageCollector",MA=1048576;function y_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class jA{constructor(e){this.Pr=e,this.buffer=new Ie(y_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();y_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(p_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vr(i)?st(p_,"Ignoring IndexedDB error during garbage collection: ",i):await Dr(i)}await this.Ar(3e5)}))}}class zA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(_c.ce);const r=new jA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(g_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,_,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,_=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),mr()<=zt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function LA(s,e){return new zA(s,e)}class BA{constructor(){this.changes=new Es((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class qA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Xl(r.mutation,o,Gn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const o=hs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Pl();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=hs();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=Pi();const d=Kl(),_=(function(){return Kl()})();return i.forEach(((v,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof Ts)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Xl(A.mutation,y,A.mutation.getFieldMask(),te.now())):d.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>_.set(y,new kA(A,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=Kl();let o=new le(((d,_)=>d-_)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=r.get(v)||Gn.empty();A=_.applyToLocalView(y,A),r.set(v,A);const S=(o.get(_.batchId)||It()).add(v);o=o.insert(_.batchId,S)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,A=v.value,S=I0();A.forEach((M=>{if(!h.has(M)){const Y=L0(i.get(M),r.get(M));Y!==null&&S.set(M,Y),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return qb(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):R0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(hs());let _=$l,v=h;return d.next((y=>Z.forEach(y,((A,S)=>(_<S.largestBatchId&&(_=S.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,It()))).next((A=>({batchId:_,changes:V0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((_=>Z.forEach(_,(v=>{const y=(function(S,M){return new Ir(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let _=Pl();return d.forEach(((v,y)=>{const A=h.get(v);A!==void 0&&Xl(A.mutation,y,Gn.empty(),te.now()),bc(i,y)&&(_=_.insert(v,y))})),_}))}}class PA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:VA(o.bundledQuery),readTime:_i(o.readTime)}})(i)),Z.resolve()}}class HA{constructor(){this.overlays=new le(ft.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=hs();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=hs(),h=i.length+1,d=new ft(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=h.get(y.largestBatchId);A===null&&(A=hs(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const _=hs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>_.set(y,A))),!(_.size()>=o)););return Z.resolve(_)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lA(i,r));let h=this.Lr.get(i);h===void 0&&(h=It(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class GA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Od{constructor(){this.kr=new Ie(Ue.Kr),this.qr=new Ie(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=It();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||Vt(e.Hr,i.Hr)}static Ur(e,i){return Vt(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}class QA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(Ue.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rA(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Ue(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?bd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const _=this.Zr(d.Hr);h.push(_)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ie(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(_=>{r=r.add(_.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let _=new Ie(Vt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class FA{constructor(e){this.ti=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Pi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Pi();const d=i.path,_=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||yb(pb(A),r)<=0||(o.has(A.key)||bc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){gt(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new YA(this)}getSize(e){return Z.resolve(this.size)}}class YA extends BA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class KA{constructor(e){this.persistence=e,this.ri=new Es((i=>xd(i)),wd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Od,this.targetCount=0,this.oi=wr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new wr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class $0{constructor(e,i){this._i={},this.overlays={},this.ai=new _c(0),this.ui=!1,this.ui=!0,this.ci=new GA,this.referenceDelegate=e(this),this.li=new KA(this),this.indexManager=new IA,this.remoteDocumentCache=(function(o){return new FA(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DA(i),this.Pi=new PA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new HA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new QA(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new XA(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class XA extends vb{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new Od,this.Ai=null}static Vi(e){return new Md(e)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=ft.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class dc{constructor(e,i){this.persistence=e,this.fi=new Es((r=>bb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=LA(this,i)}static Vi(e,i){return new dc(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new jd(e,i.fromCache,r,o)}}class ZA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BT()?8:Eb(zT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ZA;return this.ys(e,i,d).next((_=>{if(h.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(mr()<=zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(mr()<=zt.DEBUG&&st("QueryEngine","Query:",gr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(mr()<=zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):Z.resolve())}gs(e,i){if(s_(i))return Z.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rd(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=It(...h);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.bs(i,_);return this.Ss(i,y,d,v.readTime)?this.gs(e,rd(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,r,o){return s_(i)||o.isEqual(yt.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?Z.resolve(null):(mr()<=zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gr(i)),this.Ds(e,d,i,gb(o,$l)).next((_=>_)))}))}bs(e,i){let r=new Ie(N0(e));return i.forEach(((o,h)=>{bc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return mr()<=zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",gr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ra.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ud="LocalStore",$A=3e8;class WA{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new le(Vt),this.Fs=new Es((h=>xd(h)),wd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function tS(s,e,i,r){return new WA(s,e,i,r)}async function W0(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let v=It();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of h){_.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function eS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,A){const S=y.batch,M=S.keys();let Y=Z.resolve();return M.forEach((tt=>{Y=Y.next((()=>A.getEntry(v,tt))).next(($=>{const J=y.docVersions.get(tt);Ht(J!==null,48541),$.version.compareTo(J)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),A.addEntry($)))}))})),Y.next((()=>_.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=It();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function tv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function nS(s,e){const i=vt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;_.push(i.li.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,S))));let Y=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?Y=Y.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(S,Y),(function($,J,at){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=$A?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(M,Y,A)&&_.push(i.li.updateTargetData(h,Y))}));let v=Pi(),y=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),_.push(iS(h,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!r.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(A)}return Z.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.vs=o,h)))}function iS(s,e,i){let r=It(),o=It();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Pi();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):st(Ud,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function aS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new ba(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function hd(s,e,i){const r=vt(s),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Vr(d))throw d;st(Ud,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function __(s,e,i){const r=vt(s);let o=yt.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=vt(v),M=S.Fs.get(A);return M!==void 0?Z.resolve(S.vs.get(M)):S.li.getTargetData(y,A)})(r,d,pi(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:It()))).next((_=>(rS(r,Gb(e),_),{documents:_,ks:h})))))}function rS(s,e,i){let r=s.Ms.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Ms.set(e,r)}class v_{constructor(){this.activeTargetIds=Zb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lS{constructor(){this.vo=new v_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new v_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oS{Mo(e){}shutdown(){}}const E_="ConnectivityMonitor";class T_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(E_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fu=null;function fd(){return Fu===null?Fu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fu++,"0x"+Fu.toString(16)}const Pf="RestConnection",uS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=fd(),_=this.Qo(e,i.toUriEncodedString());st(Pf,`Sending RPC '${e}' ${d}:`,_,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:y}=new URL(_),A=_d(y);return this.zo(e,_,v,r,A).then((S=>(st(Pf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ys(Pf,`RPC '${e}' ${d} failed with error: `,S,"url: ",_,"request:",r),S}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=uS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class hS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",kl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Er extends cS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Er.c_){const e=s0();kl(e,a0.STAT_EVENT,(i=>{i.stat===Wf.PROXY?st(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Wf.NOPROXY&&st(Ye,"STAT_EVENT: detected no buffering proxy")})),Er.c_=!0}}zo(e,i,r,o,h){const d=fd();return new Promise(((_,v)=>{const y=new n0;y.setWithCredentials(!0),y.listenOnce(i0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zu.NO_ERROR:const S=y.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),_(S);break;case Zu.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),v(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const M=y.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const $=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN})(tt.status);v(new it($,tt.message))}else v(new it(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new it(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=fd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const y=h.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,_);const A=d.createWebChannel(y,_);this.I_(A);let S=!1,M=!1;const Y=new hS({Ho:tt=>{M?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(S||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,tt),A.send(tt))},Jo:()=>A.close()});return kl(A,ql.EventType.OPEN,(()=>{M||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),kl(A,ql.EventType.CLOSE,(()=>{M||(M=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(A))})),kl(A,ql.EventType.ERROR,(tt=>{M||(M=!0,ys(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),Y.o_(new it(X.UNAVAILABLE,"The operation could not be completed")))})),kl(A,ql.EventType.MESSAGE,(tt=>{if(!M){const $=tt.data[0];Ht(!!$,16349);const J=$,at=J?.error||J[0]?.error;if(at){st(Ye,`RPC '${e}' stream ${o} received error:`,at);const ut=at.status;let ct=(function(wt){const N=Se[wt];if(N!==void 0)return k0(N)})(ut),At=at.message;ut==="NOT_FOUND"&&At.includes("database")&&At.includes("does not exist")&&At.includes(this.databaseId.database)&&ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ct===void 0&&(ct=X.INTERNAL,At="Unknown error status: "+ut+" with message "+at.message),M=!0,Y.o_(new it(ct,At)),A.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,$),Y.__($)}})),Er.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return r0()}}function fS(s){return new Er(s)}function Hf(){return typeof document<"u"?document:null}function wc(s){return new pA(s,!0)}Er.c_=!1;class ev{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const b_="PersistentStream";class nv{constructor(e,i,r,o,h,d,_,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ev(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new it(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dS extends nv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=vA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?_i(d.readTime):yt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=cd(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=ad(v)?{documents:bA(h,v)}:{query:AA(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=H0(h,d.resumeToken);const y=ld(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){_.readTime=fc(h,d.snapshotVersion.toTimestamp());const y=ld(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=xA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=cd(this.serializer),i.removeTarget=e,this.K_(i)}}class mS extends nv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=TA(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=cd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>EA(this.serializer,r)))};this.K_(i)}}class gS{}class pS extends gS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,od(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(X.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,od(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yS(s,e,i,r){return new pS(s,e,i,r)}class _S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _s="RemoteStore";class vS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{bs(this)&&(st(_s,"Restarting streams for network reachability change."),await(async function(v){const y=vt(v);y.Ea.add(4),await co(y),y.Va.set("Unknown"),y.Ea.delete(4),await Rc(y)})(this))}))})),this.Va=new _S(r,o)}}async function Rc(s){if(bs(s))for(const e of s.Ra)await e(!0)}async function co(s){for(const e of s.Ra)await e(!1)}function iv(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),kd(i)?Bd(i):Or(i).O_()&&Ld(i,e))}function zd(s,e){const i=vt(s),r=Or(i);i.Ia.delete(e),r.O_()&&av(i,e),i.Ia.size===0&&(r.O_()?r.L_():bs(i)&&i.Va.set("Unknown"))}function Ld(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Or(s).Z_(e)}function av(s,e){s.da.$e(e),Or(s).X_(e)}function Bd(s){s.da=new fA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Or(s).start(),s.Va.ua()}function kd(s){return bs(s)&&!Or(s).x_()&&s.Ia.size>0}function bs(s){return vt(s).Ea.size===0}function sv(s){s.da=void 0}async function ES(s){s.Va.set("Online")}async function TS(s){s.Ia.forEach(((e,i)=>{Ld(s,e)}))}async function bS(s,e){sv(s),kd(s)?(s.Va.ha(e),Bd(s)):s.Va.set("Unknown")}async function AS(s,e,i){if(s.Va.set("Online"),e instanceof P0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(s,e)}catch(r){st(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mc(s,r)}else if(e instanceof tc?s.da.Xe(e):e instanceof q0?s.da.st(e):s.da.tt(e),!i.isEqual(yt.min()))try{const r=await tv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.da.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(y);A&&h.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),av(h,v);const S=new ba(A.target,v,y,A.sequenceNumber);Ld(h,S)})),h.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(r){st(_s,"Failed to raise snapshot:",r),await mc(s,r)}}async function mc(s,e,i){if(!Vr(e))throw e;s.Ea.add(1),await co(s),s.Va.set("Offline"),i||(i=()=>tv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(_s,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rc(s)}))}function rv(s,e){return e().catch((i=>mc(s,i,e)))}async function Cc(s){const e=vt(s),i=Va(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bd;for(;SS(e);)try{const o=await aS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,xS(e,o)}catch(o){await mc(e,o)}lv(e)&&ov(e)}function SS(s){return bs(s)&&s.Ta.length<10}function xS(s,e){s.Ta.push(e);const i=Va(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function lv(s){return bs(s)&&!Va(s).x_()&&s.Ta.length>0}function ov(s){Va(s).start()}async function wS(s){Va(s).ra()}async function RS(s){const e=Va(s);for(const i of s.Ta)e.ea(i.mutations)}async function CS(s,e,i){const r=s.Ta.shift(),o=Dd.from(r,e,i);await rv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Cc(s)}async function NS(s,e){e&&Va(s).Y_&&await(async function(r,o){if((function(d){return uA(d)&&d!==X.ABORTED})(o.code)){const h=r.Ta.shift();Va(r).B_(),await rv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Cc(r)}})(s,e),lv(s)&&ov(s)}async function A_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),st(_s,"RemoteStore received new credentials");const r=bs(i);i.Ea.add(3),await co(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function DS(s,e){const i=vt(s);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await co(i),i.Va.set("Unknown"))}function Or(s){return s.ma||(s.ma=(function(i,r,o){const h=vt(i);return h.sa(),new dS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:ES.bind(null,s),Yo:TS.bind(null,s),t_:bS.bind(null,s),J_:AS.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),kd(s)?Bd(s):s.Va.set("Unknown")):(await s.ma.stop(),sv(s))}))),s.ma}function Va(s){return s.fa||(s.fa=(function(i,r,o){const h=vt(i);return h.sa(),new mS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:wS.bind(null,s),t_:NS.bind(null,s),ta:RS.bind(null,s),na:CS.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Cc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(_s,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class qd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new qd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(s,e){if(qi("AsyncQueue",`${e}: ${s}`),Vr(s))return new it(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Pl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Tr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class S_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Rr{constructor(e,i,r,o,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new Rr(e,i,Tr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class VS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IS{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=vt(i),h=o.queries;o.queries=x_(),h.forEach(((d,_)=>{for(const v of _.ba)v.onError(r)}))})(this,new it(X.ABORTED,"Firestore shutting down"))}}function x_(){return new Es((s=>C0(s)),Tc)}async function OS(s,e){const i=vt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new VS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Pd(d,`Initialization of query '${gr(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Hd(i)}async function MS(s,e){const i=vt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jS(s,e){const i=vt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.ba)_.Fa(o)&&(r=!0);d.wa=o}}r&&Hd(i)}function US(s,e,i){const r=vt(s),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Hd(s){s.Ca.forEach((e=>{e.next()}))}var dd,w_;(w_=dd||(dd={})).Ma="default",w_.Cache="cache";class zS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Rr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dd.Cache}}class uv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class LS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=N0(e),this.tu=new Tr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new S_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const M=o.get(A),Y=bc(this.query,S)?S:null,tt=!!M&&this.mutatedKeys.has(M.key),$=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;M&&Y?M.data.isEqual(Y.data)?tt!==$&&(r.track({type:3,doc:Y}),J=!0):this.su(M,Y)||(r.track({type:2,doc:Y}),J=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(_=!0)):!M&&Y?(r.track({type:0,doc:Y}),J=!0):M&&!Y&&(r.track({type:1,doc:M}),J=!0,(v||y)&&(_=!0)),J&&(Y?(d=d.add(Y),h=$?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Y,tt){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:J})}};return $(Y)-$(tt)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Rr(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new cv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new uv(r))})),i}cu(e){this.Za=e.ks,this.Ya=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Rr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gd="SyncEngine";class BS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class kS{constructor(e){this.key=e,this.hu=!1}}class qS{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((_=>C0(_)),Tc),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ft.comparator),this.Au=new Map,this.Vu=new Od,this.du={},this.mu=new Map,this.fu=wr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PS(s,e,i=!0){const r=pv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await hv(r,e,i,!0),o}async function HS(s,e){const i=pv(s);await hv(i,e,!0,!1)}async function hv(s,e,i,r){const o=await sS(s.localStore,pi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await GS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&iv(s.remoteStore,o),_}async function GS(s,e,i,r,o){s.pu=(S,M,Y)=>(async function($,J,at,ut){let ct=J.view.ru(at);ct.Ss&&(ct=await __($.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ct))));const At=ut&&ut.targetChanges.get(J.targetId),Et=ut&&ut.targetMismatches.get(J.targetId)!=null,wt=J.view.applyChanges(ct,$.isPrimaryClient,At,Et);return C_($,J.targetId,wt.au),wt.snapshot})(s,S,M,Y);const h=await __(s.localStore,e,!0),d=new LS(e,h.ks),_=d.ru(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(_,s.isPrimaryClient,v);C_(s,i,y.au);const A=new BS(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function QS(s,e,i){const r=vt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Tc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&zd(r.remoteStore,o.targetId),md(r,o.targetId)})).catch(Dr)):(md(r,o.targetId),await hd(r.localStore,o.targetId,!0))}async function FS(s,e){const i=vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),zd(i.remoteStore,r.targetId))}async function YS(s,e,i){const r=t2(s);try{const o=await(function(d,_){const v=vt(d),y=te.now(),A=_.reduce(((Y,tt)=>Y.add(tt.key)),It());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=Pi(),$=It();return v.xs.getEntries(Y,A).next((J=>{tt=J,tt.forEach(((at,ut)=>{ut.isValidDocument()||($=$.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,tt))).next((J=>{S=J;const at=[];for(const ut of _){const ct=aA(ut,S.get(ut.key).overlayedDocument);ct!=null&&at.push(new Ts(ut.key,ct,E0(ct.value.mapValue),yi.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,at,_)})).next((J=>{M=J;const at=J.applyToLocalDocumentSet(S,$);return v.documentOverlayCache.saveOverlays(Y,J.batchId,at)}))})).then((()=>({batchId:M.batchId,changes:V0(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Vt)),y=y.insert(_,v),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await ho(r,o.changes),await Cc(r.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function fv(s,e){const i=vt(s);try{const r=await nS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await ho(i,r,e)}catch(r){await Dr(r)}}function R_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const v=vt(d);v.onlineState=_;let y=!1;v.queries.forEach(((A,S)=>{for(const M of S.ba)M.va(_)&&(y=!0)})),y&&Hd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KS(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new le(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const _=It().add(h),v=new xc(yt.min(),new Map,new le(Vt),d,_);await fv(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),Qd(r)}else await hd(r.localStore,e,!1).then((()=>md(r,e,i))).catch(Dr)}async function XS(s,e){const i=vt(s),r=e.batch.batchId;try{const o=await eS(i.localStore,e);mv(i,r,null),dv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ho(i,o)}catch(o){await Dr(o)}}async function ZS(s,e,i){const r=vt(s);try{const o=await(function(d,_){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,_).next((S=>(Ht(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);mv(r,e,i),dv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await ho(r,o)}catch(o){await Dr(o)}}function dv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function mv(s,e,i){const r=vt(s);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function md(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||gv(s,r)}))}function gv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(zd(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Qd(s))}function C_(s,e,i){for(const r of i)r instanceof uv?(s.Vu.addReference(r.key,e),JS(s,r)):r instanceof cv?(st(Gd,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||gv(s,r.key)):gt(19791,{wu:r})}function JS(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(st(Gd,"New document in limbo: "+i),s.Eu.add(r),Qd(s))}function Qd(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new kS(i)),s.Ru=s.Ru.insert(i,r),iv(s.remoteStore,new ba(pi(Rd(i.path)),r,"TargetPurposeLimboResolution",_c.ce))}}async function ho(s,e,i){const r=vt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=jd.Es(v.targetId,y);h.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,y){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(M=>Z.forEach(M.Ts,(Y=>A.persistence.referenceDelegate.addReference(S,M.targetId,Y))).next((()=>Z.forEach(M.Is,(Y=>A.persistence.referenceDelegate.removeReference(S,M.targetId,Y)))))))))}catch(S){if(!Vr(S))throw S;st(Ud,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const Y=A.vs.get(M),tt=Y.snapshotVersion,$=Y.withLastLimboFreeSnapshotVersion(tt);A.vs=A.vs.insert(M,$)}}})(r.localStore,h))}async function $S(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){st(Gd,"User change. New user:",e.toKey());const r=await W0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new it(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ho(i,r.Ns)}}function WS(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function pv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KS.bind(null,e),e.Pu.J_=jS.bind(null,e.eventManager),e.Pu.yu=US.bind(null,e.eventManager),e}function t2(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZS.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return tS(this.persistence,new JA,e.initialUser,this.serializer)}Cu(e){return new $0(Md.Vi,this.serializer)}Du(e){return new lS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class e2 extends gc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof dc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new $0((r=>dc.Vi(r,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$S.bind(null,this.syncEngine),await DS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IS})()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),r=fS(e.databaseInfo);return yS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new vS(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>R_(this.syncEngine,i,0)),(function(){return T_.v()?new T_:new oS})())}createSyncEngine(e,i){return(function(o,h,d,_,v,y,A){const S=new qS(o,h,d,_,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=vt(i);st(_s,"RemoteStore shutting down."),r.Ea.add(5),await co(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gd.provider={build:()=>new gd};class n2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ia="FirestoreClient";class i2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(Ia,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(Ia,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Pd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(s,e){s.asyncQueue.verifyOperationInProgress(),st(Ia,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await W0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function N_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await a2(s);st(Ia,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>A_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>A_(e.remoteStore,o))),s._onlineComponents=e}async function a2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Ia,"Using user provided OfflineComponentProvider");try{await Gf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await Gf(s,new gc)}}else st(Ia,"Using default OfflineComponentProvider"),await Gf(s,new e2(void 0));return s._offlineComponents}async function yv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Ia,"Using user provided OnlineComponentProvider"),await N_(s,s._uninitializedComponentsProvider._online)):(st(Ia,"Using default OnlineComponentProvider"),await N_(s,new gd))),s._onlineComponents}function s2(s){return yv(s).then((e=>e.syncEngine))}async function D_(s){const e=await yv(s),i=e.eventManager;return i.onListen=PS.bind(null,e.syncEngine),i.onUnlisten=QS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=HS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=FS.bind(null,e.syncEngine),i}function r2(s,e,i,r){const o=new n2(r),h=new zS(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>OS(await D_(s),h))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>MS(await D_(s),h)))}}function l2(s,e){const i=new ds;return s.asyncQueue.enqueueAndForget((async()=>YS(await s2(s),e,i))),i.promise}function _v(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const o2="ComponentProvider",V_=new Map;function u2(s,e,i,r,o){return new xb(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_v(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const vv="firestore.googleapis.com",I_=!0;class O_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vv,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MA)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ab;switch(r.type){case"firstParty":return new ob(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V_.get(i);r&&(st(o2,"Removing Datastore"),V_.delete(i),r.terminate())})(this),Promise.resolve()}}function c2(s,e,i,r={}){s=vr(s,Nc);const o=_d(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},_=`${e}:${i}`;o&&(IT(`https://${_}`),UT("Firestore",!0)),h.host!==vv&&h.host!==_&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:o,emulatorOptions:r};if(!ac(v,d)&&(s._setSettings(v),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Ke.MOCK_USER;else{y=OT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}s._authCredentials=new sb(new o0(y,A))}}class As{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class Ve{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(lo(i,Ve._jsonSchema))return new Ve(e,r||null,new ft(Wt.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:we("string",Ve._jsonSchemaVersion),referencePath:we("string")};class wa extends As{constructor(e,i,r){super(e,i,Rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new ft(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Qf(s,e,...i){if(s=gs(s),u0("collection","path",e),s instanceof Nc){const r=Wt.fromString(e,...i);return Qy(r),new wa(s,null,r)}{if(!(s instanceof Ve||s instanceof wa))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Qy(r),new wa(s.firestore,null,r)}}function Ev(s,e,...i){if(s=gs(s),arguments.length===1&&(e=Td.newId()),u0("doc","path",e),s instanceof Nc){const r=Wt.fromString(e,...i);return Gy(r),new Ve(s,null,new ft(r))}{if(!(s instanceof Ve||s instanceof wa))throw new it(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Gy(r),new Ve(s.firestore,s instanceof wa?s.converter:null,new ft(r))}}const M_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ev(this,"async_queue_retry"),this._c=()=>{const r=Hf();r&&st(M_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vr(e))throw e;st(M_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",U_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=qd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:U_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function U_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ro extends Nc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new j_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function h2(s,e){const i=typeof s=="object"?s:F1(),r=typeof s=="string"?s:oc,o=q1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=DT("firestore");h&&c2(o,...h)}return o}function Tv(s){if(s._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||f2(s),s._firestoreClient}function f2(s){const e=s._freezeSettings(),i=u2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new i2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Qe.fromBase64String(e))}catch(i){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:we("string",Vn._jsonSchemaVersion),bytes:we("string")};class bv{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(lo(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Qn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qn(e.vectorValues);throw new it(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:we("string",Qn._jsonSchemaVersion),vectorValues:we("object")};const d2=/^__.*__$/;class m2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}function Av(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:s})}}class Yd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Av(this.dataSource)&&d2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class g2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||wc(e)}createContext(e,i,r,o=!1){return new Yd({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(s){const e=s._freezeSettings(),i=wc(s._databaseId);return new g2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function p2(s,e,i,r,o,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,e,i,o);Rv("Data must be an object, but it was:",d,r);const _=xv(r,d);let v,y;if(h.merge)v=new Gn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const M=Dc(e,S,i);if(!d.contains(M))throw new it(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);E2(A,M)||A.push(M)}v=new Gn(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new m2(new Dn(_),v,y)}class Kd extends Fd{_toFieldTransform(e){return new tA(e.path,new io)}isEqual(e){return e instanceof Kd}}function y2(s,e,i,r=!1){return Xd(i,s.createContext(r?4:3,e))}function Xd(s,e){if(wv(s=gs(s)))return Rv("Unsupported field value:",e,s),xv(s,e);if(s instanceof Fd)return(function(r,o){if(!Av(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let v=Xd(_,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:fc(o.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fc(o.serializer,h)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:H0(o.serializer,r._byteString)};if(r instanceof Ve){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Qn)return(function(d,_){const v=d instanceof Qn?d.toArray():d;return{mapValue:{fields:{[_0]:{stringValue:v0},[uc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw _.createError("VectorValues must only contain numeric values.");return Cd(_.serializer,A)}))}}}}}})(r,o);if(Z0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${yc(r)}`)})(s,e)}function xv(s,e){const i={};return f0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(s,((r,o)=>{const h=Xd(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function wv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof vi||s instanceof Vn||s instanceof Ve||s instanceof Fd||s instanceof Qn||Z0(s))}function Rv(s,e,i){if(!wv(i)||!c0(i)){const r=yc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Dc(s,e,i){if((e=gs(e))instanceof bv)return e._internalPath;if(typeof e=="string")return v2(s,e);throw pc("Field path arguments must be of type string or ",s,!1,void 0,i)}const _2=new RegExp("[~\\*/\\[\\]]");function v2(s,e,i){if(e.search(_2)>=0)throw pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bv(...e.split("."))._internalPath}catch{throw pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new it(X.INVALID_ARGUMENT,_+s+v)}function E2(s,e){return s.some((i=>i.isEqual(e)))}class T2{convertValue(e,i="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[uc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Qn(i)}convertGeoPoint(e){return new vi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ec(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=Ca(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);Ht(X0(r),9688,{name:e});const o=new to(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Cv extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function z_(){return new Kd("serverTimestamp")}const L_="@firebase/firestore",B_="4.11.0";function k_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Nv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Dc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class b2 extends Nv{data(){return super.data()}}function A2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zd{}class Dv extends Zd{}function S2(s,e,...i){let r=[];e instanceof Zd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof $d)).length,_=h.filter((v=>v instanceof Jd)).length;if(d>1||d>0&&_>0)throw new it(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Jd extends Dv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Jd(e,i,r)}_apply(e){const i=this._parse(e);return Vv(e._query,i),new As(e.firestore,e.converter,sd(e._query,i))}_parse(e){const i=Sv(e.firestore);return(function(h,d,_,v,y,A,S){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){P_(S,A);const tt=[];for(const $ of S)tt.push(q_(v,h,$));M={arrayValue:{values:tt}}}else M=q_(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||P_(S,A),M=y2(_,d,S,A==="in"||A==="not-in");return xe.create(y,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends Zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $d(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const _=h.getFlattenedFilters();for(const v of _)Vv(d,v),d=sd(d,v)})(e._query,i),new As(e.firestore,e.converter,sd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wd extends Dv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Wd(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new no(h,d)})(e._query,this._field,this._direction);return new As(e.firestore,e.converter,Hb(e._query,i))}}function x2(s,e="asc"){const i=e,r=Dc("orderBy",s);return Wd._create(r,i)}function q_(s,e,i){if(typeof(i=gs(i))=="string"){if(i==="")throw new it(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&i.indexOf("/")!==-1)throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(r))throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wy(s,new ft(r))}if(i instanceof Ve)return Wy(s,i._key);throw new it(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(i)}.`)}function P_(s,e){if(!Array.isArray(s)||s.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vv(s,e){const i=(function(o,h){for(const d of o)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function w2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Gl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ms extends Nv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Dc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",ms._jsonSchema={type:we("string",ms._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class ec extends ms{data(e={}){return super.data(e)}}class br{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ec(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const v=new ec(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Gl(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new ec(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Gl(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),A=d.indexOf(_.doc.key)),{type:R2(_.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=br._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}br._jsonSchemaVersion="firestore/querySnapshot/1.0",br._jsonSchema={type:we("string",br._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};function C2(s){return Iv(vr(s.firestore,ro),[new Nd(s._key,yi.none())])}function H_(s,e){const i=vr(s.firestore,ro),r=Ev(s),o=w2(s.converter,e),h=Sv(s.firestore);return Iv(i,[p2(h,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function N2(s,...e){s=gs(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||k_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(k_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,_;if(s instanceof Ve)d=vr(s.firestore,ro),_=Rd(s._key.path),h={next:y=>{e[r]&&e[r](D2(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=vr(s,As);d=vr(y.firestore,ro),_=y._query;const A=new Cv(d);h={next:S=>{e[r]&&e[r](new br(d,A,y,S))},error:e[r+1],complete:e[r+2]},A2(s._query)}const v=Tv(d);return r2(v,_,o,h)}function Iv(s,e){const i=Tv(s);return l2(i,e)}function D2(s,e,i){const r=i.docs.get(e._key),o=new Cv(s);return new ms(s,o,e._key,r,new Gl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){ib(Q1),rc(new Zl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new ro(new rb(r.getProvider("auth-internal")),new ub(d,r.getProvider("app-check-internal")),wb(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),_r(L_,B_,e),_r(L_,B_,"esm2020")})();var V2="firebase",I2="12.9.0";_r(V2,I2,"app");const nc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},O2=$_(nc),Yu=h2(O2),fs=()=>!!(nc.apiKey&&nc.projectId&&nc.apiKey!=="demo-key"),G_="quotebook_quotes",Ku="quotes";function M2(){const[s,e]=Ut.useState([]),[i,r]=Ut.useState(!0),[o,h]=Ut.useState(null),[d,_]=Ut.useState(!1);Ut.useEffect(()=>{if(fs()){_(!0);const J=S2(Qf(Yu,Ku),x2("timestamp","desc")),at=N2(J,ut=>{const ct=[];ut.forEach(At=>{const Et=At.data();ct.push({id:At.id,text:Et.text,speaker:Et.speaker,addedBy:Et.addedBy,timestamp:Et.timestamp instanceof te?Et.timestamp.toMillis():Et.timestamp||Date.now()})}),e(ct),r(!1),h(null)},ut=>{console.error("Firestore error:",ut),h("Failed to connect to database. Check your Firebase config."),r(!1),v()});return()=>at()}else _(!1),v(),r(!1)},[]);const v=()=>{const J=localStorage.getItem(G_);if(J)try{e(JSON.parse(J))}catch{e([])}},y=Ut.useCallback(J=>{localStorage.setItem(G_,JSON.stringify(J)),e(J)},[]),A=Ut.useCallback(async(J,at,ut)=>{const ct={text:J,speaker:at.trim(),addedBy:ut.trim(),timestamp:Date.now()};if(d&&fs())try{await H_(Qf(Yu,Ku),{...ct,timestamp:z_()})}catch(At){console.error("Error adding quote:",At),h("Failed to add quote. Please try again.")}else{const At={...ct,id:crypto.randomUUID()};y([At,...s])}},[s,d,y]),S=Ut.useCallback(async J=>{if(d&&fs())try{await C2(Ev(Yu,Ku,J))}catch(at){console.error("Error deleting quote:",at),h("Failed to delete quote. Please try again.")}else y(s.filter(at=>at.id!==J))},[s,d,y]),M=Ut.useCallback(()=>{const J=new Map;return s.forEach(at=>{const ut=J.get(at.speaker)||0;J.set(at.speaker,ut+1)}),Array.from(J.entries()).map(([at,ut])=>({name:at,quoteCount:ut})).sort((at,ut)=>ut.quoteCount-at.quoteCount)},[s]),Y=Ut.useCallback(J=>s.filter(at=>at.speaker===J),[s]),tt=Ut.useCallback(()=>{const J=JSON.stringify(s,null,2),at=new Blob([J],{type:"application/json"}),ut=URL.createObjectURL(at),ct=document.createElement("a");ct.href=ut,ct.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,ct.click(),URL.revokeObjectURL(ut)},[s]),$=Ut.useCallback(async J=>{const at=new FileReader;at.onload=async ut=>{try{const ct=JSON.parse(ut.target?.result);if(Array.isArray(ct)){const At=ct.filter(Et=>Et.text&&Et.speaker&&Et.addedBy);if(d&&fs())for(const Et of At)await H_(Qf(Yu,Ku),{text:Et.text,speaker:Et.speaker,addedBy:Et.addedBy,timestamp:Et.timestamp||z_()});else{const Et=At.map(wt=>({...wt,id:wt.id||crypto.randomUUID(),timestamp:wt.timestamp||Date.now()}));y([...Et,...s])}}}catch{alert("Invalid file format")}},at.readAsText(J)},[s,d,y]);return{quotes:s,loading:i,error:o,usingFirebase:d,addQuote:A,deleteQuote:S,getPeople:M,getQuotesBySpeaker:Y,exportData:tt,importData:$}}const Ff=10;function Xu(s){const e=[...s];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function j2(s){const[e,i]=Ut.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:Ff,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=Ut.useCallback(()=>[...new Set(s.map(y=>y.speaker))],[s]),o=Ut.useCallback((y,A)=>{const S=A.filter(tt=>tt!==y),M=Xu(S),Y=[y,...M.slice(0,3)];return Xu(Y)},[]),h=Ut.useCallback(()=>{const y=r();if(y.length<2||s.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const S=Xu(s)[0],M=o(S.speaker,y);i({isPlaying:!0,currentQuote:S,options:M,score:0,totalRounds:Math.min(Ff,s.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[s,r,o]),d=Ut.useCallback(y=>{if(!e.currentQuote||e.answered)return;const A=y===e.currentQuote.speaker;i(S=>({...S,answered:!0,selectedAnswer:y,isCorrect:A,score:A?S.score+1:S.score,gameHistory:[...S.gameHistory,{quote:S.currentQuote,correct:A,guessed:y}]}))},[e.currentQuote,e.answered]),_=Ut.useCallback(()=>{if(e.currentRound>=e.totalRounds){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map($=>$.quote.id);y.push(e.currentQuote?.id||"");const A=s.filter($=>!y.includes($.id));if(A.length===0){i($=>({...$,isPlaying:!1,currentQuote:null}));return}const M=Xu(A)[0],Y=r(),tt=o(M.speaker,Y);i($=>({...$,currentQuote:M,options:tt,currentRound:$.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[s,e,r,o]),v=Ut.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:Ff,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:_,endGame:v,canPlay:r().length>=2&&s.length>=3}}const Yf="quotebook_user";function U2(){const[s,e]=Ut.useState(null);Ut.useEffect(()=>{const d=localStorage.getItem(Yf);if(d)try{e(JSON.parse(d))}catch{e(null)}},[]);const i=Ut.useCallback(d=>{localStorage.setItem(Yf,JSON.stringify(d)),e(d)},[]),r=Ut.useCallback(d=>{const _=s?{...s,name:d}:{name:d,gamesPlayed:0,totalScore:0,bestScore:0};i(_)},[s,i]),o=Ut.useCallback(d=>{if(!s)return;const _={...s,gamesPlayed:s.gamesPlayed+1,totalScore:s.totalScore+d,bestScore:Math.max(s.bestScore,d)};i(_)},[s,i]),h=Ut.useCallback(()=>{localStorage.removeItem(Yf),e(null)},[]);return{user:s,setUsername:r,recordGameScore:o,logout:h}}function z2({user:s,activeTab:e,setActiveTab:i}){return b.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:b.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-bold",children:"Quote Book"}),s&&b.jsxs("p",{className:"text-sm text-white/70",children:["Welcome, ",s.name,"!"]})]})]}),b.jsxs("nav",{className:"flex gap-1 bg-white/10 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="quotes"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Quotes"}),b.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="game"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Game"}),b.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="settings"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Settings"})]})]})})})}function L2({onAdd:s,currentUser:e,existingPeople:i}){const[r,o]=Ut.useState(""),[h,d]=Ut.useState(""),[_,v]=Ut.useState(!1),y=i.filter(S=>S.name.toLowerCase().includes(h.toLowerCase())&&h.length>0),A=S=>{S.preventDefault(),r.trim()&&h.trim()&&(s(r.trim(),h.trim(),e),o(""),d(""))};return b.jsxs("form",{onSubmit:A,className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"Add New Quote"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),b.jsx("textarea",{value:r,onChange:S=>o(S.target.value),placeholder:"Enter the memorable quote...",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:3})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),b.jsx("input",{type:"text",value:h,onChange:S=>d(S.target.value),onFocus:()=>v(!0),onBlur:()=>setTimeout(()=>v(!1),200),placeholder:"Person's name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),_&&y.length>0&&b.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-40 overflow-auto",children:y.map(S=>b.jsxs("button",{type:"button",onClick:()=>{d(S.name),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-indigo-50 flex items-center justify-between",children:[b.jsx("span",{children:S.name}),b.jsxs("span",{className:"text-xs text-gray-400",children:[S.quoteCount," quotes"]})]},S.name))})]}),b.jsx("button",{type:"submit",disabled:!r.trim()||!h.trim(),className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-lg hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Quote"})]})]})}function B2({quote:s,onDelete:e}){const r=new Date(s.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return b.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition group",children:b.jsxs("div",{className:"flex justify-between items-start gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("blockquote",{className:"text-gray-800 text-lg mb-3 italic",children:['"',s.text,'"']}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:s.speaker.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsxs("p",{className:"font-semibold text-gray-900",children:[" ",s.speaker]}),b.jsxs("p",{className:"text-xs text-gray-400",children:["Added by ",s.addedBy," on ",r]})]})]})]}),b.jsx("button",{onClick:()=>e(s.id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",title:"Delete quote",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})}function k2({quotes:s,people:e,currentUser:i,onAddQuote:r,onDeleteQuote:o}){const[h,d]=Ut.useState(""),[_,v]=Ut.useState(""),y=s.filter(A=>{const S=!h||A.speaker===h,M=!_||A.text.toLowerCase().includes(_.toLowerCase())||A.speaker.toLowerCase().includes(_.toLowerCase());return S&&M}).sort((A,S)=>S.timestamp-A.timestamp);return b.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-1",children:[b.jsx(L2,{onAdd:r,currentUser:i,existingPeople:e}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"People"]}),b.jsxs("button",{onClick:()=>d(""),className:`w-full text-left px-4 py-3 rounded-lg mb-2 transition ${h?"hover:bg-gray-50 text-gray-600":"bg-indigo-100 text-indigo-700 font-medium"}`,children:["All People (",s.length," quotes)"]}),b.jsx("div",{className:"space-y-1 max-h-64 overflow-auto",children:e.map(A=>b.jsxs("button",{onClick:()=>d(A.name),className:`w-full text-left px-4 py-3 rounded-lg transition flex items-center justify-between ${h===A.name?"bg-indigo-100 text-indigo-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,children:[b.jsxs("span",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:A.name.charAt(0).toUpperCase()}),A.name]}),b.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:A.quoteCount})]},A.name))})]})]}),b.jsxs("div",{className:"lg:col-span-2",children:[b.jsx("div",{className:"mb-4",children:b.jsxs("div",{className:"relative",children:[b.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),b.jsx("input",{type:"text",value:_,onChange:A=>v(A.target.value),placeholder:"Search quotes...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),y.length===0?b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("span",{className:"text-3xl",children:""})}),b.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No quotes yet"}),b.jsx("p",{className:"text-gray-500",children:s.length===0?"Start adding memorable quotes from your friends!":"No quotes match your current filter."})]}):b.jsxs("div",{className:"space-y-4",children:[b.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",y.length," quote",y.length!==1?"s":"",h&&` by ${h}`]}),y.map(A=>b.jsx(B2,{quote:A,onDelete:o},A.id))]})]})]})}function q2({gameState:s,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:_}){const v=!s.isPlaying&&s.gameHistory.length>0;if(!s.isPlaying&&!v)return b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:b.jsx("span",{className:"text-4xl",children:""})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),b.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&b.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),b.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),b.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),b.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?b.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):b.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[b.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),b.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(v){const y=Math.round(s.score/s.gameHistory.length*100),A=()=>{_(s.score),d(),r()},S=()=>{_(s.score),d()};return b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:b.jsx("span",{className:"text-4xl",children:""})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),b.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[s.score,"/",s.gameHistory.length]}),b.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),b.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[b.jsx("button",{onClick:A,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),b.jsx("button",{onClick:S,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),b.jsxs("div",{className:"border-t pt-6",children:[b.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),b.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:s.gameHistory.map((M,Y)=>b.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${M.correct?"bg-green-50":"bg-red-50"}`,children:[b.jsx("span",{className:"text-lg",children:M.correct?"":""}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',M.quote.text,'"']}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",b.jsx("span",{className:"font-semibold",children:M.quote.speaker}),!M.correct&&b.jsxs("span",{children:["  You guessed: ",M.guessed]})]})]})]},Y))})]})]})})}return b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[b.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("span",{className:"font-medium",children:["Round ",s.currentRound," of ",s.totalRounds]}),b.jsxs("span",{className:"font-bold",children:["Score: ",s.score]})]}),b.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${s.currentRound/s.totalRounds*100}%`}})})]}),b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[b.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),b.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:s.currentQuote?.text})]}),b.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.options.map(y=>{let A="p-4 rounded-xl font-medium transition text-left border-2 ";return s.answered?y===s.currentQuote?.speaker?A+="border-green-500 bg-green-50 text-green-700":y===s.selectedAnswer&&!s.isCorrect?A+="border-red-500 bg-red-50 text-red-700":A+="border-gray-200 bg-gray-50 text-gray-400":A+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",b.jsx("button",{onClick:()=>o(y),disabled:s.answered,className:A,children:b.jsxs("span",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),s.answered&&b.jsxs("div",{className:"mt-6 text-center",children:[b.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${s.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.isCorrect?" Correct!":` It was ${s.currentQuote?.speaker}`}),b.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:s.currentRound>=s.totalRounds?"See Results":"Next Question "})]})]})]}),b.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function Ov({onDismiss:s}){return b.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:b.jsxs("div",{className:"flex items-start justify-between gap-4",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-2xl",children:""}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),b.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),b.jsxs("details",{className:"text-sm",children:[b.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),b.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[b.jsxs("li",{children:["Go to ",b.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),b.jsx("li",{children:'Click "Create a project" (or "Add project")'}),b.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),b.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),b.jsx("li",{children:'Click "Create project"'})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[b.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),b.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),b.jsx("li",{children:'Click "Register app"'}),b.jsxs("li",{children:["Copy the ",b.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[b.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),b.jsx("li",{children:'Click "Create database"'}),b.jsxs("li",{children:['Select "Start in ',b.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),b.jsx("li",{children:"Choose a location close to you"}),b.jsx("li",{children:'Click "Enable"'})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[b.jsxs("li",{children:["Open ",b.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),b.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),b.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[b.jsxs("li",{children:["Run ",b.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),b.jsxs("li",{children:["Upload the new ",b.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),b.jsx("li",{children:"Share the URL with your friends! "})]})]}),b.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:b.jsxs("p",{className:"text-blue-800 text-sm",children:[b.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),s&&b.jsx("button",{onClick:s,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function P2({user:s,quotes:e,usingFirebase:i,onSetUsername:r,onLogout:o,onExport:h,onImport:d}){const _=Ut.useRef(null),v=y=>{const A=y.target.files?.[0];A&&(d(A),y.target.value="")};return b.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[b.jsx("div",{className:`rounded-xl shadow-md p-6 ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-white"}`,children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-white/20":"bg-amber-100"}`,children:b.jsx("span",{className:"text-2xl",children:i?"":""})}),b.jsxs("div",{children:[b.jsx("h2",{className:`text-lg font-semibold ${i?"text-white":"text-gray-800"}`,children:i?"Real-Time Sync Enabled!":"Local Storage Mode"}),b.jsx("p",{className:i?"text-green-100":"text-gray-500",children:i?"All quotes sync automatically with your friends":"Quotes are saved only on this device"})]})]})}),!fs()&&b.jsx(Ov,{}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"User Profile"]}),s?b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:s.name.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.name}),b.jsx("p",{className:"text-gray-500",children:"Quote Collector"})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:s.gamesPlayed}),b.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),b.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.bestScore}),b.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),b.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[b.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.totalScore}),b.jsx("p",{className:"text-xs text-gray-500",children:"Total Points"})]})]}),b.jsx("button",{onClick:o,className:"text-red-500 hover:text-red-600 text-sm font-medium",children:"Change Username"})]}):b.jsxs("form",{onSubmit:y=>{y.preventDefault();const S=y.target.elements.namedItem("username");S.value.trim()&&(r(S.value.trim()),S.value="")},children:[b.jsx("p",{className:"text-gray-500 mb-4",children:"Set your username to track your game scores and quotes you add."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("input",{name:"username",type:"text",placeholder:"Enter your name",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),b.jsx("button",{type:"submit",className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition",children:"Save"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:""}),"Data Management"]}),b.jsx("p",{className:"text-gray-500 mb-4",children:i?"Export quotes for backup, or import quotes from a file.":"Export your quotes to share with friends or import quotes from others."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("button",{onClick:h,disabled:e.length===0,className:"flex-1 py-3 bg-green-100 text-green-700 font-medium rounded-lg hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export (",e.length," quotes)"]}),b.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 py-3 bg-blue-100 text-blue-700 font-medium rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import"]}),b.jsx("input",{ref:_,type:"file",accept:".json",onChange:v,className:"hidden"})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"Share with Friends"]}),i?b.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4",children:[b.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Easy Sharing!"}),b.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Just share this website's URL with your friends. Everyone who visits will see the same quotes and can add new ones!"}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("URL copied to clipboard!")},className:"w-full py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:" Copy Link to Share"})]}):b.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4",children:[b.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:" Manual Sharing"}),b.jsx("p",{className:"text-sm text-amber-700",children:"Without Firebase, you'll need to manually share quotes:"}),b.jsxs("ol",{className:"text-sm text-amber-700 mt-2 space-y-1 list-decimal list-inside",children:[b.jsx("li",{children:"Export your quotes using the button above"}),b.jsx("li",{children:"Send the JSON file to your friends"}),b.jsx("li",{children:"Have them import the file"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[b.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:""}),"Statistics"]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[b.jsx("p",{className:"text-3xl font-bold",children:e.length}),b.jsx("p",{className:"text-sm opacity-80",children:"Total Quotes"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-4 text-white",children:[b.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(y=>y.speaker)).size}),b.jsx("p",{className:"text-sm opacity-80",children:"People"})]})]})]})]})}function H2({onSetUsername:s}){const e=i=>{i.preventDefault();const o=i.target.elements.namedItem("username");o.value.trim()&&s(o.value.trim())};return b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg transform -rotate-6",children:b.jsx("span",{className:"text-4xl",children:""})}),b.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),b.jsx("p",{className:"text-gray-500",children:"Collect memorable quotes from your friends and play the guessing game!"})]}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-xl",children:[b.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-gray-800",children:"Collect Quotes"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Save memorable things your friends say"})]})]}),b.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-xl",children:[b.jsx("span",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-gray-800",children:"Play Games"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Guess who said what in fun rounds"})]})]}),b.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-xl",children:[b.jsx("span",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center text-xl",children:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-gray-800",children:"Share & Collaborate"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Export and import quotes with friends"})]})]})]}),b.jsxs("form",{onSubmit:e,children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your name?"}),b.jsx("input",{name:"username",type:"text",placeholder:"Enter your name to get started",autoFocus:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent mb-4"}),b.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg",children:"Get Started "})]})]})})}function G2(){const[s,e]=Ut.useState("quotes"),[i,r]=Ut.useState(!fs()),{user:o,setUsername:h,recordGameScore:d,logout:_}=U2(),{quotes:v,loading:y,error:A,usingFirebase:S,addQuote:M,deleteQuote:Y,getPeople:tt,exportData:$,importData:J}=M2(),{gameState:at,startGame:ut,submitAnswer:ct,nextRound:At,endGame:Et,canPlay:wt}=j2(v);return o?b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[b.jsx(z2,{user:o,activeTab:s,setActiveTab:e}),b.jsx("div",{className:`text-center py-2 text-sm font-medium ${S?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:S?b.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):b.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),A&&b.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",A]}),b.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!fs()&&s==="quotes"&&b.jsx(Ov,{onDismiss:()=>r(!1)}),y?b.jsx("div",{className:"flex items-center justify-center py-20",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):b.jsxs(b.Fragment,{children:[s==="quotes"&&b.jsx(k2,{quotes:v,people:tt(),currentUser:o.name,onAddQuote:M,onDeleteQuote:Y}),s==="game"&&b.jsx(q2,{gameState:at,canPlay:wt,user:o,onStartGame:ut,onSubmitAnswer:ct,onNextRound:At,onEndGame:Et,onRecordScore:d}),s==="settings"&&b.jsx(P2,{user:o,quotes:v,usingFirebase:S,onSetUsername:h,onLogout:_,onExport:$,onImport:J})]})]}),b.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[b.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),b.jsx("p",{className:"text-xs mt-1",children:S?" Real-time sync enabled":" Local mode"})]})]}):b.jsx(H2,{onSetUsername:h})}vT.createRoot(document.getElementById("root")).render(b.jsx(Ut.StrictMode,{children:b.jsx(G2,{})}));
