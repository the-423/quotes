(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Uf={exports:{}},Xl={};var Dy;function TT(){if(Dy)return Xl;Dy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var Vy;function bT(){return Vy||(Vy=1,Uf.exports=TT()),Uf.exports}var T=bT(),zf={exports:{}},Tt={};var Iy;function AT(){if(Iy)return Tt;Iy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function Q(j){return j===null||typeof j!="object"?null:(j=M&&j[M]||j["@@iterator"],typeof j=="function"?j:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,nt={};function ht(j,K,st){this.props=j,this.context=K,this.refs=nt,this.updater=st||$}ht.prototype.isReactComponent={},ht.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},ht.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function gt(){}gt.prototype=ht.prototype;function mt(j,K,st){this.props=j,this.context=K,this.refs=nt,this.updater=st||$}var At=mt.prototype=new gt;At.constructor=mt,tt(At,ht.prototype),At.isPureReactComponent=!0;var Qt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(j,K,st){var lt=st.ref;return{$$typeof:a,type:j,key:K,ref:lt!==void 0?lt:null,props:st}}function N(j,K){return I(j.type,K,j.props)}function R(j){return typeof j=="object"&&j!==null&&j.$$typeof===a}function C(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(st){return K[st]})}var S=/\/+/g;function it(j,K){return typeof j=="object"&&j!==null&&j.key!=null?C(""+j.key):K.toString(36)}function W(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ct,Ct):(j.status="pending",j.then(function(K){j.status==="pending"&&(j.status="fulfilled",j.value=K)},function(K){j.status==="pending"&&(j.status="rejected",j.reason=K)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,K,st,lt,vt){var wt=typeof j;(wt==="undefined"||wt==="boolean")&&(j=null);var zt=!1;if(j===null)zt=!0;else switch(wt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(j.$$typeof){case a:case e:zt=!0;break;case A:return zt=j._init,z(zt(j._payload),K,st,lt,vt)}}if(zt)return vt=vt(j),zt=lt===""?"."+it(j,0):lt,Qt(vt)?(st="",zt!=null&&(st=zt.replace(S,"$&/")+"/"),z(vt,K,st,"",function(qs){return qs})):vt!=null&&(R(vt)&&(vt=N(vt,st+(vt.key==null||j&&j.key===vt.key?"":(""+vt.key).replace(S,"$&/")+"/")+zt)),K.push(vt)),1;zt=0;var Ne=lt===""?".":lt+":";if(Qt(j))for(var ae=0;ae<j.length;ae++)lt=j[ae],wt=Ne+it(lt,ae),zt+=z(lt,K,st,wt,vt);else if(ae=Q(j),typeof ae=="function")for(j=ae.call(j),ae=0;!(lt=j.next()).done;)lt=lt.value,wt=Ne+it(lt,ae++),zt+=z(lt,K,st,wt,vt);else if(wt==="object"){if(typeof j.then=="function")return z(W(j),K,st,lt,vt);throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return zt}function J(j,K,st){if(j==null)return j;var lt=[],vt=0;return z(j,lt,"","",function(wt){return K.call(st,wt,vt++)}),lt}function ut(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(st){(j._status===0||j._status===-1)&&(j._status=1,j._result=st)},function(st){(j._status===0||j._status===-1)&&(j._status=2,j._result=st)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var jt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},qt={map:J,forEach:function(j,K,st){J(j,function(){K.apply(this,arguments)},st)},count:function(j){var K=0;return J(j,function(){K++}),K},toArray:function(j){return J(j,function(K){return K})||[]},only:function(j){if(!R(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Tt.Activity=w,Tt.Children=qt,Tt.Component=ht,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=mt,Tt.StrictMode=r,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Tt.cache=function(j){return function(){return j.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(j,K,st){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var lt=tt({},j.props),vt=j.key;if(K!=null)for(wt in K.key!==void 0&&(vt=""+K.key),K)!x.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(lt[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)lt.children=st;else if(1<wt){for(var zt=Array(wt),Ne=0;Ne<wt;Ne++)zt[Ne]=arguments[Ne+2];lt.children=zt}return I(j.type,vt,lt)},Tt.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Tt.createElement=function(j,K,st){var lt,vt={},wt=null;if(K!=null)for(lt in K.key!==void 0&&(wt=""+K.key),K)x.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=K[lt]);var zt=arguments.length-2;if(zt===1)vt.children=st;else if(1<zt){for(var Ne=Array(zt),ae=0;ae<zt;ae++)Ne[ae]=arguments[ae+2];vt.children=Ne}if(j&&j.defaultProps)for(lt in zt=j.defaultProps,zt)vt[lt]===void 0&&(vt[lt]=zt[lt]);return I(j,wt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(j){return{$$typeof:_,render:j}},Tt.isValidElement=R,Tt.lazy=function(j){return{$$typeof:A,_payload:{_status:-1,_result:j},_init:ut}},Tt.memo=function(j,K){return{$$typeof:y,type:j,compare:K===void 0?null:K}},Tt.startTransition=function(j){var K=D.T,st={};D.T=st;try{var lt=j(),vt=D.S;vt!==null&&vt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,jt)}catch(wt){jt(wt)}finally{K!==null&&st.types!==null&&(K.types=st.types),D.T=K}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(j){return D.H.use(j)},Tt.useActionState=function(j,K,st){return D.H.useActionState(j,K,st)},Tt.useCallback=function(j,K){return D.H.useCallback(j,K)},Tt.useContext=function(j){return D.H.useContext(j)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(j,K){return D.H.useDeferredValue(j,K)},Tt.useEffect=function(j,K){return D.H.useEffect(j,K)},Tt.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(j,K,st){return D.H.useImperativeHandle(j,K,st)},Tt.useInsertionEffect=function(j,K){return D.H.useInsertionEffect(j,K)},Tt.useLayoutEffect=function(j,K){return D.H.useLayoutEffect(j,K)},Tt.useMemo=function(j,K){return D.H.useMemo(j,K)},Tt.useOptimistic=function(j,K){return D.H.useOptimistic(j,K)},Tt.useReducer=function(j,K,st){return D.H.useReducer(j,K,st)},Tt.useRef=function(j){return D.H.useRef(j)},Tt.useState=function(j){return D.H.useState(j)},Tt.useSyncExternalStore=function(j,K,st){return D.H.useSyncExternalStore(j,K,st)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.3",Tt}var Oy;function bd(){return Oy||(Oy=1,zf.exports=AT()),zf.exports}var _t=bd(),Lf={exports:{}},Zl={},kf={exports:{}},Bf={};var My;function ST(){return My||(My=1,(function(a){function e(z,J){var ut=z.length;z.push(J);t:for(;0<ut;){var jt=ut-1>>>1,qt=z[jt];if(0<o(qt,J))z[jt]=J,z[ut]=qt,ut=jt;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],ut=z.pop();if(ut!==J){z[0]=ut;t:for(var jt=0,qt=z.length,j=qt>>>1;jt<j;){var K=2*(jt+1)-1,st=z[K],lt=K+1,vt=z[lt];if(0>o(st,ut))lt<qt&&0>o(vt,st)?(z[jt]=vt,z[lt]=ut,jt=lt):(z[jt]=st,z[K]=ut,jt=K);else if(lt<qt&&0>o(vt,ut))z[jt]=vt,z[lt]=ut,jt=lt;else break t}}return J}function o(z,J){var ut=z.sortIndex-J.sortIndex;return ut!==0?ut:z.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();a.unstable_now=function(){return d.now()-_}}var v=[],y=[],A=1,w=null,M=3,Q=!1,$=!1,tt=!1,nt=!1,ht=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function At(z){for(var J=i(y);J!==null;){if(J.callback===null)r(y);else if(J.startTime<=z)r(y),J.sortIndex=J.expirationTime,e(v,J);else break;J=i(y)}}function Qt(z){if(tt=!1,At(z),!$)if(i(v)!==null)$=!0,Ct||(Ct=!0,C());else{var J=i(y);J!==null&&W(Qt,J.startTime-z)}}var Ct=!1,D=-1,x=5,I=-1;function N(){return nt?!0:!(a.unstable_now()-I<x)}function R(){if(nt=!1,Ct){var z=a.unstable_now();I=z;var J=!0;try{t:{$=!1,tt&&(tt=!1,gt(D),D=-1),Q=!0;var ut=M;try{e:{for(At(z),w=i(v);w!==null&&!(w.expirationTime>z&&N());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,M=w.priorityLevel;var qt=jt(w.expirationTime<=z);if(z=a.unstable_now(),typeof qt=="function"){w.callback=qt,At(z),J=!0;break e}w===i(v)&&r(v),At(z)}else r(v);w=i(v)}if(w!==null)J=!0;else{var j=i(y);j!==null&&W(Qt,j.startTime-z),J=!1}}break t}finally{w=null,M=ut,Q=!1}J=void 0}}finally{J?C():Ct=!1}}}var C;if(typeof mt=="function")C=function(){mt(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,it=S.port2;S.port1.onmessage=R,C=function(){it.postMessage(null)}}else C=function(){ht(R,0)};function W(z,J){D=ht(function(){z(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(z){switch(M){case 1:case 2:case 3:var J=3;break;default:J=M}var ut=M;M=J;try{return z()}finally{M=ut}},a.unstable_requestPaint=function(){nt=!0},a.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ut=M;M=z;try{return J()}finally{M=ut}},a.unstable_scheduleCallback=function(z,J,ut){var jt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?jt+ut:jt):ut=jt,z){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,z={id:A++,callback:J,priorityLevel:z,startTime:ut,expirationTime:qt,sortIndex:-1},ut>jt?(z.sortIndex=ut,e(y,z),i(v)===null&&z===i(y)&&(tt?(gt(D),D=-1):tt=!0,W(Qt,ut-jt))):(z.sortIndex=qt,e(v,z),$||Q||($=!0,Ct||(Ct=!0,C()))),z},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(z){var J=M;return function(){var ut=M;M=J;try{return z.apply(this,arguments)}finally{M=ut}}}})(Bf)),Bf}var jy;function xT(){return jy||(jy=1,kf.exports=ST()),kf.exports}var Pf={exports:{}},Fe={};var Uy;function wT(){if(Uy)return Fe;Uy=1;var a=bd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,A)},Fe.flushSync=function(v){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=A,r.d.f()}},Fe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,w=_(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:Q}):A==="script"&&r.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=_(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Fe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=_(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=_(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,y){return v(y)},Fe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var zy;function RT(){if(zy)return Pf.exports;zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Pf.exports=wT(),Pf.exports}var Ly;function CT(){if(Ly)return Zl;Ly=1;var a=xT(),e=bd(),i=RT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ht:return"Profiler";case nt:return"StrictMode";case Qt:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case mt:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var W=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},jt=[],qt=-1;function j(t){return{current:t}}function K(t){0>qt||(t.current=jt[qt],jt[qt]=null,qt--)}function st(t,n){qt++,jt[qt]=t.current,t.current=n}var lt=j(null),vt=j(null),wt=j(null),zt=j(null);function Ne(t,n){switch(st(wt,n),st(vt,t),st(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wp(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(lt),st(lt,t)}function ae(){K(lt),K(vt),K(wt)}function qs(t){t.memoizedState!==null&&st(zt,t);var n=lt.current,s=ty(n,t.type);n!==s&&(st(vt,t),st(lt,s))}function Da(t){vt.current===t&&(K(lt),K(vt)),zt.current===t&&(K(zt),Ql._currentValue=ut)}var Va,Ia;function Jn(t){if(Va===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Va=n&&n[1]||"",Ia=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+Ia}var Qr=!1;function Hs(t,n){if(!t||Qr)return"";Qr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var P=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){P=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){P=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var V=g.split(`
`),B=E.split(`
`);for(c=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===V.length||c===B.length)for(l=V.length-1,c=B.length-1;1<=l&&0<=c&&V[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(V[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||V[l]!==B[c]){var G=`
`+V[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Qr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Jn(s):""}function Fr(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return Jn("Activity");default:return""}}function Yr(t){try{var n="",s=null;do n+=Fr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,Ki=a.unstable_cancelCallback,zc=a.unstable_shouldYield,To=a.unstable_requestPaint,Ze=a.unstable_now,Gs=a.unstable_getCurrentPriorityLevel,Kr=a.unstable_ImmediatePriority,Xr=a.unstable_UserBlockingPriority,Xi=a.unstable_NormalPriority,Lc=a.unstable_LowPriority,bo=a.unstable_IdlePriority,Ao=a.log,So=a.unstable_setDisableYieldValue,Mn=null,ze=null;function En(t){if(typeof Ao=="function"&&So(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:wo,xo=Math.log,Oa=Math.LN2;function wo(t){return t>>>=0,t===0?32:31-(xo(t)/Oa|0)|0}var $n=256,Qs=262144,ye=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Wn(l):(g&=E,g!==0?c=Wn(g):s||(s=E&~t,s!==0&&(c=Wn(s))))):(E=l&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):s||(s=l&~t,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ei(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Fs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,V=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),Y=1<<G;E[G]=0,V[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var H=P[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&Ys(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ys(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Zr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-he(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Jr(t,n){var s=n&-n;return s=(s&42)!==0?1:Ks(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function Un(t,n){var s=J.p;try{return J.p=t,n()}finally{J.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Oe="__reactProps$"+zn,ni="__reactContainer$"+zn,Ma="__reactEvents$"+zn,Pc="__reactListeners$"+zn,No="__reactHandles$"+zn,Do="__reactResources$"+zn,ii="__reactMarker$"+zn;function ja(t){delete t[_e],delete t[Oe],delete t[Ma],delete t[Pc],delete t[No]}function si(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ly(t);t!==null;){if(s=t[_e])return s;t=ly(t)}return n}t=s,s=t.parentNode}return null}function Tn(t){if(t=t[_e]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ai(t){var n=t[Do];return n||(n=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ii]=!0}var $r=new Set,Wr={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(Wr[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},nl={};function Vo(t){return pe.call(nl,t)?!0:pe.call(el,t)?!1:tl.test(t)?nl[t]=!0:(el[t]=!0,!1)}function Ua(t,n,s){if(Vo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function hn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ee(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function il(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=il(t,n,""+t[n])}}function Xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zs=/[\n"\\]/g;function We(t){return t.replace(Zs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?sl(t,g,Me(n)):s!=null?sl(t,g,Me(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Io(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function sl(t,n,s){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ji(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Oo(t,n,s){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Me(s):""}function $i(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(W(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Me(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Yt(t)}function tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Mo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function rl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&al(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&al(t,f,n[f])}function La(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var ll=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ts=null,ui=null;function Js(t){var n=Tn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(za(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));za(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Xs(l)}break t;case"textarea":Oo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ji(t,!!s.multiple,n,!1)}}}var Ba=!1;function es(t,n,s){if(Ba)return t(n,s);Ba=!0;try{var l=t(n);return l}finally{if(Ba=!1,(ts!==null||ui!==null)&&(Cu(),ts&&(n=ts,t=ui,ui=ts=null,Js(n),t)))for(n=0;n<t.length;n++)Js(t[n])}}function kn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(An)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){$s=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{$s=!1}var ci=null,ol=null,Ws=null;function ul(){if(Ws)return Ws;var t,n=ol,s=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Ws=c.slice(t,1<l?1-l:void 0)}function ta(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Bn(){return!1}function Le(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:Bn,this.isPropagationStopped=Bn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Le(Ri),ns=w({},Ri,{view:0,detail:0}),cl=Le(ns),is,Pa,fi,qa=w({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(is=t.screenX-fi.screenX,Pa=t.screenY-fi.screenY):Pa=is=0,fi=t),is)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),hl=Le(qa),ea=w({},qa,{dataTransfer:0}),Uo=Le(ea),zo=w({},ns,{relatedTarget:0}),na=Le(zo),fl=w({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=Le(fl),Ha=w({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ko=Le(Ha),Bo=w({},Ri,{data:0}),di=Le(Bo),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ho[t])?!!n[t]:!1}function ss(){return Go}var Je=w({},ns,{key:function(t){if(t.key){var n=Po[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qo=Le(Je),Fo=w({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Le(Fo),u=w({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),m=Le(u),p=w({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Le(p),L=w({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(L),et=w({},Ri,{newState:0,oldState:0}),St=Le(et),fe=[9,13,27,32],Ht=An&&"CompositionEvent"in window,re=null;An&&"documentMode"in document&&(re=document.documentMode);var Sn=An&&"TextEvent"in window&&!re,mi=An&&(!Ht||re&&8<re&&11>=re),Pn=" ",qn=!1;function ia(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function Qv(t,n){switch(t){case"compositionend":return Ga(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function Fv(t,n){if(Qa)return t==="compositionend"||!Ht&&ia(t,n)?(t=ul(),Ws=ol=ci=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Yv[t.type]:n==="textarea"}function hm(t,n,s,l){ts?ui?ui.push(l):ui=[l]:ts=l,n=ju(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var dl=null,ml=null;function Kv(t){Yp(t,0)}function Yo(t){var n=cn(t);if(Xs(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(An){var qc;if(An){var Hc="oninput"in document;if(!Hc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Hc=typeof mm.oninput=="function"}qc=Hc}else qc=!1;dm=qc&&(!document.documentMode||9<document.documentMode)}function gm(){dl&&(dl.detachEvent("onpropertychange",pm),ml=dl=null)}function pm(t){if(t.propertyName==="value"&&Yo(ml)){var n=[];hm(n,ml,t,bn(t)),es(Kv,n)}}function Xv(t,n,s){t==="focusin"?(gm(),dl=n,ml=s,dl.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function Zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(ml)}function Jv(t,n){if(t==="click")return Yo(n)}function $v(t,n){if(t==="input"||t==="change")return Yo(n)}function Wv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:Wv;function gl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var s=ym(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ym(s)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=oi(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tE=An&&"documentMode"in document&&11>=document.documentMode,Fa=null,Qc=null,pl=null,Fc=!1;function Tm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fc||Fa==null||Fa!==oi(l)||(l=Fa,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&gl(pl,l)||(pl=l,l=ju(Qc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Fa)))}function sa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ya={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Yc={},bm={};An&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function aa(t){if(Yc[t])return Yc[t];if(!Ya[t])return t;var n=Ya[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in bm)return Yc[t]=n[s];return t}var Am=aa("animationend"),Sm=aa("animationiteration"),xm=aa("animationstart"),eE=aa("transitionrun"),nE=aa("transitionstart"),iE=aa("transitioncancel"),wm=aa("transitionend"),Rm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Hn(t,n){Rm.set(t,n),ri(n,[t])}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Ka=0,Xc=0;function Xo(){for(var t=Ka,n=Xc=Ka=0;n<t;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Cm(s,c,f)}}function Zo(t,n,s,l){xn[Ka++]=t,xn[Ka++]=n,xn[Ka++]=s,xn[Ka++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,s,l){return Zo(t,n,s,l),Jo(t)}function ra(t,n){return Zo(t,null,null,n),Jo(t)}function Cm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Jo(t){if(50<Ll)throw Ll=0,rf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xa={};function sE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,s,l){return new sE(t,n,s,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,n){var s=t.alternate;return s===null?(s=dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $o(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=uT(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=dn(31,s,n,c),t.elementType=I,t.lanes=f,t;case tt:return la(s.children,c,f,n);case nt:g=8,c|=24;break;case ht:return t=dn(12,s,n,c|2),t.elementType=ht,t.lanes=f,t;case Qt:return t=dn(13,s,n,c),t.elementType=Qt,t.lanes=f,t;case Ct:return t=dn(19,s,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case gt:g=9;break t;case At:g=11;break t;case D:g=14;break t;case x:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,s,l){return t=dn(7,t,l,n),t.lanes=s,t}function $c(t,n,s){return t=dn(6,t,null,n),t.lanes=s,t}function Dm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Wc(t,n,s){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var s=Vm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Yr(n)},Vm.set(t,n),n)}return{value:t,source:n,stack:Yr(n)}}var Za=[],Ja=0,Wo=null,yl=0,Rn=[],Cn=0,as=null,gi=1,pi="";function Di(t,n){Za[Ja++]=yl,Za[Ja++]=Wo,Wo=t,yl=n}function Im(t,n,s){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=as,as=t;var l=gi;t=pi;var c=32-he(l)-1;l&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-he(n)+c|s<<c|l,pi=f+t}else gi=1<<f|s<<c|l,pi=t}function th(t){t.return!==null&&(Di(t,1),Im(t,1,0))}function eh(t){for(;t===Wo;)Wo=Za[--Ja],Za[Ja]=null,yl=Za[--Ja],Za[Ja]=null;for(;t===as;)as=Rn[--Cn],Rn[Cn]=null,pi=Rn[--Cn],Rn[Cn]=null,gi=Rn[--Cn],Rn[Cn]=null}function Om(t,n){Rn[Cn++]=gi,Rn[Cn++]=pi,Rn[Cn++]=as,gi=n.id,pi=n.overflow,as=t}var ke=null,ie=null,Ut=!1,rs=null,Nn=!1,nh=Error(r(519));function ls(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(wn(n,t)),nh}function Mm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Oe]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Bl.length;s++)Dt(Bl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Io(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),$i(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Jp(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ls(t,!0)}function jm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ke=ke.return}}function $a(t){if(t!==ke)return!1;if(!Ut)return jm(t),Ut=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Tf(t.type,t.memoizedProps)),s=!s),s&&ie&&ls(t),jm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=ry(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=ry(t)}else n===27?(n=ie,Ts(t.type)?(t=wf,wf=null,ie=t):ie=n):ie=ke?Vn(t.stateNode.nextSibling):null;return!0}function oa(){ie=ke=null,Ut=!1}function ih(){var t=rs;return t!==null&&(an===null?an=t:an.push.apply(an,t),rs=null),t}function _l(t){rs===null?rs=[t]:rs.push(t)}var sh=j(null),ua=null,Vi=null;function os(t,n,s){st(sh,n._currentValue),n._currentValue=s}function Ii(t){t._currentValue=sh.current,K(sh)}function ah(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function rh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var V=0;V<n.length;V++)if(E.context===n[V]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),ah(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),ah(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Wa(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===zt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}c=c.return}t!==null&&rh(n,t,s,l),n.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Um(ua,t)}function eu(t,n){return ua===null&&ca(t),Um(t,n)}function Um(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(t===null)throw Error(r(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return s}var aE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},rE=a.unstable_scheduleCallback,lE=a.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new aE,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&rE(lE,function(){t.controller.abort()})}var El=null,oh=0,tr=0,er=null;function oE(t,n){if(El===null){var s=El=[];oh=0,tr=ff(),er={status:"pending",value:void 0,then:function(l){s.push(l)}}}return oh++,n.then(zm,zm),n}function zm(){if(--oh===0&&El!==null){er!==null&&(er.status="fulfilled");var t=El;El=null,tr=0,er=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function uE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Lm=z.S;z.S=function(t,n){Tp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oE(t,n),Lm!==null&&Lm(t,n)};var ha=j(null);function uh(){var t=ha.current;return t!==null?t:te.pooledCache}function nu(t,n){n===null?st(ha,ha.current):st(ha,n.pool)}function km(){var t=uh();return t===null?null:{parent:Te._currentValue,pool:t}}var nr=Error(r(460)),ch=Error(r(474)),iu=Error(r(542)),su={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ln,Ln),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hm(t),t}throw da=n,nr}}function fa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(da=s,nr):s}}var da=null;function qm(){if(da===null)throw Error(r(459));var t=da;return da=null,t}function Hm(t){if(t===nr||t===iu)throw Error(r(483))}var ir=null,Tl=0;function au(t){var n=Tl;return Tl+=1,ir===null&&(ir=[]),Pm(ir,t,n)}function bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gm(t){function n(U,O){if(t){var k=U.deletions;k===null?(U.deletions=[O],U.flags|=16):k.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Ni(U,O),U.index=0,U.sibling=null,U}function f(U,O,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<O?(U.flags|=67108866,O):k):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,k,F){return O===null||O.tag!==6?(O=$c(k,U.mode,F),O.return=U,O):(O=c(O,k),O.return=U,O)}function V(U,O,k,F){var ft=k.type;return ft===tt?G(U,O,k.props.children,F,k.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&fa(ft)===O.type)?(O=c(O,k.props),bl(O,k),O.return=U,O):(O=$o(k.type,k.key,k.props,null,U.mode,F),bl(O,k),O.return=U,O)}function B(U,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Wc(k,U.mode,F),O.return=U,O):(O=c(O,k.children||[]),O.return=U,O)}function G(U,O,k,F,ft){return O===null||O.tag!==7?(O=la(k,U.mode,F,ft),O.return=U,O):(O=c(O,k),O.return=U,O)}function Y(U,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=$c(""+O,U.mode,k),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return k=$o(O.type,O.key,O.props,null,U.mode,k),bl(k,O),k.return=U,k;case $:return O=Wc(O,U.mode,k),O.return=U,O;case x:return O=fa(O),Y(U,O,k)}if(W(O)||C(O))return O=la(O,U.mode,k,null),O.return=U,O;if(typeof O.then=="function")return Y(U,au(O),k);if(O.$$typeof===mt)return Y(U,eu(U,O),k);ru(U,O)}return null}function P(U,O,k,F){var ft=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:E(U,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return k.key===ft?V(U,O,k,F):null;case $:return k.key===ft?B(U,O,k,F):null;case x:return k=fa(k),P(U,O,k,F)}if(W(k)||C(k))return ft!==null?null:G(U,O,k,F,null);if(typeof k.then=="function")return P(U,O,au(k),F);if(k.$$typeof===mt)return P(U,O,eu(U,k),F);ru(U,k)}return null}function H(U,O,k,F,ft){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,E(O,U,""+F,ft);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return U=U.get(F.key===null?k:F.key)||null,V(O,U,F,ft);case $:return U=U.get(F.key===null?k:F.key)||null,B(O,U,F,ft);case x:return F=fa(F),H(U,O,k,F,ft)}if(W(F)||C(F))return U=U.get(k)||null,G(O,U,F,ft,null);if(typeof F.then=="function")return H(U,O,k,au(F),ft);if(F.$$typeof===mt)return H(U,O,k,eu(O,F),ft);ru(O,F)}return null}function ot(U,O,k,F){for(var ft=null,Bt=null,ct=O,Rt=O=0,It=null;ct!==null&&Rt<k.length;Rt++){ct.index>Rt?(It=ct,ct=null):It=ct.sibling;var Pt=P(U,ct,k[Rt],F);if(Pt===null){ct===null&&(ct=It);break}t&&ct&&Pt.alternate===null&&n(U,ct),O=f(Pt,O,Rt),Bt===null?ft=Pt:Bt.sibling=Pt,Bt=Pt,ct=It}if(Rt===k.length)return s(U,ct),Ut&&Di(U,Rt),ft;if(ct===null){for(;Rt<k.length;Rt++)ct=Y(U,k[Rt],F),ct!==null&&(O=f(ct,O,Rt),Bt===null?ft=ct:Bt.sibling=ct,Bt=ct);return Ut&&Di(U,Rt),ft}for(ct=l(ct);Rt<k.length;Rt++)It=H(ct,U,Rt,k[Rt],F),It!==null&&(t&&It.alternate!==null&&ct.delete(It.key===null?Rt:It.key),O=f(It,O,Rt),Bt===null?ft=It:Bt.sibling=It,Bt=It);return t&&ct.forEach(function(ws){return n(U,ws)}),Ut&&Di(U,Rt),ft}function pt(U,O,k,F){if(k==null)throw Error(r(151));for(var ft=null,Bt=null,ct=O,Rt=O=0,It=null,Pt=k.next();ct!==null&&!Pt.done;Rt++,Pt=k.next()){ct.index>Rt?(It=ct,ct=null):It=ct.sibling;var ws=P(U,ct,Pt.value,F);if(ws===null){ct===null&&(ct=It);break}t&&ct&&ws.alternate===null&&n(U,ct),O=f(ws,O,Rt),Bt===null?ft=ws:Bt.sibling=ws,Bt=ws,ct=It}if(Pt.done)return s(U,ct),Ut&&Di(U,Rt),ft;if(ct===null){for(;!Pt.done;Rt++,Pt=k.next())Pt=Y(U,Pt.value,F),Pt!==null&&(O=f(Pt,O,Rt),Bt===null?ft=Pt:Bt.sibling=Pt,Bt=Pt);return Ut&&Di(U,Rt),ft}for(ct=l(ct);!Pt.done;Rt++,Pt=k.next())Pt=H(ct,U,Rt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ct.delete(Pt.key===null?Rt:Pt.key),O=f(Pt,O,Rt),Bt===null?ft=Pt:Bt.sibling=Pt,Bt=Pt);return t&&ct.forEach(function(ET){return n(U,ET)}),Ut&&Di(U,Rt),ft}function Wt(U,O,k,F){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:t:{for(var ft=k.key;O!==null;){if(O.key===ft){if(ft=k.type,ft===tt){if(O.tag===7){s(U,O.sibling),F=c(O,k.props.children),F.return=U,U=F;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&fa(ft)===O.type){s(U,O.sibling),F=c(O,k.props),bl(F,k),F.return=U,U=F;break t}s(U,O);break}else n(U,O);O=O.sibling}k.type===tt?(F=la(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=$o(k.type,k.key,k.props,null,U.mode,F),bl(F,k),F.return=U,U=F)}return g(U);case $:t:{for(ft=k.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(U,O.sibling),F=c(O,k.children||[]),F.return=U,U=F;break t}else{s(U,O);break}else n(U,O);O=O.sibling}F=Wc(k,U.mode,F),F.return=U,U=F}return g(U);case x:return k=fa(k),Wt(U,O,k,F)}if(W(k))return ot(U,O,k,F);if(C(k)){if(ft=C(k),typeof ft!="function")throw Error(r(150));return k=ft.call(k),pt(U,O,k,F)}if(typeof k.then=="function")return Wt(U,O,au(k),F);if(k.$$typeof===mt)return Wt(U,O,eu(U,k),F);ru(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(U,O.sibling),F=c(O,k),F.return=U,U=F):(s(U,O),F=$c(k,U.mode,F),F.return=U,U=F),g(U)):s(U,O)}return function(U,O,k,F){try{Tl=0;var ft=Wt(U,O,k,F);return ir=null,ft}catch(ct){if(ct===nr||ct===iu)throw ct;var Bt=dn(29,ct,null,U.mode);return Bt.lanes=F,Bt.return=U,Bt}finally{}}}var ma=Gm(!0),Qm=Gm(!1),us=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Jo(t),Cm(t,null,s),n}return Zo(t,l,n,s),Jo(t)}function Al(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zr(t,s)}}function dh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mh=!1;function Sl(){if(mh){var t=er;if(t!==null)throw t}}function xl(t,n,s,l){mh=!1;var c=t.updateQueue;us=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var V=E,B=V.next;V.next=null,g===null?f=B:g.next=B,g=V;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=V))}if(f!==null){var Y=c.baseState;g=0,G=B=V=null,E=f;do{var P=E.lane&-536870913,H=P!==E.lane;if(H?(Vt&P)===P:(l&P)===P){P!==0&&P===tr&&(mh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,pt=E;P=n;var Wt=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){Y=ot.call(Wt,Y,P);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,P=typeof ot=="function"?ot.call(Wt,Y,P):ot,P==null)break t;Y=w({},Y,P);break t;case 2:us=!0}}P=E.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[P]:H.push(P))}else H={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=H,V=Y):G=G.next=H,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(V=Y),c.baseState=V,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ps|=g,t.lanes=g,t.memoizedState=Y}}function Fm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ym(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fm(s[t],n)}var sr=j(null),lu=j(0);function Km(t,n){t=Pi,st(lu,t),st(sr,n),Pi=t|n.baseLanes}function gh(){st(lu,Pi),st(sr,sr.current)}function ph(){Pi=lu.current,K(sr),K(lu)}var mn=j(null),Dn=null;function fs(t){var n=t.alternate;st(de,de.current&1),st(mn,t),Dn===null&&(n===null||sr.current!==null||n.memoizedState!==null)&&(Dn=t)}function yh(t){st(de,de.current),st(mn,t),Dn===null&&(Dn=t)}function Xm(t){t.tag===22?(st(de,de.current),st(mn,t),Dn===null&&(Dn=t)):ds()}function ds(){st(de,de.current),st(mn,mn.current)}function gn(t){K(mn),Dn===t&&(Dn=null),K(de)}var de=j(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sf(s)||xf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,xt=null,Jt=null,be=null,uu=!1,ar=!1,ga=!1,cu=0,wl=0,rr=null,cE=0;function ue(){throw Error(r(321))}function _h(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fn(t[s],n[s]))return!1;return!0}function vh(t,n,s,l,c,f){return Oi=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Ig:Mh,ga=!1,f=s(l,c),ga=!1,ar&&(f=Jm(n,s,l,c)),Zm(t),f}function Zm(t){z.H=Nl;var n=Jt!==null&&Jt.next!==null;if(Oi=0,be=Jt=xt=null,uu=!1,wl=0,rr=null,n)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&tu(t)&&(Ae=!0))}function Jm(t,n,s,l){xt=t;var c=0;do{if(ar&&(rr=null),wl=0,ar=!1,25<=c)throw Error(r(301));if(c+=1,be=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Og,f=n(s,l)}while(ar);return f}function hE(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(xt.flags|=1024),n}function Eh(){var t=cu!==0;return cu=0,t}function Th(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function bh(t){if(uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uu=!1}Oi=0,be=Jt=xt=null,ar=!1,wl=cu=0,rr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?xt.memoizedState=be=t:be=be.next=t,be}function me(){if(Jt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=be===null?xt.memoizedState:be.next;if(n!==null)be=n,Jt=t;else{if(t===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},be===null?xt.memoizedState=be=t:be=be.next=t}return be}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=wl;return wl+=1,rr===null&&(rr=[]),t=Pm(rr,t,n),n=xt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Ig:Mh),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===mt)return Be(t)}throw Error(r(438,String(t)))}function Ah(t){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=hu(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=N;return n.index++,s}function Mi(t,n){return typeof n=="function"?n(t):n}function du(t){var n=me();return Sh(n,Jt,t)}function Sh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,V=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Vt&Y)===Y:(Oi&Y)===Y){var P=B.revertLane;if(P===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===tr&&(G=!0);else if((Oi&P)===P){B=B.next,P===tr&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},V===null?(E=V=Y,g=f):V=V.next=Y,xt.lanes|=P,ps|=P;Y=B.action,ga&&s(f,Y),f=B.hasEagerState?B.eagerState:s(f,Y)}else P={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},V===null?(E=V=P,g=f):V=V.next=P,xt.lanes|=Y,ps|=Y;B=B.next}while(B!==null&&B!==n);if(V===null?g=f:V.next=E,!fn(f,t.memoizedState)&&(Ae=!0,G&&(s=er,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=V,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xh(t){var n=me(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function $m(t,n,s){var l=xt,c=me(),f=Ut;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Jt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,Ch(eg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(l.flags|=2048,lr(9,{destroy:void 0},tg.bind(null,l,c,s,n),null),te===null)throw Error(r(349));f||(Oi&127)!==0||Wm(l,n,s)}return s}function Wm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=hu(),xt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function tg(t,n,s,l){n.value=s,n.getSnapshot=l,ng(n)&&ig(t)}function eg(t,n,s){return s(function(){ng(n)&&ig(t)})}function ng(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fn(t,s)}catch{return!0}}function ig(t){var n=ra(t,2);n!==null&&rn(n,t,2)}function wh(t){var n=$e();if(typeof t=="function"){var s=t;if(t=s(),ga){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function sg(t,n,s,l){return t.baseState=s,Sh(t,Jt,typeof l=="function"?l:Mi)}function fE(t,n,s,l,c){if(pu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ag(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ag(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var E=s(c,l),V=z.S;V!==null&&V(g,E),rg(t,n,E)}catch(B){Rh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=s(c,l),rg(t,n,f)}catch(B){Rh(t,n,B)}}function rg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lg(t,n,l)},function(l){return Rh(t,n,l)}):lg(t,n,s)}function lg(t,n,s){n.status="fulfilled",n.value=s,og(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ag(t,s)))}function Rh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==l)}t.action=null}function og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ug(t,n){return n}function cg(t,n){if(Ut){var s=te.formState;if(s!==null){t:{var l=xt;if(Ut){if(ie){e:{for(var c=ie,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=Vn(c.nextSibling),l=c.data==="F!";break t}}ls(l)}l=!1}l&&(n=s[0])}}return s=$e(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},s.queue=l,s=Ng.bind(null,xt,l),l.dispatch=s,l=wh(!1),f=Oh.bind(null,xt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=fE.bind(null,xt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function hg(t){var n=me();return fg(n,Jt,t)}function fg(t,n,s){if(n=Sh(t,n,ug)[0],t=du(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(g){throw g===nr?iu:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,lr(9,{destroy:void 0},dE.bind(null,c,s),null)),[l,f,t]}function dE(t,n){t.action=n}function dg(t){var n=me(),s=Jt;if(s!==null)return fg(n,s,t);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function lr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=hu(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function mg(){return me().memoizedState}function mu(t,n,s,l){var c=$e();xt.flags|=t,c.memoizedState=lr(1|n,{destroy:void 0},s,l===void 0?null:l)}function gu(t,n,s,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&_h(l,Jt.memoizedState.deps)?c.memoizedState=lr(n,f,s,l):(xt.flags|=t,c.memoizedState=lr(1|n,f,s,l))}function gg(t,n){mu(8390656,8,t,n)}function Ch(t,n){gu(2048,8,t,n)}function mE(t){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=hu(),xt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function pg(t){var n=me().memoizedState;return mE({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function yg(t,n){return gu(4,2,t,n)}function _g(t,n){return gu(4,4,t,n)}function vg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Eg(t,n,s){s=s!=null?s.concat([t]):null,gu(4,4,vg.bind(null,n,t),s)}function Nh(){}function Tg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function bg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Dh(t,n,s){return s===void 0||(Oi&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ap(),xt.lanes|=t,ps|=t,s)}function Ag(t,n,s,l){return fn(s,n)?s:sr.current!==null?(t=Dh(t,s,l),fn(t,n)||(Ae=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Vt&261930)===0?(Ae=!0,t.memoizedState=s):(t=Ap(),xt.lanes|=t,ps|=t,n)}function Sg(t,n,s,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=z.T,E={};z.T=E,Oh(t,!1,n,s);try{var V=c(),B=z.S;if(B!==null&&B(E,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var G=uE(V,l);Cl(t,n,G,_n(t))}else Cl(t,n,l,_n(t))}catch(Y){Cl(t,n,{then:function(){},status:"rejected",reason:Y},_n())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),z.T=g}}function gE(){}function Vh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=xg(t).queue;Sg(t,c,n,ut,s===null?gE:function(){return wg(t),s(l)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),Cl(t,n.next.queue,{},_n())}function Ih(){return Be(Ql)}function Rg(){return me().memoizedState}function Cg(){return me().memoizedState}function pE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();t=cs(s);var l=hs(n,t,s);l!==null&&(rn(l,n,s),Al(l,n,s)),n={cache:lh()},t.payload=n;return}n=n.return}}function yE(t,n,s){var l=_n();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pu(t)?Dg(n,s):(s=Zc(t,n,s,l),s!==null&&(rn(s,t,l),Vg(s,n,l)))}function Ng(t,n,s){var l=_n();Cl(t,n,s,l)}function Cl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Zo(t,n,c,0),te===null&&Xo(),!1}catch{}finally{}if(s=Zc(t,n,c,l),s!==null)return rn(s,t,l),Vg(s,n,l),!0}return!1}function Oh(t,n,s,l){if(l={lane:2,revertLane:ff(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(n)throw Error(r(479))}else n=Zc(t,s,l,2),n!==null&&rn(n,t,2)}function pu(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function Dg(t,n){ar=uu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Vg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Zr(t,s)}}var Nl={readContext:Be,use:fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Nl.useEffectEvent=ue;var Ig={readContext:Be,use:fu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:gg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,mu(4194308,4,vg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return mu(4194308,4,t,n)},useInsertionEffect:function(t,n){mu(4,2,t,n)},useMemo:function(t,n){var s=$e();n=n===void 0?null:n;var l=t();if(ga){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=$e();if(s!==void 0){var c=s(n);if(ga){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=yE.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,s=Ng.bind(null,xt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Nh,useDeferredValue:function(t,n){var s=$e();return Dh(s,t,n)},useTransition:function(){var t=wh(!1);return t=Sg.bind(null,xt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=xt,c=$e();if(Ut){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(Vt&127)!==0||Wm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,gg(eg.bind(null,l,f,t),[t]),l.flags|=2048,lr(9,{destroy:void 0},tg.bind(null,l,f,s,n),null),s},useId:function(){var t=$e(),n=te.identifierPrefix;if(Ut){var s=pi,l=gi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=cu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=cE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:cg,useActionState:cg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Oh.bind(null,xt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return $e().memoizedState=pE.bind(null,xt)},useEffectEvent:function(t){var n=$e(),s={impl:t};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Mh={readContext:Be,use:fu,useCallback:Tg,useContext:Be,useEffect:Ch,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:du,useRef:mg,useState:function(){return du(Mi)},useDebugValue:Nh,useDeferredValue:function(t,n){var s=me();return Ag(s,Jt.memoizedState,t,n)},useTransition:function(){var t=du(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Ih,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var s=me();return sg(s,Jt,t,n)},useMemoCache:Ah,useCacheRefresh:Cg};Mh.useEffectEvent=pg;var Og={readContext:Be,use:fu,useCallback:Tg,useContext:Be,useEffect:Ch,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:xh,useRef:mg,useState:function(){return xh(Mi)},useDebugValue:Nh,useDeferredValue:function(t,n){var s=me();return Jt===null?Dh(s,t,n):Ag(s,Jt.memoizedState,t,n)},useTransition:function(){var t=xh(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:$m,useId:Rg,useHostTransitionStatus:Ih,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var s=me();return Jt!==null?sg(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Cg};Og.useEffectEvent=pg;function jh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Uh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=_n(),c=cs(l);c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=_n(),c=cs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=hs(t,c,l),n!==null&&(rn(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=_n(),l=cs(s);l.tag=2,n!=null&&(l.callback=n),n=hs(t,l,s),n!==null&&(rn(n,t,s),Al(n,t,s))}};function Mg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!gl(s,l)||!gl(c,f):!0}function jg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function pa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Ug(t){Ko(t)}function zg(t){console.error(t)}function Lg(t){Ko(t)}function yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function kg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zh(t,n,s){return s=cs(s),s.tag=3,s.payload={element:null},s.callback=function(){yu(t,n)},s}function Bg(t){return t=cs(t),t.tag=3,t}function Pg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){kg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){kg(n,s,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _E(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Wa(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Nu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===su?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return s.flags|=65536,l===su?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),uf(t,l,c)),!1}throw Error(r(435,s.tag))}return uf(t,l,c),Nu(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==nh&&(t=Error(r(422),{cause:l}),_l(wn(t,s)))):(l!==nh&&(n=Error(r(423),{cause:l}),_l(wn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,s),c=zh(t.stateNode,l,c),dh(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=wn(f,s),zl===null?zl=[f]:zl.push(f),ce!==4&&(ce=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=zh(s.stateNode,l,t),dh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Bg(c),Pg(c,t,s,l),dh(s,c),!1}s=s.return}while(s!==null);return!1}var Lh=Error(r(461)),Ae=!1;function Pe(t,n,s,l){n.child=t===null?Qm(n,null,s,l):ma(n,t.child,s,l)}function qg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ca(n),l=vh(t,n,s,g,f,c),E=Eh(),t!==null&&!Ae?(Th(t,n,c),ji(t,n,c)):(Ut&&E&&th(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Hg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gg(t,n,f,l,c)):(t=$o(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Fh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(g,l)&&t.ref===n.ref)return ji(t,n,c)}return n.flags|=1,t=Ni(f,l),t.ref=n.ref,t.return=n,n.child=t}function Gg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Fh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,ji(t,n,c)}return kh(t,n,s,l,c)}function Qg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Fg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,f!==null?f.cachePool:null),f!==null?Km(n,f):gh(),Xm(n);else return l=n.lanes=536870912,Fg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(nu(n,f.cachePool),Km(n,f),ds(),n.memoizedState=null):(t!==null&&nu(n,null),gh(),ds());return Pe(t,n,c,s),n.child}function Dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(t,n,s,l,c){var f=uh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&nu(n,null),gh(),Xm(n),t!==null&&Wa(t,n,l,!0),n.childLanes=c,null}function _u(t,n){return n=Eu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Yg(t,n,s){return ma(n,t.child,null,s),t=_u(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function vE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=_u(n,l),n.lanes=536870912,Dl(null,t);if(yh(n),(t=ie)?(t=ay(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Dm(t),s.return=n,n.child=s,ke=n,ie=null)):t=null,t===null)throw ls(n);return n.lanes=536870912,null}return _u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(yh(n),c)if(n.flags&256)n.flags&=-257,n=Yg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||Wa(t,n,s,!1),c=(s&t.childLanes)!==0,Ae||c){if(l=te,l!==null&&(g=Jr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ra(t,g),rn(l,t,g),Lh;Nu(),n=Yg(t,n,s)}else t=f.treeContext,ie=Vn(g.nextSibling),ke=n,Ut=!0,rs=null,Nn=!1,t!==null&&Om(n,t),n=_u(n,l),n.flags|=4096;return n}return t=Ni(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function vu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function kh(t,n,s,l,c){return ca(n),s=vh(t,n,s,l,void 0,c),l=Eh(),t!==null&&!Ae?(Th(t,n,c),ji(t,n,c)):(Ut&&l&&th(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Kg(t,n,s,l,c,f){return ca(n),n.updateQueue=null,s=Jm(n,l,s,c),Zm(t),l=Eh(),t!==null&&!Ae?(Th(t,n,f),ji(t,n,f)):(Ut&&l&&th(n),n.flags|=1,Pe(t,n,s,f),n.child)}function Xg(t,n,s,l,c){if(ca(n),n.stateNode===null){var f=Xa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Xa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(jh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uh.enqueueReplaceState(f,f.state,null),xl(n,l,f,c),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,V=pa(s,E);f.props=V;var B=f.context,G=s.contextType;g=Xa,typeof G=="object"&&G!==null&&(g=Be(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&jg(n,f,l,g),us=!1;var P=n.memoizedState;f.state=P,xl(n,l,f,c),Sl(),B=n.memoizedState,E||P!==B||us?(typeof Y=="function"&&(jh(n,s,Y,l),B=n.memoizedState),(V=us||Mg(n,s,V,l,P,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=V):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),g=n.memoizedProps,G=pa(s,g),f.props=G,Y=n.pendingProps,P=f.context,B=s.contextType,V=Xa,typeof B=="object"&&B!==null&&(V=Be(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||P!==V)&&jg(n,f,l,V),us=!1,P=n.memoizedState,f.state=P,xl(n,l,f,c),Sl();var H=n.memoizedState;g!==Y||P!==H||us||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof E=="function"&&(jh(n,s,E,l),H=n.memoizedState),(G=us||Mg(n,s,G,l,P,H,V)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,V),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,V)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=V,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,vu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ma(n,t.child,null,c),n.child=ma(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=ji(t,n,c),t}function Zg(t,n,s,l){return oa(),n.flags|=256,Pe(t,n,s,l),n.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:km()}}function qh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=yn),t}function Jg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?fs(n):ds(),(t=ie)?(t=ay(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:as!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Dm(t),s.return=n,n.child=s,ke=n,ie=null)):t=null,t===null)throw ls(n);return xf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ds(),c=n.mode,E=Eu({mode:"hidden",children:E},c),l=la(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ph(s),l.childLanes=qh(t,g,s),n.memoizedState=Bh,Dl(null,l)):(fs(n),Hh(n,E))}var V=t.memoizedState;if(V!==null&&(E=V.dehydrated,E!==null)){if(f)n.flags&256?(fs(n),n.flags&=-257,n=Gh(t,n,s)):n.memoizedState!==null?(ds(),n.child=t.child,n.flags|=128,n=null):(ds(),E=l.fallback,c=n.mode,l=Eu({mode:"visible",children:l.children},c),E=la(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ma(n,t.child,null,s),l=n.child,l.memoizedState=Ph(s),l.childLanes=qh(t,g,s),n.memoizedState=Bh,n=Dl(null,l));else if(fs(n),xf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,_l({value:l,source:null,stack:null}),n=Gh(t,n,s)}else if(Ae||Wa(t,n,s,!1),g=(s&t.childLanes)!==0,Ae||g){if(g=te,g!==null&&(l=Jr(g,s),l!==0&&l!==V.retryLane))throw V.retryLane=l,ra(t,l),rn(g,t,l),Lh;Sf(E)||Nu(),n=Gh(t,n,s)}else Sf(E)?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,ie=Vn(E.nextSibling),ke=n,Ut=!0,rs=null,Nn=!1,t!==null&&Om(n,t),n=Hh(n,l.children),n.flags|=4096);return n}return c?(ds(),E=l.fallback,c=n.mode,V=t.child,B=V.sibling,l=Ni(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,B!==null?E=Ni(B,E):(E=la(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Dl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ph(s):(c=E.cachePool,c!==null?(V=Te._currentValue,c=c.parent!==V?{parent:V,pool:V}:c):c=km(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=qh(t,g,s),n.memoizedState=Bh,Dl(t.child,l)):(fs(n),s=t.child,t=s.sibling,s=Ni(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Hh(t,n){return n=Eu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Eu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Gh(t,n,s){return ma(n,t.child,null,s),t=Hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ah(t.return,n,s)}function Qh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Wg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(de,g),Pe(t,n,l,s),l=Ut?yl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,s,n);else if(t.tag===19)$g(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&ou(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Qh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Qh(n,!0,s,null,f,l);break;case"together":Qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ps|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Wa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ni(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ni(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function EE(t,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),os(n,Te,t.memoizedState.cache),oa();break;case 27:case 5:qs(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jg(t,n,s):(fs(n),t=ji(t,n,s),t!==null?t.sibling:null);fs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Wa(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Wg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(de,de.current),l)break;return null;case 22:return n.lanes=0,Qg(t,n,s,n.pendingProps);case 24:os(n,Te,t.memoizedState.cache)}return ji(t,n,s)}function tp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Fh(t,s)&&(n.flags&128)===0)return Ae=!1,EE(t,n,s);Ae=(t.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&Im(n,yl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=fa(n.elementType),n.type=t,typeof t=="function")Jc(t)?(l=pa(t,l),n.tag=1,n=Xg(null,n,t,l,s)):(n.tag=0,n=kh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===At){n.tag=11,n=qg(null,n,t,l,s);break t}else if(c===D){n.tag=14,n=Hg(null,n,t,l,s);break t}}throw n=it(t)||t,Error(r(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=pa(l,n.pendingProps),Xg(t,n,l,c,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),xl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,os(n,Te,l),l!==f.cache&&rh(n,[Te],s,!0),Sl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(t,n,l,s);break t}else if(l!==c){c=wn(Error(r(424)),n),_l(c),n=Zg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=Vn(t.firstChild),ke=n,Ut=!0,rs=null,Nn=!0,s=Qm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oa(),l===c){n=ji(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return vu(t,n),t===null?(s=hy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,t=n.pendingProps,l=Uu(wt.current).createElement(s),l[_e]=n,l[Oe]=t,qe(l,s,t),ve(l),n.stateNode=l):n.memoizedState=hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qs(n),t===null&&Ut&&(l=n.stateNode=oy(n.type,n.pendingProps,wt.current),ke=n,Nn=!0,c=ie,Ts(n.type)?(wf=c,ie=Vn(l.firstChild)):ie=c),Pe(t,n,n.pendingProps.children,s),vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ie)&&(l=ZE(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,ke=n,ie=Vn(l.firstChild),Nn=!1,c=!0):c=!1),c||ls(n)),qs(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:g!==null&&Tf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,hE,null,null,s),Ql._currentValue=c),vu(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&Ut&&((t=s=ie)&&(s=JE(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ke=n,ie=null,t=!0):t=!1),t||ls(n)),null;case 13:return Jg(t,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ma(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return qg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,os(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=Be(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Hg(t,n,n.type,n.pendingProps,s);case 15:return Gg(t,n,n.type,n.pendingProps,s);case 19:return Wg(t,n,s);case 31:return vE(t,n,s);case 22:return Qg(t,n,s,n.pendingProps);case 24:return ca(n),l=Be(Te),t===null?(c=uh(),c===null&&(c=te,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},hh(n),os(n,Te,c)):((t.lanes&s)!==0&&(fh(t,n),xl(n,null,null,s),Sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),os(n,Te,l)):(l=f.cache,os(n,Te,l),l!==c.cache&&rh(n,[Te],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ui(t){t.flags|=4}function Yh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Rp())t.flags|=8192;else throw da=su,ch}else t.flags&=-16777217}function ep(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!py(n))if(Rp())t.flags|=8192;else throw da=su,ch}function Tu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ro():536870912,t.lanes|=n,hr|=n)}function Vl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function TE(t,n,s){var l=n.pendingProps;switch(eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Te),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($a(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(se(n),ep(n,f)):(se(n),Yh(n,c,null,l,s))):f?f!==t.memoizedState?(Ui(n),se(n),ep(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),se(n),Yh(n,c,t,l,s)),null;case 27:if(Da(n),s=wt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}t=lt.current,$a(n)?Mm(n):(t=oy(c,l,s),n.stateNode=t,Ui(n))}return se(n),null;case 5:if(Da(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=lt.current,$a(n))Mm(n);else{var g=Uu(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return se(n),Yh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=wt.current,$a(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Jp(t.nodeValue,s)),t||ls(n,!0)}else t=Uu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return se(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=$a(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else s=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$a(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Tu(n,n.updateQueue),se(n),null);case 4:return ae(),t===null&&pf(n.stateNode.containerInfo),se(n),null;case 10:return Ii(n.type),se(n),null;case 19:if(K(de),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Vl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ou(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Tu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Nm(s,t),s=s.sibling;return st(de,de.current&1|2),Ut&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>wu&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=ou(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Tu(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return se(n),null}else 2*Ze()-l.renderingStartTime>wu&&s!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=de.current,st(de,c?s&1|2:s&1),Ut&&Di(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return gn(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Tu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(Te),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function bE(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Da(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(de),null;case 4:return ae(),null;case 10:return Ii(n.type),null;case 22:case 23:return gn(n),ph(),t!==null&&K(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function np(t,n){switch(eh(n),n.tag){case 3:Ii(Te),ae();break;case 26:case 27:case 5:Da(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(de);break;case 10:Ii(n.type);break;case 22:case 23:gn(n),ph(),t!==null&&K(ha);break;case 24:Ii(Te)}}function Il(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Xt(n,n.return,E)}}function ms(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var V=s,B=E;try{B()}catch(G){Xt(c,V,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function ip(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Ym(n,s)}catch(l){Xt(t,t.return,l)}}}function sp(t,n,s){s.props=pa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Ol(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Xt(t,n,c)}}function yi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function ap(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function Kh(t,n,s){try{var l=t.stateNode;GE(l,t.type,s,n),l[Oe]=n}catch(c){Xt(t,t.return,c)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ts(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,s),t=t.sibling;t!==null;)Zh(t,n,s),t=t.sibling}function bu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(bu(t,n,s),t=t.sibling;t!==null;)bu(t,n,s),t=t.sibling}function lp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[_e]=t,n[Oe]=s}catch(f){Xt(t,t.return,f)}}var zi=!1,Se=!1,Jh=!1,op=typeof WeakSet=="function"?WeakSet:Set,je=null;function AE(t,n){if(t=t.containerInfo,vf=Hu,t=Em(t),Gc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,V=-1,B=0,G=0,Y=t,P=null;e:for(;;){for(var H;Y!==s||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(V=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)P=Y,Y=H;for(;;){if(Y===t)break e;if(P===s&&++B===c&&(E=g),P===f&&++G===l&&(V=g),(H=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=H}s=E===-1||V===-1?null:{start:E,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ef={focusedElem:t,selectionRange:s},Hu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=pa(s.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Xt(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Af(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function up(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ki(t,s),l&4&&Il(5,s);break;case 1:if(ki(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var c=pa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}l&64&&ip(s),l&512&&Ol(s,s.return);break;case 3:if(ki(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ym(t,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&l&4&&lp(s);case 26:case 5:ki(t,s),n===null&&l&4&&ap(s),l&512&&Ol(s,s.return);break;case 12:ki(t,s);break;case 31:ki(t,s),l&4&&fp(t,s);break;case 13:ki(t,s),l&4&&dp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=IE.bind(null,s),$E(t,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=l,(Se=n)&&!f?Bi(t,s,(s.subtreeFlags&8772)!==0):ki(t,s),zi=c,Se=f}break;case 30:break;default:ki(t,s)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ja(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function Li(t,n,s){for(s=s.child;s!==null;)hp(t,n,s),s=s.sibling}function hp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:Se||yi(s,n),Li(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||yi(s,n);var l=le,c=en;Ts(s.type)&&(le=s.stateNode,en=!1),Li(t,n,s),ql(s.stateNode),le=l,en=c;break;case 5:Se||yi(s,n);case 6:if(l=le,c=en,le=null,Li(t,n,s),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:le!==null&&(en?(t=le,iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),vr(t)):iy(le,s.stateNode));break;case 4:l=le,c=en,le=s.stateNode.containerInfo,en=!0,Li(t,n,s),le=l,en=c;break;case 0:case 11:case 14:case 15:ms(2,s,n),Se||ms(4,s,n),Li(t,n,s);break;case 1:Se||(yi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sp(s,n,l)),Li(t,n,s);break;case 21:Li(t,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Li(t,n,s),Se=l;break;default:Li(t,n,s)}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{vr(t)}catch(s){Xt(n,n.return,s)}}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{vr(t)}catch(s){Xt(n,n.return,s)}}function SE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new op),n;default:throw Error(r(435,t.tag))}}function Au(t,n){var s=SE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=OE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ts(E.type)){le=E.stateNode,en=!1;break t}break;case 5:le=E.stateNode,en=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(le===null)throw Error(r(160));hp(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var Gn=null;function mp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),sn(t),l&4&&(ms(3,t,t.return),Il(3,t),ms(5,t,t.return));break;case 1:nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=my("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=my("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else gy(c,t.type,t.stateNode);else t.stateNode=dy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?gy(c,t.type,t.stateNode):dy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,s.memoizedProps)}break;case 27:nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),s!==null&&l&4&&Kh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nn(n,t),sn(t),l&512&&(Se||s===null||yi(s,s.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(ot){Xt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(nn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ot){Xt(t,t.return,ot)}}break;case 3:if(ku=null,c=Gn,Gn=zu(n.containerInfo),nn(n,t),Gn=c,sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{vr(n.containerInfo)}catch(ot){Xt(t,t.return,ot)}Jh&&(Jh=!1,gp(t));break;case 4:l=Gn,Gn=zu(t.stateNode.containerInfo),nn(n,t),sn(t),Gn=l;break;case 12:nn(n,t),sn(t);break;case 31:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 13:nn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 22:c=t.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,B=zi,G=Se;if(zi=B||c,Se=G||V,nn(n,t),Se=G,zi=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||V||zi||Se||ya(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){V=s=n;try{if(f=V.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=V.stateNode;var Y=V.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ot){Xt(V,V.return,ot)}}}else if(n.tag===6){if(s===null){V=n;try{V.stateNode.nodeValue=c?"":V.memoizedProps}catch(ot){Xt(V,V.return,ot)}}}else if(n.tag===18){if(s===null){V=n;try{var H=V.stateNode;c?sy(H,!0):sy(V.stateNode,!1)}catch(ot){Xt(V,V.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Au(t,s))));break;case 19:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Au(t,l)));break;case 30:break;case 21:break;default:nn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(rp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Xh(t);bu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(tn(g,""),s.flags&=-33);var E=Xh(t);bu(t,E,g);break;case 3:case 4:var V=s.stateNode.containerInfo,B=Xh(t);Zh(t,B,V);break;default:throw Error(r(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ms(4,n,n.return),ya(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sp(n,n.return,s),ya(n);break;case 27:ql(n.stateNode);case 26:case 5:yi(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}t=t.sibling}}function Bi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,s),Il(4,f);break;case 1:if(Bi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var V=c.shared.hiddenCallbacks;if(V!==null)for(c.shared.hiddenCallbacks=null,c=0;c<V.length;c++)Fm(V[c],E)}catch(B){Xt(l,l.return,B)}}s&&g&64&&ip(f),Ol(f,f.return);break;case 27:lp(f);case 26:case 5:Bi(c,f,s),s&&l===null&&g&4&&ap(f),Ol(f,f.return);break;case 12:Bi(c,f,s);break;case 31:Bi(c,f,s),s&&g&4&&fp(c,f);break;case 13:Bi(c,f,s),s&&g&4&&dp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,s),Ol(f,f.return);break;case 30:break;default:Bi(c,f,s)}n=n.sibling}}function $h(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&vl(s))}function Wh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t))}function Qn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,s,l),n=n.sibling}function pp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,s,l),c&2048&&Il(9,n);break;case 1:Qn(t,n,s,l);break;case 3:Qn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vl(t)));break;case 12:if(c&2048){Qn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Xt(n,n.return,V)}}else Qn(t,n,s,l);break;case 31:Qn(t,n,s,l);break;case 13:Qn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,s,l):Ml(t,n):f._visibility&2?Qn(t,n,s,l):(f._visibility|=2,or(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$h(g,n);break;case 24:Qn(t,n,s,l),c&2048&&Wh(n.alternate,n);break;default:Qn(t,n,s,l)}}function or(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,V=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:or(f,g,E,V,c),Il(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?or(f,g,E,V,c):Ml(f,g):(G._visibility|=2,or(f,g,E,V,c)),c&&B&2048&&$h(g.alternate,g);break;case 24:or(f,g,E,V,c),c&&B&2048&&Wh(g.alternate,g);break;default:or(f,g,E,V,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(s,l),c&2048&&$h(l.alternate,l);break;case 24:Ml(s,l),c&2048&&Wh(l.alternate,l);break;default:Ml(s,l)}n=n.sibling}}var jl=8192;function ur(t,n,s){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)yp(t,n,s),t=t.sibling}function yp(t,n,s){switch(t.tag){case 26:ur(t,n,s),t.flags&jl&&t.memoizedState!==null&&cT(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:ur(t,n,s);break;case 3:case 4:var l=Gn;Gn=zu(t.stateNode.containerInfo),ur(t,n,s),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,ur(t,n,s),jl=l):ur(t,n,s));break;default:ur(t,n,s)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&ms(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Su(t)):Ul(t);break;default:Ul(t)}}function Su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ms(8,n,n.return),Su(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Su(n));break;default:Su(n)}t=t.sibling}}function Ep(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(cp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var xE={getCacheForType:function(t){var n=Be(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},wE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Nt=null,Vt=0,Kt=0,pn=null,gs=!1,cr=!1,tf=!1,Pi=0,ce=0,ps=0,_a=0,ef=0,yn=0,hr=0,zl=null,an=null,nf=!1,xu=0,Tp=0,wu=1/0,Ru=null,ys=null,Ve=0,_s=null,fr=null,qi=0,sf=0,af=null,bp=null,Ll=0,rf=null;function _n(){return(Gt&2)!==0&&Vt!==0?Vt&-Vt:z.T!==null?ff():Co()}function Ap(){if(yn===0)if((Vt&536870912)===0||Ut){var t=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function rn(t,n,s){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(dr(t,0),vs(t,Vt,yn,!1)),Fs(t,s),((Gt&2)===0||t!==te)&&(t===te&&((Gt&2)===0&&(_a|=s),ce===4&&vs(t,Vt,yn,!1)),_i(t))}function Sp(t,n,s){if((Gt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),c=l?NE(t,n):of(t,n,!0),f=l;do{if(c===0){cr&&!l&&vs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RE(s)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=zl;var V=E.current.memoizedState.isDehydrated;if(V&&(dr(E,g).flags|=256),g=of(E,g,!1),g!==2){if(tf&&!V){E.errorRecoveryDisabledLanes|=f,_a|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){dr(t,0),vs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:vs(l,n,yn,!gs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=xu+300-Ze(),10<c)){if(vs(l,n,yn,!gs),ti(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=ey(xp.bind(null,l,s,an,Ru,nf,n,yn,_a,hr,gs,f,"Throttled",-0,0),c);break t}xp(l,s,an,Ru,nf,n,yn,_a,hr,gs,f,null,-0,0)}}break}while(!0);_i(t)}function xp(t,n,s,l,c,f,g,E,V,B,G,Y,P,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},yp(n,f,Y);var ot=(f&62914560)===f?xu-Ze():(f&4194048)===f?Tp-Ze():0;if(ot=hT(Y,ot),ot!==null){qi=f,t.cancelPendingCommit=ot(Op.bind(null,t,n,f,s,l,c,g,E,V,G,Y,null,P,H)),vs(t,f,g,!B);return}}Op(t,n,f,s,l,c,g,E,V)}function RE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vs(t,n,s,l){n&=~ef,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ys(t,s,n)}function Cu(){return(Gt&6)===0?(kl(0),!1):!0}function lf(){if(Nt!==null){if(Kt===0)var t=Nt.return;else t=Nt,Vi=ua=null,bh(t),ir=null,Tl=0,t=Nt;for(;t!==null;)np(t.alternate,t),t=t.return;Nt=null}}function dr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,YE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,lf(),te=t,Nt=s=Ni(t.current,null),Vt=n,Kt=0,pn=null,gs=!1,cr=jn(t,n),tf=!1,hr=yn=ef=_a=ps=ce=0,an=zl=null,nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,Xo(),s}function wp(t,n){xt=null,z.H=Nl,n===nr||n===iu?(n=qm(),Kt=3):n===ch?(n=qm(),Kt=4):Kt=n===Lh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Nt===null&&(ce=1,yu(t,wn(n,t.current)))}function Rp(){var t=mn.current;return t===null?!0:(Vt&4194048)===Vt?Dn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===Dn:!1}function Cp(){var t=z.H;return z.H=Nl,t===null?Nl:t}function Np(){var t=z.A;return z.A=xE,t}function Nu(){ce=4,gs||(Vt&4194048)!==Vt&&mn.current!==null||(cr=!0),(ps&134217727)===0&&(_a&134217727)===0||te===null||vs(te,Vt,yn,!1)}function of(t,n,s){var l=Gt;Gt|=2;var c=Cp(),f=Np();(te!==t||Vt!==n)&&(Ru=null,dr(t,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,V=pn;switch(Kt){case 8:lf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var B=Kt;if(Kt=0,pn=null,mr(t,E,V,B),s&&cr){g=0;break t}break;default:B=Kt,Kt=0,pn=null,mr(t,E,V,B)}}CE(),g=ce;break}catch(G){wp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Vi=ua=null,Gt=l,z.H=c,z.A=f,Nt===null&&(te=null,Vt=0,Xo()),g}function CE(){for(;Nt!==null;)Dp(Nt)}function NE(t,n){var s=Gt;Gt|=2;var l=Cp(),c=Np();te!==t||Vt!==n?(Ru=null,wu=Ze()+500,dr(t,n)):cr=jn(t,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=pn;e:switch(Kt){case 1:Kt=0,pn=null,mr(t,n,f,1);break;case 2:case 9:if(Bm(f)){Kt=0,pn=null,Vp(n);break}n=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),_i(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Bm(f)?(Kt=0,pn=null,Vp(n)):(Kt=0,pn=null,mr(t,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?py(g):E.stateNode.complete){Kt=0,pn=null;var V=E.sibling;if(V!==null)Nt=V;else{var B=E.return;B!==null?(Nt=B,Du(B)):Nt=null}break e}}Kt=0,pn=null,mr(t,n,f,5);break;case 6:Kt=0,pn=null,mr(t,n,f,6);break;case 8:lf(),ce=6;break t;default:throw Error(r(462))}}DE();break}catch(G){wp(t,G)}while(!0);return Vi=ua=null,z.H=l,z.A=c,Gt=s,Nt!==null?0:(te=null,Vt=0,Xo(),ce)}function DE(){for(;Nt!==null&&!zc();)Dp(Nt)}function Dp(t){var n=tp(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Du(t):Nt=n}function Vp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Kg(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Kg(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:bh(n);default:np(s,n),n=Nt=Nm(n,Pi),n=tp(s,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Du(t):Nt=n}function mr(t,n,s,l){Vi=ua=null,bh(n),ir=null,Tl=0;var c=n.return;try{if(_E(t,c,n,s,Vt)){ce=1,yu(t,wn(s,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ce=1,yu(t,wn(s,t.current)),Nt=null;return}n.flags&32768?(Ut||l===1?t=!0:cr||(Vt&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ip(n,t)):Du(n)}function Du(t){var n=t;do{if((n.flags&32768)!==0){Ip(n,gs);return}t=n.return;var s=TE(n.alternate,n,Pi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ce===0&&(ce=5)}function Ip(t,n){do{var s=bE(t.alternate,t);if(s!==null){s.flags&=32767,Nt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=s}while(t!==null);ce=6,Nt=null}function Op(t,n,s,l,c,f,g,E,V){t.cancelPendingCommit=null;do Vu();while(Ve!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xc,Bc(t,s,f,g,E,V),t===te&&(Nt=te=null,Vt=0),fr=n,_s=t,qi=s,sf=f,af=c,bp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ME(Xi,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=J.p,J.p=2,g=Gt,Gt|=4;try{AE(t,n,s)}finally{Gt=g,J.p=c,z.T=l}}Ve=1,Mp(),jp(),Up()}}function Mp(){if(Ve===1){Ve=0;var t=_s,n=fr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=J.p;J.p=2;var c=Gt;Gt|=4;try{mp(n,t);var f=Ef,g=Em(t.containerInfo),E=f.focusedElem,V=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(V!==null&&Gc(E)){var B=V.start,G=V.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var H=P.getSelection(),ot=E.textContent.length,pt=Math.min(V.start,ot),Wt=V.end===void 0?pt:Math.min(V.end,ot);!H.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var U=_m(E,pt),O=_m(E,Wt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=Y.createRange();k.setStart(U.node,U.offset),H.removeAllRanges(),pt>Wt?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Hu=!!vf,Ef=vf=null}finally{Gt=c,J.p=l,z.T=s}}t.current=n,Ve=2}}function jp(){if(Ve===2){Ve=0;var t=_s,n=fr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=J.p;J.p=2;var c=Gt;Gt|=4;try{up(t,n.alternate,n)}finally{Gt=c,J.p=l,z.T=s}}Ve=3}}function Up(){if(Ve===4||Ve===3){Ve=0,To();var t=_s,n=fr,s=qi,l=bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,fr=_s=null,zp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),xi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=J.p,J.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{z.T=n,J.p=c}}(qi&3)!==0&&Vu(),_i(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===rf?Ll++:(Ll=0,rf=t):Ll=0,kl(0)}}function zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vl(n)))}function Vu(){return Mp(),jp(),Up(),Lp()}function Lp(){if(Ve!==5)return!1;var t=_s,n=sf;sf=0;var s=xi(qi),l=z.T,c=J.p;try{J.p=32>s?32:s,z.T=null,s=af,af=null;var f=_s,g=qi;if(Ve=0,fr=_s=null,qi=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,vp(f.current),pp(f,f.current,g,s),Gt=E,kl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{J.p=c,z.T=l,zp(t,n)}}function kp(t,n,s){n=wn(s,n),n=zh(t.stateNode,n,2),t=hs(t,n,2),t!==null&&(Fs(t,2),_i(t))}function Xt(t,n,s){if(t.tag===3)kp(t,t,s);else for(;n!==null;){if(n.tag===3){kp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=wn(s,t),s=Bg(2),l=hs(n,s,2),l!==null&&(Pg(s,l,n,t),Fs(l,2),_i(l));break}}n=n.return}}function uf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new wE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(tf=!0,c.add(s),t=VE.bind(null,t,n,s),n.then(t,t))}function VE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Vt&s)===s&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>Ze()-xu?(Gt&2)===0&&dr(t,0):ef|=s,hr===Vt&&(hr=0)),_i(t)}function Bp(t,n){n===0&&(n=Ro()),t=ra(t,n),t!==null&&(Fs(t,n),_i(t))}function IE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Bp(t,s)}function OE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Bp(t,s)}function ME(t,n){return De(t,n)}var Iu=null,gr=null,cf=!1,Ou=!1,hf=!1,Es=0;function _i(t){t!==gr&&t.next===null&&(gr===null?Iu=gr=t:gr=gr.next=t),Ou=!0,cf||(cf=!0,UE())}function kl(t,n){if(!hf&&Ou){hf=!0;do for(var s=!1,l=Iu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gp(l,f))}else f=Vt,f=ti(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,Gp(l,f));l=l.next}while(s);hf=!1}}function jE(){Pp()}function Pp(){Ou=cf=!1;var t=0;Es!==0&&FE()&&(t=Es);for(var n=Ze(),s=null,l=Iu;l!==null;){var c=l.next,f=qp(l,n);f===0?(l.next=null,s===null?Iu=c:s.next=c,c===null&&(gr=s)):(s=l,(t!==0||(f&3)!==0)&&(Ou=!0)),l=c}Ve!==0&&Ve!==5||kl(t),Es!==0&&(Es=0)}function qp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,V=c[g];V===-1?((E&s)===0||(E&l)!==0)&&(c[g]=kc(E,n)):V<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,s=Vt,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),xi(s)){case 2:case 8:s=Xr;break;case 32:s=Xi;break;case 268435456:s=bo;break;default:s=Xi}return l=Hp.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vu()&&t.callbackNode!==s)return null;var l=Vt;return l=ti(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),qp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?Hp.bind(null,t):null)}function Gp(t,n){if(Vu())return null;Sp(t,n,!0)}function UE(){KE(function(){(Gt&6)!==0?De(Kr,jE):Pp()})}function ff(){if(Es===0){var t=tr;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Es=t}return Es}function Qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function Fp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function zE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Qp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Qp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var V=g?Fp(c,g):new FormData(c);Vh(s,{pending:!0,data:V,method:c.method,action:f},null,V)}}else typeof f=="function"&&(E.preventDefault(),V=g?Fp(c,g):new FormData(c),Vh(s,{pending:!0,data:V,method:c.method,action:f},f,V))},currentTarget:c}]})}}for(var df=0;df<Kc.length;df++){var mf=Kc[df],LE=mf.toLowerCase(),kE=mf[0].toUpperCase()+mf.slice(1);Hn(LE,"on"+kE)}Hn(Am,"onAnimationEnd"),Hn(Sm,"onAnimationIteration"),Hn(xm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(eE,"onTransitionRun"),Hn(nE,"onTransitionStart"),Hn(iE,"onTransitionCancel"),Hn(wm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Yp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],V=E.instance,B=E.currentTarget;if(E=E.listener,V!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Ko(G)}c.currentTarget=null,f=V}else for(g=0;g<l.length;g++){if(E=l[g],V=E.instance,B=E.currentTarget,E=E.listener,V!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Ko(G)}c.currentTarget=null,f=V}}}}function Dt(t,n){var s=n[Ma];s===void 0&&(s=n[Ma]=new Set);var l=t+"__bubble";s.has(l)||(Kp(n,t,2,!1),s.add(l))}function gf(t,n,s){var l=0;n&&(l|=4),Kp(s,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Mu]){t[Mu]=!0,$r.forEach(function(s){s!=="selectionchange"&&(BE.has(s)||gf(s,!1,t),gf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,gf("selectionchange",!1,n))}}function Kp(t,n,s,l){switch(Ay(n)){case 2:var c=mT;break;case 8:c=gT;break;default:c=Vf}s=c.bind(null,n,s,t),c=void 0,!$s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function yf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var V=g.tag;if((V===3||V===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(V=g.tag,V===5||V===6||V===26||V===27){l=f=g;continue t}E=E.parentNode}}l=l.return}es(function(){var B=f,G=bn(s),Y=[];t:{var P=Rm.get(t);if(P!==void 0){var H=hi,ot=t;switch(t){case"keypress":if(ta(s)===0)break t;case"keydown":case"keyup":H=Qo;break;case"focusin":ot="focus",H=na;break;case"focusout":ot="blur",H=na;break;case"beforeblur":case"afterblur":H=na;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Am:case Sm:case xm:H=Lo;break;case wm:H=b;break;case"scroll":case"scrollend":H=cl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ci;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,Wt=!pt&&(t==="scroll"||t==="scrollend"),U=pt?P!==null?P+"Capture":null:P;pt=[];for(var O=B,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=kn(O,U),F!=null&&pt.push(Pl(O,F,k))),Wt)break;O=O.return}0<pt.length&&(P=new H(P,ot,null,s,G),Y.push({event:P,listeners:pt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&s!==ll&&(ot=s.relatedTarget||s.fromElement)&&(si(ot)||ot[ni]))break t;if((H||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=B,ot=ot?si(ot):null,ot!==null&&(Wt=h(ot),pt=ot.tag,ot!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(H=null,ot=B),H!==ot)){if(pt=hl,F="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Ci,F="onPointerLeave",U="onPointerEnter",O="pointer"),Wt=H==null?P:cn(H),k=ot==null?P:cn(ot),P=new pt(F,O+"leave",H,s,G),P.target=Wt,P.relatedTarget=k,F=null,si(G)===B&&(pt=new pt(U,O+"enter",ot,s,G),pt.target=k,pt.relatedTarget=Wt,F=pt),Wt=F,H&&ot)e:{for(pt=PE,U=H,O=ot,k=0,F=U;F;F=pt(F))k++;F=0;for(var ft=O;ft;ft=pt(ft))F++;for(;0<k-F;)U=pt(U),k--;for(;0<F-k;)O=pt(O),F--;for(;k--;){if(U===O||O!==null&&U===O.alternate){pt=U;break e}U=pt(U),O=pt(O)}pt=null}else pt=null;H!==null&&Xp(Y,P,H,pt,!1),ot!==null&&Wt!==null&&Xp(Y,Wt,ot,pt,!0)}}t:{if(P=B?cn(B):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Bt=fm;else if(cm(P))if(dm)Bt=$v;else{Bt=Zv;var ct=Xv}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&La(B.elementType)&&(Bt=fm):Bt=Jv;if(Bt&&(Bt=Bt(t,B))){hm(Y,Bt,s,G);break t}ct&&ct(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&sl(P,"number",P.value)}switch(ct=B?cn(B):window,t){case"focusin":(cm(ct)||ct.contentEditable==="true")&&(Fa=ct,Qc=B,pl=null);break;case"focusout":pl=Qc=Fa=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Tm(Y,s,G);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":Tm(Y,s,G)}var Rt;if(Ht)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Qa?ia(t,s)&&(It="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(mi&&s.locale!=="ko"&&(Qa||It!=="onCompositionStart"?It==="onCompositionEnd"&&Qa&&(Rt=ul()):(ci=G,ol="value"in ci?ci.value:ci.textContent,Qa=!0)),ct=ju(B,It),0<ct.length&&(It=new di(It,t,null,s,G),Y.push({event:It,listeners:ct}),Rt?It.data=Rt:(Rt=Ga(s),Rt!==null&&(It.data=Rt)))),(Rt=Sn?Qv(t,s):Fv(t,s))&&(It=ju(B,"onBeforeInput"),0<It.length&&(ct=new di("onBeforeInput","beforeinput",null,s,G),Y.push({event:ct,listeners:It}),ct.data=Rt)),zE(Y,t,B,s,G)}Yp(Y,n)})}function Pl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ju(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(t,s),c!=null&&l.unshift(Pl(t,c,f)),c=kn(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function PE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,V=E.alternate,B=E.stateNode;if(E=E.tag,V!==null&&V===l)break;E!==5&&E!==26&&E!==27||B===null||(V=B,c?(B=kn(s,f),B!=null&&g.unshift(Pl(s,B,V))):c||(B=kn(s,f),B!=null&&g.push(Pl(s,B,V)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var qE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function Zp(t){return(typeof t=="string"?t:""+t).replace(qE,`
`).replace(HE,"")}function Jp(t,n){return n=Zp(n),Zp(t)===n}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,s,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ka(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ka(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=jo.get(s)||s,Ua(t,s,l))}}function _f(t,n,s,l,c,f){switch(s){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Oe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ua(t,s,l)}}}function qe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,f,g,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":Dt("invalid",t);var E=f=g=c=null,V=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":V=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:$t(t,n,l,G,s,null)}}Io(t,f,E,V,B,g,c,!1);return;case"select":Dt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):s!=null&&Ji(t,!!l,s,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(t,n,g,E,s,null)}$i(t,l,c,f);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,V,l,s,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Dt(Bl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,B,l,s,null)}return;default:if(La(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&_f(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(t,n,E,l,s,null))}function GE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,V=null,B=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":V=Y;default:l.hasOwnProperty(H)||$t(t,n,H,null,l,Y)}}for(var P in l){var H=l[P];if(Y=s[P],l.hasOwnProperty(P)&&(H!=null||Y!=null))switch(P){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Y&&$t(t,n,P,H,l,Y)}}za(t,g,E,V,B,G,f,c);return;case"select":H=g=E=P=null;for(f in s)if(V=s[f],s.hasOwnProperty(f)&&V!=null)switch(f){case"value":break;case"multiple":H=V;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,V)}for(c in l)if(f=l[c],V=s[c],l.hasOwnProperty(c)&&(f!=null||V!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==V&&$t(t,n,c,f,l,V)}n=E,s=g,l=H,P!=null?Ji(t,!!s,P,!1):!!l!=!!s&&(n!=null?Ji(t,!!s,n,!0):Ji(t,!!s,s?[]:"",!1));return;case"textarea":H=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,n,g,c,l,f)}Oo(t,P,H);return;case"option":for(var ot in s)if(P=s[ot],s.hasOwnProperty(ot)&&P!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:$t(t,n,ot,null,l,P)}for(V in l)if(P=l[V],H=s[V],l.hasOwnProperty(V)&&P!==H&&(P!=null||H!=null))switch(V){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:$t(t,n,V,P,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)P=s[pt],s.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt)&&$t(t,n,pt,null,l,P);for(B in l)if(P=l[B],H=s[B],l.hasOwnProperty(B)&&P!==H&&(P!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:$t(t,n,B,P,l,H)}return;default:if(La(n)){for(var Wt in s)P=s[Wt],s.hasOwnProperty(Wt)&&P!==void 0&&!l.hasOwnProperty(Wt)&&_f(t,n,Wt,void 0,l,P);for(G in l)P=l[G],H=s[G],!l.hasOwnProperty(G)||P===H||P===void 0&&H===void 0||_f(t,n,G,P,l,H);return}}for(var U in s)P=s[U],s.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,P);for(Y in l)P=l[Y],H=s[Y],!l.hasOwnProperty(Y)||P===H||P==null&&H==null||$t(t,n,Y,P,l,H)}function $p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&$p(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var V=s[l],B=V.startTime;if(B>E)break;var G=V.transferSize,Y=V.initiatorType;G&&$p(Y)&&(V=V.responseEnd,g+=G*(V<E?1:(E-B)/(V-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vf=null,Ef=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function Wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bf=null;function FE(){var t=window.event;return t&&t.type==="popstate"?t===bf?!1:(bf=t,!0):(bf=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(XE)}:ey;function XE(t){setTimeout(function(){throw t})}function Ts(t){return t==="head"}function iy(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),vr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ql(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ql(t.ownerDocument.body);s=c}while(s);vr(n)}function sy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Af(s),ja(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function JE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vn(t.nextSibling),t===null))return null;return t}function ay(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $E(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wf=null;function ry(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function oy(t,n,s){switch(n=Uu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ja(t)}var In=new Map,uy=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=J.d;J.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:sT,X:rT,S:aT,M:lT};function WE(){var t=Hi.f(),n=Cu();return t||n}function tT(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Hi.r(t)}var pr=typeof document>"u"?null:document;function cy(t,n,s){var l=pr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),uy.has(c)||(uy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function eT(t){Hi.D(t),cy("dns-prefetch",t,null)}function nT(t,n){Hi.C(t,n),cy("preconnect",t,n)}function iT(t,n,s){Hi.L(t,n,s);var l=pr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+We(s.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=yr(t);break;case"script":f=_r(t)}In.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Hl(f))||n==="script"&&l.querySelector(Gl(f))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function sT(t,n){Hi.m(t,n);var s=pr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_r(t)}if(!In.has(f)&&(t=w({rel:"modulepreload",href:t},n),In.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(f)))return}l=s.createElement("link"),qe(l,"link",t),ve(l),s.head.appendChild(l)}}}function aT(t,n,s){Hi.S(t,n,s);var l=pr;if(l&&t){var c=ai(l).hoistableStyles,f=yr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Hl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=In.get(f))&&Rf(t,s);var V=g=l.createElement("link");ve(V),qe(V,"link",t),V._p=new Promise(function(B,G){V.onload=B,V.onerror=G}),V.addEventListener("load",function(){E.loading|=1}),V.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function rT(t,n){Hi.X(t,n);var s=pr;if(s&&t){var l=ai(s).hoistableScripts,c=_r(t),f=l.get(c);f||(f=s.querySelector(Gl(c)),f||(t=w({src:t,async:!0},n),(n=In.get(c))&&Cf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lT(t,n){Hi.M(t,n);var s=pr;if(s&&t){var l=ai(s).hoistableScripts,c=_r(t),f=l.get(c);f||(f=s.querySelector(Gl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Cf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hy(t,n,s,l){var c=(c=wt.current)?zu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=yr(s.href),s=ai(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=yr(s.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Hl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(t,s),f||oT(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_r(s),s=ai(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yr(t){return'href="'+We(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ve(n),t.head.appendChild(n))}function _r(t){return'[src="'+We(t)+'"]'}function Gl(t){return"script[async]"+t}function dy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),Lu(l,s.precedence,t),n.instance=l;case"stylesheet":c=yr(s.href);var f=t.querySelector(Hl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=fy(s),(c=In.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,V){g.onload=E,g.onerror=V}),qe(f,"link",l),n.state.loading|=4,Lu(f,s.precedence,t),n.instance=f;case"script":return f=_r(s.src),(c=t.querySelector(Gl(f)))?(n.instance=c,ve(c),c):(l=s,(c=In.get(f))&&(l=w({},s),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,s.precedence,t));return n.instance}function Lu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ku=null;function my(t,n,s){if(ku===null){var l=new Map,c=ku=new Map;c.set(s,l)}else c=ku,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function gy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=yr(l.href),f=n.querySelector(Hl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Bu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=fy(l),(c=In.get(c))&&Rf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,V){g.onload=E,g.onerror=V}),qe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Bu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Nf=0;function hT(t,n){return t.stylesheets&&t.count===0&&qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nf===0&&(Nf=62500*QE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,n.forEach(fT,t),Pu=null,Bu.call(t))}function fT(t,n){if(!(n.state.loading&4)){var s=Pu.get(t);if(s)var l=s.get(null);else{s=new Map,Pu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ql={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function dT(t,n,s,l,c,f,g,E,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function yy(t,n,s,l,c,f,g,E,V,B,G,Y){return t=new dT(t,n,s,g,V,B,G,Y,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},hh(f),t}function _y(t){return t?(t=Xa,t):Xa}function vy(t,n,s,l,c,f){c=_y(c),l.context===null?l.context=c:l.pendingContext=c,l=cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=hs(t,l,n),s!==null&&(rn(s,t,n),Al(s,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Df(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ty(t){if(t.tag===13||t.tag===31){var n=ra(t,67108864);n!==null&&rn(n,t,67108864),Df(t,67108864)}}function by(t){if(t.tag===13||t.tag===31){var n=_n();n=Ks(n);var s=ra(t,n);s!==null&&rn(s,t,n),Df(t,n)}}var Hu=!0;function mT(t,n,s,l){var c=z.T;z.T=null;var f=J.p;try{J.p=2,Vf(t,n,s,l)}finally{J.p=f,z.T=c}}function gT(t,n,s,l){var c=z.T;z.T=null;var f=J.p;try{J.p=8,Vf(t,n,s,l)}finally{J.p=f,z.T=c}}function Vf(t,n,s,l){if(Hu){var c=If(l);if(c===null)yf(t,n,l,Gu,s),Sy(t,l);else if(yT(c,t,n,s,l))l.stopPropagation();else if(Sy(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var V=1<<31-he(g);E.entanglements[1]|=V,g&=~V}_i(f),(Gt&6)===0&&(wu=Ze()+500,kl(0))}}break;case 31:case 13:E=ra(f,2),E!==null&&rn(E,f,2),Cu(),Df(f,2)}if(f=If(l),f===null&&yf(t,n,l,Gu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,s)}}function If(t){return t=bn(t),Of(t)}var Gu=null;function Of(t){if(Gu=null,t=si(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=_(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Gu=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gs()){case Kr:return 2;case Xr:return 8;case Xi:case Lc:return 32;case bo:return 268435456;default:return 32}default:return 32}}var Mf=!1,bs=null,As=null,Ss=null,Fl=new Map,Yl=new Map,xs=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(t,n){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function Kl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yT(t,n,s,l,c){switch(n){case"focusin":return bs=Kl(bs,t,n,s,l,c),!0;case"dragenter":return As=Kl(As,t,n,s,l,c),!0;case"mouseover":return Ss=Kl(Ss,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Fl.set(f,Kl(Fl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Yl.set(f,Kl(Yl.get(f)||null,t,n,s,l,c)),!0}return!1}function xy(t){var n=si(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Un(t.priority,function(){by(s)});return}}else if(n===31){if(n=_(s),n!==null){t.blockedOn=n,Un(t.priority,function(){by(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=If(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ll=l,s.target.dispatchEvent(l),ll=null}else return n=Tn(s),n!==null&&Ty(n),t.blockedOn=s,!1;n.shift()}return!0}function wy(t,n,s){Qu(t)&&s.delete(n)}function _T(){Mf=!1,bs!==null&&Qu(bs)&&(bs=null),As!==null&&Qu(As)&&(As=null),Ss!==null&&Qu(Ss)&&(Ss=null),Fl.forEach(wy),Yl.forEach(wy)}function Fu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_T)))}var Yu=null;function Ry(t){Yu!==t&&(Yu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||s)===null)continue;break}var f=Tn(s);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function vr(t){function n(V){return Fu(V,t)}bs!==null&&Fu(bs,t),As!==null&&Fu(As,t),Ss!==null&&Fu(Ss,t),Fl.forEach(n),Yl.forEach(n);for(var s=0;s<xs.length;s++){var l=xs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xs.length&&(s=xs[0],s.blockedOn===null);)xy(s),s.blockedOn===null&&xs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Oe]||null;if(typeof f=="function")g||Ry(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Of(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ry(s)}}}function Cy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function jf(t){this._internalRoot=t}Ku.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=_n();vy(s,l,t,n,null,null)},Ku.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vy(t.current,2,null,t,null,null),Cu(),n[ni]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Co();t={blockedOn:null,target:t,priority:n};for(var s=0;s<xs.length&&n!==0&&n<xs[s].priority;s++);xs.splice(s,0,t),s===0&&xy(t)}};var Ny=e.version;if(Ny!=="19.2.3")throw Error(r(527,Ny,"19.2.3"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var vT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Mn=Xu.inject(vT),ze=Xu}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Ug,f=zg,g=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=yy(t,1,!1,null,null,s,l,null,c,f,g,Cy),t[ni]=n.current,pf(t),new jf(n)},Zl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ug,g=zg,E=Lg,V=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(V=s.formState)),n=yy(t,1,!0,n,s??null,l,c,V,f,g,E,Cy),n.context=_y(null),s=n.current,l=_n(),l=Ks(l),c=cs(l),c.callback=null,hs(s,c,l),s=l,n.current.lanes=s,Fs(n,s),_i(n),t[ni]=n.current,pf(t),new Ku(n)},Zl.version="19.2.3",Zl}var ky;function NT(){if(ky)return Lf.exports;ky=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=CT(),Lf.exports}var DT=NT();const VT=()=>{};var By={};const i0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},IT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],_=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,_=d?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,A=h>>2,w=(h&3)<<4|_>>4;let M=(_&15)<<2|y>>6,Q=y&63;v||(Q=64,d||(M=64)),r.push(i[A],i[w],i[M],i[Q])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(i0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):IT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],_=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||_==null||y==null||w==null)throw new OT;const M=h<<2|_>>4;if(r.push(M),y!==64){const Q=_<<4&240|y>>2;if(r.push(Q),w!==64){const $=y<<6&192|w;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(a){const e=i0(a);return s0.encodeByteArray(e,!0)},uc=function(a){return MT(a).replace(/\./g,"")},jT=function(a){try{return s0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zT=()=>UT().__FIREBASE_DEFAULTS__,LT=()=>{if(typeof process>"u"||typeof By>"u")return;const a=By.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&jT(a[1]);return e&&JSON.parse(e)},Ad=()=>{try{return VT()||zT()||LT()||kT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},BT=a=>Ad()?.emulatorHosts?.[a],PT=a=>{const e=BT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},a0=()=>Ad()?.config;class qT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Sd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HT(a){return(await fetch(a,{credentials:"include"})).ok}function GT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[uc(JSON.stringify(i)),uc(JSON.stringify(d)),""].join(".")}const no={};function QT(){const a={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?a.emulator.push(e):a.prod.push(e);return a}function FT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Py=!1;function YT(a,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||no[a]===e||no[a]||Py)return;no[a]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=QT().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function _(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Py=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=FT(r),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),tt=i("learnmore"),nt=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),gt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;_(mt),A(nt,tt);const At=y();v(gt,ht),mt.append(gt,$,nt,At),document.body.appendChild(mt)}h?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function KT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XT(){const a=Ad()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return!XT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const WT="FirebaseError";class Lr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=WT,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r0.prototype.create)}}class r0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?t1(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Lr(o,_,r)}}function t1(a,e){return a.replace(e1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const e1=/\{\$([^}]+)}/g;function Cr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(qy(h)&&qy(d)){if(!Cr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function qy(a){return a!==null&&typeof a=="object"}function Ai(a){return a&&a._delegate?a._delegate:a}class lo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const va="[DEFAULT]";class n1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new qT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s1(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(a){return a===va?void 0:a}function s1(a){return a.instantiationMode==="EAGER"}class a1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new n1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const r1={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},l1=kt.INFO,o1={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},u1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=o1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=l1,this._logHandler=u1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const c1=(a,e)=>e.some(i=>a instanceof i);let Hy,Gy;function h1(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f1(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,td=new WeakMap,u0=new WeakMap,qf=new WeakMap,xd=new WeakMap;function d1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ns(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&o0.set(i,a)}).catch(()=>{}),xd.set(e,a),e}function m1(a){if(td.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});td.set(a,e)}let ed={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return td.get(a);if(e==="objectStoreNames")return a.objectStoreNames||u0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ns(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function g1(a){ed=a(ed)}function p1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Hf(this),e,...i);return u0.set(r,e.sort?e.sort():[e]),Ns(r)}:f1().includes(a)?function(...e){return a.apply(Hf(this),e),Ns(o0.get(this))}:function(...e){return Ns(a.apply(Hf(this),e))}}function y1(a){return typeof a=="function"?p1(a):(a instanceof IDBTransaction&&m1(a),c1(a,h1())?new Proxy(a,ed):a)}function Ns(a){if(a instanceof IDBRequest)return d1(a);if(qf.has(a))return qf.get(a);const e=y1(a);return e!==a&&(qf.set(a,e),xd.set(e,a)),e}const Hf=a=>xd.get(a);function _1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),_=Ns(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ns(d.result),v.oldVersion,v.newVersion,Ns(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const v1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],Gf=new Map;function Qy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=E1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||v1.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&v.done]))[0]};return Gf.set(e,h),h}g1(a=>({...a,get:(e,i,r)=>Qy(e,i)||a.get(e,i,r),has:(e,i)=>!!Qy(e,i)||a.has(e,i)}));class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(b1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function b1(a){return a.getComponent()?.type==="VERSION"}const nd="@firebase/app",Fy="0.14.8";const Qi=new l0("@firebase/app"),A1="@firebase/app-compat",S1="@firebase/analytics-compat",x1="@firebase/analytics",w1="@firebase/app-check-compat",R1="@firebase/app-check",C1="@firebase/auth",N1="@firebase/auth-compat",D1="@firebase/database",V1="@firebase/data-connect",I1="@firebase/database-compat",O1="@firebase/functions",M1="@firebase/functions-compat",j1="@firebase/installations",U1="@firebase/installations-compat",z1="@firebase/messaging",L1="@firebase/messaging-compat",k1="@firebase/performance",B1="@firebase/performance-compat",P1="@firebase/remote-config",q1="@firebase/remote-config-compat",H1="@firebase/storage",G1="@firebase/storage-compat",Q1="@firebase/firestore",F1="@firebase/ai",Y1="@firebase/firestore-compat",K1="firebase",X1="12.9.0";const id="[DEFAULT]",Z1={[nd]:"fire-core",[A1]:"fire-core-compat",[x1]:"fire-analytics",[S1]:"fire-analytics-compat",[R1]:"fire-app-check",[w1]:"fire-app-check-compat",[C1]:"fire-auth",[N1]:"fire-auth-compat",[D1]:"fire-rtdb",[V1]:"fire-data-connect",[I1]:"fire-rtdb-compat",[O1]:"fire-fn",[M1]:"fire-fn-compat",[j1]:"fire-iid",[U1]:"fire-iid-compat",[z1]:"fire-fcm",[L1]:"fire-fcm-compat",[k1]:"fire-perf",[B1]:"fire-perf-compat",[P1]:"fire-rc",[q1]:"fire-rc-compat",[H1]:"fire-gcs",[G1]:"fire-gcs-compat",[Q1]:"fire-fst",[Y1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};const cc=new Map,J1=new Map,sd=new Map;function Yy(a,e){try{a.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function hc(a){const e=a.name;if(sd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;sd.set(e,a);for(const i of cc.values())Yy(i,a);for(const i of J1.values())Yy(i,a);return!0}function $1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function W1(a){return a==null?!1:a.settings!==void 0}const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new r0("app","Firebase",tb);class eb{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const nb=X1;function c0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:id,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=a0()),!i)throw Ds.create("no-options");const h=cc.get(o);if(h){if(Cr(i,h.options)&&Cr(r,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new a1(o);for(const v of sd.values())d.addComponent(v);const _=new eb(i,r,d);return cc.set(o,_),_}function ib(a=id){const e=cc.get(a);if(!e&&a===id&&a0())return c0();if(!e)throw Ds.create("no-app",{appName:a});return e}function Sr(a,e,i){let r=Z1[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}hc(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const sb="firebase-heartbeat-database",ab=1,oo="firebase-heartbeat-store";let Qf=null;function h0(){return Qf||(Qf=_1(sb,ab,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ds.create("idb-open",{originalErrorMessage:a.message})})),Qf}async function rb(a){try{const i=(await h0()).transaction(oo),r=await i.objectStore(oo).get(f0(a));return await i.done,r}catch(e){if(e instanceof Lr)Qi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function Ky(a,e){try{const r=(await h0()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,f0(a)),await r.done}catch(i){if(i instanceof Lr)Qi.warn(i.message);else{const r=Ds.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(r.message)}}}function f0(a){return`${a.name}!${a.options.appId}`}const lb=1024,ob=30;class ub{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ob){const o=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xy(),{heartbeatsToSend:i,unsentEntries:r}=cb(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function cb(a,e=lb){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Zy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zy(a){return uc(JSON.stringify({version:2,heartbeats:a})).length}function fb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function db(a){hc(new lo("platform-logger",e=>new T1(e),"PRIVATE")),hc(new lo("heartbeat",e=>new ub(e),"PRIVATE")),Sr(nd,Fy,a),Sr(nd,Fy,"esm2020"),Sr("fire-js","")}db("");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vs,d0;(function(){var a;function e(D,x){function I(){}I.prototype=x.prototype,D.F=x.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(N,R,C){for(var S=Array(arguments.length-2),it=2;it<arguments.length;it++)S[it-2]=arguments[it];return x.prototype[R].apply(N,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,I){I||(I=0);const N=Array(16);if(typeof x=="string")for(var R=0;R<16;++R)N[R]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(R=0;R<16;++R)N[R]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=D.g[0],I=D.g[1],R=D.g[2];let C=D.g[3],S;S=x+(C^I&(R^C))+N[0]+3614090360&4294967295,x=I+(S<<7&4294967295|S>>>25),S=C+(R^x&(I^R))+N[1]+3905402710&4294967295,C=x+(S<<12&4294967295|S>>>20),S=R+(I^C&(x^I))+N[2]+606105819&4294967295,R=C+(S<<17&4294967295|S>>>15),S=I+(x^R&(C^x))+N[3]+3250441966&4294967295,I=R+(S<<22&4294967295|S>>>10),S=x+(C^I&(R^C))+N[4]+4118548399&4294967295,x=I+(S<<7&4294967295|S>>>25),S=C+(R^x&(I^R))+N[5]+1200080426&4294967295,C=x+(S<<12&4294967295|S>>>20),S=R+(I^C&(x^I))+N[6]+2821735955&4294967295,R=C+(S<<17&4294967295|S>>>15),S=I+(x^R&(C^x))+N[7]+4249261313&4294967295,I=R+(S<<22&4294967295|S>>>10),S=x+(C^I&(R^C))+N[8]+1770035416&4294967295,x=I+(S<<7&4294967295|S>>>25),S=C+(R^x&(I^R))+N[9]+2336552879&4294967295,C=x+(S<<12&4294967295|S>>>20),S=R+(I^C&(x^I))+N[10]+4294925233&4294967295,R=C+(S<<17&4294967295|S>>>15),S=I+(x^R&(C^x))+N[11]+2304563134&4294967295,I=R+(S<<22&4294967295|S>>>10),S=x+(C^I&(R^C))+N[12]+1804603682&4294967295,x=I+(S<<7&4294967295|S>>>25),S=C+(R^x&(I^R))+N[13]+4254626195&4294967295,C=x+(S<<12&4294967295|S>>>20),S=R+(I^C&(x^I))+N[14]+2792965006&4294967295,R=C+(S<<17&4294967295|S>>>15),S=I+(x^R&(C^x))+N[15]+1236535329&4294967295,I=R+(S<<22&4294967295|S>>>10),S=x+(R^C&(I^R))+N[1]+4129170786&4294967295,x=I+(S<<5&4294967295|S>>>27),S=C+(I^R&(x^I))+N[6]+3225465664&4294967295,C=x+(S<<9&4294967295|S>>>23),S=R+(x^I&(C^x))+N[11]+643717713&4294967295,R=C+(S<<14&4294967295|S>>>18),S=I+(C^x&(R^C))+N[0]+3921069994&4294967295,I=R+(S<<20&4294967295|S>>>12),S=x+(R^C&(I^R))+N[5]+3593408605&4294967295,x=I+(S<<5&4294967295|S>>>27),S=C+(I^R&(x^I))+N[10]+38016083&4294967295,C=x+(S<<9&4294967295|S>>>23),S=R+(x^I&(C^x))+N[15]+3634488961&4294967295,R=C+(S<<14&4294967295|S>>>18),S=I+(C^x&(R^C))+N[4]+3889429448&4294967295,I=R+(S<<20&4294967295|S>>>12),S=x+(R^C&(I^R))+N[9]+568446438&4294967295,x=I+(S<<5&4294967295|S>>>27),S=C+(I^R&(x^I))+N[14]+3275163606&4294967295,C=x+(S<<9&4294967295|S>>>23),S=R+(x^I&(C^x))+N[3]+4107603335&4294967295,R=C+(S<<14&4294967295|S>>>18),S=I+(C^x&(R^C))+N[8]+1163531501&4294967295,I=R+(S<<20&4294967295|S>>>12),S=x+(R^C&(I^R))+N[13]+2850285829&4294967295,x=I+(S<<5&4294967295|S>>>27),S=C+(I^R&(x^I))+N[2]+4243563512&4294967295,C=x+(S<<9&4294967295|S>>>23),S=R+(x^I&(C^x))+N[7]+1735328473&4294967295,R=C+(S<<14&4294967295|S>>>18),S=I+(C^x&(R^C))+N[12]+2368359562&4294967295,I=R+(S<<20&4294967295|S>>>12),S=x+(I^R^C)+N[5]+4294588738&4294967295,x=I+(S<<4&4294967295|S>>>28),S=C+(x^I^R)+N[8]+2272392833&4294967295,C=x+(S<<11&4294967295|S>>>21),S=R+(C^x^I)+N[11]+1839030562&4294967295,R=C+(S<<16&4294967295|S>>>16),S=I+(R^C^x)+N[14]+4259657740&4294967295,I=R+(S<<23&4294967295|S>>>9),S=x+(I^R^C)+N[1]+2763975236&4294967295,x=I+(S<<4&4294967295|S>>>28),S=C+(x^I^R)+N[4]+1272893353&4294967295,C=x+(S<<11&4294967295|S>>>21),S=R+(C^x^I)+N[7]+4139469664&4294967295,R=C+(S<<16&4294967295|S>>>16),S=I+(R^C^x)+N[10]+3200236656&4294967295,I=R+(S<<23&4294967295|S>>>9),S=x+(I^R^C)+N[13]+681279174&4294967295,x=I+(S<<4&4294967295|S>>>28),S=C+(x^I^R)+N[0]+3936430074&4294967295,C=x+(S<<11&4294967295|S>>>21),S=R+(C^x^I)+N[3]+3572445317&4294967295,R=C+(S<<16&4294967295|S>>>16),S=I+(R^C^x)+N[6]+76029189&4294967295,I=R+(S<<23&4294967295|S>>>9),S=x+(I^R^C)+N[9]+3654602809&4294967295,x=I+(S<<4&4294967295|S>>>28),S=C+(x^I^R)+N[12]+3873151461&4294967295,C=x+(S<<11&4294967295|S>>>21),S=R+(C^x^I)+N[15]+530742520&4294967295,R=C+(S<<16&4294967295|S>>>16),S=I+(R^C^x)+N[2]+3299628645&4294967295,I=R+(S<<23&4294967295|S>>>9),S=x+(R^(I|~C))+N[0]+4096336452&4294967295,x=I+(S<<6&4294967295|S>>>26),S=C+(I^(x|~R))+N[7]+1126891415&4294967295,C=x+(S<<10&4294967295|S>>>22),S=R+(x^(C|~I))+N[14]+2878612391&4294967295,R=C+(S<<15&4294967295|S>>>17),S=I+(C^(R|~x))+N[5]+4237533241&4294967295,I=R+(S<<21&4294967295|S>>>11),S=x+(R^(I|~C))+N[12]+1700485571&4294967295,x=I+(S<<6&4294967295|S>>>26),S=C+(I^(x|~R))+N[3]+2399980690&4294967295,C=x+(S<<10&4294967295|S>>>22),S=R+(x^(C|~I))+N[10]+4293915773&4294967295,R=C+(S<<15&4294967295|S>>>17),S=I+(C^(R|~x))+N[1]+2240044497&4294967295,I=R+(S<<21&4294967295|S>>>11),S=x+(R^(I|~C))+N[8]+1873313359&4294967295,x=I+(S<<6&4294967295|S>>>26),S=C+(I^(x|~R))+N[15]+4264355552&4294967295,C=x+(S<<10&4294967295|S>>>22),S=R+(x^(C|~I))+N[6]+2734768916&4294967295,R=C+(S<<15&4294967295|S>>>17),S=I+(C^(R|~x))+N[13]+1309151649&4294967295,I=R+(S<<21&4294967295|S>>>11),S=x+(R^(I|~C))+N[4]+4149444226&4294967295,x=I+(S<<6&4294967295|S>>>26),S=C+(I^(x|~R))+N[11]+3174756917&4294967295,C=x+(S<<10&4294967295|S>>>22),S=R+(x^(C|~I))+N[2]+718787259&4294967295,R=C+(S<<15&4294967295|S>>>17),S=I+(C^(R|~x))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.v=function(D,x){x===void 0&&(x=D.length);const I=x-this.blockSize,N=this.C;let R=this.h,C=0;for(;C<x;){if(R==0)for(;C<=I;)o(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<x;)if(N[R++]=D.charCodeAt(C++),R==this.blockSize){o(this,N),R=0;break}}else for(;C<x;)if(N[R++]=D[C++],R==this.blockSize){o(this,N),R=0;break}}this.h=R,this.o+=x},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)D[x++]=this.g[I]>>>N&255;return D};function h(D,x){var I=_;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=x(D)}function d(D,x){this.h=x;const I=[];let N=!0;for(let R=D.length-1;R>=0;R--){const C=D[R]|0;N&&C==x||(I[R]=C,N=!1)}this.g=I}var _={};function v(D){return-128<=D&&D<128?h(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return nt(y(-D));const x=[];let I=1;for(let N=0;D>=I;N++)x[N]=D/I|0,I*=4294967296;return new d(x,0)}function A(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return nt(A(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(x,8));let N=w;for(let C=0;C<D.length;C+=8){var R=Math.min(8,D.length-C);const S=parseInt(D.substring(C,C+R),x);R<8?(R=y(Math.pow(x,R)),N=N.j(R).add(y(S))):(N=N.j(I),N=N.add(y(S)))}return N}var w=v(0),M=v(1),Q=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-nt(this).m();let D=0,x=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);D+=(N>=0?N:4294967296+N)*x,x*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(tt(this))return"-"+nt(this).toString(D);const x=y(Math.pow(D,6));var I=this;let N="";for(;;){const R=At(I,x).g;I=ht(I,R.j(x));let C=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=R,$(I))return C+N;for(;C.length<6;)C="0"+C;N=C+N}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function tt(D){return D.h==-1}a.l=function(D){return D=ht(this,D),tt(D)?-1:$(D)?0:1};function nt(D){const x=D.g.length,I=[];for(let N=0;N<x;N++)I[N]=~D.g[N];return new d(I,~D.h).add(M)}a.abs=function(){return tt(this)?nt(this):this},a.add=function(D){const x=Math.max(this.g.length,D.g.length),I=[];let N=0;for(let R=0;R<=x;R++){let C=N+(this.i(R)&65535)+(D.i(R)&65535),S=(C>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);N=S>>>16,C&=65535,S&=65535,I[R]=S<<16|C}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(D,x){return D.add(nt(x))}a.j=function(D){if($(this)||$(D))return w;if(tt(this))return tt(D)?nt(this).j(nt(D)):nt(nt(this).j(D));if(tt(D))return nt(this.j(nt(D)));if(this.l(Q)<0&&D.l(Q)<0)return y(this.m()*D.m());const x=this.g.length+D.g.length,I=[];for(var N=0;N<2*x;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let R=0;R<D.g.length;R++){const C=this.i(N)>>>16,S=this.i(N)&65535,it=D.i(R)>>>16,W=D.i(R)&65535;I[2*N+2*R]+=S*W,gt(I,2*N+2*R),I[2*N+2*R+1]+=C*W,gt(I,2*N+2*R+1),I[2*N+2*R+1]+=S*it,gt(I,2*N+2*R+1),I[2*N+2*R+2]+=C*it,gt(I,2*N+2*R+2)}for(D=0;D<x;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=x;D<2*x;D++)I[D]=0;return new d(I,0)};function gt(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function mt(D,x){this.g=D,this.h=x}function At(D,x){if($(x))throw Error("division by zero");if($(D))return new mt(w,w);if(tt(D))return x=At(nt(D),x),new mt(nt(x.g),nt(x.h));if(tt(x))return x=At(D,nt(x)),new mt(nt(x.g),x.h);if(D.g.length>30){if(tt(D)||tt(x))throw Error("slowDivide_ only works with positive integers.");for(var I=M,N=x;N.l(D)<=0;)I=Qt(I),N=Qt(N);var R=Ct(I,1),C=Ct(N,1);for(N=Ct(N,2),I=Ct(I,2);!$(N);){var S=C.add(N);S.l(D)<=0&&(R=R.add(I),C=S),N=Ct(N,1),I=Ct(I,1)}return x=ht(D,R.j(x)),new mt(R,x)}for(R=w;D.l(x)>=0;){for(I=Math.max(1,Math.floor(D.m()/x.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),C=y(I),S=C.j(x);tt(S)||S.l(D)>0;)I-=N,C=y(I),S=C.j(x);$(C)&&(C=M),R=R.add(C),D=ht(D,S)}return new mt(R,D)}a.B=function(D){return At(this,D).h},a.and=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<x;N++)I[N]=this.i(N)&D.i(N);return new d(I,this.h&D.h)},a.or=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<x;N++)I[N]=this.i(N)|D.i(N);return new d(I,this.h|D.h)},a.xor=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<x;N++)I[N]=this.i(N)^D.i(N);return new d(I,this.h^D.h)};function Qt(D){const x=D.g.length+1,I=[];for(let N=0;N<x;N++)I[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(I,D.h)}function Ct(D,x){const I=x>>5;x%=32;const N=D.g.length-I,R=[];for(let C=0;C<N;C++)R[C]=x>0?D.i(C+I)>>>x|D.i(C+I+1)<<32-x:D.i(C+I);return new d(R,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Vs=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m0,$l,g0,nc,ad,p0,y0,_0;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in p))break t;p=p[L]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function y(u,m,p){return y=v,y.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(b,L,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function $(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const q=L.length||0;u.length=p+q;for(let et=0;et<q;et++)u[p+et]=L[et]}else u.push(L)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,p){const b=mt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new tt(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Ct=!1,D=new gt,x=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){nt(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function it(u,m){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(it,R),it.prototype.init=function(u,m){const p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),z=0;function J(u,m,p,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=L,this.key=++z,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function qt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function j(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let p,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(p in b)u[p]=b[p];for(let q=0;q<K.length;q++)p=K[q],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,p,b,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=wt(u,m,b,L);return et>-1?(m=u[et],p||(m.fa=!1)):(m=new J(m,this.src,q,!!b,L),m.fa=p,u.push(m)),m};function vt(u,m){const p=m.type;if(p in u.g){var b=u.g[p],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(ut(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wt(u,m,p,b){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return L}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,p,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],p,b,L);return null}return p=Yr(p),u&&u[W]?u.J(m,p,_(b)?!!b.capture:!1,L):qs(u,m,p,!1,b,L)}function qs(u,m,p,b,L,q){if(!m)throw Error("Invalid event type");const et=_(L)?!!L.capture:!!L;let St=Hs(u);if(St||(u[zt]=St=new lt(u)),p=St.add(m,p,b,et,q),p.proxy)return p;if(b=Da(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)C||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Da(){function u(p){return m.call(u.src,u.listener,p)}const m=Qr;return u}function Va(u,m,p,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Va(u,m[q],p,b,L);else b=_(b)?!!b.capture:!!b,p=Yr(p),u&&u[W]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=wt(m,p,b,L),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,p,b,L)),(p=u>-1?m[u]:null)&&Ia(p))}function Ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[W])vt(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(Jn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Hs(m))?(vt(p,u),p.h==0&&(p.src=null,m[zt]=null)):ut(u)}}}function Jn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function Qr(u,m){if(u.da)u=!0;else{m=new it(m,this);const p=u.listener,b=u.ha||u.src;u.fa&&Ia(u),u=p.call(b,m)}return u}function Hs(u){return u=u[zt],u instanceof lt?u:null}var Fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yr(u){return typeof u=="function"?u:(u[Fr]||(u[Fr]=function(m){return u.handleEvent(m)}),u[Fr])}function pe(){N.call(this),this.i=new lt(this),this.M=this,this.G=null}w(pe,N),pe.prototype[W]=!0,pe.prototype.removeEventListener=function(u,m,p,b){Va(this,u,m,p,b)};function De(u,m){var p,b=u.G;if(b)for(p=[];b;b=b.G)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new R(m,u);else if(m instanceof R)m.target=m.target||u;else{var L=m;m=new R(b,u),st(m,L)}L=!0;let q,et;if(p)for(et=p.length-1;et>=0;et--)q=m.g=p[et],L=Ki(q,b,!0,m)&&L;if(q=m.g=u,L=Ki(q,b,!0,m)&&L,L=Ki(q,b,!1,m)&&L,p)for(et=0;et<p.length;et++)q=m.g=p[et],L=Ki(q,b,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let b=0;b<p.length;b++)ut(p[b]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},pe.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function Ki(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==p){const St=et.listener,fe=et.ha||et.src;et.fa&&vt(u.i,et),L=St.call(fe,b)!==!1&&L}}return L&&!b.defaultPrevented}function zc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function To(u){u.g=zc(()=>{u.g=null,u.i&&(u.i=!1,To(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends N{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(u){N.call(this),this.h=u,this.g={}}w(Gs,N);var Kr=[];function Xr(u){jt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ia(m)},u),u.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),Xr(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Lc=d.JSON.parse,bo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ao(){}function So(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){R.call(this,"d")}w(ze,R);function En(){R.call(this,"c")}w(En,R);var he={},xo=null;function Oa(){return xo=xo||new pe}he.Ia="serverreachability";function wo(u){R.call(this,he.Ia,u)}w(wo,R);function $n(u){const m=Oa();De(m,new wo(m))}he.STAT_EVENT="statevent";function Qs(u,m){R.call(this,he.STAT_EVENT,u),this.stat=m}w(Qs,R);function ye(u){const m=Oa();De(m,new Qs(m,u))}he.Ja="timingevent";function Wn(u,m){R.call(this,he.Ja,u),this.size=m}w(Wn,R);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function kc(u,m,p,b,L,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Ht=0;Ht<St.length;Ht++){var fe=St[Ht].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Sn=re.split("_");et=Sn.length>=2&&Sn[1]=="type"?et+(re+"="+fe+"&"):et+(re+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function Ro(u,m,p,b,L,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+et})}function ei(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bc(u,p)+(b?" "+b:"")})}function Fs(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Bc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return Xi(q)}catch{return m}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jr;function Ks(){}w(Ks,Ao),Ks.prototype.g=function(){return new XMLHttpRequest},Jr=new Ks;function xi(u){return encodeURIComponent(String(u))}function Co(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Un(u,m,p,b){this.j=u,this.i=m,this.l=p,this.S=b||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Oe={};function ni(u,m,p){u.M=1,u.A=Xs(Ee(m)),u.u=p,u.R=!0,Ma(u,null)}function Ma(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var p=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),La(p.i,"t",b),u.C=0,p=u.j.L,u.h=new zn,u.g=Ho(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,p=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Kr[0]=L.toString()),L=Kr);for(let q=0;q<L.length;q++){const et=ae(p,L[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),kc(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const St=Bn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||St!=4||fe==7||(fe==8||Ht<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var p=Pc(this);if(this.o=m==200,Ro(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(b)){var q=b;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<p.length;)if(re=Do(this,p),re==Oe){St==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ai(this,re);if(No(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),fl(et),et.P=!0,ye(11))}}else ei(this.i,this.l,p,null),ai(this,p);St==4&&cn(this),this.o&&!this.K&&(St==4?ko(this.j,this):(this.o=!1,ii(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),Tn(this)}}}catch{}finally{}};function Pc(u){if(!No(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let p="";const b=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function No(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Do(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?Oe:(p=Number(m.substring(p,b)),isNaN(p)?_e:(b+=1,b+p>m.length?Oe:(m=m.slice(b,b+p),u.C=b+p,m)))}Un.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,ja(u,u.H)}function ja(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fs(this.i,this.B),this.M!=2&&($n(),ye(17)),cn(this),this.m=2,Tn(this)):ja(this,this.T-u)};function Tn(u){u.j.I==0||u.K||ko(u.j,u)}function cn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||li(p.h,u))){if(!u.L&&li(p.h,u)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ha(p),is(p);else break t;na(p),ye(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ti(y(p.Va,p),6e3));ri(p.h)<=1&&p.ta&&(p.ta=void 0)}else di(p,11)}else if((u.L||p.g==u)&&Ha(p),!S(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const re=Ht[0];if(!(re<=p.K))if(p.K=re,Ht=Ht[1],p.I==2)if(Ht[0]=="c"){p.M=Ht[1],p.ba=Ht[2];const Sn=Ht[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const mi=Ht[4];mi!=null&&(p.za=mi,p.j.info("SVER="+p.za));const Pn=Ht[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(b=1.5*Pn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const qn=u.g;if(qn){const ia=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var q=b.h;q.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(tl(q,q.h),q.h=null))}if(b.G){const Ga=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(b.wa=Ga,Yt(b.J,b.G,Ga))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var et=u;if(b.na=qo(b,b.L?b.ba:null,b.W),et.L){el(b.h,et);var St=et,fe=b.O;fe&&(St.H=fe),St.D&&(si(St),ii(St)),b.g=et}else zo(b);p.i.length>0&&fi(p)}else Ht[0]!="stop"&&Ht[0]!="close"||di(p,7);else p.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?di(p,7):cl(p):Ht[0]!="noop"&&p.l&&p.l.qa(Ht),p.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function tl(u,m){u.g?u.g.add(m):u.h=m}function el(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Q(u.i)}var Vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const b=u[p].indexOf("=");let L,q=null;b>=0?(L=u[p].substring(0,b),q=u[p].substring(b+1)):L=u[p],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.u),this.h=u.h,il(this,jo(u.i)),this.m=u.m):u&&(m=String(u).match(Vo))?(this.l=!1,Me(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),Zi(this,m[4]),this.h=oi(m[5]||"",!0),il(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Zs(m,za,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zs(m,za,!0),"@"),u.push(xi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Zs(p,p.charAt(0)=="/"?sl:Io,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Zs(p,Oo)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var b=u.h;if(p)Zi(m,u.u);else if(p=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?b&&et==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==L.length&&q.push("")):(q.push(St),b=!0)}b=q.join("/")}else b=L}return p?m.h=b:p=u.i.toString()!=="",p?il(m,jo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Me(u,m,p){u.j=p?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function il(u,m,p){m instanceof $i?(u.i=m,ka(u.i,u.l)):(p||(m=Zs(m,Ji)),u.i=new $i(m,u.l))}function Yt(u,m,p){u.i.set(m,p)}function Xs(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var za=/[#\/\?@]/g,Io=/[#\?:]/g,sl=/[#\?]/g,Ji=/[#\?@]/g,Oo=/#/g;function $i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ua(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=$i.prototype,a.add=function(u,m){tn(this),this.i=null,u=Wi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Mo(u,m){tn(u),m=Wi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function al(u,m){return tn(u),m=Wi(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(p,b){p.forEach(function(L){u.call(m,L,b,this)},this)},this)};function rl(u,m){tn(u);let p=[];if(typeof m=="string")al(u,m)&&(p=p.concat(u.g.get(Wi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return tn(this),this.i=null,u=Wi(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=rl(this,u),u.length>0?String(u[0]):m):m};function La(u,m,p){Mo(u,m),p.length>0&&(u.i=null,u.g.set(Wi(u,m),Q(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const L=xi(p);p=rl(this,p);for(let q=0;q<p.length;q++){let et=L;p[q]!==""&&(et+="="+xi(p[q])),u.push(et)}}return this.i=u.join("&")};function jo(u){const m=new $i;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Wi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ka(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,b){const L=b.toLowerCase();b!=L&&(Mo(this,b),La(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new jn;if(d.Image){const b=new Image;b.onload=A(bn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=A(bn,p,"TestLoadImage: error",!1,m,b),b.onabort=A(bn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(bn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ll(u,m){const p=new jn,b=new AbortController,L=setTimeout(()=>{b.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),bn(p,"TestPingServer: error",!1,m)})}function bn(u,m,p,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(p)}catch{}}function ts(){this.g=new bo}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ui,Ao),ui.prototype.g=function(){return new Js(this.i,this.h)};function Js(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Js,pe),a=Js.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?es(this):kn(this),this.readyState==3&&Ba(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,es(this))},a.Na=function(u){this.g&&(this.response=u,es(this))},a.ga=function(){this.g&&es(this)};function es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return jt(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function $s(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=An(p),typeof u=="string"?p!=null&&xi(p):Yt(u,m,p))}function Zt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Zt,pe);var ci=/^https?$/i,ol=["POST","PUT"];a=Zt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jr.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ws(this,q);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)p.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ol,m,void 0)>=0)||b||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ws(this,q)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ul(u),wi(u)}function ul(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),wi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},a.Xa=function(){ta(this)};function ta(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=q===0){let et=String(u.D).match(Vo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!ci.test(et?et.toLowerCase():"")}p=b}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ul(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(S(u[b]))continue;var p=Co(u[b]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}qt(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ns(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ns.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,b){ye(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=qo(this,null,this.W),fi(this)};function cl(u){if(Pa(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Yt(p,"SID",u.M),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),ea(u,p),m=new Un(u,u.j,m),m.M=2,m.A=Xs(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Ho(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Po(u)}function is(u){u.g&&(fl(u),u.g.cancel(),u.g=null)}function Pa(u){is(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!Wr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||x(),Ct||(Qt(),Ct=!0),D.add(m,u),u.D=0}}function qa(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),Bo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let q=this.o;if(this.U&&(q?(q=j(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Uo(this,L,m),p=Ee(this.J),Yt(p,"RID",u),Yt(p,"CVER",22),this.G&&Yt(p,"X-HTTP-Session-Id",this.G),ea(this,p),q&&(this.R?m="headers="+xi(An(q))+"&"+m:this.u&&$s(p,this.u,q)),tl(this.h,L),this.Ra&&Yt(p,"TYPE","init"),this.S?(Yt(p,"$req",m),Yt(p,"SID","null"),L.U=!0,ni(L,p,null)):ni(L,p,m),this.I=2}}else this.I==3&&(u?hl(this,u):this.i.length==0||Wr(this.h)||hl(this))};function hl(u,m){var p;m?p=m.l:p=u.V++;const b=Ee(u.J);Yt(b,"SID",u.M),Yt(b,"RID",p),Yt(b,"AID",u.K),ea(u,b),u.u&&u.o&&$s(b,u.u,u.o),p=new Un(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tl(u.h,p),ni(p,b,m)}function ea(u,m){u.H&&jt(u.H,function(p,b){Yt(m,b,p)}),u.l&&jt({},function(p,b){Yt(m,b,p)})}function Uo(u,m,p){p=Math.min(u.i.length,p);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const fe=["count="+p];St==-1?p>0?(St=L[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Ht=!0;for(let re=0;re<p;re++){var q=L[re].g;const Sn=L[re].map;if(q-=St,q<0)St=Math.max(0,L[re].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var et=Sn instanceof Map?Sn:Object.entries(Sn);for(const[mi,Pn]of et){let qn=Pn;_(Pn)&&(qn=Xi(Pn)),fe.push(q+mi+"="+encodeURIComponent(qn))}}catch(mi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{b&&b(Sn)}}if(Ht){et=fe.join("&");break t}}et=void 0}return u=u.i.splice(0,p),m.G=u,et}function zo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||x(),Ct||(Qt(),Ct=!0),D.add(m,u),u.A=0}}function na(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),Bo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Lo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),is(this),Lo(this))};function fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Lo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),ea(u,m),u.u&&u.o&&$s(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Xs(Ee(m)),p.u=null,p.R=!0,Ma(p,u)}a.Va=function(){this.C!=null&&(this.C=null,is(this),na(this),ye(19))};function Ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ko(u,m){var p=null;if(u.g==m){Ha(u),fl(u),u.g=null;var b=2}else if(li(u.h,m))p=m.G,el(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Oa(),De(b,new Wn(b,p)),fi(u)}else zo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&qa(u,m)||b==2&&na(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Bo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.bb,u),b=u.Ua;const L=!b;b=new hn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(b,"https"),Xs(b),L?Ln(b.toString(),p):ll(b.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Po(u),Pa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Po(u){if(u.I=0,u.ja=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function qo(u,m,p){var b=p instanceof hn?Ee(p):new hn(p);if(b.g!="")m&&(b.g=m+"."+b.g),Zi(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new hn(null);b&&Me(q,b),m&&(q.g=m),L&&Zi(q,L),p&&(q.h=p),b=q}return p=u.G,m=u.wa,p&&m&&Yt(b,p,m),Yt(b,"VER",u.ka),ea(u,b),b}function Ho(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ui({ab:p})):new Zt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}a=Go.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ss(){}ss.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}w(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){cl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Xi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,Je.Z.N.call(this)};function Qo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Qo,ze);function Fo(){En.call(this),this.status=1}w(Fo,En);function Ci(u){this.g=u}w(Ci,Go),Ci.prototype.ra=function(){De(this.g,"a")},Ci.prototype.qa=function(u){De(this.g,new Qo(u))},Ci.prototype.pa=function(u){De(this.g,new Fo)},Ci.prototype.oa=function(){De(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,_0=function(){return new ss},y0=function(){return Oa()},p0=he,ad={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,nc=Ys,Zr.COMPLETE="complete",g0=Zr,So.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,$l=So,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,m0=Zt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let kr="12.9.0";function mb(a){kr=a}const Aa=new l0("@firebase/firestore");function Er(){return Aa.logLevel}function rt(a,...e){if(Aa.logLevel<=kt.DEBUG){const i=e.map(wd);Aa.debug(`Firestore (${kr}): ${a}`,...i)}}function Fi(a,...e){if(Aa.logLevel<=kt.ERROR){const i=e.map(wd);Aa.error(`Firestore (${kr}): ${a}`,...i)}}function Sa(a,...e){if(Aa.logLevel<=kt.WARN){const i=e.map(wd);Aa.warn(`Firestore (${kr}): ${a}`,...i)}}function wd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function yt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,v0(a,r,i)}function v0(a,e,i){let r=`FIRESTORE (${kr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Fi(r),new Error(r)}function Ft(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||v0(e,o,r)}function bt(a,e){return a}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Lr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ta{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class yb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ta,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},_=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ta)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new E0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class _b{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new _b(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $y{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Eb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,W1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const r=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $y(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $y(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Rd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Tb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ot(a,e){return a<e?-1:a>e?1:0}function rd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Ff(o)===Ff(h)?Ot(o,h):Ff(o)?1:-1}return Ot(a.length,e.length)}const bb=55296,Ab=57343;function Ff(a){const e=a.charCodeAt(0);return e>=bb&&e<=Ab}function Nr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const Wy="__name__";class vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const r=vi.isNumericId(e),o=vi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class ee extends vi{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return Sb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new Ge([Wy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ee.fromString(e))}static fromName(e){return new dt(ee.fromString(e).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ee(e.slice()))}}function T0(a,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function xb(a,e,i,r){if(e===!0&&r===!0)throw new at(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function t_(a){if(!dt.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function e_(a){if(dt.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function b0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function bc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function Is(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bc(a);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Re(a,e){const i={typeString:a};return e&&(i.value=e),i}function po(a,e){if(!b0(a))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const n_=-62135596800,i_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*i_);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<n_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(po(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ne(0,0))}static max(){return new Et(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uo=-1;function wb(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ms(o,dt.empty(),e)}function Rb(a){return new Ms(a.readTime,a.key,uo)}class Ms{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ms(Et.min(),dt.empty(),uo)}static max(){return new Ms(Et.max(),dt.empty(),uo)}}function Cb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}const Nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Br(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==Nb)throw a;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++_,_===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function Vb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Pr(a){return a.name==="IndexedDbTransactionError"}class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;const Cd=-1;function Sc(a){return a==null}function fc(a){return a===0&&1/a==-1/0}function Ib(a){return typeof a=="number"&&Number.isInteger(a)&&!fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const A0="";function Ob(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=s_(e)),e=Mb(a.get(i),e);return s_(e)}function Mb(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case A0:i+="";break;default:i+=h}}return i}function s_(a){return a+A0+""}function a_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Bs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function S0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new x0("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(a){if(Ft(!!a,39018),typeof a=="string"){let e=0;const i=jb.exec(a);if(Ft(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Us(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const w0="server_timestamp",R0="__type__",C0="__previous_value__",N0="__local_write_time__";function Nd(a){return(a?.mapValue?.fields||{})[R0]?.stringValue===w0}function xc(a){const e=a.mapValue.fields[C0];return Nd(e)?xc(e):e}function co(a){const e=js(a.mapValue.fields[N0].timestampValue);return new ne(e.seconds,e.nanos)}class Ub{constructor(e,i,r,o,h,d,_,v,y,A,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=w}}const dc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function zb(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(a.options.projectId,e)}const D0="__type__",Lb="__max__",$u={mapValue:{}},V0="__vector__",mc="value";function zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Nd(a)?4:Bb(a)?9007199254740991:kb(a)?10:11:yt(28295,{value:a})}function Si(a,e){if(a===e)return!0;const i=zs(a);if(i!==zs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return co(a).isEqual(co(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=js(o.timestampValue),_=js(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Us(o.bytesValue).isEqual(Us(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),_=ge(h.doubleValue);return d===_?fc(d)===fc(_):isNaN(d)&&isNaN(_)}return!1})(a,e);case 9:return Nr(a.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(a_(d)!==a_(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!Si(d[v],_[v])))return!1;return!0})(a,e);default:return yt(52216,{left:a})}}function fo(a,e){return(a.values||[]).find((i=>Si(i,e)))!==void 0}function Dr(a,e){if(a===e)return 0;const i=zs(a),r=zs(e);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(a,e);case 3:return l_(a.timestampValue,e.timestampValue);case 4:return l_(co(a),co(e));case 5:return rd(a.stringValue,e.stringValue);case 6:return(function(h,d){const _=Us(h),v=Us(d);return _.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const A=Ot(_[y],v[y]);if(A!==0)return A}return Ot(_.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Ot(ge(h.latitude),ge(d.latitude));return _!==0?_:Ot(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return o_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[mc]?.arrayValue,A=v[mc]?.arrayValue,w=Ot(y?.values?.length||0,A?.values?.length||0);return w!==0?w:o_(y,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===$u.mapValue&&d===$u.mapValue)return 0;if(h===$u.mapValue)return 1;if(d===$u.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const M=rd(v[w],A[w]);if(M!==0)return M;const Q=Dr(_[v[w]],y[A[w]]);if(Q!==0)return Q}return Ot(v.length,A.length)})(a.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function l_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=js(a),r=js(e),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function o_(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Dr(i[o],r[o]);if(h)return h}return Ot(i.length,r.length)}function Vr(a){return ld(a)}function ld(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=js(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Us(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ld(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ld(i.fields[d])}`;return o+"}"})(a.mapValue):yt(61005,{value:a})}function ic(a){switch(zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(a);return e?16+ic(e):16;case 5:return 2*a.stringValue.length;case 6:return Us(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ic(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Bs(r.fields,((h,d)=>{o+=h.length+ic(d)})),o})(a.mapValue);default:throw yt(13486,{value:a})}}function u_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function od(a){return!!a&&"integerValue"in a}function Dd(a){return!!a&&"arrayValue"in a}function c_(a){return!!a&&"nullValue"in a}function h_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function sc(a){return!!a&&"mapValue"in a}function kb(a){return(a?.mapValue?.fields||{})[D0]?.stringValue===V0}function io(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Bs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=io(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(a.arrayValue.values[i]);return e}return{...a}}function Bb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Lb}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=io(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Bs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new un(io(this.value))}}function I0(a){const e=[];return Bs(a.fields,((i,r)=>{const o=new Ge([i]);if(sc(r)){const h=I0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Xe{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),un.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,Et.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=Dr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Si(a.position[i],e.position[i]))return!1;return!0}class mo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Pb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class O0{}class we extends O0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Hb(e,i,r):i==="array-contains"?new Fb(e,r):i==="in"?new Yb(e,r):i==="not-in"?new Kb(e,r):i==="array-contains-any"?new Xb(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Gb(e,r):new Qb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Dr(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Dr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends O0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return M0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M0(a){return a.op==="and"}function j0(a){return qb(a)&&M0(a)}function qb(a){for(const e of a.filters)if(e instanceof Zn)return!1;return!0}function ud(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Vr(a.value);if(j0(a))return a.filters.map((e=>ud(e))).join(",");{const e=a.filters.map((i=>ud(i))).join(",");return`${a.op}(${e})`}}function U0(a,e){return a instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Si(r.value,o.value)})(a,e):a instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&U0(d,o.filters[_])),!0):!1})(a,e):void yt(19439)}function z0(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vr(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(z0).join(" ,")+"}"})(a):"Filter"}class Hb extends we{constructor(e,i,r){super(e,i,r),this.key=dt.fromName(r.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Gb extends we{constructor(e,i){super(e,"in",i),this.keys=L0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Qb extends we{constructor(e,i){super(e,"not-in",i),this.keys=L0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function L0(a,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Fb extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&fo(i.arrayValue,this.value)}}class Yb extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class Kb extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class Xb extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>fo(this.value.arrayValue,r)))}}class Zb{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function m_(a,e=null,i=[],r=[],o=null,h=null,d=null){return new Zb(a,e,i,r,o,h,d)}function Vd(a){const e=bt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ud(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Vr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Vr(r))).join(",")),e.Te=i}return e.Te}function Id(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Pb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!U0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!d_(a.startAt,e.startAt)&&d_(a.endAt,e.endAt)}function cd(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class qr{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jb(a,e,i,r,o,h,d,_){return new qr(a,e,i,r,o,h,d,_)}function Od(a){return new qr(a)}function g_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function $b(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function k0(a){return a.collectionGroup!==null}function so(a){const e=bt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new mo(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new mo(Ge.keyField(),r))}return e.Ie}function Ei(a){const e=bt(a);return e.Ee||(e.Ee=Wb(e,so(a))),e.Ee}function Wb(a,e){if(a.limitType==="F")return m_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new mo(o.field,h)}));const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return m_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function hd(a,e){const i=a.filters.concat([e]);return new qr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function tA(a,e){const i=a.explicitOrderBy.concat([e]);return new qr(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function fd(a,e,i){return new qr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function wc(a,e){return Id(Ei(a),Ei(e))&&a.limitType===e.limitType}function B0(a){return`${Vd(Ei(a))}|lt:${a.limitType}`}function Tr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>z0(o))).join(", ")}]`),Sc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Vr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Vr(o))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function Rc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):dt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of so(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,v){const y=f_(d,_,v);return d.inclusive?y<=0:y<0})(r.startAt,so(r),o)||r.endAt&&!(function(d,_,v){const y=f_(d,_,v);return d.inclusive?y>=0:y>0})(r.endAt,so(r),o))})(a,e)}function eA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function P0(a){return(e,i)=>{let r=!1;for(const o of so(a)){const h=nA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function nA(a,e,i){const r=a.field.isKeyField()?dt.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?Dr(v,y):yt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:a.dir})}}class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const iA=new oe(dt.comparator);function Yi(){return iA}const q0=new oe(dt.comparator);function Wl(...a){let e=q0;for(const i of a)e=e.insert(i.key,i);return e}function H0(a){let e=q0;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ea(){return ao()}function G0(){return ao()}function ao(){return new wa((a=>a.toString()),((a,e)=>a.isEqual(e)))}const sA=new oe(dt.comparator),aA=new Ie(dt.comparator);function Mt(...a){let e=aA;for(const i of a)e=e.add(i);return e}const rA=new Ie(Ot);function lA(){return rA}function Md(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Q0(a){return{integerValue:""+a}}function oA(a,e){return Ib(e)?Q0(e):Md(a,e)}class Cc{constructor(){this._=void 0}}function uA(a,e,i){return a instanceof go?(function(o,h){const d={fields:{[R0]:{stringValue:w0},[N0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Nd(h)&&(h=xc(h)),h&&(d.fields[C0]=h),{mapValue:d}})(i,e):a instanceof Ir?Y0(a,e):a instanceof Or?K0(a,e):(function(o,h){const d=F0(o,h),_=p_(d)+p_(o.Ae);return od(d)&&od(o.Ae)?Q0(_):Md(o.serializer,_)})(a,e)}function cA(a,e,i){return a instanceof Ir?Y0(a,e):a instanceof Or?K0(a,e):i}function F0(a,e){return a instanceof pc?(function(r){return od(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class go extends Cc{}class Ir extends Cc{constructor(e){super(),this.elements=e}}function Y0(a,e){const i=X0(e);for(const r of a.elements)i.some((o=>Si(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Or extends Cc{constructor(e){super(),this.elements=e}}function K0(a,e){let i=X0(e);for(const r of a.elements)i=i.filter((o=>!Si(o,r)));return{arrayValue:{values:i}}}class pc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function p_(a){return ge(a.integerValue||a.doubleValue)}function X0(a){return Dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class jd{constructor(e,i){this.field=e,this.transform=i}}function hA(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Ir&&o instanceof Ir||r instanceof Or&&o instanceof Or?Nr(r.elements,o.elements,Si):r instanceof pc&&o instanceof pc?Si(r.Ae,o.Ae):r instanceof go&&o instanceof go})(a.transform,e.transform)}class fA{constructor(e,i){this.version=e,this.transformResults=i}}class Kn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Nc{}function Z0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Ud(a.key,Kn.none()):new yo(a.key,a.data,Kn.none());{const i=a.data,r=un.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ps(a.key,r,new vn(o.toArray()),Kn.none())}}function dA(a,e,i){a instanceof yo?(function(o,h,d){const _=o.value.clone(),v=__(o.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):a instanceof Ps?(function(o,h,d){if(!ac(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=__(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(J0(o)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(a,e,i,r){return a instanceof yo?(function(h,d,_,v){if(!ac(h.precondition,d))return _;const y=h.value.clone(),A=v_(h.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ps?(function(h,d,_,v){if(!ac(h.precondition,d))return _;const y=v_(h.fieldTransforms,v,d),A=d.data;return A.setAll(J0(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(a,e,i,r):(function(h,d,_){return ac(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(a,e,i)}function mA(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=F0(r.transform,o||null);h!=null&&(i===null&&(i=un.empty()),i.set(r.field,h))}return i||null}function y_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Nr(r,o,((h,d)=>hA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class yo extends Nc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Nc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function J0(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function __(a,e,i){const r=new Map;Ft(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,cA(d,_,i[o]))}return r}function v_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,uA(h,d,e))}return r}class Ud extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gA extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&dA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=G0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const v=Z0(d,_);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,((i,r)=>y_(i,r)))&&Nr(this.baseMutations,e.baseMutations,((i,r)=>y_(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return sA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new zd(e,i,r,o)}}class yA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _A{constructor(e,i){this.count=e,this.unchangedNames=i}}var xe,Lt;function vA(a){switch(a){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function $0(a){if(a===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(a){case xe.OK:return X.OK;case xe.CANCELLED:return X.CANCELLED;case xe.UNKNOWN:return X.UNKNOWN;case xe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case xe.INTERNAL:return X.INTERNAL;case xe.UNAVAILABLE:return X.UNAVAILABLE;case xe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case xe.NOT_FOUND:return X.NOT_FOUND;case xe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case xe.ABORTED:return X.ABORTED;case xe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case xe.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:a})}}(Lt=xe||(xe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function EA(){return new TextEncoder}const TA=new Vs([4294967295,4294967295],0);function E_(a){const e=EA().encode(a),i=new d0;return i.update(e),new Uint8Array(i.digest())}function T_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Vs([i,r],0),new Vs([o,h],0)]}class Ld{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new to(`Invalid padding: ${i}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new to(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Vs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Vs.fromNumber(r)));return o.compare(TA)===1&&(o=new Vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dc(Et.min(),o,new oe(Ot),Yi(),Mt())}}class _o{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new _o(r,i,Mt(),Mt(),Mt())}}class rc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class W0{constructor(e,i){this.targetId=e,this.Ce=i}}class tv{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class b_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:h})}})),new _o(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=A_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.He=Wu(),this.Je=Wu(),this.Ze=new oe(Ot)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(cd(h))if(r===0){const d=new dt(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Us(r).toUint8Array()}catch(v){if(v instanceof x0)return Sa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Ld(d,o,h)}catch(v){return Sa(v instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&cd(_.target)){const v=new dt(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Mt();this.Je.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Dc(e,i,this.Ze,this.je,r);return this.je=Yi(),this.He=Wu(),this.Je=Wu(),this.Ze=new oe(Ot),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(Ot),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(Ot),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Wu(){return new oe(dt.comparator)}function A_(){return new oe(dt.comparator)}const AA={asc:"ASCENDING",desc:"DESCENDING"},SA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xA={and:"AND",or:"OR"};class wA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dd(a,e){return a.useProto3Json||Sc(e)?e:{value:e}}function yc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ev(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function RA(a,e){return yc(a,e.toTimestamp())}function Ti(a){return Ft(!!a,49232),Et.fromTimestamp((function(i){const r=js(i);return new ne(r.seconds,r.nanos)})(a))}function kd(a,e){return md(a,e).canonicalString()}function md(a,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function nv(a){const e=ee.fromString(a);return Ft(lv(e),10190,{key:e.toString()}),e}function gd(a,e){return kd(a.databaseId,e.path)}function Yf(a,e){const i=nv(e);if(i.get(1)!==a.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(sv(i))}function iv(a,e){return kd(a.databaseId,e)}function CA(a){const e=nv(a);return e.length===4?ee.emptyPath():sv(e)}function pd(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function sv(a){return Ft(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function S_(a,e,i){return{name:gd(a,e),fields:i.value.mapValue.fields}}function NA(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:$0(y.code);return new at(A,y.message||"")})(d);i=new tv(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yf(a,r.document.name),h=Ti(r.document.updateTime),d=r.document.createTime?Ti(r.document.createTime):Et.min(),_=new un({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,_),y=r.targetIds||[],A=r.removedTargetIds||[];i=new rc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yf(a,r.document),h=r.readTime?Ti(r.readTime):Et.min(),d=Xe.newNoDocument(o,h),_=r.removedTargetIds||[];i=new rc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yf(a,r.document),h=r.removedTargetIds||[];i=new rc([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new _A(o,h),_=r.targetId;i=new W0(_,d)}}return i}function DA(a,e){let i;if(e instanceof yo)i={update:S_(a,e.key,e.value)};else if(e instanceof Ud)i={delete:gd(a,e.key)};else if(e instanceof Ps)i={update:S_(a,e.key,e.data),updateMask:kA(e.fieldMask)};else{if(!(e instanceof gA))return yt(16599,{dt:e.type});i={verify:gd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Ir)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Or)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof pc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:RA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(a,e.precondition)),i}function VA(a,e){return a&&a.length>0?(Ft(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ti(o.updateTime):Ti(h);return d.isEqual(Et.min())&&(d=Ti(h)),new fA(d,o.transformResults||[])})(i,e)))):[]}function IA(a,e){return{documents:[iv(a,e.path)]}}function OA(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iv(a,o);const h=(function(y){if(y.length!==0)return rv(Zn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:br(M.field),direction:UA(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=dd(a,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function MA(a){let e=CA(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(w){const M=av(w);return M instanceof Zn&&j0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function($){return new mo(Ar($.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let _=null;i.limit&&(_=(function(w){let M;return M=typeof w=="object"?w.value:w,Sc(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,Q=w.values||[];return new gc(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,Q=w.values||[];return new gc(Q,M)})(i.endAt)),Jb(e,o,d,h,_,"F",v,y)}function jA(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function av(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ar(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ar(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ar(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ar(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(Ar(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((r=>av(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function UA(a){return AA[a]}function zA(a){return SA[a]}function LA(a){return xA[a]}function br(a){return{fieldPath:a.canonicalString()}}function Ar(a){return Ge.fromServerFormat(a.fieldPath)}function rv(a){return a instanceof we?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:br(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:br(i.field),op:zA(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const r=i.getFilters().map((o=>rv(o)));return r.length===1?r[0]:{compositeFilter:{op:LA(i.op),filters:r}}})(a):yt(54877,{filter:a})}function kA(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function ov(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Cs{constructor(e,i,r,o,h=Et.min(),d=Et.min(),_=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BA{constructor(e){this.yt=e}}function PA(a){const e=MA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?fd(e,e.limit,"L"):e}class qA{constructor(){this.Sn=new HA}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ms.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class HA{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ie(ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(uv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Mr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mr(0)}static ar(){return new Mr(-1)}}const w_="LruGarbageCollector",GA=1048576;function R_([a,e],[i,r]){const o=Ot(a,i);return o===0?Ot(e,r):o}class QA{constructor(e){this.Pr=e,this.buffer=new Ie(R_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();R_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FA{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){rt(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Pr(i)?rt(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Br(i)}await this.Ar(3e5)}))}}class YA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ac.ce);const r=new QA(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(x_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,_,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,_=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),Er()<=kt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function KA(a,e){return new YA(a,e)}class XA{constructor(){this.changes=new wa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class JA{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ro(r.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Mt()){const o=Ea();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Wl();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ea();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Mt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=Yi();const d=ao(),_=(function(){return ao()})();return i.forEach(((v,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof Ps)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),ro(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>_.set(y,new ZA(A,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=ao();let o=new oe(((d,_)=>d-_)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=r.get(v)||vn.empty();A=_.applyToLocalView(y,A),r.set(v,A);const w=(o.get(_.batchId)||Mt()).add(v);o=o.insert(_.batchId,w)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,A=v.value,w=G0();A.forEach((M=>{if(!h.has(M)){const Q=Z0(i.get(M),r.get(M));Q!==null&&w.set(M,Q),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return $b(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):k0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(Ea());let _=uo,v=h;return d.next((y=>Z.forEach(y,((A,w)=>(_<w.largestBatchId&&(_=w.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Mt()))).next((A=>({batchId:_,changes:H0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,h).next((_=>Z.forEach(_,(v=>{const y=(function(w,M){return new qr(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let _=Wl();return d.forEach(((v,y)=>{const A=h.get(v);A!==void 0&&ro(A.mutation,y,vn.empty(),ne.now()),Rc(i,y)&&(_=_.insert(v,y))})),_}))}}class $A{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:PA(o.bundledQuery),readTime:Ti(o.readTime)}})(i)),Z.resolve()}}class WA{constructor(){this.overlays=new oe(dt.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ea();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Ea(),h=i.length+1,d=new dt(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=h.get(y.largestBatchId);A===null&&(A=Ea(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const _=Ea(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>_.set(y,A))),!(_.size()>=o)););return Z.resolve(_)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new yA(i,r));let h=this.Lr.get(i);h===void 0&&(h=Mt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class tS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Bd{constructor(){this.kr=new Ie(Ue.Kr),this.qr=new Ie(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new dt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new dt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Mt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return dt.comparator(e.key,i.key)||Ot(e.Hr,i.Hr)}static Ur(e,i){return Ot(e.Hr,i.Hr)||dt.comparator(e.key,i.key)}}class eS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(Ue.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pA(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Ue(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Cd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const _=this.Zr(d.Hr);h.push(_)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ie(Ot);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(_=>{r=r.add(_.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;dt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new dt(h),0);let _=new Ie(Ot);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nS{constructor(e){this.ti=e,this.docs=(function(){return new oe(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Yi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Yi();const d=i.path,_=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Cb(Rb(A),r)<=0||(o.has(A.key)||Rc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ni(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new iS(this)}getSize(e){return Z.resolve(this.size)}}class iS extends XA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class sS{constructor(e){this.persistence=e,this.ri=new wa((i=>Vd(i)),Id),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bd,this.targetCount=0,this.oi=Mr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}class cv{constructor(e,i){this._i={},this.overlays={},this.ai=new Ac(0),this.ui=!1,this.ui=!0,this.ci=new tS,this.referenceDelegate=e(this),this.li=new sS(this),this.indexManager=new qA,this.remoteDocumentCache=(function(o){return new nS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new BA(i),this.Pi=new $A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new eS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){rt("MemoryPersistence","Starting transaction:",e);const o=new aS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class aS extends Db{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Ri=new Bd,this.Ai=null}static Vi(e){return new Pd(e)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const o=dt.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.fi=new wa((r=>Ob(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=KA(this,i)}static Vi(e,i){return new _c(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(r++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}wr(e,i,r){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new qd(e,i.fromCache,r,o)}}class rS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZT()?8:Vb(KT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new rS;return this.ys(e,i,d).next((_=>{if(h.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Er()<=kt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Er()<=kt.DEBUG&&rt("QueryEngine","Query:",Tr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Er()<=kt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):Z.resolve())}gs(e,i){if(g_(i))return Z.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fd(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Mt(...h);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.bs(i,_);return this.Ss(i,y,d,v.readTime)?this.gs(e,fd(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,r,o){return g_(i)||o.isEqual(Et.min())?Z.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?Z.resolve(null):(Er()<=kt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.Ds(e,d,i,wb(o,uo)).next((_=>_)))}))}bs(e,i){let r=new Ie(P0(e));return i.forEach(((o,h)=>{Rc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Er()<=kt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ms.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Hd="LocalStore",oS=3e8;class uS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(Ot),this.Fs=new wa((h=>Vd(h)),Id),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function cS(a,e,i,r){return new uS(a,e,i,r)}async function hv(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let v=Mt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of h){_.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function hS(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,A){const w=y.batch,M=w.keys();let Q=Z.resolve();return M.forEach(($=>{Q=Q.next((()=>A.getEntry(v,$))).next((tt=>{const nt=y.docVersions.get($);Ft(nt!==null,48541),tt.version.compareTo(nt)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),A.addEntry(tt)))}))})),Q.next((()=>_.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=Mt();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function fv(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function fS(a,e){const i=bt(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((A,w)=>{const M=o.get(w);if(!M)return;_.push(i.li.removeMatchingKeys(h,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,w))));let Q=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?Q=Q.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),o=o.insert(w,Q),(function(tt,nt,ht){return tt.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=oS?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,Q,A)&&_.push(i.li.updateTargetData(h,Q))}));let v=Yi(),y=Mt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),_.push(dS(h,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!r.isEqual(Et.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((w=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(A)}return Z.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.vs=o,h)))}function dS(a,e,i){let r=Mt(),o=Mt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Yi();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):rt(Hd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function mS(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gS(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Cs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function yd(a,e,i){const r=bt(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Pr(d))throw d;rt(Hd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function C_(a,e,i){const r=bt(a);let o=Et.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const w=bt(v),M=w.Fs.get(A);return M!==void 0?Z.resolve(w.vs.get(M)):w.li.getTargetData(y,A)})(r,d,Ei(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Mt()))).next((_=>(pS(r,eA(e),_),{documents:_,ks:h})))))}function pS(a,e,i){let r=a.Ms.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class N_{constructor(){this.activeTargetIds=lA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(){this.vo=new N_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new N_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _S{Mo(e){}shutdown(){}}const D_="ConnectivityMonitor";class V_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){rt(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){rt(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tc=null;function _d(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}const Kf="RestConnection",vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ES{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===dc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=_d(),_=this.Qo(e,i.toUriEncodedString());rt(Kf,`Sending RPC '${e}' ${d}:`,_,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:y}=new URL(_),A=Sd(y);return this.zo(e,_,v,r,A).then((w=>(rt(Kf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Sa(Kf,`RPC '${e}' ${d} failed with error: `,w,"url: ",_,"request:",r),w}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=vS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class TS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ye="WebChannelConnection",Jl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class xr extends ES{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!xr.c_){const e=y0();Jl(e,p0.STAT_EVENT,(i=>{i.stat===ad.PROXY?rt(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===ad.NOPROXY&&rt(Ye,"STAT_EVENT: detected no buffering proxy")})),xr.c_=!0}}zo(e,i,r,o,h){const d=_d();return new Promise(((_,v)=>{const y=new m0;y.setWithCredentials(!0),y.listenOnce(g0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nc.NO_ERROR:const w=y.getResponseJson();rt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),_(w);break;case nc.TIMEOUT:rt(Ye,`RPC '${e}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const M=y.getStatus();if(rt(Ye,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const tt=(function(ht){const gt=ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})($.status);v(new at(tt,$.message))}else v(new at(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);rt(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=_d(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const y=h.join("");rt(Ye,`Creating RPC '${e}' stream ${o}: ${y}`,_);const A=d.createWebChannel(y,_);this.I_(A);let w=!1,M=!1;const Q=new TS({Ho:$=>{M?rt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(w||(rt(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),rt(Ye,`RPC '${e}' stream ${o} sending:`,$),A.send($))},Jo:()=>A.close()});return Jl(A,$l.EventType.OPEN,(()=>{M||(rt(Ye,`RPC '${e}' stream ${o} transport opened.`),Q.i_())})),Jl(A,$l.EventType.CLOSE,(()=>{M||(M=!0,rt(Ye,`RPC '${e}' stream ${o} transport closed`),Q.o_(),this.E_(A))})),Jl(A,$l.EventType.ERROR,($=>{M||(M=!0,Sa(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Q.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),Jl(A,$l.EventType.MESSAGE,($=>{if(!M){const tt=$.data[0];Ft(!!tt,16349);const nt=tt,ht=nt?.error||nt[0]?.error;if(ht){rt(Ye,`RPC '${e}' stream ${o} received error:`,ht);const gt=ht.status;let mt=(function(Ct){const D=xe[Ct];if(D!==void 0)return $0(D)})(gt),At=ht.message;gt==="NOT_FOUND"&&At.includes("database")&&At.includes("does not exist")&&At.includes(this.databaseId.database)&&Sa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),mt===void 0&&(mt=X.INTERNAL,At="Unknown error status: "+gt+" with message "+ht.message),M=!0,Q.o_(new at(mt,At)),A.close()}else rt(Ye,`RPC '${e}' stream ${o} received:`,tt),Q.__(tt)}})),xr.u_(),setTimeout((()=>{Q.s_()}),0),Q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _0()}}function bS(a){return new xr(a)}function Xf(){return typeof document<"u"?document:null}function Vc(a){return new wA(a,!0)}xr.c_=!1;class dv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const I_="PersistentStream";class mv{constructor(e,i,r,o,h,d,_,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(rt(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AS extends mv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=NA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ti(d.readTime):Et.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=pd(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=cd(v)?{documents:IA(h,v)}:{query:OA(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=ev(h,d.resumeToken);const y=dd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){_.readTime=yc(h,d.snapshotVersion.toTimestamp());const y=dd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=jA(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=pd(this.serializer),i.removeTarget=e,this.K_(i)}}class SS extends mv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=VA(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>DA(this.serializer,r)))};this.K_(i)}}class xS{}class wS extends xS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,md(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,md(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RS(a,e,i,r){return new wS(a,e,i,r)}class CS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xa="RemoteStore";class NS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Ra(this)&&(rt(xa,"Restarting streams for network reachability change."),await(async function(v){const y=bt(v);y.Ea.add(4),await vo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ic(y)})(this))}))})),this.Va=new CS(r,o)}}async function Ic(a){if(Ra(a))for(const e of a.Ra)await e(!0)}async function vo(a){for(const e of a.Ra)await e(!1)}function gv(a,e){const i=bt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Yd(i)?Fd(i):Hr(i).O_()&&Qd(i,e))}function Gd(a,e){const i=bt(a),r=Hr(i);i.Ia.delete(e),r.O_()&&pv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ra(i)&&i.Va.set("Unknown"))}function Qd(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Hr(a).Z_(e)}function pv(a,e){a.da.$e(e),Hr(a).X_(e)}function Fd(a){a.da=new bA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Hr(a).start(),a.Va.ua()}function Yd(a){return Ra(a)&&!Hr(a).x_()&&a.Ia.size>0}function Ra(a){return bt(a).Ea.size===0}function yv(a){a.da=void 0}async function DS(a){a.Va.set("Online")}async function VS(a){a.Ia.forEach(((e,i)=>{Qd(a,e)}))}async function IS(a,e){yv(a),Yd(a)?(a.Va.ha(e),Fd(a)):a.Va.set("Unknown")}async function OS(a,e,i){if(a.Va.set("Online"),e instanceof tv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(a,e)}catch(r){rt(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vc(a,r)}else if(e instanceof rc?a.da.Xe(e):e instanceof W0?a.da.st(e):a.da.tt(e),!i.isEqual(Et.min()))try{const r=await fv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.da.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(y);A&&h.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),pv(h,v);const w=new Cs(A.target,v,y,A.sequenceNumber);Qd(h,w)})),h.remoteSyncer.applyRemoteEvent(_)})(a,i)}catch(r){rt(xa,"Failed to raise snapshot:",r),await vc(a,r)}}async function vc(a,e,i){if(!Pr(e))throw e;a.Ea.add(1),await vo(a),a.Va.set("Offline"),i||(i=()=>fv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{rt(xa,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Ic(a)}))}function _v(a,e){return e().catch((i=>vc(a,i,e)))}async function Oc(a){const e=bt(a),i=Ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;MS(e);)try{const o=await mS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,jS(e,o)}catch(o){await vc(e,o)}vv(e)&&Ev(e)}function MS(a){return Ra(a)&&a.Ta.length<10}function jS(a,e){a.Ta.push(e);const i=Ls(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function vv(a){return Ra(a)&&!Ls(a).x_()&&a.Ta.length>0}function Ev(a){Ls(a).start()}async function US(a){Ls(a).ra()}async function zS(a){const e=Ls(a);for(const i of a.Ta)e.ea(i.mutations)}async function LS(a,e,i){const r=a.Ta.shift(),o=zd.from(r,e,i);await _v(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Oc(a)}async function kS(a,e){e&&Ls(a).Y_&&await(async function(r,o){if((function(d){return vA(d)&&d!==X.ABORTED})(o.code)){const h=r.Ta.shift();Ls(r).B_(),await _v(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(r)}})(a,e),vv(a)&&Ev(a)}async function O_(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),rt(xa,"RemoteStore received new credentials");const r=Ra(i);i.Ea.add(3),await vo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function BS(a,e){const i=bt(a);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await vo(i),i.Va.set("Unknown"))}function Hr(a){return a.ma||(a.ma=(function(i,r,o){const h=bt(i);return h.sa(),new AS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:DS.bind(null,a),Yo:VS.bind(null,a),t_:IS.bind(null,a),J_:OS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),Yd(a)?Fd(a):a.Va.set("Unknown")):(await a.ma.stop(),yv(a))}))),a.ma}function Ls(a){return a.fa||(a.fa=(function(i,r,o){const h=bt(i);return h.sa(),new SS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:US.bind(null,a),t_:kS.bind(null,a),ta:zS.bind(null,a),na:LS.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await Oc(a)):(await a.fa.stop(),a.Ta.length>0&&(rt(xa,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Kd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new Kd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(a,e){if(Fi("AsyncQueue",`${e}: ${a}`),Pr(a))return new at(X.UNAVAILABLE,`${e}: ${a}`);throw a}class wr{static emptySet(e){return new wr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Wl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new wr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class M_{constructor(){this.ga=new oe(dt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class jr{constructor(e,i,r,o,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new jr(e,i,wr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class PS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class qS{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),h=o.queries;o.queries=j_(),h.forEach(((d,_)=>{for(const v of _.ba)v.onError(r)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function j_(){return new wa((a=>B0(a)),wc)}async function HS(a,e){const i=bt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new PS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Xd(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Zd(i)}async function GS(a,e){const i=bt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function QS(a,e){const i=bt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.ba)_.Fa(o)&&(r=!0);d.wa=o}}r&&Zd(i)}function FS(a,e,i){const r=bt(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Zd(a){a.Ca.forEach((e=>{e.next()}))}var vd,U_;(U_=vd||(vd={})).Ma="default",U_.Cache="cache";class YS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vd.Cache}}class Tv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class KS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=P0(e),this.tu=new wr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new M_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const M=o.get(A),Q=Rc(this.query,w)?w:null,$=!!M&&this.mutatedKeys.has(M.key),tt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let nt=!1;M&&Q?M.data.isEqual(Q.data)?$!==tt&&(r.track({type:3,doc:Q}),nt=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),nt=!0,(v&&this.eu(Q,v)>0||y&&this.eu(Q,y)<0)&&(_=!0)):!M&&Q?(r.track({type:0,doc:Q}),nt=!0):M&&!Q&&(r.track({type:1,doc:M}),nt=!0,(v||y)&&(_=!0)),nt&&(Q?(d=d.add(Q),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(Q,$){const tt=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:nt})}};return tt(Q)-tt($)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new jr(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new bv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Tv(r))})),i}cu(e){this.Za=e.ks,this.Ya=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jd="SyncEngine";class XS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ZS{constructor(e){this.key=e,this.hu=!1}}class JS{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new wa((_=>B0(_)),wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(dt.comparator),this.Au=new Map,this.Vu=new Bd,this.du={},this.mu=new Map,this.fu=Mr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $S(a,e,i=!0){const r=Cv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Av(r,e,i,!0),o}async function WS(a,e){const i=Cv(a);await Av(i,e,!0,!1)}async function Av(a,e,i,r){const o=await gS(a.localStore,Ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await t2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&gv(a.remoteStore,o),_}async function t2(a,e,i,r,o){a.pu=(w,M,Q)=>(async function(tt,nt,ht,gt){let mt=nt.view.ru(ht);mt.Ss&&(mt=await C_(tt.localStore,nt.query,!1).then((({documents:D})=>nt.view.ru(D,mt))));const At=gt&&gt.targetChanges.get(nt.targetId),Qt=gt&&gt.targetMismatches.get(nt.targetId)!=null,Ct=nt.view.applyChanges(mt,tt.isPrimaryClient,At,Qt);return L_(tt,nt.targetId,Ct.au),Ct.snapshot})(a,w,M,Q);const h=await C_(a.localStore,e,!0),d=new KS(e,h.ks),_=d.ru(h.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(_,a.isPrimaryClient,v);L_(a,i,y.au);const A=new XS(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function e2(a,e,i){const r=bt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!wc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Gd(r.remoteStore,o.targetId),Ed(r,o.targetId)})).catch(Br)):(Ed(r,o.targetId),await yd(r.localStore,o.targetId,!0))}async function n2(a,e){const i=bt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(i.remoteStore,r.targetId))}async function i2(a,e,i){const r=c2(a);try{const o=await(function(d,_){const v=bt(d),y=ne.now(),A=_.reduce(((Q,$)=>Q.add($.key)),Mt());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let $=Yi(),tt=Mt();return v.xs.getEntries(Q,A).next((nt=>{$=nt,$.forEach(((ht,gt)=>{gt.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,$))).next((nt=>{w=nt;const ht=[];for(const gt of _){const mt=mA(gt,w.get(gt.key).overlayedDocument);mt!=null&&ht.push(new Ps(gt.key,mt,I0(mt.value.mapValue),Kn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,y,ht,_)})).next((nt=>{M=nt;const ht=nt.applyToLocalDocumentSet(w,tt);return v.documentOverlayCache.saveOverlays(Q,nt.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:H0(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,v){let y=d.du[d.currentUser.toKey()];y||(y=new oe(Ot)),y=y.insert(_,v),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await Eo(r,o.changes),await Oc(r.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function Sv(a,e){const i=bt(a);try{const r=await fS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Eo(i,r,e)}catch(r){await Br(r)}}function z_(a,e,i){const r=bt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const v=bt(d);v.onlineState=_;let y=!1;v.queries.forEach(((A,w)=>{for(const M of w.ba)M.va(_)&&(y=!0)})),y&&Zd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s2(a,e,i){const r=bt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(dt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const _=Mt().add(h),v=new Dc(Et.min(),new Map,new oe(Ot),d,_);await Sv(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),$d(r)}else await yd(r.localStore,e,!1).then((()=>Ed(r,e,i))).catch(Br)}async function a2(a,e){const i=bt(a),r=e.batch.batchId;try{const o=await hS(i.localStore,e);wv(i,r,null),xv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Eo(i,o)}catch(o){await Br(o)}}async function r2(a,e,i){const r=bt(a);try{const o=await(function(d,_){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,_).next((w=>(Ft(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);wv(r,e,i),xv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Eo(r,o)}catch(o){await Br(o)}}function xv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function wv(a,e,i){const r=bt(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Ed(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||Rv(a,r)}))}function Rv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Gd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),$d(a))}function L_(a,e,i){for(const r of i)r instanceof Tv?(a.Vu.addReference(r.key,e),l2(a,r)):r instanceof bv?(rt(Jd,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||Rv(a,r.key)):yt(19791,{wu:r})}function l2(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(rt(Jd,"New document in limbo: "+i),a.Eu.add(r),$d(a))}function $d(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new dt(ee.fromString(e)),r=a.fu.next();a.Au.set(r,new ZS(i)),a.Ru=a.Ru.insert(i,r),gv(a.remoteStore,new Cs(Ei(Od(i.path)),r,"TargetPurposeLimboResolution",Ac.ce))}}async function Eo(a,e,i){const r=bt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=qd.Es(v.targetId,y);h.push(A)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,y){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(M=>Z.forEach(M.Ts,(Q=>A.persistence.referenceDelegate.addReference(w,M.targetId,Q))).next((()=>Z.forEach(M.Is,(Q=>A.persistence.referenceDelegate.removeReference(w,M.targetId,Q)))))))))}catch(w){if(!Pr(w))throw w;rt(Hd,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const Q=A.vs.get(M),$=Q.snapshotVersion,tt=Q.withLastLimboFreeSnapshotVersion($);A.vs=A.vs.insert(M,tt)}}})(r.localStore,h))}async function o2(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){rt(Jd,"User change. New user:",e.toKey());const r=await hv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eo(i,r.Ns)}}function u2(a,e){const i=bt(a),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function Cv(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s2.bind(null,e),e.Pu.J_=QS.bind(null,e.eventManager),e.Pu.yu=FS.bind(null,e.eventManager),e}function c2(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cS(this.persistence,new lS,e.initialUser,this.serializer)}Cu(e){return new cv(Pd.Vi,this.serializer)}Du(e){return new yS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class h2 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof _c,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FA(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new cv((r=>_c.Vi(r,i)),this.serializer)}}class Td{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await BS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qS})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),r=bS(e.databaseInfo);return RS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new NS(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>z_(this.syncEngine,i,0)),(function(){return V_.v()?new V_:new _S})())}createSyncEngine(e,i){return(function(o,h,d,_,v,y,A){const w=new JS(o,h,d,_,v,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);rt(xa,"RemoteStore shutting down."),r.Ea.add(5),await vo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Td.provider={build:()=>new Td};class f2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ks="FirestoreClient";class d2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{rt(ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zf(a,e){a.asyncQueue.verifyOperationInProgress(),rt(ks,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await hv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function k_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await m2(a);rt(ks,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>O_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>O_(e.remoteStore,o))),a._onlineComponents=e}async function m2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(ks,"Using user provided OfflineComponentProvider");try{await Zf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Sa("Error using user provided cache. Falling back to memory cache: "+i),await Zf(a,new Ec)}}else rt(ks,"Using default OfflineComponentProvider"),await Zf(a,new h2(void 0));return a._offlineComponents}async function Nv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(ks,"Using user provided OnlineComponentProvider"),await k_(a,a._uninitializedComponentsProvider._online)):(rt(ks,"Using default OnlineComponentProvider"),await k_(a,new Td))),a._onlineComponents}function g2(a){return Nv(a).then((e=>e.syncEngine))}async function B_(a){const e=await Nv(a),i=e.eventManager;return i.onListen=$S.bind(null,e.syncEngine),i.onUnlisten=e2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=WS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),i}function p2(a,e,i,r){const o=new f2(r),h=new YS(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>HS(await B_(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>GS(await B_(a),h)))}}function y2(a,e){const i=new Ta;return a.asyncQueue.enqueueAndForget((async()=>i2(await g2(a),e,i))),i.promise}function Dv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const _2="ComponentProvider",P_=new Map;function v2(a,e,i,r,o){return new Ub(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Dv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Vv="firestore.googleapis.com",q_=!0;class H_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vv,this.ssl=q_}else this.host=e.host,this.ssl=e.ssl??q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gb;switch(r.type){case"firstParty":return new vb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=P_.get(i);r&&(rt(_2,"Removing Datastore"),P_.delete(i),r.terminate())})(this),Promise.resolve()}}function E2(a,e,i,r={}){a=Is(a,Mc);const o=Sd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},_=`${e}:${i}`;o&&(HT(`https://${_}`),YT("Firestore",!0)),h.host!==Vv&&h.host!==_&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:o,emulatorOptions:r};if(!Cr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Ke.MOCK_USER;else{y=GT(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(w)}a._authCredentials=new pb(new E0(y,A))}}class Ca{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class Ce{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(po(i,Ce._jsonSchema))return new Ce(e,r||null,new dt(ee.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Re("string",Ce._jsonSchemaVersion),referencePath:Re("string")};class Os extends Ca{constructor(e,i,r){super(e,i,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new dt(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Jf(a,e,...i){if(a=Ai(a),T0("collection","path",e),a instanceof Mc){const r=ee.fromString(e,...i);return e_(r),new Os(a,null,r)}{if(!(a instanceof Ce||a instanceof Os))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return e_(r),new Os(a.firestore,null,r)}}function Gi(a,e,...i){if(a=Ai(a),arguments.length===1&&(e=Rd.newId()),T0("doc","path",e),a instanceof Mc){const r=ee.fromString(e,...i);return t_(r),new Ce(a,null,new dt(r))}{if(!(a instanceof Ce||a instanceof Os))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return t_(r),new Ce(a.firestore,a instanceof Os?a.converter:null,new dt(r))}}const G_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dv(this,"async_queue_retry"),this._c=()=>{const r=Xf();r&&rt(G_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Pr(e))throw e;rt(G_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Kd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Ur extends Mc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Q_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function T2(a,e){const i=typeof a=="object"?a:ib(),r=typeof a=="string"?a:dc,o=$1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=PT("firestore");h&&E2(o,...h)}return o}function Iv(a){if(a._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||b2(a),a._firestoreClient}function b2(a){const e=a._freezeSettings(),i=v2(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new d2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(po(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};class Wd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gr{constructor(e){this._methodName=e}}class bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(po(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Xn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(po(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Xn(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:Re("string",Xn._jsonSchemaVersion),vectorValues:Re("object")};const A2=/^__.*__$/;class S2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class Ov{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Mv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:a})}}class jc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new jc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Tc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Mv(this.dataSource)&&A2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class x2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vc(e)}createContext(e,i,r,o=!1){return new jc({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(a){const e=a._freezeSettings(),i=Vc(a._databaseId);return new x2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function w2(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);sm("Data must be an object, but it was:",d,r);const _=Uv(r,d);let v,y;if(h.merge)v=new vn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const M=zr(e,w,i);if(!d.contains(M))throw new at(X.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);kv(A,M)||A.push(M)}v=new vn(A),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new S2(new un(_),v,y)}class Uc extends Gr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function jv(a,e,i){return new jc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class em extends Gr{_toFieldTransform(e){return new jd(e.path,new go)}isEqual(e){return e instanceof em}}class nm extends Gr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=jv(this,e,!0),r=this.Ac.map((h=>Na(h,i))),o=new Ir(r);return new jd(e.path,o)}isEqual(e){return e instanceof nm&&Cr(this.Ac,e.Ac)}}class im extends Gr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=jv(this,e,!0),r=this.Ac.map((h=>Na(h,i))),o=new Or(r);return new jd(e.path,o)}isEqual(e){return e instanceof im&&Cr(this.Ac,e.Ac)}}function R2(a,e,i,r){const o=a.createContext(1,e,i);sm("Data must be an object, but it was:",o,r);const h=[],d=un.empty();Bs(r,((v,y)=>{const A=Lv(e,v,i);y=Ai(y);const w=o.childContextForFieldPath(A);if(y instanceof Uc)h.push(A);else{const M=Na(y,w);M!=null&&(h.push(A),d.set(A,M))}}));const _=new vn(h);return new Ov(d,_,o.fieldTransforms)}function C2(a,e,i,r,o,h){const d=a.createContext(1,e,i),_=[zr(e,r,i)],v=[o];if(h.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<h.length;M+=2)_.push(zr(e,h[M])),v.push(h[M+1]);const y=[],A=un.empty();for(let M=_.length-1;M>=0;--M)if(!kv(y,_[M])){const Q=_[M];let $=v[M];$=Ai($);const tt=d.childContextForFieldPath(Q);if($ instanceof Uc)y.push(Q);else{const nt=Na($,tt);nt!=null&&(y.push(Q),A.set(Q,nt))}}const w=new vn(y);return new Ov(A,w,d.fieldTransforms)}function N2(a,e,i,r=!1){return Na(i,a.createContext(r?4:3,e))}function Na(a,e){if(zv(a=Ai(a)))return sm("Unsupported field value:",e,a),Uv(a,e);if(a instanceof Gr)return(function(r,o){if(!Mv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let v=Na(_,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=Ai(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:yc(o.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(r instanceof bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:ev(o.serializer,r._byteString)};if(r instanceof Ce){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:kd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xn)return(function(d,_){const v=d instanceof Xn?d.toArray():d;return{mapValue:{fields:{[D0]:{stringValue:V0},[mc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw _.createError("VectorValues must only contain numeric values.");return Md(_.serializer,A)}))}}}}}})(r,o);if(ov(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${bc(r)}`)})(a,e)}function Uv(a,e){const i={};return S0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(a,((r,o)=>{const h=Na(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function zv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof bi||a instanceof On||a instanceof Ce||a instanceof Gr||a instanceof Xn||ov(a))}function sm(a,e,i){if(!zv(i)||!b0(i)){const r=bc(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function zr(a,e,i){if((e=Ai(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return Lv(a,e);throw Tc("Field path arguments must be of type string or ",a,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function Lv(a,e,i){if(e.search(D2)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wd(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Tc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new at(X.INVALID_ARGUMENT,_+a+v)}function kv(a,e){return a.some((i=>i.isEqual(e)))}class V2{convertValue(e,i="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Bs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[mc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Xn(i)}convertGeoPoint(e){return new bi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=js(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Ft(lv(r),9688,{name:e});const o=new ho(r.get(1),r.get(3)),h=new dt(r.popFirst(5));return o.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Bv extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function Y_(){return new em("serverTimestamp")}function K_(...a){return new nm("arrayUnion",a)}function X_(...a){return new im("arrayRemove",a)}const Z_="@firebase/firestore",J_="4.11.0";function $_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Pv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(zr("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I2 extends Pv{data(){return super.data()}}function O2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class am{}class qv extends am{}function M2(a,e,...i){let r=[];e instanceof am&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof lm)).length,_=h.filter((v=>v instanceof rm)).length;if(d>1||d>0&&_>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class rm extends qv{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new rm(e,i,r)}_apply(e){const i=this._parse(e);return Hv(e._query,i),new Ca(e.firestore,e.converter,hd(e._query,i))}_parse(e){const i=tm(e.firestore);return(function(h,d,_,v,y,A,w){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){t0(w,A);const $=[];for(const tt of w)$.push(W_(v,h,tt));M={arrayValue:{values:$}}}else M=W_(v,h,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||t0(w,A),M=N2(_,d,w,A==="in"||A==="not-in");return we.create(y,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class lm extends am{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new lm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const _=h.getFlattenedFilters();for(const v of _)Hv(d,v),d=hd(d,v)})(e._query,i),new Ca(e.firestore,e.converter,hd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class om extends qv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new om(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mo(h,d)})(e._query,this._field,this._direction);return new Ca(e.firestore,e.converter,tA(e._query,i))}}function j2(a,e="asc"){const i=e,r=zr("orderBy",a);return om._create(r,i)}function W_(a,e,i){if(typeof(i=Ai(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k0(e)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ee.fromString(i));if(!dt.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return u_(a,new dt(r))}if(i instanceof Ce)return u_(a,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bc(i)}.`)}function t0(a,e){if(!Array.isArray(a)||a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hv(a,e){const i=(function(o,h){for(const d of o)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function U2(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class eo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends Pv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(zr("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Re("string",ba._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class lc extends ba{data(e={}){return super.data(e)}}class Rr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new eo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new lc(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const v=new lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new eo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new lc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new eo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),A=d.indexOf(_.doc.key)),{type:z2(_.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}Rr._jsonSchemaVersion="firestore/querySnapshot/1.0",Rr._jsonSchema={type:Re("string",Rr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function Rs(a,e,i,...r){a=Is(a,Ce);const o=Is(a.firestore,Ur),h=tm(o);let d;return d=typeof(e=Ai(e))=="string"||e instanceof Wd?C2(h,"updateDoc",a._key,e,i,r):R2(h,"updateDoc",a._key,e),um(o,[d.toMutation(a._key,Kn.exists(!0))])}function L2(a){return um(Is(a.firestore,Ur),[new Ud(a._key,Kn.none())])}function e0(a,e){const i=Is(a.firestore,Ur),r=Gi(a),o=U2(a.converter,e),h=tm(a.firestore);return um(i,[w2(h,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function k2(a,...e){a=Ai(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,_;if(a instanceof Ce)d=Is(a.firestore,Ur),_=Od(a._key.path),h={next:y=>{e[r]&&e[r](B2(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Is(a,Ca);d=Is(y.firestore,Ur),_=y._query;const A=new Bv(d);h={next:w=>{e[r]&&e[r](new Rr(d,A,y,w))},error:e[r+1],complete:e[r+2]},O2(a._query)}const v=Iv(d);return p2(v,_,o,h)}function um(a,e){const i=Iv(a);return y2(i,e)}function B2(a,e,i){const r=i.docs.get(e._key),o=new Bv(a);return new ba(a,o,e._key,r,new eo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){mb(nb),hc(new lo("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new Ur(new yb(r.getProvider("auth-internal")),new Eb(d,r.getProvider("app-check-internal")),zb(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),Sr(Z_,J_,e),Sr(Z_,J_,"esm2020")})();var P2="firebase",q2="12.9.0";Sr(P2,q2,"app");const oc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},H2=c0(oc),Fn=T2(H2),ln=()=>!!(oc.apiKey&&oc.projectId&&oc.apiKey!=="demo-key"),n0="quotebook_quotes",Yn="quotes";function G2(){const[a,e]=_t.useState([]),[i,r]=_t.useState(!0),[o,h]=_t.useState(null),[d,_]=_t.useState(!1),[v,y]=_t.useState("newest");_t.useEffect(()=>{if(ln()){_(!0);const N=M2(Jf(Fn,Yn),j2("timestamp","desc")),R=k2(N,C=>{const S=[];C.forEach(it=>{const W=it.data();S.push({id:it.id,text:W.text,speaker:W.speaker,addedBy:W.addedBy,timestamp:W.timestamp instanceof ne?W.timestamp.toMillis():W.timestamp||Date.now(),likes:W.likes||[],comments:(W.comments||[]).map(z=>({...z,likes:z.likes||[],replies:(z.replies||[]).map(J=>({...J,likes:J.likes||[]}))}))})}),e(S),r(!1),h(null)},C=>{console.error("Firestore error:",C),h("Failed to connect to database. Check your Firebase config."),r(!1),A()});return()=>R()}else _(!1),A(),r(!1)},[]);const A=()=>{const N=localStorage.getItem(n0);if(N)try{const C=JSON.parse(N).map(S=>({...S,likes:S.likes||[],comments:(S.comments||[]).map(it=>({...it,likes:it.likes||[],replies:(it.replies||[]).map(W=>({...W,likes:W.likes||[]}))}))}));e(C)}catch{e([])}},w=_t.useCallback(N=>{localStorage.setItem(n0,JSON.stringify(N)),e(N)},[]),M=_t.useCallback(()=>{const N=[...a];switch(v){case"newest":return N.sort((R,C)=>C.timestamp-R.timestamp);case"oldest":return N.sort((R,C)=>R.timestamp-C.timestamp);case"mostLiked":return N.sort((R,C)=>C.likes.length-R.likes.length);default:return N}},[a,v]),Q=_t.useCallback(async(N,R,C)=>{const S={text:N,speaker:R.trim(),addedBy:C.trim(),timestamp:Date.now(),likes:[],comments:[]};if(d&&ln())try{await e0(Jf(Fn,Yn),{...S,timestamp:Y_()})}catch(it){console.error("Error adding quote:",it),h("Failed to add quote. Please try again.")}else{const it={...S,id:crypto.randomUUID()};w([it,...a])}},[a,d,w]),$=_t.useCallback(async N=>{if(d&&ln())try{await L2(Gi(Fn,Yn,N))}catch(R){console.error("Error deleting quote:",R),h("Failed to delete quote. Please try again.")}else w(a.filter(R=>R.id!==N))},[a,d,w]),tt=_t.useCallback(async(N,R)=>{const C=a.find(it=>it.id===N);if(!C)return;const S=C.likes.includes(R);if(d&&ln())try{const it=Gi(Fn,Yn,N);S?await Rs(it,{likes:X_(R)}):await Rs(it,{likes:K_(R)})}catch(it){console.error("Error toggling like:",it),h("Failed to update like. Please try again.")}else{const it=a.map(W=>W.id===N?{...W,likes:S?W.likes.filter(z=>z!==R):[...W.likes,R]}:W);w(it)}},[a,d,w]),nt=_t.useCallback(async(N,R,C)=>{const S={id:crypto.randomUUID(),text:R.trim(),author:C.trim(),timestamp:Date.now(),likes:[],replies:[]};if(d&&ln())try{const it=Gi(Fn,Yn,N);await Rs(it,{comments:K_(S)})}catch(it){console.error("Error adding comment:",it),h("Failed to add comment. Please try again.")}else{const it=a.map(W=>W.id===N?{...W,comments:[...W.comments,S]}:W);w(it)}},[a,d,w]),ht=_t.useCallback(async(N,R)=>{const C=a.find(it=>it.id===N);if(!C)return;const S=C.comments.find(it=>it.id===R);if(S)if(d&&ln())try{const it=Gi(Fn,Yn,N);await Rs(it,{comments:X_(S)})}catch(it){console.error("Error deleting comment:",it),h("Failed to delete comment. Please try again.")}else{const it=a.map(W=>W.id===N?{...W,comments:W.comments.filter(z=>z.id!==R)}:W);w(it)}},[a,d,w]),gt=_t.useCallback(async(N,R,C)=>{const S=a.find(W=>W.id===N);if(!S)return;const it=S.comments.map(W=>{if(W.id===R){const z=W.likes.includes(C);return{...W,likes:z?W.likes.filter(J=>J!==C):[...W.likes,C]}}return W});if(d&&ln())try{const W=Gi(Fn,Yn,N);await Rs(W,{comments:it})}catch(W){console.error("Error toggling comment like:",W),h("Failed to update like. Please try again.")}else{const W=a.map(z=>z.id===N?{...z,comments:it}:z);w(W)}},[a,d,w]),mt=_t.useCallback(async(N,R,C,S)=>{const it=a.find(J=>J.id===N);if(!it)return;const W={id:crypto.randomUUID(),text:C.trim(),author:S.trim(),timestamp:Date.now(),likes:[]},z=it.comments.map(J=>J.id===R?{...J,replies:[...J.replies,W]}:J);if(d&&ln())try{const J=Gi(Fn,Yn,N);await Rs(J,{comments:z})}catch(J){console.error("Error adding reply:",J),h("Failed to add reply. Please try again.")}else{const J=a.map(ut=>ut.id===N?{...ut,comments:z}:ut);w(J)}},[a,d,w]),At=_t.useCallback(async(N,R,C)=>{const S=a.find(W=>W.id===N);if(!S)return;const it=S.comments.map(W=>W.id===R?{...W,replies:W.replies.filter(z=>z.id!==C)}:W);if(d&&ln())try{const W=Gi(Fn,Yn,N);await Rs(W,{comments:it})}catch(W){console.error("Error deleting reply:",W),h("Failed to delete reply. Please try again.")}else{const W=a.map(z=>z.id===N?{...z,comments:it}:z);w(W)}},[a,d,w]),Qt=_t.useCallback(async(N,R,C,S)=>{const it=a.find(z=>z.id===N);if(!it)return;const W=it.comments.map(z=>{if(z.id===R){const J=z.replies.map(ut=>{if(ut.id===C){const jt=ut.likes.includes(S);return{...ut,likes:jt?ut.likes.filter(qt=>qt!==S):[...ut.likes,S]}}return ut});return{...z,replies:J}}return z});if(d&&ln())try{const z=Gi(Fn,Yn,N);await Rs(z,{comments:W})}catch(z){console.error("Error toggling reply like:",z),h("Failed to update like. Please try again.")}else{const z=a.map(J=>J.id===N?{...J,comments:W}:J);w(z)}},[a,d,w]),Ct=_t.useCallback(()=>{const N=new Map;return a.forEach(R=>{const C=N.get(R.speaker)||0;N.set(R.speaker,C+1)}),Array.from(N.entries()).map(([R,C])=>({name:R,quoteCount:C})).sort((R,C)=>C.quoteCount-R.quoteCount)},[a]),D=_t.useCallback(N=>a.filter(R=>R.speaker===N),[a]),x=_t.useCallback(()=>{const N=JSON.stringify(a,null,2),R=new Blob([N],{type:"application/json"}),C=URL.createObjectURL(R),S=document.createElement("a");S.href=C,S.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,S.click(),URL.revokeObjectURL(C)},[a]),I=_t.useCallback(async N=>{const R=new FileReader;R.onload=async C=>{try{const S=JSON.parse(C.target?.result);if(Array.isArray(S)){const it=S.filter(W=>W.text&&W.speaker&&W.addedBy);if(d&&ln())for(const W of it)await e0(Jf(Fn,Yn),{text:W.text,speaker:W.speaker,addedBy:W.addedBy,timestamp:W.timestamp||Y_(),likes:W.likes||[],comments:W.comments||[]});else{const W=it.map(z=>({...z,id:z.id||crypto.randomUUID(),timestamp:z.timestamp||Date.now(),likes:z.likes||[],comments:z.comments||[]}));w([...W,...a])}}}catch{alert("Invalid file format")}},R.readAsText(N)},[a,d,w]);return{quotes:M(),loading:i,error:o,usingFirebase:d,sortOption:v,setSortOption:y,addQuote:Q,deleteQuote:$,toggleLike:tt,addComment:nt,deleteComment:ht,toggleCommentLike:gt,addReply:mt,deleteReply:At,toggleReplyLike:Qt,getPeople:Ct,getQuotesBySpeaker:D,exportData:x,importData:I}}const $f=10;function ec(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function Q2(a){const[e,i]=_t.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:$f,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=_t.useCallback(()=>[...new Set(a.map(y=>y.speaker))],[a]),o=_t.useCallback((y,A)=>{const w=A.filter($=>$!==y),M=ec(w),Q=[y,...M.slice(0,3)];return ec(Q)},[]),h=_t.useCallback(()=>{const y=r();if(y.length<2||a.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const w=ec(a)[0],M=o(w.speaker,y);i({isPlaying:!0,currentQuote:w,options:M,score:0,totalRounds:Math.min($f,a.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[a,r,o]),d=_t.useCallback(y=>{if(!e.currentQuote||e.answered)return;const A=y===e.currentQuote.speaker;i(w=>({...w,answered:!0,selectedAnswer:y,isCorrect:A,score:A?w.score+1:w.score,gameHistory:[...w.gameHistory,{quote:w.currentQuote,correct:A,guessed:y}]}))},[e.currentQuote,e.answered]),_=_t.useCallback(()=>{if(e.currentRound>=e.totalRounds){i(tt=>({...tt,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map(tt=>tt.quote.id);y.push(e.currentQuote?.id||"");const A=a.filter(tt=>!y.includes(tt.id));if(A.length===0){i(tt=>({...tt,isPlaying:!1,currentQuote:null}));return}const M=ec(A)[0],Q=r(),$=o(M.speaker,Q);i(tt=>({...tt,currentQuote:M,options:$,currentRound:tt.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[a,e,r,o]),v=_t.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:$f,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:_,endGame:v,canPlay:r().length>=2&&a.length>=3}}const Wf="quotebook_user";function F2(){const[a,e]=_t.useState(null);_t.useEffect(()=>{const d=localStorage.getItem(Wf);if(d)try{e(JSON.parse(d))}catch{e(null)}},[]);const i=_t.useCallback(d=>{localStorage.setItem(Wf,JSON.stringify(d)),e(d)},[]),r=_t.useCallback(d=>{const _=a?{...a,name:d}:{name:d,gamesPlayed:0,totalScore:0,bestScore:0};i(_)},[a,i]),o=_t.useCallback(d=>{if(!a)return;const _={...a,gamesPlayed:a.gamesPlayed+1,totalScore:a.totalScore+d,bestScore:Math.max(a.bestScore,d)};i(_)},[a,i]),h=_t.useCallback(()=>{localStorage.removeItem(Wf),e(null)},[]);return{user:a,setUsername:r,recordGameScore:o,logout:h}}function Y2({user:a,activeTab:e,setActiveTab:i}){return T.jsx("header",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:T.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-bold",children:"Quote Book"}),a&&T.jsxs("p",{className:"text-sm text-white/70",children:["Welcome, ",a.name,"!"]})]})]}),T.jsxs("nav",{className:"flex gap-1 bg-white/10 rounded-lg p-1",children:[T.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="quotes"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Quotes"}),T.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="game"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Game"}),T.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${e==="settings"?"bg-white text-indigo-600":"hover:bg-white/10"}`,children:" Settings"})]})]})})})}function K2({quote:a,currentUser:e,onDelete:i,onToggleLike:r,onAddComment:o,onDeleteComment:h,onToggleCommentLike:d,onAddReply:_,onDeleteReply:v,onToggleReplyLike:y}){const[A,w]=_t.useState(!1),[M,Q]=_t.useState(""),[$,tt]=_t.useState(!1),[nt,ht]=_t.useState(null),[gt,mt]=_t.useState(""),At=a.likes.includes(e),Qt=a.addedBy===e,Ct=()=>{r(a.id,e)},D=async C=>{C.preventDefault(),!(!M.trim()||$)&&(tt(!0),await o(a.id,M,e),Q(""),tt(!1))},x=async C=>{!gt.trim()||$||(tt(!0),await _(a.id,C,gt,e),mt(""),ht(null),tt(!1))},I=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),N=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=()=>{let C=a.comments.length;return a.comments.forEach(S=>{C+=S.replies.length}),C};return T.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[T.jsxs("div",{className:"mb-4",children:[T.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',a.text,'"']}),T.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",a.speaker]})]}),T.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[T.jsxs("span",{children:["Added by ",a.addedBy]}),T.jsx("span",{children:I(a.timestamp)})]}),T.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[T.jsxs("button",{onClick:Ct,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${At?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.jsx("span",{children:At?"":""}),T.jsx("span",{className:"font-medium",children:a.likes.length})]}),T.jsxs("button",{onClick:()=>w(!A),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[T.jsx("span",{children:""}),T.jsx("span",{className:"font-medium",children:R()})]}),Qt&&T.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&i(a.id)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),A&&T.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[T.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",R(),")"]}),a.comments.length>0?T.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:a.comments.map(C=>T.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[T.jsxs("div",{className:"relative group",children:[T.jsx("p",{className:"text-gray-700 text-sm",children:C.text}),T.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[T.jsx("span",{className:"font-medium",children:C.author}),T.jsx("span",{children:N(C.timestamp)})]}),C.author===e&&T.jsx("button",{onClick:()=>h(a.id,C.id),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]}),T.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-200",children:[T.jsxs("button",{onClick:()=>d(a.id,C.id,e),className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${C.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.jsx("span",{children:C.likes.includes(e)?"":""}),T.jsx("span",{children:C.likes.length})]}),T.jsxs("button",{onClick:()=>ht(nt===C.id?null:C.id),className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[T.jsx("span",{children:""}),T.jsx("span",{children:"Reply"})]})]}),nt===C.id&&T.jsxs("div",{className:"mt-3 flex gap-2",children:[T.jsx("input",{type:"text",value:gt,onChange:S=>mt(S.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs"}),T.jsx("button",{onClick:()=>x(C.id),disabled:!gt.trim()||$,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium",children:$?"...":"Reply"}),T.jsx("button",{onClick:()=>{ht(null),mt("")},className:"px-3 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 text-xs",children:"Cancel"})]}),C.replies.length>0&&T.jsx("div",{className:"mt-3 ml-4 space-y-2 border-l-2 border-indigo-200 pl-3",children:C.replies.map(S=>T.jsxs("div",{className:"bg-white rounded-lg p-2 relative group",children:[T.jsx("p",{className:"text-gray-700 text-xs",children:S.text}),T.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-500",children:[T.jsx("span",{className:"font-medium",children:S.author}),T.jsx("span",{children:N(S.timestamp)})]}),T.jsx("div",{className:"flex items-center gap-2 mt-1",children:T.jsxs("button",{onClick:()=>y(a.id,C.id,S.id,e),className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded transition-colors ${S.likes.includes(e)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[T.jsx("span",{children:S.likes.includes(e)?"":""}),T.jsx("span",{children:S.likes.length})]})}),S.author===e&&T.jsx("button",{onClick:()=>v(a.id,C.id,S.id),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},S.id))})]},C.id))}):T.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),T.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[T.jsx("input",{type:"text",value:M,onChange:C=>Q(C.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),T.jsx("button",{type:"submit",disabled:!M.trim()||$,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:$?"...":"Post"})]})]})]})}function X2({quotes:a,people:e,currentUser:i,sortOption:r,onSortChange:o,onAddQuote:h,onDeleteQuote:d,onToggleLike:_,onAddComment:v,onDeleteComment:y,onToggleCommentLike:A,onAddReply:w,onDeleteReply:M,onToggleReplyLike:Q}){const[$,tt]=_t.useState(!1),[nt,ht]=_t.useState(""),[gt,mt]=_t.useState(""),[At,Qt]=_t.useState(""),Ct=x=>{x.preventDefault(),!(!nt.trim()||!gt.trim())&&(h(nt,gt,i),ht(""),mt(""),tt(!1))},D=At?a.filter(x=>x.speaker===At):a;return T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),T.jsxs("p",{className:"text-gray-500",children:[a.length," quote",a.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),T.jsx("button",{onClick:()=>tt(!$),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:$?" Cancel":"+ Add Quote"})]}),$&&T.jsxs("form",{onSubmit:Ct,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),T.jsx("textarea",{value:nt,onChange:x=>ht(x.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),T.jsx("input",{type:"text",value:gt,onChange:x=>mt(x.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),T.jsx("datalist",{id:"speakers",children:e.map(x=>T.jsx("option",{value:x.name},x.name))})]}),T.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[T.jsx("div",{className:"flex-1",children:T.jsxs("select",{value:At,onChange:x=>Qt(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[T.jsx("option",{value:"",children:"All Speakers"}),e.map(x=>T.jsxs("option",{value:x.name,children:[x.name," (",x.quoteCount,")"]},x.name))]})}),T.jsx("div",{className:"flex-1",children:T.jsxs("select",{value:r,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[T.jsx("option",{value:"newest",children:" Newest First"}),T.jsx("option",{value:"oldest",children:" Oldest First"}),T.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),D.length>0?T.jsx("div",{className:"grid gap-6",children:D.map(x=>T.jsx(K2,{quote:x,currentUser:i,onDelete:d,onToggleLike:_,onAddComment:v,onDeleteComment:y,onToggleCommentLike:A,onAddReply:w,onDeleteReply:M,onToggleReplyLike:Q},x.id))}):T.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[T.jsx("p",{className:"text-6xl mb-4",children:""}),T.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:At?"No quotes from this person":"No quotes yet"}),T.jsx("p",{className:"text-gray-500",children:At?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function Z2({gameState:a,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:_}){const v=!a.isPlaying&&a.gameHistory.length>0;if(!a.isPlaying&&!v)return T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),T.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),T.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),T.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?T.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):T.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[T.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),T.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(v){const y=Math.round(a.score/a.gameHistory.length*100),A=()=>{_(a.score),d(),r()},w=()=>{_(a.score),d()};return T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),T.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[a.score,"/",a.gameHistory.length]}),T.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),T.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[T.jsx("button",{onClick:A,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),T.jsx("button",{onClick:w,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),T.jsxs("div",{className:"border-t pt-6",children:[T.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),T.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:a.gameHistory.map((M,Q)=>T.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${M.correct?"bg-green-50":"bg-red-50"}`,children:[T.jsx("span",{className:"text-lg",children:M.correct?"":""}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',M.quote.text,'"']}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",T.jsx("span",{className:"font-semibold",children:M.quote.speaker}),!M.correct&&T.jsxs("span",{children:["  You guessed: ",M.guessed]})]})]})]},Q))})]})]})})}return T.jsxs("div",{className:"max-w-2xl mx-auto",children:[T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[T.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsxs("span",{className:"font-medium",children:["Round ",a.currentRound," of ",a.totalRounds]}),T.jsxs("span",{className:"font-bold",children:["Score: ",a.score]})]}),T.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${a.currentRound/a.totalRounds*100}%`}})})]}),T.jsxs("div",{className:"p-8",children:[T.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[T.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),T.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:a.currentQuote?.text})]}),T.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.options.map(y=>{let A="p-4 rounded-xl font-medium transition text-left border-2 ";return a.answered?y===a.currentQuote?.speaker?A+="border-green-500 bg-green-50 text-green-700":y===a.selectedAnswer&&!a.isCorrect?A+="border-red-500 bg-red-50 text-red-700":A+="border-gray-200 bg-gray-50 text-gray-400":A+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",T.jsx("button",{onClick:()=>o(y),disabled:a.answered,className:A,children:T.jsxs("span",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),a.answered&&T.jsxs("div",{className:"mt-6 text-center",children:[T.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${a.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isCorrect?" Correct!":` It was ${a.currentQuote?.speaker}`}),T.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:a.currentRound>=a.totalRounds?"See Results":"Next Question "})]})]})]}),T.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function Gv({onDismiss:a}){return T.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:T.jsxs("div",{className:"flex items-start justify-between gap-4",children:[T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("span",{className:"text-2xl",children:""}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),T.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),T.jsxs("details",{className:"text-sm",children:[T.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),T.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Go to ",T.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),T.jsx("li",{children:'Click "Create a project" (or "Add project")'}),T.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),T.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),T.jsx("li",{children:'Click "Create project"'})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),T.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),T.jsx("li",{children:'Click "Register app"'}),T.jsxs("li",{children:["Copy the ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),T.jsx("li",{children:'Click "Create database"'}),T.jsxs("li",{children:['Select "Start in ',T.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),T.jsx("li",{children:"Choose a location close to you"}),T.jsx("li",{children:'Click "Enable"'})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Open ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),T.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),T.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),T.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[T.jsxs("li",{children:["Run ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),T.jsxs("li",{children:["Upload the new ",T.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),T.jsx("li",{children:"Share the URL with your friends! "})]})]}),T.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:T.jsxs("p",{className:"text-blue-800 text-sm",children:[T.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),a&&T.jsx("button",{onClick:a,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function J2({user:a,quotes:e,usingFirebase:i,onSetUsername:r,onLogout:o,onExport:h,onImport:d}){const _=_t.useRef(null),v=y=>{const A=y.target.files?.[0];A&&(d(A),y.target.value="")};return T.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[T.jsx("div",{className:`rounded-xl shadow-md p-6 ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white":"bg-white"}`,children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${i?"bg-white/20":"bg-amber-100"}`,children:T.jsx("span",{className:"text-2xl",children:i?"":""})}),T.jsxs("div",{children:[T.jsx("h2",{className:`text-lg font-semibold ${i?"text-white":"text-gray-800"}`,children:i?"Real-Time Sync Enabled!":"Local Storage Mode"}),T.jsx("p",{className:i?"text-green-100":"text-gray-500",children:i?"All quotes sync automatically with your friends":"Quotes are saved only on this device"})]})]})}),!ln()&&T.jsx(Gv,{}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600",children:""}),"User Profile"]}),a?T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[T.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:a.name.charAt(0).toUpperCase()}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:a.name}),T.jsx("p",{className:"text-gray-500",children:"Quote Collector"})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:a.gamesPlayed}),T.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.bestScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[T.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.totalScore}),T.jsx("p",{className:"text-xs text-gray-500",children:"Total Points"})]})]}),T.jsx("button",{onClick:o,className:"text-red-500 hover:text-red-600 text-sm font-medium",children:"Change Username"})]}):T.jsxs("form",{onSubmit:y=>{y.preventDefault();const w=y.target.elements.namedItem("username");w.value.trim()&&(r(w.value.trim()),w.value="")},children:[T.jsx("p",{className:"text-gray-500 mb-4",children:"Set your username to track your game scores and quotes you add."}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("input",{name:"username",type:"text",placeholder:"Enter your name",className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),T.jsx("button",{type:"submit",className:"px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition",children:"Save"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600",children:""}),"Data Management"]}),T.jsx("p",{className:"text-gray-500 mb-4",children:i?"Export quotes for backup, or import quotes from a file.":"Export your quotes to share with friends or import quotes from others."}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:h,disabled:e.length===0,className:"flex-1 py-3 bg-green-100 text-green-700 font-medium rounded-lg hover:bg-green-200 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export (",e.length," quotes)"]}),T.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 py-3 bg-blue-100 text-blue-700 font-medium rounded-lg hover:bg-blue-200 transition flex items-center justify-center gap-2",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import"]}),T.jsx("input",{ref:_,type:"file",accept:".json",onChange:v,className:"hidden"})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600",children:""}),"Share with Friends"]}),i?T.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4",children:[T.jsx("h3",{className:"font-medium text-green-800 mb-2",children:" Easy Sharing!"}),T.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Just share this website's URL with your friends. Everyone who visits will see the same quotes and can add new ones!"}),T.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("URL copied to clipboard!")},className:"w-full py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition",children:" Copy Link to Share"})]}):T.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4",children:[T.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:" Manual Sharing"}),T.jsx("p",{className:"text-sm text-amber-700",children:"Without Firebase, you'll need to manually share quotes:"}),T.jsxs("ol",{className:"text-sm text-amber-700 mt-2 space-y-1 list-decimal list-inside",children:[T.jsx("li",{children:"Export your quotes using the button above"}),T.jsx("li",{children:"Send the JSON file to your friends"}),T.jsx("li",{children:"Have them import the file"})]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[T.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[T.jsx("span",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600",children:""}),"Statistics"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white",children:[T.jsx("p",{className:"text-3xl font-bold",children:e.length}),T.jsx("p",{className:"text-sm opacity-80",children:"Total Quotes"})]}),T.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl p-4 text-white",children:[T.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(y=>y.speaker)).size}),T.jsx("p",{className:"text-sm opacity-80",children:"People"})]})]})]})]})}function $2({onSetUsername:a}){const e=i=>{i.preventDefault();const o=i.target.elements.namedItem("username");o.value.trim()&&a(o.value.trim())};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg transform -rotate-6",children:T.jsx("span",{className:"text-4xl",children:""})}),T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),T.jsx("p",{className:"text-gray-500",children:"Collect memorable quotes from your friends and play the guessing game!"})]}),T.jsxs("div",{className:"space-y-4 mb-8",children:[T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Collect Quotes"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Save memorable things your friends say"})]})]}),T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Play Games"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Guess who said what in fun rounds"})]})]}),T.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 rounded-xl",children:[T.jsx("span",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center text-xl",children:""}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:"Share & Collaborate"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Export and import quotes with friends"})]})]})]}),T.jsxs("form",{onSubmit:e,children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your name?"}),T.jsx("input",{name:"username",type:"text",placeholder:"Enter your name to get started",autoFocus:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent mb-4"}),T.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg",children:"Get Started "})]})]})})}function W2(){const[a,e]=_t.useState("quotes"),[i,r]=_t.useState(!ln()),{user:o,setUsername:h,recordGameScore:d,logout:_}=F2(),{quotes:v,loading:y,error:A,usingFirebase:w,sortOption:M,setSortOption:Q,addQuote:$,deleteQuote:tt,toggleLike:nt,addComment:ht,deleteComment:gt,toggleCommentLike:mt,addReply:At,deleteReply:Qt,toggleReplyLike:Ct,getPeople:D,exportData:x,importData:I}=G2(),{gameState:N,startGame:R,submitAnswer:C,nextRound:S,endGame:it,canPlay:W}=Q2(v);return o?T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[T.jsx(Y2,{user:o,activeTab:a,setActiveTab:e}),T.jsx("div",{className:`text-center py-2 text-sm font-medium ${w?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:w?T.jsx("span",{children:" Connected to cloud  Changes sync in real-time!"}):T.jsx("span",{children:" Using local storage  Set up Firebase for real-time sync"})}),A&&T.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",A]}),T.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!ln()&&a==="quotes"&&T.jsx(Gv,{onDismiss:()=>r(!1)}),y?T.jsx("div",{className:"flex items-center justify-center py-20",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):T.jsxs(T.Fragment,{children:[a==="quotes"&&T.jsx(X2,{quotes:v,people:D(),currentUser:o.name,sortOption:M,onSortChange:Q,onAddQuote:$,onDeleteQuote:tt,onToggleLike:nt,onAddComment:ht,onDeleteComment:gt,onToggleCommentLike:mt,onAddReply:At,onDeleteReply:Qt,onToggleReplyLike:Ct}),a==="game"&&T.jsx(Z2,{gameState:N,canPlay:W,user:o,onStartGame:R,onSubmitAnswer:C,onNextRound:S,onEndGame:it,onRecordScore:d}),a==="settings"&&T.jsx(J2,{user:o,quotes:v,usingFirebase:w,onSetUsername:h,onLogout:_,onExport:x,onImport:I})]})]}),T.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[T.jsx("p",{children:"Quote Book  Collect & Play with Friends"}),T.jsx("p",{className:"text-xs mt-1",children:w?" Real-time sync enabled":" Local mode"})]})]}):T.jsx($2,{onSetUsername:h})}DT.createRoot(document.getElementById("root")).render(T.jsx(_t.StrictMode,{children:T.jsx(W2,{})}));
