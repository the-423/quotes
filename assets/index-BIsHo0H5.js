(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Gf={exports:{}},Zl={};var ky;function Mb(){if(ky)return Zl;ky=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var Uy;function kb(){return Uy||(Uy=1,Gf.exports=Mb()),Gf.exports}var g=kb(),Qf={exports:{}},Nt={};var Ly;function Ub(){if(Ly)return Nt;Ly=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function k(A){return A===null||typeof A!="object"?null:(A=N&&A[N]||A["@@iterator"],typeof A=="function"?A:null)}var it={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ut(A,q,rt){this.props=A,this.context=q,this.refs=J,this.updater=rt||it}ut.prototype.isReactComponent={},ut.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},ut.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function vt(){}vt.prototype=ut.prototype;function pt(A,q,rt){this.props=A,this.context=q,this.refs=J,this.updater=rt||it}var At=pt.prototype=new vt;At.constructor=pt,tt(At,ut.prototype),At.isPureReactComponent=!0;var Dt=Array.isArray;function Tt(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(A,q,rt){var Y=rt.ref;return{$$typeof:a,type:A,key:q,ref:Y!==void 0?Y:null,props:rt}}function M(A,q){return D(A.type,q,A.props)}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===a}function R(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(rt){return q[rt]})}var T=/\/+/g;function lt(A,q){return typeof A=="object"&&A!==null&&A.key!=null?R(""+A.key):q.toString(36)}function ft(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Tt,Tt):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,q,rt,Y,gt){var xt=typeof A;(xt==="undefined"||xt==="boolean")&&(A=null);var Rt=!1;if(A===null)Rt=!0;else switch(xt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(A.$$typeof){case a:case e:Rt=!0;break;case x:return Rt=A._init,L(Rt(A._payload),q,rt,Y,gt)}}if(Rt)return gt=gt(A),Rt=Y===""?"."+lt(A,0):Y,Dt(gt)?(rt="",Rt!=null&&(rt=Rt.replace(T,"$&/")+"/"),L(gt,q,rt,"",function(sn){return sn})):gt!=null&&(O(gt)&&(gt=M(gt,rt+(gt.key==null||A&&A.key===gt.key?"":(""+gt.key).replace(T,"$&/")+"/")+Rt)),q.push(gt)),1;Rt=0;var wt=Y===""?".":Y+":";if(Dt(A))for(var Qt=0;Qt<A.length;Qt++)Y=A[Qt],xt=wt+lt(Y,Qt),Rt+=L(Y,q,rt,xt,gt);else if(Qt=k(A),typeof Qt=="function")for(A=Qt.call(A),Qt=0;!(Y=A.next()).done;)Y=Y.value,xt=wt+lt(Y,Qt++),Rt+=L(Y,q,rt,xt,gt);else if(xt==="object"){if(typeof A.then=="function")return L(ft(A),q,rt,Y,gt);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function G(A,q,rt){if(A==null)return A;var Y=[],gt=0;return L(A,Y,"","",function(xt){return q.call(rt,xt,gt++)}),Y}function st(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(rt){(A._status===0||A._status===-1)&&(A._status=1,A._result=rt)},function(rt){(A._status===0||A._status===-1)&&(A._status=2,A._result=rt)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var Z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},K={map:G,forEach:function(A,q,rt){G(A,function(){q.apply(this,arguments)},rt)},count:function(A){var q=0;return G(A,function(){q++}),q},toArray:function(A){return G(A,function(q){return q})||[]},only:function(A){if(!O(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Nt.Activity=w,Nt.Children=K,Nt.Component=ut,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=pt,Nt.StrictMode=r,Nt.Suspense=E,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},Nt.cache=function(A){return function(){return A.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(A,q,rt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Y=tt({},A.props),gt=A.key;if(q!=null)for(xt in q.key!==void 0&&(gt=""+q.key),q)!C.call(q,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&q.ref===void 0||(Y[xt]=q[xt]);var xt=arguments.length-2;if(xt===1)Y.children=rt;else if(1<xt){for(var Rt=Array(xt),wt=0;wt<xt;wt++)Rt[wt]=arguments[wt+2];Y.children=Rt}return D(A.type,gt,Y)},Nt.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:h,_context:A},A},Nt.createElement=function(A,q,rt){var Y,gt={},xt=null;if(q!=null)for(Y in q.key!==void 0&&(xt=""+q.key),q)C.call(q,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(gt[Y]=q[Y]);var Rt=arguments.length-2;if(Rt===1)gt.children=rt;else if(1<Rt){for(var wt=Array(Rt),Qt=0;Qt<Rt;Qt++)wt[Qt]=arguments[Qt+2];gt.children=wt}if(A&&A.defaultProps)for(Y in Rt=A.defaultProps,Rt)gt[Y]===void 0&&(gt[Y]=Rt[Y]);return D(A,xt,gt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(A){return{$$typeof:_,render:A}},Nt.isValidElement=O,Nt.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:st}},Nt.memo=function(A,q){return{$$typeof:y,type:A,compare:q===void 0?null:q}},Nt.startTransition=function(A){var q=I.T,rt={};I.T=rt;try{var Y=A(),gt=I.S;gt!==null&&gt(rt,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Tt,Z)}catch(xt){Z(xt)}finally{q!==null&&rt.types!==null&&(q.types=rt.types),I.T=q}},Nt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Nt.use=function(A){return I.H.use(A)},Nt.useActionState=function(A,q,rt){return I.H.useActionState(A,q,rt)},Nt.useCallback=function(A,q){return I.H.useCallback(A,q)},Nt.useContext=function(A){return I.H.useContext(A)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(A,q){return I.H.useDeferredValue(A,q)},Nt.useEffect=function(A,q){return I.H.useEffect(A,q)},Nt.useEffectEvent=function(A){return I.H.useEffectEvent(A)},Nt.useId=function(){return I.H.useId()},Nt.useImperativeHandle=function(A,q,rt){return I.H.useImperativeHandle(A,q,rt)},Nt.useInsertionEffect=function(A,q){return I.H.useInsertionEffect(A,q)},Nt.useLayoutEffect=function(A,q){return I.H.useLayoutEffect(A,q)},Nt.useMemo=function(A,q){return I.H.useMemo(A,q)},Nt.useOptimistic=function(A,q){return I.H.useOptimistic(A,q)},Nt.useReducer=function(A,q,rt){return I.H.useReducer(A,q,rt)},Nt.useRef=function(A){return I.H.useRef(A)},Nt.useState=function(A){return I.H.useState(A)},Nt.useSyncExternalStore=function(A,q,rt){return I.H.useSyncExternalStore(A,q,rt)},Nt.useTransition=function(){return I.H.useTransition()},Nt.version="19.2.3",Nt}var zy;function Dd(){return zy||(zy=1,Qf.exports=Ub()),Qf.exports}var at=Dd(),Ff={exports:{}},Jl={},Yf={exports:{}},Kf={};var By;function Lb(){return By||(By=1,(function(a){function e(L,G){var st=L.length;L.push(G);t:for(;0<st;){var Z=st-1>>>1,K=L[Z];if(0<o(K,G))L[Z]=G,L[st]=K,st=Z;else break t}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],st=L.pop();if(st!==G){L[0]=st;t:for(var Z=0,K=L.length,A=K>>>1;Z<A;){var q=2*(Z+1)-1,rt=L[q],Y=q+1,gt=L[Y];if(0>o(rt,st))Y<K&&0>o(gt,rt)?(L[Z]=gt,L[Y]=st,Z=Y):(L[Z]=rt,L[q]=st,Z=q);else if(Y<K&&0>o(gt,st))L[Z]=gt,L[Y]=st,Z=Y;else break t}}return G}function o(L,G){var st=L.sortIndex-G.sortIndex;return st!==0?st:L.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();a.unstable_now=function(){return d.now()-_}}var E=[],y=[],x=1,w=null,N=3,k=!1,it=!1,tt=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function At(L){for(var G=i(y);G!==null;){if(G.callback===null)r(y);else if(G.startTime<=L)r(y),G.sortIndex=G.expirationTime,e(E,G);else break;G=i(y)}}function Dt(L){if(tt=!1,At(L),!it)if(i(E)!==null)it=!0,Tt||(Tt=!0,R());else{var G=i(y);G!==null&&ft(Dt,G.startTime-L)}}var Tt=!1,I=-1,C=5,D=-1;function M(){return J?!0:!(a.unstable_now()-D<C)}function O(){if(J=!1,Tt){var L=a.unstable_now();D=L;var G=!0;try{t:{it=!1,tt&&(tt=!1,vt(I),I=-1),k=!0;var st=N;try{e:{for(At(L),w=i(E);w!==null&&!(w.expirationTime>L&&M());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,N=w.priorityLevel;var K=Z(w.expirationTime<=L);if(L=a.unstable_now(),typeof K=="function"){w.callback=K,At(L),G=!0;break e}w===i(E)&&r(E),At(L)}else r(E);w=i(E)}if(w!==null)G=!0;else{var A=i(y);A!==null&&ft(Dt,A.startTime-L),G=!1}}break t}finally{w=null,N=st,k=!1}G=void 0}}finally{G?R():Tt=!1}}}var R;if(typeof pt=="function")R=function(){pt(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,lt=T.port2;T.port1.onmessage=O,R=function(){lt.postMessage(null)}}else R=function(){ut(O,0)};function ft(L,G){I=ut(function(){L(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(L){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var st=N;N=G;try{return L()}finally{N=st}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var st=N;N=L;try{return G()}finally{N=st}},a.unstable_scheduleCallback=function(L,G,st){var Z=a.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Z+st:Z):st=Z,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=st+K,L={id:x++,callback:G,priorityLevel:L,startTime:st,expirationTime:K,sortIndex:-1},st>Z?(L.sortIndex=st,e(y,L),i(E)===null&&L===i(y)&&(tt?(vt(I),I=-1):tt=!0,ft(Dt,st-Z))):(L.sortIndex=K,e(E,L),it||k||(it=!0,Tt||(Tt=!0,R()))),L},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(L){var G=N;return function(){var st=N;N=G;try{return L.apply(this,arguments)}finally{N=st}}}})(Kf)),Kf}var Py;function zb(){return Py||(Py=1,Yf.exports=Lb()),Yf.exports}var Xf={exports:{}},Ke={};var qy;function Bb(){if(qy)return Ke;qy=1;var a=Dd();function e(E){var y="https://react.dev/errors/"+E;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(E,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:E,containerInfo:y,implementation:x}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(E,y){if(E==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(E,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(E,y,null,x)},Ke.flushSync=function(E){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,E)return E()}finally{d.T=y,r.p=x,r.d.f()}},Ke.preconnect=function(E,y){typeof E=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(E,y))},Ke.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Ke.preinit=function(E,y){if(typeof E=="string"&&y&&typeof y.as=="string"){var x=y.as,w=_(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(E,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:k}):x==="script"&&r.d.X(E,{crossOrigin:w,integrity:N,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(E,y){if(typeof E=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=_(y.as,y.crossOrigin);r.d.M(E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(E)},Ke.preload=function(E,y){if(typeof E=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=_(x,y.crossOrigin);r.d.L(E,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(E,y){if(typeof E=="string")if(y){var x=_(y.as,y.crossOrigin);r.d.m(E,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(E)},Ke.requestFormReset=function(E){r.d.r(E)},Ke.unstable_batchedUpdates=function(E,y){return E(y)},Ke.useFormState=function(E,y,x){return d.H.useFormState(E,y,x)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var Hy;function Pb(){if(Hy)return Xf.exports;Hy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Xf.exports=Bb(),Xf.exports}var Gy;function qb(){if(Gy)return Jl;Gy=1;var a=zb(),e=Dd(),i=Pb();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return E(c),t;if(f===l)return E(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var p=!1,b=c.child;b;){if(b===s){p=!0,s=c,l=f;break}if(b===l){p=!0,l=c,s=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===s){p=!0,s=f,l=c;break}if(b===l){p=!0,l=f,s=c;break}b=b.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),it=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var T=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===T?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case Dt:return"Suspense";case Tt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case it:return"Portal";case pt:return t.displayName||"Context";case vt:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var ft=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Z=[],K=-1;function A(t){return{current:t}}function q(t){0>K||(t.current=Z[K],Z[K]=null,K--)}function rt(t,n){K++,Z[K]=t.current,t.current=n}var Y=A(null),gt=A(null),xt=A(null),Rt=A(null);function wt(t,n){switch(rt(xt,n),rt(gt,t),rt(Y,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ay(n),t=ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(Y),rt(Y,t)}function Qt(){q(Y),q(gt),q(xt)}function sn(t){t.memoizedState!==null&&rt(Rt,t);var n=Y.current,s=ry(n,t.type);n!==s&&(rt(gt,t),rt(Y,s))}function We(t){gt.current===t&&(q(Y),q(gt)),Rt.current===t&&(q(Rt),Fl._currentValue=st)}var gn,qn;function an(t){if(gn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);gn=n&&n[1]||"",qn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+t+qn}var ue=!1;function ve(t,n){if(!t||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var H=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){H=F}t.call($.prototype)}}else{try{throw Error()}catch(F){H=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var V=p.split(`
`),P=b.split(`
`);for(c=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===V.length||c===P.length)for(l=V.length-1,c=P.length-1;1<=l&&0<=c&&V[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(V[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||V[l]!==P[c]){var X=`
`+V[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=c);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?an(s):""}function Ks(t,n){switch(t.tag){case 26:case 27:case 5:return an(t.type);case 16:return an("Lazy");case 13:return t.child!==n&&n!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return ve(t.type,!1);case 11:return ve(t.type.render,!1);case 1:return ve(t.type,!0);case 31:return an("Activity");default:return""}}function Kr(t){try{var n="",s=null;do n+=Ks(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Ve=a.unstable_scheduleCallback,es=a.unstable_cancelCallback,Qc=a.unstable_shouldYield,So=a.unstable_requestPaint,$e=a.unstable_now,Xs=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,Zr=a.unstable_UserBlockingPriority,ns=a.unstable_NormalPriority,Fc=a.unstable_LowPriority,Ao=a.unstable_IdlePriority,wo=a.log,No=a.unstable_setDisableYieldValue,Hn=null,ze=null;function Nn(t){if(typeof wo=="function"&&No(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Hn,t)}catch{}}var de=Math.clz32?Math.clz32:Ro,Co=Math.log,Ua=Math.LN2;function Ro(t){return t>>>=0,t===0?32:31-(Co(t)/Ua|0)|0}var si=256,Zs=262144,be=4194304;function ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?c=ai(l):(p&=b,p!==0?c=ai(p):s||(s=b&~t,s!==0&&(c=ai(s))))):(b=l&~f,b!==0?c=ai(b):p!==0?c=ai(p):s||(s=l&~t,s!==0&&(c=ai(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Gn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Yc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Js(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kc(t,n,s,l,c,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,V=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var X=31-de(s),$=1<<X;b[X]=0,V[X]=-1;var H=P[X];if(H!==null)for(P[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}s&=~$}l!==0&&Ws(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ws(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Jr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-de(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Wr(t,n){var s=n&-n;return s=(s&42)!==0?1:$s(s),(s&(t.suspendedLanes|n))!==0?0:s}function $s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function Qn(t,n){var s=G.p;try{return G.p=t,n()}finally{G.p=s}}var Fn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Fn,Me="__reactProps$"+Fn,oi="__reactContainer$"+Fn,La="__reactEvents$"+Fn,Xc="__reactListeners$"+Fn,Vo="__reactHandles$"+Fn,Oo="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function za(t){delete t[xe],delete t[Me],delete t[La],delete t[Xc],delete t[Vo]}function ci(t){var n=t[xe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=dy(t);t!==null;){if(s=t[xe])return s;t=dy(t)}return n}t=s,s=t.parentNode}return null}function Cn(t){if(t=t[xe]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hi(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ui]=!0}var $r=new Set,tl={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(tl[t]=n,t=0;t<n.length;t++)$r.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function jo(t){return Ee.call(il,t)?!0:Ee.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Ba(t,n,s){if(jo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function yn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Se(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xt(t){if(!t._valueTracker){var n=is(t)?"checked":"value";t._valueTracker=sl(t,n,""+t[n])}}function ta(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=is(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ea=/[\n"\\]/g;function rn(t){return t.replace(ea,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pa(t,n,s,l,c,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ke(n)):t.value!==""+ke(n)&&(t.value=""+ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?al(t,p,ke(n)):s!=null?al(t,p,ke(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ke(b):t.removeAttribute("name")}function Mo(t,n,s,l,c,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(t);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Xt(t)}function al(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ss(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ko(t,n,s){if(n!=null&&(n=""+ke(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ke(s):""}function as(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ft(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Xt(t)}function ln(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Uo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ll(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&rl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&rl(t,f,n[f])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var ol=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,gi=null;function na(t){var n=Cn(t);if(n&&(t=n.stateNode)){var s=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Pa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(r(90));Pa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ta(l)}break t;case"textarea":ko(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ss(t,!!s.multiple,n,!1)}}}var Ga=!1;function os(t,n,s){if(Ga)return t(n,s);Ga=!0;try{var l=t(n);return l}finally{if(Ga=!1,(ls!==null||gi!==null)&&(Iu(),ls&&(n=ls,t=gi,gi=ls=null,na(n),t)))for(n=0;n<t.length;n++)na(t[n])}}function Kn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(Dn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){ia=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{ia=!1}var pi=null,ul=null,sa=null;function cl(){if(sa)return sa;var t,n=ul,s=n.length,l,c="value"in pi?pi.value:pi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===c[f-l];l++);return sa=c.slice(t,1<l?1-l:void 0)}function aa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Xn(){return!1}function Be(t){function n(s,l,c,f,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Xn,this.isPropagationStopped=Xn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Mi),us=w({},Mi,{view:0,detail:0}),hl=Be(us),cs,Qa,_i,Fa=w({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(cs=t.screenX-_i.screenX,Qa=t.screenY-_i.screenY):Qa=cs=0,_i=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),fl=Be(Fa),ra=w({},Fa,{dataTransfer:0}),zo=Be(ra),Bo=w({},us,{relatedTarget:0}),la=Be(Bo),dl=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=Be(dl),Ya=w({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qo=Be(Ya),Ho=w({},Mi,{data:0}),vi=Be(Ho),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fo[t])?!!n[t]:!1}function hs(){return Yo}var tn=w({},us,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=Be(tn),Xo=w({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(Xo),u=w({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),m=Be(u),v=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),z=w({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Be(z),ot=w({},Mi,{newState:0,oldState:0}),It=Be(ot),me=[9,13,27,32],Ft=Dn&&"CompositionEvent"in window,le=null;Dn&&"documentMode"in document&&(le=document.documentMode);var In=Dn&&"TextEvent"in window&&!le,Ei=Dn&&(!Ft||le&&8<le&&11>=le),Zn=" ",Jn=!1;function oa(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function aE(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Jn?null:t;default:return null}}function rE(t,n){if(Xa)return t==="compositionend"||!Ft&&oa(t,n)?(t=cl(),sa=ul=pi=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lE[t.type]:n==="textarea"}function ym(t,n,s,l){ls?gi?gi.push(l):gi=[l]:ls=l,n=Lu(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ml=null,gl=null;function oE(t){$p(t,0)}function Zo(t){var n=pn(t);if(ta(n))return t}function _m(t,n){if(t==="change")return n}var vm=!1;if(Dn){var Zc;if(Dn){var Jc="oninput"in document;if(!Jc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Jc=typeof Em.oninput=="function"}Zc=Jc}else Zc=!1;vm=Zc&&(!document.documentMode||9<document.documentMode)}function bm(){ml&&(ml.detachEvent("onpropertychange",xm),gl=ml=null)}function xm(t){if(t.propertyName==="value"&&Zo(gl)){var n=[];ym(n,gl,t,Rn(t)),os(oE,n)}}function uE(t,n,s){t==="focusin"?(bm(),ml=n,gl=s,ml.attachEvent("onpropertychange",xm)):t==="focusout"&&bm()}function cE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(gl)}function hE(t,n){if(t==="click")return Zo(n)}function fE(t,n){if(t==="input"||t==="change")return Zo(n)}function dE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:dE;function pl(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ee.call(n,c)||!_n(t[c],n[c]))return!1}return!0}function Tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sm(t,n){var s=Tm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tm(s)}}function Am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var mE=Dn&&"documentMode"in document&&11>=document.documentMode,Za=null,$c=null,yl=null,th=!1;function Nm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;th||Za==null||Za!==mi(l)||(l=Za,"selectionStart"in l&&Wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=Lu($c,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Za)))}function ua(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ja={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},eh={},Cm={};Dn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ca(t){if(eh[t])return eh[t];if(!Ja[t])return t;var n=Ja[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cm)return eh[t]=n[s];return t}var Rm=ca("animationend"),Dm=ca("animationiteration"),Im=ca("animationstart"),gE=ca("transitionrun"),pE=ca("transitionstart"),yE=ca("transitioncancel"),Vm=ca("transitionend"),Om=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function Wn(t,n){Om.set(t,n),fi(n,[t])}var Jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Wa=0,ih=0;function Wo(){for(var t=Wa,n=ih=Wa=0;n<t;){var s=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var c=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&jm(s,c,f)}}function $o(t,n,s,l){Vn[Wa++]=t,Vn[Wa++]=n,Vn[Wa++]=s,Vn[Wa++]=l,ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,s,l){return $o(t,n,s,l),tu(t)}function ha(t,n){return $o(t,null,null,n),tu(t)}function jm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function tu(t){if(50<zl)throw zl=0,mf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var $a={};function _E(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,s,l){return new _E(t,n,s,l)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var s=t.alternate;return s===null?(s=vn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,s,l,c,f){var p=0;if(l=t,typeof t=="function")ah(t)&&(p=1);else if(typeof t=="string")p=Tb(t,s,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=vn(31,s,n,c),t.elementType=D,t.lanes=f,t;case tt:return fa(s.children,c,f,n);case J:p=8,c|=24;break;case ut:return t=vn(12,s,n,c|2),t.elementType=ut,t.lanes=f,t;case Dt:return t=vn(13,s,n,c),t.elementType=Dt,t.lanes=f,t;case Tt:return t=vn(19,s,n,c),t.elementType=Tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:p=10;break t;case vt:p=9;break t;case At:p=11;break t;case I:p=14;break t;case C:p=16,l=null;break t}p=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=vn(p,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function fa(t,n,s,l){return t=vn(7,t,l,n),t.lanes=s,t}function rh(t,n,s){return t=vn(6,t,null,n),t.lanes=s,t}function km(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function lh(t,n,s){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Um=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var s=Um.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kr(n)},Um.set(t,n),n)}return{value:t,source:n,stack:Kr(n)}}var tr=[],er=0,nu=null,_l=0,jn=[],Mn=0,fs=null,bi=1,xi="";function Li(t,n){tr[er++]=_l,tr[er++]=nu,nu=t,_l=n}function Lm(t,n,s){jn[Mn++]=bi,jn[Mn++]=xi,jn[Mn++]=fs,fs=t;var l=bi;t=xi;var c=32-de(l)-1;l&=~(1<<c),s+=1;var f=32-de(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,bi=1<<32-de(n)+c|s<<c|l,xi=f+t}else bi=1<<f|s<<c|l,xi=t}function oh(t){t.return!==null&&(Li(t,1),Lm(t,1,0))}function uh(t){for(;t===nu;)nu=tr[--er],tr[er]=null,_l=tr[--er],tr[er]=null;for(;t===fs;)fs=jn[--Mn],jn[Mn]=null,xi=jn[--Mn],jn[Mn]=null,bi=jn[--Mn],jn[Mn]=null}function zm(t,n){jn[Mn++]=bi,jn[Mn++]=xi,jn[Mn++]=fs,bi=n.id,xi=n.overflow,fs=t}var Pe=null,ae=null,Bt=!1,ds=null,kn=!1,ch=Error(r(519));function ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(On(n,t)),ch}function Bm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[xe]=t,n[Me]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Mt(Pl[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Mo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),as(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||iy(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||ms(t,!0)}function Pm(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Pe=Pe.return}}function nr(t){if(t!==Pe)return!1;if(!Bt)return Pm(t),Bt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Rf(t.type,t.memoizedProps)),s=!s),s&&ae&&ms(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ae=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ae=fy(t)}else n===27?(n=ae,Cs(t.type)?(t=jf,jf=null,ae=t):ae=n):ae=Pe?Ln(t.stateNode.nextSibling):null;return!0}function da(){ae=Pe=null,Bt=!1}function hh(){var t=ds;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ds=null),t}function vl(t){ds===null?ds=[t]:ds.push(t)}var fh=A(null),ma=null,zi=null;function gs(t,n,s){rt(fh,n._currentValue),n._currentValue=s}function Bi(t){t._currentValue=fh.current,q(fh)}function dh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function mh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=c;for(var V=0;V<n.length;V++)if(b.context===n[V]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),dh(f.return,s,t),l||(p=null);break t}f=b.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),dh(p,s,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ir(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var b=c.type;_n(c.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(c===Rt.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&mh(n,t,s,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){ma=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return qm(ma,t)}function su(t,n){return ma===null&&ga(t),qm(t,n)}function qm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(r(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return s}var vE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},EE=a.unstable_scheduleCallback,bE=a.unstable_NormalPriority,Ae={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new vE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&EE(bE,function(){t.controller.abort()})}var bl=null,ph=0,sr=0,ar=null;function xE(t,n){if(bl===null){var s=bl=[];ph=0,sr=Ef(),ar={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ph++,n.then(Hm,Hm),n}function Hm(){if(--ph===0&&bl!==null){ar!==null&&(ar.status="fulfilled");var t=bl;bl=null,sr=0,ar=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Gm=L.S;L.S=function(t,n){Np=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&xE(t,n),Gm!==null&&Gm(t,n)};var pa=A(null);function yh(){var t=pa.current;return t!==null?t:ne.pooledCache}function au(t,n){n===null?rt(pa,pa.current):rt(pa,n.pool)}function Qm(){var t=yh();return t===null?null:{parent:Ae._currentValue,pool:t}}var rr=Error(r(460)),_h=Error(r(474)),ru=Error(r(542)),lu={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ym(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Yn,Yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t}throw _a=n,rr}}function ya(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(_a=s,rr):s}}var _a=null;function Km(){if(_a===null)throw Error(r(459));var t=_a;return _a=null,t}function Xm(t){if(t===rr||t===ru)throw Error(r(483))}var lr=null,xl=0;function ou(t){var n=xl;return xl+=1,lr===null&&(lr=[]),Ym(lr,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){function n(U,j){if(t){var B=U.deletions;B===null?(U.deletions=[j],U.flags|=16):B.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function c(U,j){return U=Ui(U,j),U.index=0,U.sibling=null,U}function f(U,j,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<j?(U.flags|=67108866,j):B):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,j,B,W){return j===null||j.tag!==6?(j=rh(B,U.mode,W),j.return=U,j):(j=c(j,B),j.return=U,j)}function V(U,j,B,W){var yt=B.type;return yt===tt?X(U,j,B.props.children,W,B.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===C&&ya(yt)===j.type)?(j=c(j,B.props),Tl(j,B),j.return=U,j):(j=eu(B.type,B.key,B.props,null,U.mode,W),Tl(j,B),j.return=U,j)}function P(U,j,B,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=lh(B,U.mode,W),j.return=U,j):(j=c(j,B.children||[]),j.return=U,j)}function X(U,j,B,W,yt){return j===null||j.tag!==7?(j=fa(B,U.mode,W,yt),j.return=U,j):(j=c(j,B),j.return=U,j)}function $(U,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=rh(""+j,U.mode,B),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return B=eu(j.type,j.key,j.props,null,U.mode,B),Tl(B,j),B.return=U,B;case it:return j=lh(j,U.mode,B),j.return=U,j;case C:return j=ya(j),$(U,j,B)}if(ft(j)||R(j))return j=fa(j,U.mode,B,null),j.return=U,j;if(typeof j.then=="function")return $(U,ou(j),B);if(j.$$typeof===pt)return $(U,su(U,j),B);uu(U,j)}return null}function H(U,j,B,W){var yt=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return yt!==null?null:b(U,j,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===yt?V(U,j,B,W):null;case it:return B.key===yt?P(U,j,B,W):null;case C:return B=ya(B),H(U,j,B,W)}if(ft(B)||R(B))return yt!==null?null:X(U,j,B,W,null);if(typeof B.then=="function")return H(U,j,ou(B),W);if(B.$$typeof===pt)return H(U,j,su(U,B),W);uu(U,B)}return null}function F(U,j,B,W,yt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,b(j,U,""+W,yt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return U=U.get(W.key===null?B:W.key)||null,V(j,U,W,yt);case it:return U=U.get(W.key===null?B:W.key)||null,P(j,U,W,yt);case C:return W=ya(W),F(U,j,B,W,yt)}if(ft(W)||R(W))return U=U.get(B)||null,X(j,U,W,yt,null);if(typeof W.then=="function")return F(U,j,B,ou(W),yt);if(W.$$typeof===pt)return F(U,j,B,su(j,W),yt);uu(j,W)}return null}function dt(U,j,B,W){for(var yt=null,Ht=null,mt=j,Ot=j=0,Ut=null;mt!==null&&Ot<B.length;Ot++){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var Gt=H(U,mt,B[Ot],W);if(Gt===null){mt===null&&(mt=Ut);break}t&&mt&&Gt.alternate===null&&n(U,mt),j=f(Gt,j,Ot),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt,mt=Ut}if(Ot===B.length)return s(U,mt),Bt&&Li(U,Ot),yt;if(mt===null){for(;Ot<B.length;Ot++)mt=$(U,B[Ot],W),mt!==null&&(j=f(mt,j,Ot),Ht===null?yt=mt:Ht.sibling=mt,Ht=mt);return Bt&&Li(U,Ot),yt}for(mt=l(mt);Ot<B.length;Ot++)Ut=F(mt,U,Ot,B[Ot],W),Ut!==null&&(t&&Ut.alternate!==null&&mt.delete(Ut.key===null?Ot:Ut.key),j=f(Ut,j,Ot),Ht===null?yt=Ut:Ht.sibling=Ut,Ht=Ut);return t&&mt.forEach(function(Os){return n(U,Os)}),Bt&&Li(U,Ot),yt}function Et(U,j,B,W){if(B==null)throw Error(r(151));for(var yt=null,Ht=null,mt=j,Ot=j=0,Ut=null,Gt=B.next();mt!==null&&!Gt.done;Ot++,Gt=B.next()){mt.index>Ot?(Ut=mt,mt=null):Ut=mt.sibling;var Os=H(U,mt,Gt.value,W);if(Os===null){mt===null&&(mt=Ut);break}t&&mt&&Os.alternate===null&&n(U,mt),j=f(Os,j,Ot),Ht===null?yt=Os:Ht.sibling=Os,Ht=Os,mt=Ut}if(Gt.done)return s(U,mt),Bt&&Li(U,Ot),yt;if(mt===null){for(;!Gt.done;Ot++,Gt=B.next())Gt=$(U,Gt.value,W),Gt!==null&&(j=f(Gt,j,Ot),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt);return Bt&&Li(U,Ot),yt}for(mt=l(mt);!Gt.done;Ot++,Gt=B.next())Gt=F(mt,U,Ot,Gt.value,W),Gt!==null&&(t&&Gt.alternate!==null&&mt.delete(Gt.key===null?Ot:Gt.key),j=f(Gt,j,Ot),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt);return t&&mt.forEach(function(jb){return n(U,jb)}),Bt&&Li(U,Ot),yt}function ee(U,j,B,W){if(typeof B=="object"&&B!==null&&B.type===tt&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:t:{for(var yt=B.key;j!==null;){if(j.key===yt){if(yt=B.type,yt===tt){if(j.tag===7){s(U,j.sibling),W=c(j,B.props.children),W.return=U,U=W;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===C&&ya(yt)===j.type){s(U,j.sibling),W=c(j,B.props),Tl(W,B),W.return=U,U=W;break t}s(U,j);break}else n(U,j);j=j.sibling}B.type===tt?(W=fa(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=eu(B.type,B.key,B.props,null,U.mode,W),Tl(W,B),W.return=U,U=W)}return p(U);case it:t:{for(yt=B.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){s(U,j.sibling),W=c(j,B.children||[]),W.return=U,U=W;break t}else{s(U,j);break}else n(U,j);j=j.sibling}W=lh(B,U.mode,W),W.return=U,U=W}return p(U);case C:return B=ya(B),ee(U,j,B,W)}if(ft(B))return dt(U,j,B,W);if(R(B)){if(yt=R(B),typeof yt!="function")throw Error(r(150));return B=yt.call(B),Et(U,j,B,W)}if(typeof B.then=="function")return ee(U,j,ou(B),W);if(B.$$typeof===pt)return ee(U,j,su(U,B),W);uu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(s(U,j.sibling),W=c(j,B),W.return=U,U=W):(s(U,j),W=rh(B,U.mode,W),W.return=U,U=W),p(U)):s(U,j)}return function(U,j,B,W){try{xl=0;var yt=ee(U,j,B,W);return lr=null,yt}catch(mt){if(mt===rr||mt===ru)throw mt;var Ht=vn(29,mt,null,U.mode);return Ht.lanes=W,Ht.return=U,Ht}finally{}}}var va=Zm(!0),Jm=Zm(!1),ps=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),jm(t,null,s),n}return $o(t,l,n,s),tu(t)}function Sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}function bh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var xh=!1;function Al(){if(xh){var t=ar;if(t!==null)throw t}}function wl(t,n,s,l){xh=!1;var c=t.updateQueue;ps=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var V=b,P=V.next;V.next=null,p===null?f=P:p.next=P,p=V;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==p&&(b===null?X.firstBaseUpdate=P:b.next=P,X.lastBaseUpdate=V))}if(f!==null){var $=c.baseState;p=0,X=P=V=null,b=f;do{var H=b.lane&-536870913,F=H!==b.lane;if(F?(kt&H)===H:(l&H)===H){H!==0&&H===sr&&(xh=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var dt=t,Et=b;H=n;var ee=s;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){$=dt.call(ee,$,H);break t}$=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,H=typeof dt=="function"?dt.call(ee,$,H):dt,H==null)break t;$=w({},$,H);break t;case 2:ps=!0}}H=b.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[H]:F.push(H))}else F={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(P=X=F,V=$):X=X.next=F,p|=H;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;F=b,b=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);X===null&&(V=$),c.baseState=V,c.firstBaseUpdate=P,c.lastBaseUpdate=X,f===null&&(c.shared.lanes=0),Ts|=p,t.lanes=p,t.memoizedState=$}}function Wm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function $m(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wm(s[t],n)}var or=A(null),cu=A(0);function tg(t,n){t=Xi,rt(cu,t),rt(or,n),Xi=t|n.baseLanes}function Th(){rt(cu,Xi),rt(or,or.current)}function Sh(){Xi=cu.current,q(or),q(cu)}var En=A(null),Un=null;function vs(t){var n=t.alternate;rt(ge,ge.current&1),rt(En,t),Un===null&&(n===null||or.current!==null||n.memoizedState!==null)&&(Un=t)}function Ah(t){rt(ge,ge.current),rt(En,t),Un===null&&(Un=t)}function eg(t){t.tag===22?(rt(ge,ge.current),rt(En,t),Un===null&&(Un=t)):Es()}function Es(){rt(ge,ge.current),rt(En,En.current)}function bn(t){q(En),Un===t&&(Un=null),q(ge)}var ge=A(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Vf(s)||Of(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Vt=null,$t=null,we=null,fu=!1,ur=!1,Ea=!1,du=0,Nl=0,cr=null,SE=0;function he(){throw Error(r(321))}function wh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!_n(t[s],n[s]))return!1;return!0}function Nh(t,n,s,l,c,f){return Pi=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Lg:qh,Ea=!1,f=s(l,c),Ea=!1,ur&&(f=ig(n,s,l,c)),ng(t),f}function ng(t){L.H=Dl;var n=$t!==null&&$t.next!==null;if(Pi=0,we=$t=Vt=null,fu=!1,Nl=0,cr=null,n)throw Error(r(300));t===null||Ne||(t=t.dependencies,t!==null&&iu(t)&&(Ne=!0))}function ig(t,n,s,l){Vt=t;var c=0;do{if(ur&&(cr=null),Nl=0,ur=!1,25<=c)throw Error(r(301));if(c+=1,we=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=zg,f=n(s,l)}while(ur);return f}function AE(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?Cl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Vt.flags|=1024),n}function Ch(){var t=du!==0;return du=0,t}function Rh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Dh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}Pi=0,we=$t=Vt=null,ur=!1,Nl=du=0,cr=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Vt.memoizedState=we=t:we=we.next=t,we}function pe(){if($t===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=we===null?Vt.memoizedState:we.next;if(n!==null)we=n,$t=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?Vt.memoizedState=we=t:we=we.next=t}return we}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var n=Nl;return Nl+=1,cr===null&&(cr=[]),t=Ym(cr,t,n),n=Vt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Lg:qh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===pt)return qe(t)}throw Error(r(438,String(t)))}function Ih(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mu(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function qi(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=pe();return Vh(n,$t,t)}function Vh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var b=p=null,V=null,P=n,X=!1;do{var $=P.lane&-536870913;if($!==P.lane?(kt&$)===$:(Pi&$)===$){var H=P.revertLane;if(H===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===sr&&(X=!0);else if((Pi&H)===H){P=P.next,H===sr&&(X=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(b=V=$,p=f):V=V.next=$,Vt.lanes|=H,Ts|=H;$=P.action,Ea&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else H={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},V===null?(b=V=H,p=f):V=V.next=H,Vt.lanes|=$,Ts|=$;P=P.next}while(P!==null&&P!==n);if(V===null?p=f:V.next=b,!_n(f,t.memoizedState)&&(Ne=!0,X&&(s=ar,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=V,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Oh(t){var n=pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);_n(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function sg(t,n,s){var l=Vt,c=pe(),f=Bt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!_n(($t||c).memoizedState,s);if(p&&(c.memoizedState=s,Ne=!0),c=c.queue,kh(lg.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,hr(9,{destroy:void 0},rg.bind(null,l,c,s,n),null),ne===null)throw Error(r(349));f||(Pi&127)!==0||ag(l,n,s)}return s}function ag(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=mu(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function rg(t,n,s,l){n.value=s,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,s){return s(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!_n(t,s)}catch{return!0}}function ug(t){var n=ha(t,2);n!==null&&fn(n,t,2)}function jh(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),Ea){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function cg(t,n,s,l){return t.baseState=s,Vh(t,$t,typeof l=="function"?l:qi)}function wE(t,n,s,l,c){if(vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};L.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=L.T,p={};L.T=p;try{var b=s(c,l),V=L.S;V!==null&&V(p,b),fg(t,n,b)}catch(P){Mh(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),L.T=f}}else try{f=s(c,l),fg(t,n,f)}catch(P){Mh(t,n,P)}}function fg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dg(t,n,l)},function(l){return Mh(t,n,l)}):dg(t,n,s)}function dg(t,n,s){n.status="fulfilled",n.value=s,mg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,hg(t,s)))}function Mh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function pg(t,n){if(Bt){var s=ne.formState;if(s!==null){t:{var l=Vt;if(Bt){if(ae){e:{for(var c=ae,f=kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Ln(c.nextSibling),l=c.data==="F!";break t}}ms(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=l,s=Mg.bind(null,Vt,l),l.dispatch=s,l=jh(!1),f=Ph.bind(null,Vt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=wE.bind(null,Vt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function yg(t){var n=pe();return _g(n,$t,t)}function _g(t,n,s){if(n=Vh(t,n,gg)[0],t=pu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(p){throw p===rr?ru:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,hr(9,{destroy:void 0},NE.bind(null,c,s),null)),[l,f,t]}function NE(t,n){t.action=n}function vg(t){var n=pe(),s=$t;if(s!==null)return _g(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function hr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=mu(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Eg(){return pe().memoizedState}function yu(t,n,s,l){var c=en();Vt.flags|=t,c.memoizedState=hr(1|n,{destroy:void 0},s,l===void 0?null:l)}function _u(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&wh(l,$t.memoizedState.deps)?c.memoizedState=hr(n,f,s,l):(Vt.flags|=t,c.memoizedState=hr(1|n,f,s,l))}function bg(t,n){yu(8390656,8,t,n)}function kh(t,n){_u(2048,8,t,n)}function CE(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=mu(),Vt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function xg(t){var n=pe().memoizedState;return CE({ref:n,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return _u(4,2,t,n)}function Sg(t,n){return _u(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wg(t,n,s){s=s!=null?s.concat([t]):null,_u(4,4,Ag.bind(null,n,t),s)}function Uh(){}function Ng(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Cg(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),Ea){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[l,n],l}function Lh(t,n,s){return s===void 0||(Pi&1073741824)!==0&&(kt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Rp(),Vt.lanes|=t,Ts|=t,s)}function Rg(t,n,s,l){return _n(s,n)?s:or.current!==null?(t=Lh(t,s,l),_n(t,n)||(Ne=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(kt&261930)===0?(Ne=!0,t.memoizedState=s):(t=Rp(),Vt.lanes|=t,Ts|=t,n)}function Dg(t,n,s,l,c){var f=G.p;G.p=f!==0&&8>f?f:8;var p=L.T,b={};L.T=b,Ph(t,!1,n,s);try{var V=c(),P=L.S;if(P!==null&&P(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=TE(V,l);Rl(t,n,X,Sn(t))}else Rl(t,n,l,Sn(t))}catch($){Rl(t,n,{then:function(){},status:"rejected",reason:$},Sn())}finally{G.p=f,p!==null&&b.types!==null&&(p.types=b.types),L.T=p}}function RE(){}function zh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Ig(t).queue;Dg(t,c,n,st,s===null?RE:function(){return Vg(t),s(l)})}function Ig(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:st},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Ig(t);n.next===null&&(n=t.alternate.memoizedState),Rl(t,n.next.queue,{},Sn())}function Bh(){return qe(Fl)}function Og(){return pe().memoizedState}function jg(){return pe().memoizedState}function DE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Sn();t=ys(s);var l=_s(n,t,s);l!==null&&(fn(l,n,s),Sl(l,n,s)),n={cache:gh()},t.payload=n;return}n=n.return}}function IE(t,n,s){var l=Sn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vu(t)?kg(n,s):(s=sh(t,n,s,l),s!==null&&(fn(s,t,l),Ug(s,n,l)))}function Mg(t,n,s){var l=Sn();Rl(t,n,s,l)}function Rl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vu(t))kg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,s);if(c.hasEagerState=!0,c.eagerState=b,_n(b,p))return $o(t,n,c,0),ne===null&&Wo(),!1}catch{}finally{}if(s=sh(t,n,c,l),s!==null)return fn(s,t,l),Ug(s,n,l),!0}return!1}function Ph(t,n,s,l){if(l={lane:2,revertLane:Ef(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(r(479))}else n=sh(t,s,l,2),n!==null&&fn(n,t,2)}function vu(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function kg(t,n){ur=fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ug(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Jr(t,s)}}var Dl={readContext:qe,use:gu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Dl.useEffectEvent=he;var Lg={readContext:qe,use:gu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yu(4194308,4,Ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var l=t();if(Ea){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=en();if(s!==void 0){var c=s(n);if(Ea){Nn(!0);try{s(n)}finally{Nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=IE.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=jh(t);var n=t.queue,s=Mg.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Uh,useDeferredValue:function(t,n){var s=en();return Lh(s,t,n)},useTransition:function(){var t=jh(!1);return t=Dg.bind(null,Vt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Vt,c=en();if(Bt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ne===null)throw Error(r(349));(kt&127)!==0||ag(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,bg(lg.bind(null,l,f,t),[t]),l.flags|=2048,hr(9,{destroy:void 0},rg.bind(null,l,f,s,n),null),s},useId:function(){var t=en(),n=ne.identifierPrefix;if(Bt){var s=xi,l=bi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=du++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=SE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bh,useFormState:pg,useActionState:pg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ph.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ih,useCacheRefresh:function(){return en().memoizedState=DE.bind(null,Vt)},useEffectEvent:function(t){var n=en(),s={impl:t};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},qh={readContext:qe,use:gu,useCallback:Ng,useContext:qe,useEffect:kh,useImperativeHandle:wg,useInsertionEffect:Tg,useLayoutEffect:Sg,useMemo:Cg,useReducer:pu,useRef:Eg,useState:function(){return pu(qi)},useDebugValue:Uh,useDeferredValue:function(t,n){var s=pe();return Rg(s,$t.memoizedState,t,n)},useTransition:function(){var t=pu(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Bh,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=pe();return cg(s,$t,t,n)},useMemoCache:Ih,useCacheRefresh:jg};qh.useEffectEvent=xg;var zg={readContext:qe,use:gu,useCallback:Ng,useContext:qe,useEffect:kh,useImperativeHandle:wg,useInsertionEffect:Tg,useLayoutEffect:Sg,useMemo:Cg,useReducer:Oh,useRef:Eg,useState:function(){return Oh(qi)},useDebugValue:Uh,useDeferredValue:function(t,n){var s=pe();return $t===null?Lh(s,t,n):Rg(s,$t.memoizedState,t,n)},useTransition:function(){var t=Oh(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Cl(t),n]},useSyncExternalStore:sg,useId:Og,useHostTransitionStatus:Bh,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var s=pe();return $t!==null?cg(s,$t,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:jg};zg.useEffectEvent=xg;function Hh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Sn(),c=ys(l);c.payload=n,s!=null&&(c.callback=s),n=_s(t,c,l),n!==null&&(fn(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Sn(),c=ys(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=_s(t,c,l),n!==null&&(fn(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Sn(),l=ys(s);l.tag=2,n!=null&&(l.callback=n),n=_s(t,l,s),n!==null&&(fn(n,t,s),Sl(n,t,s))}};function Bg(t,n,s,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!pl(s,l)||!pl(c,f):!0}function Pg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function ba(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function qg(t){Jo(t)}function Hg(t){console.error(t)}function Gg(t){Jo(t)}function Eu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qh(t,n,s){return s=ys(s),s.tag=3,s.payload={element:null},s.callback=function(){Eu(t,n)},s}function Fg(t){return t=ys(t),t.tag=3,t}function Yg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Qg(n,s,l),typeof c!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function VE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ir(n,s,c,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?Vu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),yf(t,l,c)),!1;case 22:return s.flags|=65536,l===lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),yf(t,l,c)),!1}throw Error(r(435,s.tag))}return yf(t,l,c),Vu(),!1}if(Bt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ch&&(t=Error(r(422),{cause:l}),vl(On(t,s)))):(l!==ch&&(n=Error(r(423),{cause:l}),vl(On(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=On(l,s),c=Qh(t.stateNode,l,c),bh(t,c),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:l});if(f=On(f,s),Ll===null?Ll=[f]:Ll.push(f),fe!==4&&(fe=2),n===null)return!0;l=On(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Qh(s.stateNode,l,t),bh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ss===null||!Ss.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Fg(c),Yg(c,t,s,l),bh(s,c),!1}s=s.return}while(s!==null);return!1}var Fh=Error(r(461)),Ne=!1;function He(t,n,s,l){n.child=t===null?Jm(n,null,s,l):va(n,t.child,s,l)}function Kg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return ga(n),l=Nh(t,n,s,p,f,c),b=Ch(),t!==null&&!Ne?(Rh(t,n,c),Hi(t,n,c)):(Bt&&b&&oh(n),n.flags|=1,He(t,n,l,c),n.child)}function Xg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!ah(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,l,c)):(t=eu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!tf(t,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(p,l)&&t.ref===n.ref)return Hi(t,n,c)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,tf(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Hi(t,n,c)}return Yh(t,n,s,l,c)}function Jg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Wg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?tg(n,f):Th(),eg(n);else return l=n.lanes=536870912,Wg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(au(n,f.cachePool),tg(n,f),Es(),n.memoizedState=null):(t!==null&&au(n,null),Th(),Es());return He(t,n,c,s),n.child}function Il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(t,n,s,l,c){var f=yh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&au(n,null),Th(),eg(n),t!==null&&ir(t,n,l,!0),n.childLanes=c,null}function bu(t,n){return n=Tu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,s){return va(n,t.child,null,s),t=bu(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function OE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Bt){if(l.mode==="hidden")return t=bu(n,l),n.lanes=536870912,Il(null,t);if(Ah(n),(t=ae)?(t=hy(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:bi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=km(t),s.return=n,n.child=s,Pe=n,ae=null)):t=null,t===null)throw ms(n);return n.lanes=536870912,null}return bu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Ah(n),c)if(n.flags&256)n.flags&=-257,n=$g(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ne||ir(t,n,s,!1),c=(s&t.childLanes)!==0,Ne||c){if(l=ne,l!==null&&(p=Wr(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,ha(t,p),fn(l,t,p),Fh;Vu(),n=$g(t,n,s)}else t=f.treeContext,ae=Ln(p.nextSibling),Pe=n,Bt=!0,ds=null,kn=!1,t!==null&&zm(n,t),n=bu(n,l),n.flags|=4096;return n}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Yh(t,n,s,l,c){return ga(n),s=Nh(t,n,s,l,void 0,c),l=Ch(),t!==null&&!Ne?(Rh(t,n,c),Hi(t,n,c)):(Bt&&l&&oh(n),n.flags|=1,He(t,n,s,c),n.child)}function tp(t,n,s,l,c,f){return ga(n),n.updateQueue=null,s=ig(n,l,s,c),ng(t),l=Ch(),t!==null&&!Ne?(Rh(t,n,f),Hi(t,n,f)):(Bt&&l&&oh(n),n.flags|=1,He(t,n,s,f),n.child)}function ep(t,n,s,l,c){if(ga(n),n.stateNode===null){var f=$a,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},vh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):$a,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Hh(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Gh.enqueueReplaceState(f,f.state,null),wl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,V=ba(s,b);f.props=V;var P=f.context,X=s.contextType;p=$a,typeof X=="object"&&X!==null&&(p=qe(X));var $=s.getDerivedStateFromProps;X=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&Pg(n,f,l,p),ps=!1;var H=n.memoizedState;f.state=H,wl(n,l,f,c),Al(),P=n.memoizedState,b||H!==P||ps?(typeof $=="function"&&(Hh(n,s,$,l),P=n.memoizedState),(V=ps||Bg(n,s,V,l,H,P,p))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=V):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Eh(t,n),p=n.memoizedProps,X=ba(s,p),f.props=X,$=n.pendingProps,H=f.context,P=s.contextType,V=$a,typeof P=="object"&&P!==null&&(V=qe(P)),b=s.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||H!==V)&&Pg(n,f,l,V),ps=!1,H=n.memoizedState,f.state=H,wl(n,l,f,c),Al();var F=n.memoizedState;p!==$||H!==F||ps||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof b=="function"&&(Hh(n,s,b,l),F=n.memoizedState),(X=ps||Bg(n,s,X,l,H,F,V)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,V),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,V)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=V,l=X):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=va(n,t.child,null,c),n.child=va(n,null,s,c)):He(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Hi(t,n,c),t}function np(t,n,s,l){return da(),n.flags|=256,He(t,n,s,l),n.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(t){return{baseLanes:t,cachePool:Qm()}}function Zh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function ip(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?vs(n):Es(),(t=ae)?(t=hy(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fs!==null?{id:bi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},s=km(t),s.return=n,n.child=s,Pe=n,ae=null)):t=null,t===null)throw ms(n);return Of(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(Es(),c=n.mode,b=Tu({mode:"hidden",children:b},c),l=fa(l,c,s,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Xh(s),l.childLanes=Zh(t,p,s),n.memoizedState=Kh,Il(null,l)):(vs(n),Jh(n,b))}var V=t.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(f)n.flags&256?(vs(n),n.flags&=-257,n=Wh(t,n,s)):n.memoizedState!==null?(Es(),n.child=t.child,n.flags|=128,n=null):(Es(),b=l.fallback,c=n.mode,l=Tu({mode:"visible",children:l.children},c),b=fa(b,c,s,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,va(n,t.child,null,s),l=n.child,l.memoizedState=Xh(s),l.childLanes=Zh(t,p,s),n.memoizedState=Kh,n=Il(null,l));else if(vs(n),Of(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,vl({value:l,source:null,stack:null}),n=Wh(t,n,s)}else if(Ne||ir(t,n,s,!1),p=(s&t.childLanes)!==0,Ne||p){if(p=ne,p!==null&&(l=Wr(p,s),l!==0&&l!==V.retryLane))throw V.retryLane=l,ha(t,l),fn(p,t,l),Fh;Vf(b)||Vu(),n=Wh(t,n,s)}else Vf(b)?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,ae=Ln(b.nextSibling),Pe=n,Bt=!0,ds=null,kn=!1,t!==null&&zm(n,t),n=Jh(n,l.children),n.flags|=4096);return n}return c?(Es(),b=l.fallback,c=n.mode,V=t.child,P=V.sibling,l=Ui(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,P!==null?b=Ui(P,b):(b=fa(b,c,s,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Il(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Xh(s):(c=b.cachePool,c!==null?(V=Ae._currentValue,c=c.parent!==V?{parent:V,pool:V}:c):c=Qm(),b={baseLanes:b.baseLanes|s,cachePool:c}),l.memoizedState=b,l.childLanes=Zh(t,p,s),n.memoizedState=Kh,Il(t.child,l)):(vs(n),s=t.child,t=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Jh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function Wh(t,n,s){return va(n,t.child,null,s),t=Jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dh(t.return,n,s)}function $h(t,n,s,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function ap(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=ge.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,rt(ge,p),He(t,n,l,s),l=Bt?_l:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,s,n);else if(t.tag===19)sp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&hu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),$h(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}$h(n,!0,s,null,f,l);break;case"together":$h(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ir(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ui(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ui(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function jE(t,n,s){switch(n.tag){case 3:wt(n,n.stateNode.containerInfo),gs(n,Ae,t.memoizedState.cache),da();break;case 27:case 5:sn(n);break;case 4:wt(n,n.stateNode.containerInfo);break;case 10:gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ah(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ip(t,n,s):(vs(n),t=Hi(t,n,s),t!==null?t.sibling:null);vs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ir(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return ap(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(ge,ge.current),l)break;return null;case 22:return n.lanes=0,Jg(t,n,s,n.pendingProps);case 24:gs(n,Ae,t.memoizedState.cache)}return Hi(t,n,s)}function rp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!tf(t,s)&&(n.flags&128)===0)return Ne=!1,jE(t,n,s);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Lm(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ya(n.elementType),n.type=t,typeof t=="function")ah(t)?(l=ba(t,l),n.tag=1,n=ep(null,n,t,l,s)):(n.tag=0,n=Yh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===At){n.tag=11,n=Kg(null,n,t,l,s);break t}else if(c===I){n.tag=14,n=Xg(null,n,t,l,s);break t}}throw n=lt(t)||t,Error(r(306,n,""))}}return n;case 0:return Yh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ba(l,n.pendingProps),ep(t,n,l,c,s);case 3:t:{if(wt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Eh(t,n),wl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,gs(n,Ae,l),l!==f.cache&&mh(n,[Ae],s,!0),Al(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=np(t,n,l,s);break t}else if(l!==c){c=On(Error(r(424)),n),vl(c),n=np(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Ln(t.firstChild),Pe=n,Bt=!0,ds=null,kn=!0,s=Jm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(da(),l===c){n=Hi(t,n,s);break t}He(t,n,l,s)}n=n.child}return n;case 26:return xu(t,n),t===null?(s=yy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,t=n.pendingProps,l=zu(xt.current).createElement(s),l[xe]=n,l[Me]=t,Ge(l,s,t),Te(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return sn(n),t===null&&Bt&&(l=n.stateNode=my(n.type,n.pendingProps,xt.current),Pe=n,kn=!0,c=ae,Cs(n.type)?(jf=c,ae=Ln(l.firstChild)):ae=c),He(t,n,n.pendingProps.children,s),xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=cb(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Pe=n,ae=Ln(l.firstChild),kn=!1,c=!0):c=!1),c||ms(n)),sn(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Rf(c,f)?l=null:p!==null&&Rf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Nh(t,n,AE,null,null,s),Fl._currentValue=c),xu(t,n),He(t,n,l,s),n.child;case 6:return t===null&&Bt&&((t=s=ae)&&(s=hb(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Pe=n,ae=null,t=!0):t=!1),t||ms(n)),null;case 13:return ip(t,n,s);case 4:return wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=va(n,null,l,s):He(t,n,l,s),n.child;case 11:return Kg(t,n,n.type,n.pendingProps,s);case 7:return He(t,n,n.pendingProps,s),n.child;case 8:return He(t,n,n.pendingProps.children,s),n.child;case 12:return He(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,gs(n,n.type,l.value),He(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ga(n),c=qe(c),l=l(c),n.flags|=1,He(t,n,l,s),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,s);case 15:return Zg(t,n,n.type,n.pendingProps,s);case 19:return ap(t,n,s);case 31:return OE(t,n,s);case 22:return Jg(t,n,s,n.pendingProps);case 24:return ga(n),l=qe(Ae),t===null?(c=yh(),c===null&&(c=ne,f=gh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},vh(n),gs(n,Ae,c)):((t.lanes&s)!==0&&(Eh(t,n),wl(n,null,null,s),Al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gs(n,Ae,l)):(l=f.cache,gs(n,Ae,l),l!==c.cache&&mh(n,[Ae],s,!0))),He(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(t){t.flags|=4}function ef(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Op())t.flags|=8192;else throw _a=lu,_h}else t.flags&=-16777217}function lp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xy(n))if(Op())t.flags|=8192;else throw _a=lu,_h}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Do():536870912,t.lanes|=n,gr|=n)}function Vl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function ME(t,n,s){var l=n.pendingProps;switch(uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(Ae),Qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(nr(n)?Gi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hh())),re(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Gi(n),f!==null?(re(n),lp(n,f)):(re(n),ef(n,c,null,l,s))):f?f!==t.memoizedState?(Gi(n),re(n),lp(n,f)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(n),re(n),ef(n,c,t,l,s)),null;case 27:if(We(n),s=xt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}t=Y.current,nr(n)?Bm(n):(t=my(c,l,s),n.stateNode=t,Gi(n))}return re(n),null;case 5:if(We(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(f=Y.current,nr(n))Bm(n);else{var p=zu(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[xe]=n,f[Me]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(n)}}return re(n),ef(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=xt.current,nr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[xe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,s)),t||ms(n,!0)}else t=zu(t).createTextNode(l),t[xe]=n,n.stateNode=t}return re(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=nr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xe]=n}else da(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else s=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=nr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[xe]=n}else da(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Su(n,n.updateQueue),re(n),null);case 4:return Qt(),t===null&&Sf(n.stateNode.containerInfo),re(n),null;case 10:return Bi(n.type),re(n),null;case 19:if(q(ge),l=n.memoizedState,l===null)return re(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Vl(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Mm(s,t),s=s.sibling;return rt(ge,ge.current&1|2),Bt&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>Ru&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=hu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*$e()-l.renderingStartTime>Ru&&s!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,s=ge.current,rt(ge,c?s&1|2:s&1),Bt&&Li(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return bn(n),Sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&q(pa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function kE(t,n){switch(uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(Ae),Qt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return We(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(r(340));da()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));da()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(ge),null;case 4:return Qt(),null;case 10:return Bi(n.type),null;case 22:case 23:return bn(n),Sh(),t!==null&&q(pa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(Ae),null;case 25:return null;default:return null}}function op(t,n){switch(uh(n),n.tag){case 3:Bi(Ae),Qt();break;case 26:case 27:case 5:We(n);break;case 4:Qt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:q(ge);break;case 10:Bi(n.type);break;case 22:case 23:bn(n),Sh(),t!==null&&q(pa);break;case 24:Bi(Ae)}}function Ol(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==c)}}catch(b){Jt(n,n.return,b)}}function bs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,c=n;var V=s,P=b;try{P()}catch(X){Jt(c,V,X)}}}l=l.next}while(l!==f)}}catch(X){Jt(n,n.return,X)}}function up(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$m(n,s)}catch(l){Jt(t,t.return,l)}}}function cp(t,n,s){s.props=ba(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Jt(t,n,l)}}function jl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Jt(t,n,c)}}function Ti(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Jt(t,n,c)}else s.current=null}function hp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Jt(t,t.return,c)}}function nf(t,n,s){try{var l=t.stateNode;sb(l,t.type,s,n),l[Me]=n}catch(c){Jt(t,t.return,c)}}function fp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cs(t.type)||t.tag===4}function sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&Cs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(af(t,n,s),t=t.sibling;t!==null;)af(t,n,s),t=t.sibling}function Au(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Cs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Au(t,n,s),t=t.sibling;t!==null;)Au(t,n,s),t=t.sibling}function dp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,s),n[xe]=t,n[Me]=s}catch(f){Jt(t,t.return,f)}}var Qi=!1,Ce=!1,rf=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function UE(t,n){if(t=t.containerInfo,Nf=Fu,t=wm(t),Wc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,b=-1,V=-1,P=0,X=0,$=t,H=null;e:for(;;){for(var F;$!==s||c!==0&&$.nodeType!==3||(b=p+c),$!==f||l!==0&&$.nodeType!==3||(V=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(F=$.firstChild)!==null;)H=$,$=F;for(;;){if($===t)break e;if(H===s&&++P===c&&(b=p),H===f&&++X===l&&(V=p),(F=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=F}s=b===-1||V===-1?null:{start:b,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cf={focusedElem:t,selectionRange:s},Fu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var dt=ba(s.type,c);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){Jt(s,s.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)If(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":If(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function gp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(t,s),l&4&&Ol(5,s);break;case 1:if(Yi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Jt(s,s.return,p)}else{var c=ba(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(s,s.return,p)}}l&64&&up(s),l&512&&jl(s,s.return);break;case 3:if(Yi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$m(t,n)}catch(p){Jt(s,s.return,p)}}break;case 27:n===null&&l&4&&dp(s);case 26:case 5:Yi(t,s),n===null&&l&4&&hp(s),l&512&&jl(s,s.return);break;case 12:Yi(t,s);break;case 31:Yi(t,s),l&4&&_p(t,s);break;case 13:Yi(t,s),l&4&&vp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=FE.bind(null,s),fb(t,s))));break;case 22:if(l=s.memoizedState!==null||Qi,!l){n=n!==null&&n.memoizedState!==null||Ce,c=Qi;var f=Ce;Qi=l,(Ce=n)&&!f?Ki(t,s,(s.subtreeFlags&8772)!==0):Yi(t,s),Qi=c,Ce=f}break;case 30:break;default:Yi(t,s)}}function pp(t){var n=t.alternate;n!==null&&(t.alternate=null,pp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&za(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,on=!1;function Fi(t,n,s){for(s=s.child;s!==null;)yp(t,n,s),s=s.sibling}function yp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:Ce||Ti(s,n),Fi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Ti(s,n);var l=oe,c=on;Cs(s.type)&&(oe=s.stateNode,on=!1),Fi(t,n,s),Hl(s.stateNode),oe=l,on=c;break;case 5:Ce||Ti(s,n);case 6:if(l=oe,c=on,oe=null,Fi(t,n,s),oe=l,on=c,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:oe!==null&&(on?(t=oe,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Tr(t)):uy(oe,s.stateNode));break;case 4:l=oe,c=on,oe=s.stateNode.containerInfo,on=!0,Fi(t,n,s),oe=l,on=c;break;case 0:case 11:case 14:case 15:bs(2,s,n),Ce||bs(4,s,n),Fi(t,n,s);break;case 1:Ce||(Ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cp(s,n,l)),Fi(t,n,s);break;case 21:Fi(t,n,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,Fi(t,n,s),Ce=l;break;default:Fi(t,n,s)}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(s){Jt(n,n.return,s)}}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(s){Jt(n,n.return,s)}}function LE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mp),n;default:throw Error(r(435,t.tag))}}function wu(t,n){var s=LE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=YE.bind(null,t,l);l.then(c,c)}})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,p=n,b=p;t:for(;b!==null;){switch(b.tag){case 27:if(Cs(b.type)){oe=b.stateNode,on=!1;break t}break;case 5:oe=b.stateNode,on=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,on=!0;break t}b=b.return}if(oe===null)throw Error(r(160));yp(f,p,c),oe=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var $n=null;function Ep(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(bs(3,t,t.return),Ol(3,t),bs(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(Ce||s===null||Ti(s,s.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=$n;if(un(n,t),cn(t),l&512&&(Ce||s===null||Ti(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ui]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,s),f[xe]=t,Te(f),l=f;break t;case"link":var p=Ey("link","href",c).get(l+(s.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(b,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;case"meta":if(p=Ey("meta","content",c).get(l+(s.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(b,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[xe]=t,Te(f),l=f}t.stateNode=l}else by(c,t.type,t.stateNode);else t.stateNode=vy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?by(c,t.type,t.stateNode):vy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nf(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(Ce||s===null||Ti(s,s.return)),s!==null&&l&4&&nf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(Ce||s===null||Ti(s,s.return)),t.flags&32){c=t.stateNode;try{ln(c,"")}catch(dt){Jt(t,t.return,dt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,nf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(rf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(dt){Jt(t,t.return,dt)}}break;case 3:if(qu=null,c=$n,$n=Bu(n.containerInfo),un(n,t),$n=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(dt){Jt(t,t.return,dt)}rf&&(rf=!1,bp(t));break;case 4:l=$n,$n=Bu(t.stateNode.containerInfo),un(n,t),cn(t),$n=l;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cu=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 22:c=t.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,P=Qi,X=Ce;if(Qi=P||c,Ce=X||V,un(n,t),Ce=X,Qi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||V||Qi||Ce||xa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){V=s=n;try{if(f=V.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=V.stateNode;var $=V.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(dt){Jt(V,V.return,dt)}}}else if(n.tag===6){if(s===null){V=n;try{V.stateNode.nodeValue=c?"":V.memoizedProps}catch(dt){Jt(V,V.return,dt)}}}else if(n.tag===18){if(s===null){V=n;try{var F=V.stateNode;c?cy(F,!0):cy(V.stateNode,!1)}catch(dt){Jt(V,V.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wu(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wu(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=sf(t);Au(t,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(ln(p,""),s.flags&=-33);var b=sf(t);Au(t,b,p);break;case 3:case 4:var V=s.stateNode.containerInfo,P=sf(t);af(t,P,V);break;default:throw Error(r(161))}}catch(X){Jt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(t,n.alternate,n),n=n.sibling}function xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),xa(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cp(n,n.return,s),xa(n);break;case 27:Hl(n.stateNode);case 26:case 5:Ti(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}t=t.sibling}}function Ki(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,s),Ol(4,f);break;case 1:if(Ki(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Jt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var b=l.stateNode;try{var V=c.shared.hiddenCallbacks;if(V!==null)for(c.shared.hiddenCallbacks=null,c=0;c<V.length;c++)Wm(V[c],b)}catch(P){Jt(l,l.return,P)}}s&&p&64&&up(f),jl(f,f.return);break;case 27:dp(f);case 26:case 5:Ki(c,f,s),s&&l===null&&p&4&&hp(f),jl(f,f.return);break;case 12:Ki(c,f,s);break;case 31:Ki(c,f,s),s&&p&4&&_p(c,f);break;case 13:Ki(c,f,s),s&&p&4&&vp(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,s),jl(f,f.return);break;case 30:break;default:Ki(c,f,s)}n=n.sibling}}function lf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&El(s))}function of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function ti(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xp(t,n,s,l),n=n.sibling}function xp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,s,l),c&2048&&Ol(9,n);break;case 1:ti(t,n,s,l);break;case 3:ti(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){ti(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){Jt(n,n.return,V)}}else ti(t,n,s,l);break;case 31:ti(t,n,s,l);break;case 13:ti(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,s,l):Ml(t,n):f._visibility&2?ti(t,n,s,l):(f._visibility|=2,fr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&lf(p,n);break;case 24:ti(t,n,s,l),c&2048&&of(n.alternate,n);break;default:ti(t,n,s,l)}}function fr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=s,V=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:fr(f,p,b,V,c),Ol(8,p);break;case 23:break;case 22:var X=p.stateNode;p.memoizedState!==null?X._visibility&2?fr(f,p,b,V,c):Ml(f,p):(X._visibility|=2,fr(f,p,b,V,c)),c&&P&2048&&lf(p.alternate,p);break;case 24:fr(f,p,b,V,c),c&&P&2048&&of(p.alternate,p);break;default:fr(f,p,b,V,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(s,l),c&2048&&lf(l.alternate,l);break;case 24:Ml(s,l),c&2048&&of(l.alternate,l);break;default:Ml(s,l)}n=n.sibling}}var kl=8192;function dr(t,n,s){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Tp(t,n,s),t=t.sibling}function Tp(t,n,s){switch(t.tag){case 26:dr(t,n,s),t.flags&kl&&t.memoizedState!==null&&Sb(s,$n,t.memoizedState,t.memoizedProps);break;case 5:dr(t,n,s);break;case 3:case 4:var l=$n;$n=Bu(t.stateNode.containerInfo),dr(t,n,s),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,dr(t,n,s),kl=l):dr(t,n,s));break;default:dr(t,n,s)}}function Sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,wp(l,t)}Sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&bs(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nu(t)):Ul(t);break;default:Ul(t)}}function Nu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,wp(l,t)}Sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Nu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Nu(n));break;default:Nu(n)}t=t.sibling}}function wp(t,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(pp(l),l===s){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var zE={getCacheForType:function(t){var n=qe(Ae),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qe(Ae).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,jt=null,kt=0,Zt=0,xn=null,xs=!1,mr=!1,uf=!1,Xi=0,fe=0,Ts=0,Ta=0,cf=0,Tn=0,gr=0,Ll=null,hn=null,hf=!1,Cu=0,Np=0,Ru=1/0,Du=null,Ss=null,Oe=0,As=null,pr=null,Zi=0,ff=0,df=null,Cp=null,zl=0,mf=null;function Sn(){return(Yt&2)!==0&&kt!==0?kt&-kt:L.T!==null?Ef():Io()}function Rp(){if(Tn===0)if((kt&536870912)===0||Bt){var t=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),Tn=t}else Tn=536870912;return t=En.current,t!==null&&(t.flags|=32),Tn}function fn(t,n,s){(t===ne&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(yr(t,0),ws(t,kt,Tn,!1)),Js(t,s),((Yt&2)===0||t!==ne)&&(t===ne&&((Yt&2)===0&&(Ta|=s),fe===4&&ws(t,kt,Tn,!1)),Si(t))}function Dp(t,n,s){if((Yt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Gn(t,n),c=l?HE(t,n):pf(t,n,!0),f=l;do{if(c===0){mr&&!l&&ws(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!PE(s)){c=pf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var b=t;c=Ll;var V=b.current.memoizedState.isDehydrated;if(V&&(yr(b,p).flags|=256),p=pf(b,p,!1),p!==2){if(uf&&!V){b.errorRecoveryDisabledLanes|=f,Ta|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){yr(t,0),ws(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ws(l,n,Tn,!xs);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Cu+300-$e(),10<c)){if(ws(l,n,Tn,!xs),ri(l,0,!0)!==0)break t;Zi=n,l.timeoutHandle=ly(Ip.bind(null,l,s,hn,Du,hf,n,Tn,Ta,gr,xs,f,"Throttled",-0,0),c);break t}Ip(l,s,hn,Du,hf,n,Tn,Ta,gr,xs,f,null,-0,0)}}break}while(!0);Si(t)}function Ip(t,n,s,l,c,f,p,b,V,P,X,$,H,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Tp(n,f,$);var dt=(f&62914560)===f?Cu-$e():(f&4194048)===f?Np-$e():0;if(dt=Ab($,dt),dt!==null){Zi=f,t.cancelPendingCommit=dt(zp.bind(null,t,n,f,s,l,c,p,b,V,X,$,null,H,F)),ws(t,f,p,!P);return}}zp(t,n,f,s,l,c,p,b,V)}function PE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!_n(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ws(t,n,s,l){n&=~cf,n&=~Ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),p=1<<f;l[f]=-1,c&=~p}s!==0&&Ws(t,s,n)}function Iu(){return(Yt&6)===0?(Bl(0),!1):!0}function gf(){if(jt!==null){if(Zt===0)var t=jt.return;else t=jt,zi=ma=null,Dh(t),lr=null,xl=0,t=jt;for(;t!==null;)op(t.alternate,t),t=t.return;jt=null}}function yr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,lb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zi=0,gf(),ne=t,jt=s=Ui(t.current,null),kt=n,Zt=0,xn=null,xs=!1,mr=Gn(t,n),uf=!1,gr=Tn=cf=Ta=Ts=fe=0,hn=Ll=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return Xi=n,Wo(),s}function Vp(t,n){Vt=null,L.H=Dl,n===rr||n===ru?(n=Km(),Zt=3):n===_h?(n=Km(),Zt=4):Zt=n===Fh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,jt===null&&(fe=1,Eu(t,On(n,t.current)))}function Op(){var t=En.current;return t===null?!0:(kt&4194048)===kt?Un===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Un:!1}function jp(){var t=L.H;return L.H=Dl,t===null?Dl:t}function Mp(){var t=L.A;return L.A=zE,t}function Vu(){fe=4,xs||(kt&4194048)!==kt&&En.current!==null||(mr=!0),(Ts&134217727)===0&&(Ta&134217727)===0||ne===null||ws(ne,kt,Tn,!1)}function pf(t,n,s){var l=Yt;Yt|=2;var c=jp(),f=Mp();(ne!==t||kt!==n)&&(Du=null,yr(t,n)),n=!1;var p=fe;t:do try{if(Zt!==0&&jt!==null){var b=jt,V=xn;switch(Zt){case 8:gf(),p=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var P=Zt;if(Zt=0,xn=null,_r(t,b,V,P),s&&mr){p=0;break t}break;default:P=Zt,Zt=0,xn=null,_r(t,b,V,P)}}qE(),p=fe;break}catch(X){Vp(t,X)}while(!0);return n&&t.shellSuspendCounter++,zi=ma=null,Yt=l,L.H=c,L.A=f,jt===null&&(ne=null,kt=0,Wo()),p}function qE(){for(;jt!==null;)kp(jt)}function HE(t,n){var s=Yt;Yt|=2;var l=jp(),c=Mp();ne!==t||kt!==n?(Du=null,Ru=$e()+500,yr(t,n)):mr=Gn(t,n);t:do try{if(Zt!==0&&jt!==null){n=jt;var f=xn;e:switch(Zt){case 1:Zt=0,xn=null,_r(t,n,f,1);break;case 2:case 9:if(Fm(f)){Zt=0,xn=null,Up(n);break}n=function(){Zt!==2&&Zt!==9||ne!==t||(Zt=7),Si(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Fm(f)?(Zt=0,xn=null,Up(n)):(Zt=0,xn=null,_r(t,n,f,7));break;case 5:var p=null;switch(jt.tag){case 26:p=jt.memoizedState;case 5:case 27:var b=jt;if(p?xy(p):b.stateNode.complete){Zt=0,xn=null;var V=b.sibling;if(V!==null)jt=V;else{var P=b.return;P!==null?(jt=P,Ou(P)):jt=null}break e}}Zt=0,xn=null,_r(t,n,f,5);break;case 6:Zt=0,xn=null,_r(t,n,f,6);break;case 8:gf(),fe=6;break t;default:throw Error(r(462))}}GE();break}catch(X){Vp(t,X)}while(!0);return zi=ma=null,L.H=l,L.A=c,Yt=s,jt!==null?0:(ne=null,kt=0,Wo(),fe)}function GE(){for(;jt!==null&&!Qc();)kp(jt)}function kp(t){var n=rp(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?Ou(t):jt=n}function Up(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=tp(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=tp(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Dh(n);default:op(s,n),n=jt=Mm(n,Xi),n=rp(s,n,Xi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):jt=n}function _r(t,n,s,l){zi=ma=null,Dh(n),lr=null,xl=0;var c=n.return;try{if(VE(t,c,n,s,kt)){fe=1,Eu(t,On(s,t.current)),jt=null;return}}catch(f){if(c!==null)throw jt=c,f;fe=1,Eu(t,On(s,t.current)),jt=null;return}n.flags&32768?(Bt||l===1?t=!0:mr||(kt&536870912)!==0?t=!1:(xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lp(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Lp(n,xs);return}t=n.return;var s=ME(n.alternate,n,Xi);if(s!==null){jt=s;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);fe===0&&(fe=5)}function Lp(t,n){do{var s=kE(t.alternate,t);if(s!==null){s.flags&=32767,jt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=s}while(t!==null);fe=6,jt=null}function zp(t,n,s,l,c,f,p,b,V){t.cancelPendingCommit=null;do ju();while(Oe!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ih,Kc(t,s,f,p,b,V),t===ne&&(jt=ne=null,kt=0),pr=n,As=t,Zi=s,ff=f,df=c,Cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KE(ns,function(){return Gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=G.p,G.p=2,p=Yt,Yt|=4;try{UE(t,n,s)}finally{Yt=p,G.p=c,L.T=l}}Oe=1,Bp(),Pp(),qp()}}function Bp(){if(Oe===1){Oe=0;var t=As,n=pr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=G.p;G.p=2;var c=Yt;Yt|=4;try{Ep(n,t);var f=Cf,p=wm(t.containerInfo),b=f.focusedElem,V=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Am(b.ownerDocument.documentElement,b)){if(V!==null&&Wc(b)){var P=V.start,X=V.end;if(X===void 0&&(X=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(X,b.value.length);else{var $=b.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var F=H.getSelection(),dt=b.textContent.length,Et=Math.min(V.start,dt),ee=V.end===void 0?Et:Math.min(V.end,dt);!F.extend&&Et>ee&&(p=ee,ee=Et,Et=p);var U=Sm(b,Et),j=Sm(b,ee);if(U&&j&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==j.node||F.focusOffset!==j.offset)){var B=$.createRange();B.setStart(U.node,U.offset),F.removeAllRanges(),Et>ee?(F.addRange(B),F.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),F.addRange(B))}}}}for($=[],F=b;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var W=$[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Fu=!!Nf,Cf=Nf=null}finally{Yt=c,G.p=l,L.T=s}}t.current=n,Oe=2}}function Pp(){if(Oe===2){Oe=0;var t=As,n=pr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=G.p;G.p=2;var c=Yt;Yt|=4;try{gp(t,n.alternate,n)}finally{Yt=c,G.p=l,L.T=s}}Oe=3}}function qp(){if(Oe===4||Oe===3){Oe=0,So();var t=As,n=pr,s=Zi,l=Cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,pr=As=null,Hp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ss=null),Oi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,c=G.p,G.p=2,L.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{L.T=n,G.p=c}}(Zi&3)!==0&&ju(),Si(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===mf?zl++:(zl=0,mf=t):zl=0,Bl(0)}}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function ju(){return Bp(),Pp(),qp(),Gp()}function Gp(){if(Oe!==5)return!1;var t=As,n=ff;ff=0;var s=Oi(Zi),l=L.T,c=G.p;try{G.p=32>s?32:s,L.T=null,s=df,df=null;var f=As,p=Zi;if(Oe=0,pr=As=null,Zi=0,(Yt&6)!==0)throw Error(r(331));var b=Yt;if(Yt|=4,Ap(f.current),xp(f,f.current,p,s),Yt=b,Bl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{G.p=c,L.T=l,Hp(t,n)}}function Qp(t,n,s){n=On(s,n),n=Qh(t.stateNode,n,2),t=_s(t,n,2),t!==null&&(Js(t,2),Si(t))}function Jt(t,n,s){if(t.tag===3)Qp(t,t,s);else for(;n!==null;){if(n.tag===3){Qp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ss===null||!Ss.has(l))){t=On(s,t),s=Fg(2),l=_s(n,s,2),l!==null&&(Yg(s,l,n,t),Js(l,2),Si(l));break}}n=n.return}}function yf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new BE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(uf=!0,c.add(s),t=QE.bind(null,t,n,s),n.then(t,t))}function QE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ne===t&&(kt&s)===s&&(fe===4||fe===3&&(kt&62914560)===kt&&300>$e()-Cu?(Yt&2)===0&&yr(t,0):cf|=s,gr===kt&&(gr=0)),Si(t)}function Fp(t,n){n===0&&(n=Do()),t=ha(t,n),t!==null&&(Js(t,n),Si(t))}function FE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Fp(t,s)}function YE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Fp(t,s)}function KE(t,n){return Ve(t,n)}var Mu=null,vr=null,_f=!1,ku=!1,vf=!1,Ns=0;function Si(t){t!==vr&&t.next===null&&(vr===null?Mu=vr=t:vr=vr.next=t),ku=!0,_f||(_f=!0,ZE())}function Bl(t,n){if(!vf&&ku){vf=!0;do for(var s=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zp(l,f))}else f=kt,f=ri(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gn(l,f)||(s=!0,Zp(l,f));l=l.next}while(s);vf=!1}}function XE(){Yp()}function Yp(){ku=_f=!1;var t=0;Ns!==0&&rb()&&(t=Ns);for(var n=$e(),s=null,l=Mu;l!==null;){var c=l.next,f=Kp(l,n);f===0?(l.next=null,s===null?Mu=c:s.next=c,c===null&&(vr=s)):(s=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=c}Oe!==0&&Oe!==5||Bl(t),Ns!==0&&(Ns=0)}function Kp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-de(f),b=1<<p,V=c[p];V===-1?((b&s)===0||(b&l)!==0)&&(c[p]=Yc(b,n)):V<=n&&(t.expiredLanes|=b),f&=~b}if(n=ne,s=kt,s=ri(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&es(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Gn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&es(l),Oi(s)){case 2:case 8:s=Zr;break;case 32:s=ns;break;case 268435456:s=Ao;break;default:s=ns}return l=Xp.bind(null,t),s=Ve(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&es(l),t.callbackPriority=2,t.callbackNode=null,2}function Xp(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ju()&&t.callbackNode!==s)return null;var l=kt;return l=ri(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dp(t,l,n),Kp(t,$e()),t.callbackNode!=null&&t.callbackNode===s?Xp.bind(null,t):null)}function Zp(t,n){if(ju())return null;Dp(t,n,!0)}function ZE(){ob(function(){(Yt&6)!==0?Ve(Xr,XE):Yp()})}function Ef(){if(Ns===0){var t=sr;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Ns=t}return Ns}function Jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function Wp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function JE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Jp((c[Me]||null).action),p=l.submitter;p&&(n=(n=p[Me]||null)?Jp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new yi("action","action",null,l,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var V=p?Wp(c,p):new FormData(c);zh(s,{pending:!0,data:V,method:c.method,action:f},null,V)}}else typeof f=="function"&&(b.preventDefault(),V=p?Wp(c,p):new FormData(c),zh(s,{pending:!0,data:V,method:c.method,action:f},f,V))},currentTarget:c}]})}}for(var bf=0;bf<nh.length;bf++){var xf=nh[bf],WE=xf.toLowerCase(),$E=xf[0].toUpperCase()+xf.slice(1);Wn(WE,"on"+$E)}Wn(Rm,"onAnimationEnd"),Wn(Dm,"onAnimationIteration"),Wn(Im,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(gE,"onTransitionRun"),Wn(pE,"onTransitionStart"),Wn(yE,"onTransitionCancel"),Wn(Vm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function $p(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],V=b.instance,P=b.currentTarget;if(b=b.listener,V!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=P;try{f(c)}catch(X){Jo(X)}c.currentTarget=null,f=V}else for(p=0;p<l.length;p++){if(b=l[p],V=b.instance,P=b.currentTarget,b=b.listener,V!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=P;try{f(c)}catch(X){Jo(X)}c.currentTarget=null,f=V}}}}function Mt(t,n){var s=n[La];s===void 0&&(s=n[La]=new Set);var l=t+"__bubble";s.has(l)||(ty(n,t,2,!1),s.add(l))}function Tf(t,n,s){var l=0;n&&(l|=4),ty(s,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[Uu]){t[Uu]=!0,$r.forEach(function(s){s!=="selectionchange"&&(tb.has(s)||Tf(s,!1,t),Tf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Tf("selectionchange",!1,n))}}function ty(t,n,s,l){switch(Ry(n)){case 2:var c=Cb;break;case 8:c=Rb;break;default:c=zf}s=c.bind(null,n,s,t),c=void 0,!ia||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Af(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===c)break;if(p===4)for(p=l.return;p!==null;){var V=p.tag;if((V===3||V===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;b!==null;){if(p=ci(b),p===null)return;if(V=p.tag,V===5||V===6||V===26||V===27){l=f=p;continue t}b=b.parentNode}}l=l.return}os(function(){var P=f,X=Rn(s),$=[];t:{var H=Om.get(t);if(H!==void 0){var F=yi,dt=t;switch(t){case"keypress":if(aa(s)===0)break t;case"keydown":case"keyup":F=Ko;break;case"focusin":dt="focus",F=la;break;case"focusout":dt="blur",F=la;break;case"beforeblur":case"afterblur":F=la;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Rm:case Dm:case Im:F=Po;break;case Vm:F=S;break;case"scroll":case"scrollend":F=hl;break;case"wheel":F=Q;break;case"copy":case"cut":case"paste":F=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ki;break;case"toggle":case"beforetoggle":F=It}var Et=(n&4)!==0,ee=!Et&&(t==="scroll"||t==="scrollend"),U=Et?H!==null?H+"Capture":null:H;Et=[];for(var j=P,B;j!==null;){var W=j;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Kn(j,U),W!=null&&Et.push(ql(j,W,B))),ee)break;j=j.return}0<Et.length&&(H=new F(H,dt,null,s,X),$.push({event:H,listeners:Et}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&s!==ol&&(dt=s.relatedTarget||s.fromElement)&&(ci(dt)||dt[oi]))break t;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(dt=s.relatedTarget||s.toElement,F=P,dt=dt?ci(dt):null,dt!==null&&(ee=h(dt),Et=dt.tag,dt!==ee||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(F=null,dt=P),F!==dt)){if(Et=fl,W="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Et=ki,W="onPointerLeave",U="onPointerEnter",j="pointer"),ee=F==null?H:pn(F),B=dt==null?H:pn(dt),H=new Et(W,j+"leave",F,s,X),H.target=ee,H.relatedTarget=B,W=null,ci(X)===P&&(Et=new Et(U,j+"enter",dt,s,X),Et.target=B,Et.relatedTarget=ee,W=Et),ee=W,F&&dt)e:{for(Et=eb,U=F,j=dt,B=0,W=U;W;W=Et(W))B++;W=0;for(var yt=j;yt;yt=Et(yt))W++;for(;0<B-W;)U=Et(U),B--;for(;0<W-B;)j=Et(j),W--;for(;B--;){if(U===j||j!==null&&U===j.alternate){Et=U;break e}U=Et(U),j=Et(j)}Et=null}else Et=null;F!==null&&ey($,H,F,Et,!1),dt!==null&&ee!==null&&ey($,ee,dt,Et,!0)}}t:{if(H=P?pn(P):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var Ht=_m;else if(pm(H))if(vm)Ht=fE;else{Ht=cE;var mt=uE}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&qa(P.elementType)&&(Ht=_m):Ht=hE;if(Ht&&(Ht=Ht(t,P))){ym($,Ht,s,X);break t}mt&&mt(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&al(H,"number",H.value)}switch(mt=P?pn(P):window,t){case"focusin":(pm(mt)||mt.contentEditable==="true")&&(Za=mt,$c=P,yl=null);break;case"focusout":yl=$c=Za=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,Nm($,s,X);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":Nm($,s,X)}var Ot;if(Ft)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Xa?oa(t,s)&&(Ut="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ei&&s.locale!=="ko"&&(Xa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Xa&&(Ot=cl()):(pi=X,ul="value"in pi?pi.value:pi.textContent,Xa=!0)),mt=Lu(P,Ut),0<mt.length&&(Ut=new vi(Ut,t,null,s,X),$.push({event:Ut,listeners:mt}),Ot?Ut.data=Ot:(Ot=Ka(s),Ot!==null&&(Ut.data=Ot)))),(Ot=In?aE(t,s):rE(t,s))&&(Ut=Lu(P,"onBeforeInput"),0<Ut.length&&(mt=new vi("onBeforeInput","beforeinput",null,s,X),$.push({event:mt,listeners:Ut}),mt.data=Ot)),JE($,t,P,s,X)}$p($,n)})}function ql(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Lu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Kn(t,s),c!=null&&l.unshift(ql(t,c,f)),c=Kn(t,n),c!=null&&l.push(ql(t,c,f))),t.tag===3)return l;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,s,l,c){for(var f=n._reactName,p=[];s!==null&&s!==l;){var b=s,V=b.alternate,P=b.stateNode;if(b=b.tag,V!==null&&V===l)break;b!==5&&b!==26&&b!==27||P===null||(V=P,c?(P=Kn(s,f),P!=null&&p.unshift(ql(s,P,V))):c||(P=Kn(s,f),P!=null&&p.push(ql(s,P,V)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(ib,"")}function iy(t,n){return n=ny(n),ny(t)===n}function te(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,s,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ha(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ha(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":Se(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lo.get(s)||s,Ba(t,s,l))}}function wf(t,n,s,l,c,f){switch(s){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ba(t,s,l)}}}function Ge(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,f,p,s,null)}}c&&te(t,n,"srcSet",s.srcSet,s,null),l&&te(t,n,"src",s.src,s,null);return;case"input":Mt("invalid",t);var b=f=p=c=null,V=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":c=X;break;case"type":p=X;break;case"checked":V=X;break;case"defaultChecked":P=X;break;case"value":f=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,n));break;default:te(t,n,l,X,s,null)}}Mo(t,f,b,V,P,p,c,!1);return;case"select":Mt("invalid",t),l=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:te(t,n,c,b,s,null)}n=f,s=p,t.multiple=!!l,n!=null?ss(t,!!l,n,!1):s!=null&&ss(t,!!l,s,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(p in s)if(s.hasOwnProperty(p)&&(b=s[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:te(t,n,p,b,s,null)}as(t,l,c,f);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(l=s[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,V,l,s,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Mt(Pl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,P,l,s,null)}return;default:if(qa(n)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&wf(t,n,X,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&te(t,n,b,l,s,null))}function sb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,b=null,V=null,P=null,X=null;for(F in s){var $=s[F];if(s.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":V=$;default:l.hasOwnProperty(F)||te(t,n,F,null,l,$)}}for(var H in l){var F=l[H];if($=s[H],l.hasOwnProperty(H)&&(F!=null||$!=null))switch(H){case"type":f=F;break;case"name":c=F;break;case"checked":P=F;break;case"defaultChecked":X=F;break;case"value":p=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&te(t,n,H,F,l,$)}}Pa(t,p,b,V,P,X,f,c);return;case"select":F=p=b=H=null;for(f in s)if(V=s[f],s.hasOwnProperty(f)&&V!=null)switch(f){case"value":break;case"multiple":F=V;default:l.hasOwnProperty(f)||te(t,n,f,null,l,V)}for(c in l)if(f=l[c],V=s[c],l.hasOwnProperty(c)&&(f!=null||V!=null))switch(c){case"value":H=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==V&&te(t,n,c,f,l,V)}n=b,s=p,l=F,H!=null?ss(t,!!s,H,!1):!!l!=!!s&&(n!=null?ss(t,!!s,n,!0):ss(t,!!s,s?[]:"",!1));return;case"textarea":F=H=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(t,n,b,null,l,c)}for(p in l)if(c=l[p],f=s[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":H=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&te(t,n,p,c,l,f)}ko(t,H,F);return;case"option":for(var dt in s)if(H=s[dt],s.hasOwnProperty(dt)&&H!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:te(t,n,dt,null,l,H)}for(V in l)if(H=l[V],F=s[V],l.hasOwnProperty(V)&&H!==F&&(H!=null||F!=null))switch(V){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(t,n,V,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)H=s[Et],s.hasOwnProperty(Et)&&H!=null&&!l.hasOwnProperty(Et)&&te(t,n,Et,null,l,H);for(P in l)if(H=l[P],F=s[P],l.hasOwnProperty(P)&&H!==F&&(H!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:te(t,n,P,H,l,F)}return;default:if(qa(n)){for(var ee in s)H=s[ee],s.hasOwnProperty(ee)&&H!==void 0&&!l.hasOwnProperty(ee)&&wf(t,n,ee,void 0,l,H);for(X in l)H=l[X],F=s[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||wf(t,n,X,H,l,F);return}}for(var U in s)H=s[U],s.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&te(t,n,U,null,l,H);for($ in l)H=l[$],F=s[$],!l.hasOwnProperty($)||H===F||H==null&&F==null||te(t,n,$,H,l,F)}function sy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,p=c.initiatorType,b=c.duration;if(f&&b&&sy(p)){for(p=0,b=c.responseEnd,l+=1;l<s.length;l++){var V=s[l],P=V.startTime;if(P>b)break;var X=V.transferSize,$=V.initiatorType;X&&sy($)&&(V=V.responseEnd,p+=X*(V<b?1:(b-P)/(V-P)))}if(--l,n+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nf=null,Cf=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Df=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(ub)}:ly;function ub(t){setTimeout(function(){throw t})}function Cs(t){return t==="head"}function uy(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Tr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Hl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[ui]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Hl(t.ownerDocument.body);s=c}while(s);Tr(n)}function cy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function If(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":If(s),za(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function cb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function hb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function hy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function Vf(t){return t.data==="$?"||t.data==="$~"}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jf=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function my(t,n,s){switch(n=zu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);za(t)}var zn=new Map,gy=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=G.d;G.d={f:db,r:mb,D:gb,C:pb,L:yb,m:_b,X:Eb,S:vb,M:bb};function db(){var t=Ji.f(),n=Iu();return t||n}function mb(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):Ji.r(t)}var Er=typeof document>"u"?null:document;function py(t,n,s){var l=Er;if(l&&typeof n=="string"&&n){var c=rn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),gy.has(c)||(gy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function gb(t){Ji.D(t),py("dns-prefetch",t,null)}function pb(t,n){Ji.C(t,n),py("preconnect",t,n)}function yb(t,n,s){Ji.L(t,n,s);var l=Er;if(l&&t&&n){var c='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+rn(s.imageSizes)+'"]')):c+='[href="'+rn(t)+'"]';var f=c;switch(n){case"style":f=br(t);break;case"script":f=xr(t)}zn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),zn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function _b(t,n){Ji.m(t,n);var s=Er;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xr(t)}if(!zn.has(f)&&(t=w({rel:"modulepreload",href:t},n),zn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ql(f)))return}l=s.createElement("link"),Ge(l,"link",t),Te(l),s.head.appendChild(l)}}}function vb(t,n,s){Ji.S(t,n,s);var l=Er;if(l&&t){var c=hi(l).hoistableStyles,f=br(t);n=n||"default";var p=c.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(Gl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=zn.get(f))&&Mf(t,s);var V=p=l.createElement("link");Te(V),Ge(V,"link",t),V._p=new Promise(function(P,X){V.onload=P,V.onerror=X}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},c.set(f,p)}}}function Eb(t,n){Ji.X(t,n);var s=Er;if(s&&t){var l=hi(s).hoistableScripts,c=xr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=w({src:t,async:!0},n),(n=zn.get(c))&&kf(t,n),f=s.createElement("script"),Te(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function bb(t,n){Ji.M(t,n);var s=Er;if(s&&t){var l=hi(s).hoistableScripts,c=xr(t),f=l.get(c);f||(f=s.querySelector(Ql(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=zn.get(c))&&kf(t,n),f=s.createElement("script"),Te(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yy(t,n,s,l){var c=(c=xt.current)?Bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=br(s.href),s=hi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=br(s.href);var f=hi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),f||xb(c,t,s,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xr(s),s=hi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function br(t){return'href="'+rn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function _y(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function xb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Te(n),t.head.appendChild(n))}function xr(t){return'[src="'+rn(t)+'"]'}function Ql(t){return"script[async]"+t}function vy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return n.instance=l,Te(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),Ge(l,"style",c),Pu(l,s.precedence,t),n.instance=l;case"stylesheet":c=br(s.href);var f=t.querySelector(Gl(c));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=_y(s),(c=zn.get(c))&&Mf(l,c),f=(t.ownerDocument||t).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(b,V){p.onload=b,p.onerror=V}),Ge(f,"link",l),n.state.loading|=4,Pu(f,s.precedence,t),n.instance=f;case"script":return f=xr(s.src),(c=t.querySelector(Ql(f)))?(n.instance=c,Te(c),c):(l=s,(c=zn.get(f))&&(l=w({},s),kf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Te(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,s.precedence,t));return n.instance}function Pu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function Ey(t,n,s){if(qu===null){var l=new Map,c=qu=new Map;c.set(s,l)}else c=qu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ui]||f[xe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function by(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Tb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Sb(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=br(l.href),f=n.querySelector(Gl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Hu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,l=_y(l),(c=zn.get(c))&&Mf(l,c),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(b,V){p.onload=b,p.onerror=V}),Ge(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Hu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Uf=0;function Ab(t,n){return t.stylesheets&&t.count===0&&Qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Uf===0&&(Uf=62500*ab());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Uf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Qu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(wb,t),Gu=null,Hu.call(t))}function wb(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,c),s.set(p,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function Nb(t,n,s,l,c,f,p,b,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Ty(t,n,s,l,c,f,p,b,V,P,X,$){return t=new Nb(t,n,s,p,V,P,X,$,b),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=gh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},vh(f),t}function Sy(t){return t?(t=$a,t):$a}function Ay(t,n,s,l,c,f){c=Sy(c),l.context===null?l.context=c:l.pendingContext=c,l=ys(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=_s(t,l,n),s!==null&&(fn(s,t,n),Sl(s,t,n))}function wy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Lf(t,n){wy(t,n),(t=t.alternate)&&wy(t,n)}function Ny(t){if(t.tag===13||t.tag===31){var n=ha(t,67108864);n!==null&&fn(n,t,67108864),Lf(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=Sn();n=$s(n);var s=ha(t,n);s!==null&&fn(s,t,n),Lf(t,n)}}var Fu=!0;function Cb(t,n,s,l){var c=L.T;L.T=null;var f=G.p;try{G.p=2,zf(t,n,s,l)}finally{G.p=f,L.T=c}}function Rb(t,n,s,l){var c=L.T;L.T=null;var f=G.p;try{G.p=8,zf(t,n,s,l)}finally{G.p=f,L.T=c}}function zf(t,n,s,l){if(Fu){var c=Bf(l);if(c===null)Af(t,n,l,Yu,s),Dy(t,l);else if(Ib(c,t,n,s,l))l.stopPropagation();else if(Dy(t,l),n&4&&-1<Db.indexOf(t)){for(;c!==null;){var f=Cn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ai(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var V=1<<31-de(p);b.entanglements[1]|=V,p&=~V}Si(f),(Yt&6)===0&&(Ru=$e()+500,Bl(0))}}break;case 31:case 13:b=ha(f,2),b!==null&&fn(b,f,2),Iu(),Lf(f,2)}if(f=Bf(l),f===null&&Af(t,n,l,Yu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Af(t,n,l,null,s)}}function Bf(t){return t=Rn(t),Pf(t)}var Yu=null;function Pf(t){if(Yu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=_(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Xr:return 2;case Zr:return 8;case ns:case Fc:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var qf=!1,Rs=null,Ds=null,Is=null,Yl=new Map,Kl=new Map,Vs=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(t,n){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Cn(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Ib(t,n,s,l,c){switch(n){case"focusin":return Rs=Xl(Rs,t,n,s,l,c),!0;case"dragenter":return Ds=Xl(Ds,t,n,s,l,c),!0;case"mouseover":return Is=Xl(Is,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,s,l,c)),!0}return!1}function Iy(t){var n=ci(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Qn(t.priority,function(){Cy(s)});return}}else if(n===31){if(n=_(s),n!==null){t.blockedOn=n,Qn(t.priority,function(){Cy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Bf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ol=l,s.target.dispatchEvent(l),ol=null}else return n=Cn(s),n!==null&&Ny(n),t.blockedOn=s,!1;n.shift()}return!0}function Vy(t,n,s){Ku(t)&&s.delete(n)}function Vb(){qf=!1,Rs!==null&&Ku(Rs)&&(Rs=null),Ds!==null&&Ku(Ds)&&(Ds=null),Is!==null&&Ku(Is)&&(Is=null),Yl.forEach(Vy),Kl.forEach(Vy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,qf||(qf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vb)))}var Zu=null;function Oy(t){Zu!==t&&(Zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zu===t&&(Zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Pf(l||s)===null)continue;break}var f=Cn(s);f!==null&&(t.splice(n,3),n-=3,zh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Tr(t){function n(V){return Xu(V,t)}Rs!==null&&Xu(Rs,t),Ds!==null&&Xu(Ds,t),Is!==null&&Xu(Is,t),Yl.forEach(n),Kl.forEach(n);for(var s=0;s<Vs.length;s++){var l=Vs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)Iy(s),s.blockedOn===null&&Vs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],p=c[Me]||null;if(typeof f=="function")p||Oy(s);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Me]||null)b=p.formAction;else if(Pf(c)!==null)continue}else b=p.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Oy(s)}}}function jy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Hf(t){this._internalRoot=t}Ju.prototype.render=Hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Sn();Ay(s,l,t,n,null,null)},Ju.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Iu(),n[oi]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,t),s===0&&Iy(t)}};var My=e.version;if(My!=="19.2.3")throw Error(r(527,My,"19.2.3"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Hn=Wu.inject(Ob),ze=Wu}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=qg,f=Hg,p=Gg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ty(t,1,!1,null,null,s,l,null,c,f,p,jy),t[oi]=n.current,Sf(t),new Hf(n)},Jl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=qg,p=Hg,b=Gg,V=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(V=s.formState)),n=Ty(t,1,!0,n,s??null,l,c,V,f,p,b,jy),n.context=Sy(null),s=n.current,l=Sn(),l=$s(l),c=ys(l),c.callback=null,_s(s,c,l),s=l,n.current.lanes=s,Js(n,s),Si(n),t[oi]=n.current,Sf(t),new Ju(n)},Jl.version="19.2.3",Jl}var Qy;function Hb(){if(Qy)return Ff.exports;Qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ff.exports=qb(),Ff.exports}var Gb=Hb();const Qb=()=>{};var Fy={};const d_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Fb=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],_=a[i++],E=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,_=d?a[o+1]:0,E=o+2<a.length,y=E?a[o+2]:0,x=h>>2,w=(h&3)<<4|_>>4;let N=(_&15)<<2|y>>6,k=y&63;E||(k=64,d||(N=64)),r.push(i[x],i[w],i[N],i[k])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(d_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Fb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],_=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||_==null||y==null||w==null)throw new Yb;const N=h<<2|_>>4;if(r.push(N),y!==64){const k=_<<4&240|y>>2;if(r.push(k),w!==64){const it=y<<6&192|w;r.push(it)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kb=function(a){const e=d_(a);return m_.encodeByteArray(e,!0)},gc=function(a){return Kb(a).replace(/\./g,"")},Xb=function(a){try{return m_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jb=()=>Zb().__FIREBASE_DEFAULTS__,Wb=()=>{if(typeof process>"u"||typeof Fy>"u")return;const a=Fy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},$b=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Xb(a[1]);return e&&JSON.parse(e)},Id=()=>{try{return Qb()||Jb()||Wb()||$b()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},tx=a=>Id()?.emulatorHosts?.[a],ex=a=>{const e=tx(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},g_=()=>Id()?.config;class nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Vd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ix(a){return(await fetch(a,{credentials:"include"})).ok}function sx(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}const ao={};function ax(){const a={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?a.emulator.push(e):a.prod.push(e);return a}function rx(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Yy=!1;function lx(a,e){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||ao[a]===e||ao[a]||Yy)return;ao[a]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=ax().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function E(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Yy=!0,d()},N}function x(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=rx(r),k=i("text"),it=document.getElementById(k)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),vt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const pt=N.element;_(pt),x(J,tt);const At=y();E(vt,ut),pt.append(vt,it,J,At),document.body.appendChild(pt)}h?(it.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,it.innerText="Preview backend running in this workspace."),it.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ox(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ux(){const a=Id()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cx(){return!ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const dx="FirebaseError";class Pr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=dx,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p_.prototype.create)}}class p_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?mx(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Pr(o,_,r)}}function mx(a,e){return a.replace(gx,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const gx=/\{\$([^}]+)}/g;function Vr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Ky(h)&&Ky(d)){if(!Vr(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Ky(a){return a!==null&&typeof a=="object"}function Ii(a){return a&&a._delegate?a._delegate:a}class co{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Aa="[DEFAULT]";class px{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new nx;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_x(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yx(a){return a===Aa?void 0:a}function _x(a){return a.instantiationMode==="EAGER"}class vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new px(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const Ex={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},bx=qt.INFO,xx={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},Tx=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=xx[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y_{constructor(e){this.name=e,this._logLevel=bx,this._logHandler=Tx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const Sx=(a,e)=>e.some(i=>a instanceof i);let Xy,Zy;function Ax(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wx(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,od=new WeakMap,v_=new WeakMap,Zf=new WeakMap,Od=new WeakMap;function Nx(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(ks(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&__.set(i,a)}).catch(()=>{}),Od.set(e,a),e}function Cx(a){if(od.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});od.set(a,e)}let ud={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return od.get(a);if(e==="objectStoreNames")return a.objectStoreNames||v_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ks(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Rx(a){ud=a(ud)}function Dx(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Jf(this),e,...i);return v_.set(r,e.sort?e.sort():[e]),ks(r)}:wx().includes(a)?function(...e){return a.apply(Jf(this),e),ks(__.get(this))}:function(...e){return ks(a.apply(Jf(this),e))}}function Ix(a){return typeof a=="function"?Dx(a):(a instanceof IDBTransaction&&Cx(a),Sx(a,Ax())?new Proxy(a,ud):a)}function ks(a){if(a instanceof IDBRequest)return Nx(a);if(Zf.has(a))return Zf.get(a);const e=Ix(a);return e!==a&&(Zf.set(a,e),Od.set(e,a)),e}const Jf=a=>Od.get(a);function Vx(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),_=ks(d);return r&&d.addEventListener("upgradeneeded",E=>{r(ks(d.result),E.oldVersion,E.newVersion,ks(d.transaction),E)}),i&&d.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),_.then(E=>{h&&E.addEventListener("close",()=>h()),o&&E.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const Ox=["get","getKey","getAll","getAllKeys","count"],jx=["put","add","delete","clear"],Wf=new Map;function Jy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=jx.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Ox.includes(i)))return;const h=async function(d,..._){const E=this.transaction(d,o?"readwrite":"readonly");let y=E.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&E.done]))[0]};return Wf.set(e,h),h}Rx(a=>({...a,get:(e,i,r)=>Jy(e,i)||a.get(e,i,r),has:(e,i)=>!!Jy(e,i)||a.has(e,i)}));class Mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function kx(a){return a.getComponent()?.type==="VERSION"}const cd="@firebase/app",Wy="0.14.8";const Wi=new y_("@firebase/app"),Ux="@firebase/app-compat",Lx="@firebase/analytics-compat",zx="@firebase/analytics",Bx="@firebase/app-check-compat",Px="@firebase/app-check",qx="@firebase/auth",Hx="@firebase/auth-compat",Gx="@firebase/database",Qx="@firebase/data-connect",Fx="@firebase/database-compat",Yx="@firebase/functions",Kx="@firebase/functions-compat",Xx="@firebase/installations",Zx="@firebase/installations-compat",Jx="@firebase/messaging",Wx="@firebase/messaging-compat",$x="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",aT="@firebase/firestore",rT="@firebase/ai",lT="@firebase/firestore-compat",oT="firebase",uT="12.9.0";const hd="[DEFAULT]",cT={[cd]:"fire-core",[Ux]:"fire-core-compat",[zx]:"fire-analytics",[Lx]:"fire-analytics-compat",[Px]:"fire-app-check",[Bx]:"fire-app-check-compat",[qx]:"fire-auth",[Hx]:"fire-auth-compat",[Gx]:"fire-rtdb",[Qx]:"fire-data-connect",[Fx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Kx]:"fire-fn-compat",[Xx]:"fire-iid",[Zx]:"fire-iid-compat",[Jx]:"fire-fcm",[Wx]:"fire-fcm-compat",[$x]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[aT]:"fire-fst",[lT]:"fire-fst-compat",[rT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};const pc=new Map,hT=new Map,fd=new Map;function $y(a,e){try{a.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function yc(a){const e=a.name;if(fd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,a);for(const i of pc.values())$y(i,a);for(const i of hT.values())$y(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new p_("app","Firebase",mT);class gT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const pT=uT;function E_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:hd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(i||(i=g_()),!i)throw Us.create("no-options");const h=pc.get(o);if(h){if(Vr(i,h.options)&&Vr(r,h.config))return h;throw Us.create("duplicate-app",{appName:o})}const d=new vx(o);for(const E of fd.values())d.addComponent(E);const _=new gT(i,r,d);return pc.set(o,_),_}function yT(a=hd){const e=pc.get(a);if(!e&&a===hd&&g_())return E_();if(!e)throw Us.create("no-app",{appName:a});return e}function Cr(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}yc(new co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _T="firebase-heartbeat-database",vT=1,ho="firebase-heartbeat-store";let $f=null;function b_(){return $f||($f=Vx(_T,vT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(a=>{throw Us.create("idb-open",{originalErrorMessage:a.message})})),$f}async function ET(a){try{const i=(await b_()).transaction(ho),r=await i.objectStore(ho).get(x_(a));return await i.done,r}catch(e){if(e instanceof Pr)Wi.warn(e.message);else{const i=Us.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function t0(a,e){try{const r=(await b_()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,x_(a)),await r.done}catch(i){if(i instanceof Pr)Wi.warn(i.message);else{const r=Us.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(r.message)}}}function x_(a){return`${a.name}!${a.options.appId}`}const bT=1024,xT=30;class TT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new AT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=e0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>xT){const o=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e0(),{heartbeatsToSend:i,unsentEntries:r}=ST(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function e0(){return new Date().toISOString().substring(0,10)}function ST(a,e=bT){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),n0(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class AT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ET(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n0(a){return gc(JSON.stringify({version:2,heartbeats:a})).length}function wT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function NT(a){yc(new co("platform-logger",e=>new Mx(e),"PRIVATE")),yc(new co("heartbeat",e=>new TT(e),"PRIVATE")),Cr(cd,Wy,a),Cr(cd,Wy,"esm2020"),Cr("fire-js","")}NT("");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ls,T_;(function(){var a;function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(M,O,R){for(var T=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)T[lt-2]=arguments[lt];return C.prototype[O].apply(M,T)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,D){D||(D=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(O=0;O<16;++O)M[O]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],O=I.g[2];let R=I.g[3],T;T=C+(R^D&(O^R))+M[0]+3614090360&4294967295,C=D+(T<<7&4294967295|T>>>25),T=R+(O^C&(D^O))+M[1]+3905402710&4294967295,R=C+(T<<12&4294967295|T>>>20),T=O+(D^R&(C^D))+M[2]+606105819&4294967295,O=R+(T<<17&4294967295|T>>>15),T=D+(C^O&(R^C))+M[3]+3250441966&4294967295,D=O+(T<<22&4294967295|T>>>10),T=C+(R^D&(O^R))+M[4]+4118548399&4294967295,C=D+(T<<7&4294967295|T>>>25),T=R+(O^C&(D^O))+M[5]+1200080426&4294967295,R=C+(T<<12&4294967295|T>>>20),T=O+(D^R&(C^D))+M[6]+2821735955&4294967295,O=R+(T<<17&4294967295|T>>>15),T=D+(C^O&(R^C))+M[7]+4249261313&4294967295,D=O+(T<<22&4294967295|T>>>10),T=C+(R^D&(O^R))+M[8]+1770035416&4294967295,C=D+(T<<7&4294967295|T>>>25),T=R+(O^C&(D^O))+M[9]+2336552879&4294967295,R=C+(T<<12&4294967295|T>>>20),T=O+(D^R&(C^D))+M[10]+4294925233&4294967295,O=R+(T<<17&4294967295|T>>>15),T=D+(C^O&(R^C))+M[11]+2304563134&4294967295,D=O+(T<<22&4294967295|T>>>10),T=C+(R^D&(O^R))+M[12]+1804603682&4294967295,C=D+(T<<7&4294967295|T>>>25),T=R+(O^C&(D^O))+M[13]+4254626195&4294967295,R=C+(T<<12&4294967295|T>>>20),T=O+(D^R&(C^D))+M[14]+2792965006&4294967295,O=R+(T<<17&4294967295|T>>>15),T=D+(C^O&(R^C))+M[15]+1236535329&4294967295,D=O+(T<<22&4294967295|T>>>10),T=C+(O^R&(D^O))+M[1]+4129170786&4294967295,C=D+(T<<5&4294967295|T>>>27),T=R+(D^O&(C^D))+M[6]+3225465664&4294967295,R=C+(T<<9&4294967295|T>>>23),T=O+(C^D&(R^C))+M[11]+643717713&4294967295,O=R+(T<<14&4294967295|T>>>18),T=D+(R^C&(O^R))+M[0]+3921069994&4294967295,D=O+(T<<20&4294967295|T>>>12),T=C+(O^R&(D^O))+M[5]+3593408605&4294967295,C=D+(T<<5&4294967295|T>>>27),T=R+(D^O&(C^D))+M[10]+38016083&4294967295,R=C+(T<<9&4294967295|T>>>23),T=O+(C^D&(R^C))+M[15]+3634488961&4294967295,O=R+(T<<14&4294967295|T>>>18),T=D+(R^C&(O^R))+M[4]+3889429448&4294967295,D=O+(T<<20&4294967295|T>>>12),T=C+(O^R&(D^O))+M[9]+568446438&4294967295,C=D+(T<<5&4294967295|T>>>27),T=R+(D^O&(C^D))+M[14]+3275163606&4294967295,R=C+(T<<9&4294967295|T>>>23),T=O+(C^D&(R^C))+M[3]+4107603335&4294967295,O=R+(T<<14&4294967295|T>>>18),T=D+(R^C&(O^R))+M[8]+1163531501&4294967295,D=O+(T<<20&4294967295|T>>>12),T=C+(O^R&(D^O))+M[13]+2850285829&4294967295,C=D+(T<<5&4294967295|T>>>27),T=R+(D^O&(C^D))+M[2]+4243563512&4294967295,R=C+(T<<9&4294967295|T>>>23),T=O+(C^D&(R^C))+M[7]+1735328473&4294967295,O=R+(T<<14&4294967295|T>>>18),T=D+(R^C&(O^R))+M[12]+2368359562&4294967295,D=O+(T<<20&4294967295|T>>>12),T=C+(D^O^R)+M[5]+4294588738&4294967295,C=D+(T<<4&4294967295|T>>>28),T=R+(C^D^O)+M[8]+2272392833&4294967295,R=C+(T<<11&4294967295|T>>>21),T=O+(R^C^D)+M[11]+1839030562&4294967295,O=R+(T<<16&4294967295|T>>>16),T=D+(O^R^C)+M[14]+4259657740&4294967295,D=O+(T<<23&4294967295|T>>>9),T=C+(D^O^R)+M[1]+2763975236&4294967295,C=D+(T<<4&4294967295|T>>>28),T=R+(C^D^O)+M[4]+1272893353&4294967295,R=C+(T<<11&4294967295|T>>>21),T=O+(R^C^D)+M[7]+4139469664&4294967295,O=R+(T<<16&4294967295|T>>>16),T=D+(O^R^C)+M[10]+3200236656&4294967295,D=O+(T<<23&4294967295|T>>>9),T=C+(D^O^R)+M[13]+681279174&4294967295,C=D+(T<<4&4294967295|T>>>28),T=R+(C^D^O)+M[0]+3936430074&4294967295,R=C+(T<<11&4294967295|T>>>21),T=O+(R^C^D)+M[3]+3572445317&4294967295,O=R+(T<<16&4294967295|T>>>16),T=D+(O^R^C)+M[6]+76029189&4294967295,D=O+(T<<23&4294967295|T>>>9),T=C+(D^O^R)+M[9]+3654602809&4294967295,C=D+(T<<4&4294967295|T>>>28),T=R+(C^D^O)+M[12]+3873151461&4294967295,R=C+(T<<11&4294967295|T>>>21),T=O+(R^C^D)+M[15]+530742520&4294967295,O=R+(T<<16&4294967295|T>>>16),T=D+(O^R^C)+M[2]+3299628645&4294967295,D=O+(T<<23&4294967295|T>>>9),T=C+(O^(D|~R))+M[0]+4096336452&4294967295,C=D+(T<<6&4294967295|T>>>26),T=R+(D^(C|~O))+M[7]+1126891415&4294967295,R=C+(T<<10&4294967295|T>>>22),T=O+(C^(R|~D))+M[14]+2878612391&4294967295,O=R+(T<<15&4294967295|T>>>17),T=D+(R^(O|~C))+M[5]+4237533241&4294967295,D=O+(T<<21&4294967295|T>>>11),T=C+(O^(D|~R))+M[12]+1700485571&4294967295,C=D+(T<<6&4294967295|T>>>26),T=R+(D^(C|~O))+M[3]+2399980690&4294967295,R=C+(T<<10&4294967295|T>>>22),T=O+(C^(R|~D))+M[10]+4293915773&4294967295,O=R+(T<<15&4294967295|T>>>17),T=D+(R^(O|~C))+M[1]+2240044497&4294967295,D=O+(T<<21&4294967295|T>>>11),T=C+(O^(D|~R))+M[8]+1873313359&4294967295,C=D+(T<<6&4294967295|T>>>26),T=R+(D^(C|~O))+M[15]+4264355552&4294967295,R=C+(T<<10&4294967295|T>>>22),T=O+(C^(R|~D))+M[6]+2734768916&4294967295,O=R+(T<<15&4294967295|T>>>17),T=D+(R^(O|~C))+M[13]+1309151649&4294967295,D=O+(T<<21&4294967295|T>>>11),T=C+(O^(D|~R))+M[4]+4149444226&4294967295,C=D+(T<<6&4294967295|T>>>26),T=R+(D^(C|~O))+M[11]+3174756917&4294967295,R=C+(T<<10&4294967295|T>>>22),T=O+(C^(R|~D))+M[2]+718787259&4294967295,O=R+(T<<15&4294967295|T>>>17),T=D+(R^(O|~C))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(O+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,M=this.C;let O=this.h,R=0;for(;R<C;){if(O==0)for(;R<=D;)o(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<C;)if(M[O++]=I.charCodeAt(R++),O==this.blockSize){o(this,M),O=0;break}}else for(;R<C;)if(M[O++]=I[R++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)I[C++]=this.g[D]>>>M&255;return I};function h(I,C){var D=_;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function d(I,C){this.h=C;const D=[];let M=!0;for(let O=I.length-1;O>=0;O--){const R=I[O]|0;M&&R==C||(D[O]=R,M=!1)}this.g=D}var _={};function E(I){return-128<=I&&I<128?h(I,function(C){return new d([C|0],C<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return J(y(-I));const C=[];let D=1;for(let M=0;I>=D;M++)C[M]=I/D|0,D*=4294967296;return new d(C,0)}function x(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return J(x(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(C,8));let M=w;for(let R=0;R<I.length;R+=8){var O=Math.min(8,I.length-R);const T=parseInt(I.substring(R,R+O),C);O<8?(O=y(Math.pow(C,O)),M=M.j(O).add(y(T))):(M=M.j(D),M=M.add(y(T)))}return M}var w=E(0),N=E(1),k=E(16777216);a=d.prototype,a.m=function(){if(tt(this))return-J(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);I+=(M>=0?M:4294967296+M)*C,C*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(it(this))return"0";if(tt(this))return"-"+J(this).toString(I);const C=y(Math.pow(I,6));var D=this;let M="";for(;;){const O=At(D,C).g;D=ut(D,O.j(C));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=O,it(D))return R+M;for(;R.length<6;)R="0"+R;M=R+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function it(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function tt(I){return I.h==-1}a.l=function(I){return I=ut(this,I),tt(I)?-1:it(I)?0:1};function J(I){const C=I.g.length,D=[];for(let M=0;M<C;M++)D[M]=~I.g[M];return new d(D,~I.h).add(N)}a.abs=function(){return tt(this)?J(this):this},a.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let M=0;for(let O=0;O<=C;O++){let R=M+(this.i(O)&65535)+(I.i(O)&65535),T=(R>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=T>>>16,R&=65535,T&=65535,D[O]=T<<16|R}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ut(I,C){return I.add(J(C))}a.j=function(I){if(it(this)||it(I))return w;if(tt(this))return tt(I)?J(this).j(J(I)):J(J(this).j(I));if(tt(I))return J(this.j(J(I)));if(this.l(k)<0&&I.l(k)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var M=0;M<2*C;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const R=this.i(M)>>>16,T=this.i(M)&65535,lt=I.i(O)>>>16,ft=I.i(O)&65535;D[2*M+2*O]+=T*ft,vt(D,2*M+2*O),D[2*M+2*O+1]+=R*ft,vt(D,2*M+2*O+1),D[2*M+2*O+1]+=T*lt,vt(D,2*M+2*O+1),D[2*M+2*O+2]+=R*lt,vt(D,2*M+2*O+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new d(D,0)};function vt(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function pt(I,C){this.g=I,this.h=C}function At(I,C){if(it(C))throw Error("division by zero");if(it(I))return new pt(w,w);if(tt(I))return C=At(J(I),C),new pt(J(C.g),J(C.h));if(tt(C))return C=At(I,J(C)),new pt(J(C.g),C.h);if(I.g.length>30){if(tt(I)||tt(C))throw Error("slowDivide_ only works with positive integers.");for(var D=N,M=C;M.l(I)<=0;)D=Dt(D),M=Dt(M);var O=Tt(D,1),R=Tt(M,1);for(M=Tt(M,2),D=Tt(D,2);!it(M);){var T=R.add(M);T.l(I)<=0&&(O=O.add(D),R=T),M=Tt(M,1),D=Tt(D,1)}return C=ut(I,O.j(C)),new pt(O,C)}for(O=w;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),R=y(D),T=R.j(C);tt(T)||T.l(I)>0;)D-=M,R=y(D),T=R.j(C);it(R)&&(R=N),O=O.add(R),I=ut(I,T)}return new pt(O,I)}a.B=function(I){return At(this,I).h},a.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<C;M++)D[M]=this.i(M)&I.i(M);return new d(D,this.h&I.h)},a.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<C;M++)D[M]=this.i(M)|I.i(M);return new d(D,this.h|I.h)},a.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let M=0;M<C;M++)D[M]=this.i(M)^I.i(M);return new d(D,this.h^I.h)};function Dt(I){const C=I.g.length+1,D=[];for(let M=0;M<C;M++)D[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(D,I.h)}function Tt(I,C){const D=C>>5;C%=32;const M=I.g.length-D,O=[];for(let R=0;R<M;R++)O[R]=C>0?I.i(R+D)>>>C|I.i(R+D+1)<<32-C:I.i(R+D);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,T_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,Ls=d}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S_,to,A_,lc,dd,w_,N_,C_;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break t;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=E,y.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,z,Q){for(var ot=Array(arguments.length-2),It=2;It<arguments.length;It++)ot[It-2]=arguments[It];return m.prototype[z].apply(S,ot)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function it(u,m){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const Q=z.length||0;u.length=v+Q;for(let ot=0;ot<Q;ot++)u[v+ot]=z[ot]}else u.push(z)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const S=pt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new tt(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,Tt=!1,I=new vt,C=()=>{const u=Promise.resolve(void 0);Dt=()=>{u.then(D)}};function D(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){J(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Tt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function T(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(lt,O),lt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),L=0;function G(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++L,this.da=this.fa=!1}function st(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function K(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let Q=0;Q<q.length;Q++)v=q[Q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function Y(u){this.src=u,this.g={},this.h=0}Y.prototype.add=function(u,m,v,S,z){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const ot=xt(u,m,S,z);return ot>-1?(m=u[ot],v||(m.fa=!1)):(m=new G(m,this.src,Q,!!S,z),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(S,z,1),Q&&(st(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,S){for(let z=0;z<u.length;++z){const Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==S)return z}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),wt={};function Qt(u,m,v,S,z){if(Array.isArray(m)){for(let Q=0;Q<m.length;Q++)Qt(u,m[Q],v,S,z);return null}return v=Kr(v),u&&u[ft]?u.J(m,v,_(S)?!!S.capture:!1,z):sn(u,m,v,!1,S,z)}function sn(u,m,v,S,z,Q){if(!m)throw Error("Invalid event type");const ot=_(z)?!!z.capture:!!z;let It=ve(u);if(It||(u[Rt]=It=new Y(u)),v=It.add(m,v,S,ot,Q),v.proxy)return v;if(S=We(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)R||(z=ot),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(an(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function We(){function u(v){return m.call(u.src,u.listener,v)}const m=ue;return u}function gn(u,m,v,S,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)gn(u,m[Q],v,S,z);else S=_(S)?!!S.capture:!!S,v=Kr(v),u&&u[ft]?(u=u.i,Q=String(m).toString(),Q in u.g&&(m=u.g[Q],v=xt(m,v,S,z),v>-1&&(st(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[Q],u.h--)))):u&&(u=ve(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,S,z)),(v=u>-1?m[u]:null)&&qn(v))}function qn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])gt(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(an(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ve(m))?(gt(v,u),v.h==0&&(v.src=null,m[Rt]=null)):st(u)}}}function an(u){return u in wt?wt[u]:wt[u]="on"+u}function ue(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&qn(u),u=v.call(S,m)}return u}function ve(u){return u=u[Rt],u instanceof Y?u:null}var Ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(u){return typeof u=="function"?u:(u[Ks]||(u[Ks]=function(m){return u.handleEvent(m)}),u[Ks])}function Ee(){M.call(this),this.i=new Y(this),this.M=this,this.G=null}w(Ee,M),Ee.prototype[ft]=!0,Ee.prototype.removeEventListener=function(u,m,v,S){gn(this,u,m,v,S)};function Ve(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var z=m;m=new O(S,u),rt(m,z)}z=!0;let Q,ot;if(v)for(ot=v.length-1;ot>=0;ot--)Q=m.g=v[ot],z=es(Q,S,!0,m)&&z;if(Q=m.g=u,z=es(Q,S,!0,m)&&z,z=es(Q,S,!1,m)&&z,v)for(ot=0;ot<v.length;ot++)Q=m.g=v[ot],z=es(Q,S,!1,m)&&z}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)st(v[S]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Ee.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function es(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let Q=0;Q<m.length;++Q){const ot=m[Q];if(ot&&!ot.da&&ot.capture==v){const It=ot.listener,me=ot.ha||ot.src;ot.fa&&gt(u.i,ot),z=It.call(me,S)!==!1&&z}}return z&&!S.defaultPrevented}function Qc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=Qc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(u){M.call(this),this.h=u,this.g={}}w(Xs,M);var Xr=[];function Zr(u){Z(u.g,function(m,v){this.g.hasOwnProperty(v)&&qn(m)},u),u.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),Zr(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=d.JSON.stringify,Fc=d.JSON.parse,Ao=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function wo(){}function No(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}w(ze,O);function Nn(){O.call(this,"c")}w(Nn,O);var de={},Co=null;function Ua(){return Co=Co||new Ee}de.Ia="serverreachability";function Ro(u){O.call(this,de.Ia,u)}w(Ro,O);function si(u){const m=Ua();Ve(m,new Ro(m))}de.STAT_EVENT="statevent";function Zs(u,m){O.call(this,de.STAT_EVENT,u),this.stat=m}w(Zs,O);function be(u){const m=Ua();Ve(m,new Zs(m,u))}de.Ja="timingevent";function ai(u,m){O.call(this,de.Ja,u),this.size=m}w(ai,O);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Yc(u,m,v,S,z,Q){u.info(function(){if(u.g)if(Q){var ot="",It=Q.split("&");for(let Ft=0;Ft<It.length;Ft++){var me=It[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const In=le.split("_");ot=In.length>=2&&In[1]=="type"?ot+(le+"="+me+"&"):ot+(le+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+ot})}function Do(u,m,v,S,z,Q,ot){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+ot})}function li(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kc(u,v)+(S?" "+S:"")})}function Js(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function Kc(u,m){if(!u.g)return m;if(!m)return null;try{const Q=JSON.parse(m);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var v=Q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<S.length;ot++)S[ot]=""}}}}return ns(Q)}catch{return m}}var Ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wr;function $s(){}w($s,wo),$s.prototype.g=function(){return new XMLHttpRequest},Wr=new $s;function Oi(u){return encodeURIComponent(String(u))}function Io(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Qn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xe={},Me={};function oi(u,m,v){u.M=1,u.A=ta(Se(m)),u.u=v,u.R=!0,La(u,null)}function La(u,m){u.F=Date.now(),ui(u),u.B=Se(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),qa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Fn,u.g=Fo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Xr[0]=z.toString()),z=Xr);for(let Q=0;Q<z.length;Q++){const ot=Qt(v,z[Q],S||m.handleEvent,!1,m.h||m);if(!ot)break;m.g[ot.key]=ot}m=u.J?A(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Yc(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const It=Xn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||It!=4||me==7||(me==8||Ft<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Xc(this);if(this.o=m==200,Do(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(S)){var Q=S;break e}}Q=null}if(u=Q)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,be(12),pn(this),Cn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Oo(this,v),le==Me){It==4&&(this.m=4,be(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(le==xe){this.m=4,be(15),li(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,le,null),hi(this,le);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),dl(ot),ot.P=!0,be(11))}}else li(this.i,this.l,v,null),hi(this,v);It==4&&pn(this),this.o&&!this.K&&(It==4?qo(this.j,this):(this.o=!1,ui(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),pn(this),Cn(this)}}}catch{}finally{}};function Xc(u){if(!Vo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const S=m.length,z=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<S;Q++)u.h.h=!0,v+=u.h.i.decode(m[Q],{stream:!(z&&Q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Oo(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Me:(v=Number(m.substring(v,S)),isNaN(v)?xe:(S+=1,S+v>m.length?Me:(m=m.slice(S,S+v),u.C=S+v,m)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(u){u.T=Date.now()+u.H,za(u,u.H)}function za(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Js(this.i,this.B),this.M!=2&&(si(),be(17)),pn(this),this.m=2,Cn(this)):za(this,this.T-u)};function Cn(u){u.j.I==0||u.K||qo(u.j,u)}function pn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Zr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ya(v),cs(v);else break t;la(v),be(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&Ya(v),!T(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let Ft=z[m];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const In=Ft[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=Ft[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Zn=Ft[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Jn=u.g;if(Jn){const oa=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var Q=S.h;Q.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(el(Q,Q.h),Q.h=null))}if(S.G){const Ka=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(S.wa=Ka,Xt(S.J,S.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ot=u;if(S.na=Qo(S,S.L?S.ba:null,S.W),ot.L){nl(S.h,ot);var It=ot,me=S.O;me&&(It.H=me),It.D&&(ci(It),ui(It)),S.g=ot}else Bo(S);v.i.length>0&&_i(v)}else Ft[0]!="stop"&&Ft[0]!="close"||vi(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?vi(v,7):hl(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}si(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function $r(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}$r.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return k(u.i)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let z,Q=null;S>=0?(z=u[v].substring(0,S),Q=u[v].substring(S+1)):z=u[v],m(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,is(this,u.u),this.h=u.h,sl(this,Lo(u.i)),this.m=u.m):u&&(m=String(u).match(jo))?(this.l=!1,ke(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),is(this,m[4]),this.h=mi(m[5]||"",!0),sl(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ea(m,Pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ea(m,Pa,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ea(v,v.charAt(0)=="/"?al:Mo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ea(v,ko)),u.join("")},yn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)is(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=m.h.lastIndexOf("/");z!=-1&&(S=m.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let ot=0;ot<z.length;){const It=z[ot++];It=="."?S&&ot==z.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ot==z.length&&Q.push("")):(Q.push(It),S=!0)}S=Q.join("/")}else S=z}return v?m.h=S:v=u.i.toString()!=="",v?sl(m,Lo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new yn(u)}function ke(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function sl(u,m,v){m instanceof as?(u.i=m,Ha(u.i,u.l)):(v||(m=ea(m,ss)),u.i=new as(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function ta(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ea(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pa=/[#\/\?@]/g,Mo=/[#\?:]/g,al=/[#\?]/g,ss=/[#\?@]/g,ko=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=as.prototype,a.add=function(u,m){ln(this),this.i=null,u=rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Uo(u,m){ln(u),m=rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function rl(u,m){return ln(u),m=rs(u,m),u.g.has(m)}a.forEach=function(u,m){ln(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)};function ll(u,m){ln(u);let v=[];if(typeof m=="string")rl(u,m)&&(v=v.concat(u.g.get(rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return ln(this),this.i=null,u=rs(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function qa(u,m,v){Uo(u,m),v.length>0&&(u.i=null,u.g.set(rs(u,m),k(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const z=Oi(v);v=ll(this,v);for(let Q=0;Q<v.length;Q++){let ot=z;v[Q]!==""&&(ot+="="+Oi(v[Q])),u.push(ot)}}return this.i=u.join("&")};function Lo(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ha(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Uo(this,S),qa(this,z,v))},u)),u.j=m}function Yn(u,m){const v=new Gn;if(d.Image){const S=new Image;S.onload=x(Rn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=x(Rn,v,"TestLoadImage: error",!1,m,S),S.onabort=x(Rn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=x(Rn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function ol(u,m){const v=new Gn,S=new AbortController,z=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function ls(){this.g=new Ao}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(gi,wo),gi.prototype.g=function(){return new na(this.i,this.h)};function na(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(na,Ee),a=na.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?os(this):Kn(this),this.readyState==3&&Ga(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,os(this))},a.Na=function(u){this.g&&(this.response=u,os(this))},a.ga=function(){this.g&&os(this)};function os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return Z(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ia(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Dn(v),typeof u=="string"?v!=null&&Oi(v):Xt(u,m,v))}function Wt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Wt,Ee);var pi=/^https?$/i,ul=["POST","PUT"];a=Wt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wr.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){sa(this,Q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of v)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){sa(this,Q)}};function sa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),ji(u)}function cl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),ji(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Wt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},a.Xa=function(){aa(this)};function aa(u){if(u.h&&typeof h<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const Q=u.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=Q===0){let ot=String(u.D).match(jo)[1]||null;!ot&&d.self&&d.self.location&&(ot=d.self.location.protocol.slice(0,-1)),S=!pi.test(ot?ot.toLowerCase():"")}v=S}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var z=Xn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",cl(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(T(u[S]))continue;var v=Io(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}K(m,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function us(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $r(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=us.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,S){be(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Qo(this,null,this.W),_i(this)};function hl(u){if(Qa(u),u.I==3){var m=u.V++,v=Se(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),ra(u,v),m=new Qn(u,u.j,m),m.M=2,m.A=ta(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Fo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Go(u)}function cs(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function Qa(u){cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Dt||C(),Tt||(Dt(),Tt=!0),I.add(m,u),u.D=0}}function Fa(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),Ho(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=A(Q),rt(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=zo(this,z,m),v=Se(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),ra(this,v),Q&&(this.R?m="headers="+Oi(Dn(Q))+"&"+m:this.u&&ia(v,this.u,Q)),el(this.h,z),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),z.U=!0,oi(z,v,null)):oi(z,v,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var v;m?v=m.l:v=u.V++;const S=Se(u.J);Xt(S,"SID",u.M),Xt(S,"RID",v),Xt(S,"AID",u.K),ra(u,S),u.u&&u.o&&ia(S,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=zo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,v),oi(v,S,m)}function ra(u,m){u.H&&Z(u.H,function(v,S){Xt(m,S,v)}),u.l&&Z({},function(v,S){Xt(m,S,v)})}function zo(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let It=-1;for(;;){const me=["count="+v];It==-1?v>0?(It=z[0].g,me.push("ofs="+It)):It=0:me.push("ofs="+It);let Ft=!0;for(let le=0;le<v;le++){var Q=z[le].g;const In=z[le].map;if(Q-=It,Q<0)It=Math.max(0,z[le].g-100),Ft=!1;else try{Q="req"+Q+"_"||"";try{var ot=In instanceof Map?In:Object.entries(In);for(const[Ei,Zn]of ot){let Jn=Zn;_(Zn)&&(Jn=ns(Zn)),me.push(Q+Ei+"="+encodeURIComponent(Jn))}}catch(Ei){throw me.push(Q+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(In)}}if(Ft){ot=me.join("&");break t}}ot=void 0}return u=u.i.splice(0,v),m.G=u,ot}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Dt||C(),Tt||(Dt(),Tt=!0),I.add(m,u),u.A=0}}function la(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),Ho(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),cs(this),Po(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),ra(u,m),u.u&&u.o&&ia(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ta(Se(m)),v.u=null,v.R=!0,La(v,u)}a.Va=function(){this.C!=null&&(this.C=null,cs(this),la(this),be(19))};function Ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){Ya(u),dl(u),u.g=null;var S=2}else if(di(u.h,m))v=m.G,nl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;S=Ua(),Ve(S,new ai(S,v)),_i(u)}else Bo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(S==1&&Fa(u,m)||S==2&&la(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Ho(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const z=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(S,"https"),ta(S),z?Yn(S.toString(),v):ol(S.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Go(u),Qa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(it(u.ja,m),it(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function Qo(u,m,v){var S=v instanceof yn?Se(v):new yn(v);if(S.g!="")m&&(S.g=m+"."+S.g),is(S,S.u);else{var z=d.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const Q=new yn(null);S&&ke(Q,S),m&&(Q.g=m),z&&is(Q,z),v&&(Q.h=v),S=Q}return v=u.G,m=u.wa,v&&m&&Xt(S,v,m),Xt(S,"VER",u.ka),ra(u,S),S}function Fo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new gi({ab:v})):new Wt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}a=Yo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hs(){}hs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ee.call(this),this.g=new us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!T(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}w(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){hl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ns(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,tn.Z.N.call(this)};function Ko(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ko,ze);function Xo(){Nn.call(this),this.status=1}w(Xo,Nn);function ki(u){this.g=u}w(ki,Yo),ki.prototype.ra=function(){Ve(this.g,"a")},ki.prototype.qa=function(u){Ve(this.g,new Ko(u))},ki.prototype.pa=function(u){Ve(this.g,new Xo)},ki.prototype.oa=function(){Ve(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,C_=function(){return new hs},N_=function(){return Ua()},w_=de,dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,lc=Ws,Jr.COMPLETE="complete",A_=Jr,No.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,to=No,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,S_=Wt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let qr="12.9.0";function CT(a){qr=a}const Ra=new y_("@firebase/firestore");function Sr(){return Ra.logLevel}function ht(a,...e){if(Ra.logLevel<=qt.DEBUG){const i=e.map(jd);Ra.debug(`Firestore (${qr}): ${a}`,...i)}}function $i(a,...e){if(Ra.logLevel<=qt.ERROR){const i=e.map(jd);Ra.error(`Firestore (${qr}): ${a}`,...i)}}function Da(a,...e){if(Ra.logLevel<=qt.WARN){const i=e.map(jd);Ra.warn(`Firestore (${qr}): ${a}`,...i)}}function jd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function bt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,R_(a,r,i)}function R_(a,e,i){let r=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw $i(r),new Error(r)}function Kt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||R_(e,o,r)}function Ct(a,e){return a}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Pr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class D_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class IT{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let r=this.i;const o=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let h=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=h;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},_=E=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>_(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Na)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new D_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const r=h=>{h.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Lt(a,e){return a<e?-1:a>e?1:0}function md(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return td(o)===td(h)?Lt(o,h):td(o)?1:-1}return Lt(a.length,e.length)}const kT=55296,UT=57343;function td(a){const e=a.charCodeAt(0);return e>=kT&&e<=UT}function Or(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const a0="__name__";class wi{constructor(e,i,r){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&bt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=wi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Lt(e.length,i.length)}static compareSegments(e,i){const r=wi.isNumericId(e),o=wi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class ie extends wi{construct(e,i,r){return new ie(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const LT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends wi{construct(e,i,r){return new Fe(e,i,r)}static isValidIdentifier(e){return LT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Fe([a0])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(ie.fromString(e))}static fromName(e){return new _t(ie.fromString(e).popFirst(5))}static empty(){return new _t(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new ie(e.slice()))}}function I_(a,e,i){if(!i)throw new ct(et.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function zT(a,e,i,r){if(e===!0&&r===!0)throw new ct(et.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function r0(a){if(!_t.isDocumentKey(a))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function l0(a){if(_t.isDocumentKey(a))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function V_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Cc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":bt(12329,{type:typeof a})}function Ni(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cc(a);throw new ct(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Ie(a,e){const i={typeString:a};return e&&(i.value=e),i}function vo(a,e){if(!V_(a))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ct(et.INVALID_ARGUMENT,i);return!0}const o0=-62135596800,u0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*u0);return new se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o0)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vo(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fo=-1;function BT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Bs(o,_t.empty(),e)}function PT(a){return new Bs(a.readTime,a.key,fo)}class Bs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Bs(St.min(),_t.empty(),fo)}static max(){return new Bs(St.max(),_t.empty(),fo)}}function qT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(a.documentKey,e.documentKey),i!==0?i:Lt(a.largestBatchId,e.largestBatchId))}const HT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hr(a){if(a.code!==et.FAILED_PRECONDITION||a.message!==HT)throw a;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,r)=>{i(e)}))}static reject(e){return new nt(((i,r)=>{r(e)}))}static waitFor(e){return new nt(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(E=>r(E)))})),d=!0,h===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const r of e)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new nt(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let E=0;E<h;E++){const y=E;i(e[y]).next((x=>{d[y]=x,++_,_===h&&r(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new nt(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gr(a){return a.name==="IndexedDbTransactionError"}class Rc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rc.ce=-1;const kd=-1;function Dc(a){return a==null}function _c(a){return a===0&&1/a==-1/0}function FT(a){return typeof a=="number"&&Number.isInteger(a)&&!_c(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const O_="";function YT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=c0(e)),e=KT(a.get(i),e);return c0(e)}function KT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case O_:i+="";break;default:i+=h}}return i}function c0(a){return a+O_+""}function h0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Fs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function j_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ce{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Qe.RED,this.left=o??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Qe(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new wn([])}unionWith(e){let i=new je(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Or(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class M_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new M_("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const XT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(a){if(Kt(!!a,39018),typeof a=="string"){let e=0;const i=XT.exec(a);if(Kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function qs(a){return typeof a=="string"?Ye.fromBase64String(a):Ye.fromUint8Array(a)}const k_="server_timestamp",U_="__type__",L_="__previous_value__",z_="__local_write_time__";function Ud(a){return(a?.mapValue?.fields||{})[U_]?.stringValue===k_}function Ic(a){const e=a.mapValue.fields[L_];return Ud(e)?Ic(e):e}function mo(a){const e=Ps(a.mapValue.fields[z_].timestampValue);return new se(e.seconds,e.nanos)}class ZT{constructor(e,i,r,o,h,d,_,E,y,x,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=E,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=w}}const vc="(default)";class go{constructor(e,i){this.projectId=e,this.database=i||vc}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===vc}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}function JT(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(a.options.projectId,e)}const B_="__type__",WT="__max__",ec={mapValue:{}},P_="__vector__",Ec="value";function Hs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ud(a)?4:t1(a)?9007199254740991:$T(a)?10:11:bt(28295,{value:a})}function Vi(a,e){if(a===e)return!0;const i=Hs(a);if(i!==Hs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return mo(a).isEqual(mo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ps(o.timestampValue),_=Ps(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return qs(o.bytesValue).isEqual(qs(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),_=ye(h.doubleValue);return d===_?_c(d)===_c(_):isNaN(d)&&isNaN(_)}return!1})(a,e);case 9:return Or(a.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(h0(d)!==h0(_))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(_[E]===void 0||!Vi(d[E],_[E])))return!1;return!0})(a,e);default:return bt(52216,{left:a})}}function po(a,e){return(a.values||[]).find((i=>Vi(i,e)))!==void 0}function jr(a,e){if(a===e)return 0;const i=Hs(a),r=Hs(e);if(i!==r)return Lt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=ye(h.integerValue||h.doubleValue),E=ye(d.integerValue||d.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1})(a,e);case 3:return d0(a.timestampValue,e.timestampValue);case 4:return d0(mo(a),mo(e));case 5:return md(a.stringValue,e.stringValue);case 6:return(function(h,d){const _=qs(h),E=qs(d);return _.compareTo(E)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),E=d.split("/");for(let y=0;y<_.length&&y<E.length;y++){const x=Lt(_[y],E[y]);if(x!==0)return x}return Lt(_.length,E.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Lt(ye(h.latitude),ye(d.latitude));return _!==0?_:Lt(ye(h.longitude),ye(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return m0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},E=d.fields||{},y=_[Ec]?.arrayValue,x=E[Ec]?.arrayValue,w=Lt(y?.values?.length||0,x?.values?.length||0);return w!==0?w:m0(y,x)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const _=h.fields||{},E=Object.keys(_),y=d.fields||{},x=Object.keys(y);E.sort(),x.sort();for(let w=0;w<E.length&&w<x.length;++w){const N=md(E[w],x[w]);if(N!==0)return N;const k=jr(_[E[w]],y[x[w]]);if(k!==0)return k}return Lt(E.length,x.length)})(a.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function d0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Lt(a,e);const i=Ps(a),r=Ps(e),o=Lt(i.seconds,r.seconds);return o!==0?o:Lt(i.nanos,r.nanos)}function m0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=jr(i[o],r[o]);if(h)return h}return Lt(i.length,r.length)}function Mr(a){return gd(a)}function gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ps(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return qs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return _t.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=gd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${gd(i.fields[d])}`;return o+"}"})(a.mapValue):bt(61005,{value:a})}function oc(a){switch(Hs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ic(a);return e?16+oc(e):16;case 5:return 2*a.stringValue.length;case 6:return qs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+oc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Fs(r.fields,((h,d)=>{o+=h.length+oc(d)})),o})(a.mapValue);default:throw bt(13486,{value:a})}}function g0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function pd(a){return!!a&&"integerValue"in a}function Ld(a){return!!a&&"arrayValue"in a}function p0(a){return!!a&&"nullValue"in a}function y0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function uc(a){return!!a&&"mapValue"in a}function $T(a){return(a?.mapValue?.fields||{})[B_]?.stringValue===P_}function ro(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Fs(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ro(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(a.arrayValue.values[i]);return e}return{...a}}function t1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=Fe.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const E=this.getFieldsMap(i);this.applyChanges(E,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=ro(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Fs(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new mn(ro(this.value))}}function q_(a){const e=[];return Fs(a.fields,((i,r)=>{const o=new Fe([i]);if(uc(r)){const h=q_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new wn(e)}class Je{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Je(e,0,St.min(),St.min(),St.min(),mn.empty(),0)}static newFoundDocument(e,i,r,o){return new Je(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new Je(e,2,i,St.min(),St.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,St.min(),St.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bc{constructor(e,i){this.position=e,this.inclusive=i}}function _0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),i.key):r=jr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Vi(a.position[i],e.position[i]))return!1;return!0}class yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function e1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class H_{}class De extends H_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new i1(e,i,r):i==="array-contains"?new r1(e,r):i==="in"?new l1(e,r):i==="not-in"?new o1(e,r):i==="array-contains-any"?new u1(e,r):new De(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new s1(e,r):new a1(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(jr(i,this.value)):i!==null&&Hs(this.value)===Hs(i)&&this.matchesComparison(jr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends H_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return G_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G_(a){return a.op==="and"}function Q_(a){return n1(a)&&G_(a)}function n1(a){for(const e of a.filters)if(e instanceof ii)return!1;return!0}function yd(a){if(a instanceof De)return a.field.canonicalString()+a.op.toString()+Mr(a.value);if(Q_(a))return a.filters.map((e=>yd(e))).join(",");{const e=a.filters.map((i=>yd(i))).join(",");return`${a.op}(${e})`}}function F_(a,e){return a instanceof De?(function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(a,e):a instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&F_(d,o.filters[_])),!0):!1})(a,e):void bt(19439)}function Y_(a){return a instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${Mr(i.value)}`})(a):a instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(Y_).join(" ,")+"}"})(a):"Filter"}class i1 extends De{constructor(e,i,r){super(e,i,r),this.key=_t.fromName(r.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class s1 extends De{constructor(e,i){super(e,"in",i),this.keys=K_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class a1 extends De{constructor(e,i){super(e,"not-in",i),this.keys=K_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function K_(a,e){return(e.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class r1 extends De{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ld(i)&&po(i.arrayValue,this.value)}}class l1 extends De{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&po(this.value.arrayValue,i)}}class o1 extends De{constructor(e,i){super(e,"not-in",i)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!po(this.value.arrayValue,i)}}class u1 extends De{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ld(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>po(this.value.arrayValue,r)))}}class c1{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function E0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new c1(a,e,i,r,o,h,d)}function zd(a){const e=Ct(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>yd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Mr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Mr(r))).join(",")),e.Te=i}return e.Te}function Bd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!e1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!F_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!v0(a.startAt,e.startAt)&&v0(a.endAt,e.endAt)}function _d(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Qr{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=E,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h1(a,e,i,r,o,h,d,_){return new Qr(a,e,i,r,o,h,d,_)}function Pd(a){return new Qr(a)}function b0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function f1(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function X_(a){return a.collectionGroup!==null}function lo(a){const e=Ct(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new je(Fe.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new yo(h,r))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new yo(Fe.keyField(),r))}return e.Ie}function Ci(a){const e=Ct(a);return e.Ee||(e.Ee=d1(e,lo(a))),e.Ee}function d1(a,e){if(a.limitType==="F")return E0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new yo(o.field,h)}));const i=a.endAt?new bc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new bc(a.startAt.position,a.startAt.inclusive):null;return E0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function vd(a,e){const i=a.filters.concat([e]);return new Qr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function m1(a,e){const i=a.explicitOrderBy.concat([e]);return new Qr(a.path,a.collectionGroup,i,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function Ed(a,e,i){return new Qr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Vc(a,e){return Bd(Ci(a),Ci(e))&&a.limitType===e.limitType}function Z_(a){return`${zd(Ci(a))}|lt:${a.limitType}`}function Ar(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Y_(o))).join(", ")}]`),Dc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Mr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Mr(o))).join(",")),`Target(${r})`})(Ci(a))}; limitType=${a.limitType})`}function Oc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):_t.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of lo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,E){const y=_0(d,_,E);return d.inclusive?y<=0:y<0})(r.startAt,lo(r),o)||r.endAt&&!(function(d,_,E){const y=_0(d,_,E);return d.inclusive?y>=0:y>0})(r.endAt,lo(r),o))})(a,e)}function g1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function J_(a){return(e,i)=>{let r=!1;for(const o of lo(a)){const h=p1(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function p1(a,e,i){const r=a.field.isKeyField()?_t.comparator(e.key,i.key):(function(h,d,_){const E=d.data.field(h),y=_.data.field(h);return E!==null&&y!==null?jr(E,y):bt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:a.dir})}}class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}const y1=new ce(_t.comparator);function ts(){return y1}const W_=new ce(_t.comparator);function eo(...a){let e=W_;for(const i of a)e=e.insert(i.key,i);return e}function $_(a){let e=W_;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function wa(){return oo()}function tv(){return oo()}function oo(){return new Oa((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _1=new ce(_t.comparator),v1=new je(_t.comparator);function zt(...a){let e=v1;for(const i of a)e=e.add(i);return e}const E1=new je(Lt);function b1(){return E1}function qd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function ev(a){return{integerValue:""+a}}function x1(a,e){return FT(e)?ev(e):qd(a,e)}class jc{constructor(){this._=void 0}}function T1(a,e,i){return a instanceof _o?(function(o,h){const d={fields:{[U_]:{stringValue:k_},[z_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ud(h)&&(h=Ic(h)),h&&(d.fields[L_]=h),{mapValue:d}})(i,e):a instanceof kr?iv(a,e):a instanceof Ur?sv(a,e):(function(o,h){const d=nv(o,h),_=x0(d)+x0(o.Ae);return pd(d)&&pd(o.Ae)?ev(_):qd(o.serializer,_)})(a,e)}function S1(a,e,i){return a instanceof kr?iv(a,e):a instanceof Ur?sv(a,e):i}function nv(a,e){return a instanceof xc?(function(r){return pd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class _o extends jc{}class kr extends jc{constructor(e){super(),this.elements=e}}function iv(a,e){const i=av(e);for(const r of a.elements)i.some((o=>Vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ur extends jc{constructor(e){super(),this.elements=e}}function sv(a,e){let i=av(e);for(const r of a.elements)i=i.filter((o=>!Vi(o,r)));return{arrayValue:{values:i}}}class xc extends jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function x0(a){return ye(a.integerValue||a.doubleValue)}function av(a){return Ld(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Hd{constructor(e,i){this.field=e,this.transform=i}}function A1(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof kr&&o instanceof kr||r instanceof Ur&&o instanceof Ur?Or(r.elements,o.elements,Vi):r instanceof xc&&o instanceof xc?Vi(r.Ae,o.Ae):r instanceof _o&&o instanceof _o})(a.transform,e.transform)}class w1{constructor(e,i){this.version=e,this.transformResults=i}}class Pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function rv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Gd(a.key,Pn.none()):new Eo(a.key,a.data,Pn.none());{const i=a.data,r=mn.empty();let o=new je(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ys(a.key,r,new wn(o.toArray()),Pn.none())}}function N1(a,e,i){a instanceof Eo?(function(o,h,d){const _=o.value.clone(),E=S0(o.fieldTransforms,h,d.transformResults);_.setAll(E),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):a instanceof Ys?(function(o,h,d){if(!cc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=S0(o.fieldTransforms,h,d.transformResults),E=h.data;E.setAll(lv(o)),E.setAll(_),h.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function uo(a,e,i,r){return a instanceof Eo?(function(h,d,_,E){if(!cc(h.precondition,d))return _;const y=h.value.clone(),x=A0(h.fieldTransforms,E,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof Ys?(function(h,d,_,E){if(!cc(h.precondition,d))return _;const y=A0(h.fieldTransforms,E,d),x=d.data;return x.setAll(lv(h)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(a,e,i,r):(function(h,d,_){return cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(a,e,i)}function C1(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=nv(r.transform,o||null);h!=null&&(i===null&&(i=mn.empty()),i.set(r.field,h))}return i||null}function T0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Or(r,o,((h,d)=>A1(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Mc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Mc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function lv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function S0(a,e,i){const r=new Map;Kt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,S1(d,_,i[o]))}return r}function A0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,T1(h,d,e))}return r}class Gd extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R1 extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D1{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&N1(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=uo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=tv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const E=rv(d,_);E!==null&&r.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),zt())}isEqual(e){return this.batchId===e.batchId&&Or(this.mutations,e.mutations,((i,r)=>T0(i,r)))&&Or(this.baseMutations,e.baseMutations,((i,r)=>T0(i,r)))}}class Qd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _1})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Qd(e,i,r,o)}}class I1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V1{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Pt;function O1(a){switch(a){case et.OK:return bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return bt(15467,{code:a})}}function ov(a){if(a===void 0)return $i("GRPC error has no .code"),et.UNKNOWN;switch(a){case Re.OK:return et.OK;case Re.CANCELLED:return et.CANCELLED;case Re.UNKNOWN:return et.UNKNOWN;case Re.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Re.INTERNAL:return et.INTERNAL;case Re.UNAVAILABLE:return et.UNAVAILABLE;case Re.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Re.NOT_FOUND:return et.NOT_FOUND;case Re.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Re.ABORTED:return et.ABORTED;case Re.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Re.DATA_LOSS:return et.DATA_LOSS;default:return bt(39323,{code:a})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function j1(){return new TextEncoder}const M1=new Ls([4294967295,4294967295],0);function w0(a){const e=j1().encode(a),i=new T_;return i.update(e),new Uint8Array(i.digest())}function N0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ls([i,r],0),new Ls([o,h],0)]}class Fd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ls.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ls.fromNumber(r)));return o.compare(M1)===1&&(o=new Ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=w0(e),[r,o]=N0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Fd(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=w0(e),[r,o]=N0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new kc(St.min(),o,new ce(Lt),ts(),zt())}}class bo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new bo(r,i,zt(),zt(),zt())}}class hc{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class uv{constructor(e,i){this.targetId=e,this.Ce=i}}class cv{constructor(e,i,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class C0{constructor(){this.ve=0,this.Fe=R0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),r=zt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:h})}})),new bo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=R0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class k1{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.He=nc(),this.Je=nc(),this.Ze=new ce(Lt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(_d(h))if(r===0){const d=new _t(h.path);this.et(i,d,Je.newNoDocument(d,St.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),E=_?this.ct(_,e,d):1;if(E!==0){this.it(i);const y=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=qs(r).toUint8Array()}catch(E){if(E instanceof M_)return Da("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{_=new Fd(d,o,h)}catch(E){return Da(E instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&_d(_.target)){const E=new _t(_.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,Je.newNoDocument(E,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=zt();this.Je.forEach(((h,d)=>{let _=!0;d.forEachWhile((E=>{const y=this.ot(E);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new kc(e,i,this.Ze,this.je,r);return this.je=ts(),this.He=nc(),this.Je=nc(),this.Ze=new ce(Lt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new C0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new je(Lt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new je(Lt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new ce(_t.comparator)}function R0(){return new ce(_t.comparator)}const U1={asc:"ASCENDING",desc:"DESCENDING"},L1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z1={and:"AND",or:"OR"};class B1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bd(a,e){return a.useProto3Json||Dc(e)?e:{value:e}}function Tc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function P1(a,e){return Tc(a,e.toTimestamp())}function Ri(a){return Kt(!!a,49232),St.fromTimestamp((function(i){const r=Ps(i);return new se(r.seconds,r.nanos)})(a))}function Yd(a,e){return xd(a,e).canonicalString()}function xd(a,e){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function fv(a){const e=ie.fromString(a);return Kt(yv(e),10190,{key:e.toString()}),e}function Td(a,e){return Yd(a.databaseId,e.path)}function ed(a,e){const i=fv(e);if(i.get(1)!==a.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _t(mv(i))}function dv(a,e){return Yd(a.databaseId,e)}function q1(a){const e=fv(a);return e.length===4?ie.emptyPath():mv(e)}function Sd(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function mv(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function D0(a,e,i){return{name:Td(a,e),fields:i.value.mapValue.fields}}function H1(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,x){return y.useProto3Json?(Kt(x===void 0||typeof x=="string",58123),Ye.fromBase64String(x||"")):(Kt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Ye.fromUint8Array(x||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const x=y.code===void 0?et.UNKNOWN:ov(y.code);return new ct(x,y.message||"")})(d);i=new cv(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ed(a,r.document.name),h=Ri(r.document.updateTime),d=r.document.createTime?Ri(r.document.createTime):St.min(),_=new mn({mapValue:{fields:r.document.fields}}),E=Je.newFoundDocument(o,h,d,_),y=r.targetIds||[],x=r.removedTargetIds||[];i=new hc(y,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ed(a,r.document),h=r.readTime?Ri(r.readTime):St.min(),d=Je.newNoDocument(o,h),_=r.removedTargetIds||[];i=new hc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ed(a,r.document),h=r.removedTargetIds||[];i=new hc([],h,o,null)}else{if(!("filter"in e))return bt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new V1(o,h),_=r.targetId;i=new uv(_,d)}}return i}function G1(a,e){let i;if(e instanceof Eo)i={update:D0(a,e.key,e.value)};else if(e instanceof Gd)i={delete:Td(a,e.key)};else if(e instanceof Ys)i={update:D0(a,e.key,e.data),updateMask:$1(e.fieldMask)};else{if(!(e instanceof R1))return bt(16599,{dt:e.type});i={verify:Td(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof _o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof kr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ur)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof xc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw bt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:P1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(a,e.precondition)),i}function Q1(a,e){return a&&a.length>0?(Kt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ri(o.updateTime):Ri(h);return d.isEqual(St.min())&&(d=Ri(h)),new w1(d,o.transformResults||[])})(i,e)))):[]}function F1(a,e){return{documents:[dv(a,e.path)]}}function Y1(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=dv(a,o);const h=(function(y){if(y.length!==0)return pv(ii.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((x=>(function(N){return{field:wr(N.field),direction:Z1(N.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=bd(a,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function K1(a){let e=q1(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let h=[];i.where&&(h=(function(w){const N=gv(w);return N instanceof ii&&Q_(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(it){return new yo(Nr(it.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(it.direction))})(N)))})(i.orderBy));let _=null;i.limit&&(_=(function(w){let N;return N=typeof w=="object"?w.value:w,Dc(N)?null:N})(i.limit));let E=null;i.startAt&&(E=(function(w){const N=!!w.before,k=w.values||[];return new bc(k,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const N=!w.before,k=w.values||[];return new bc(k,N)})(i.endAt)),h1(e,o,d,h,_,"F",E,y)}function X1(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function gv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Nr(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Nr(i.unaryFilter.field);return De.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nr(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return De.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((r=>gv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(a):bt(30097,{filter:a})}function Z1(a){return U1[a]}function J1(a){return L1[a]}function W1(a){return z1[a]}function wr(a){return{fieldPath:a.canonicalString()}}function Nr(a){return Fe.fromServerFormat(a.fieldPath)}function pv(a){return a instanceof De?(function(i){if(i.op==="=="){if(y0(i.value))return{unaryFilter:{field:wr(i.field),op:"IS_NAN"}};if(p0(i.value))return{unaryFilter:{field:wr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y0(i.value))return{unaryFilter:{field:wr(i.field),op:"IS_NOT_NAN"}};if(p0(i.value))return{unaryFilter:{field:wr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wr(i.field),op:J1(i.op),value:i.value}}})(a):a instanceof ii?(function(i){const r=i.getFilters().map((o=>pv(o)));return r.length===1?r[0]:{compositeFilter:{op:W1(i.op),filters:r}}})(a):bt(54877,{filter:a})}function $1(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function yv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function _v(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Ms{constructor(e,i,r,o,h=St.min(),d=St.min(),_=Ye.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=E}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tS{constructor(e){this.yt=e}}function eS(a){const e=K1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ed(e,e.limit,"L"):e}class nS{constructor(){this.Sn=new iS}addToCollectionParentIndex(e,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(Bs.min())}updateCollectionGroup(e,i,r){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class iS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new je(ie.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new je(ie.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vv=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(vv,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Lr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Lr(0)}static ar(){return new Lr(-1)}}const V0="LruGarbageCollector",sS=1048576;function O0([a,e],[i,r]){const o=Lt(a,i);return o===0?Lt(e,r):o}class aS{constructor(e){this.Pr=e,this.buffer=new je(O0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();O0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ht(V0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gr(i)?ht(V0,"Ignoring IndexedDB error during garbage collection: ",i):await Hr(i)}await this.Ar(3e5)}))}}class lS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(Rc.ce);const r=new aS(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(I0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,_,E,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,_=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),Sr()<=qt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(E-_)+`ms
	Removed ${w} documents in `+(y-E)+`ms
Total Duration: ${y-x}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function oS(a,e){return new lS(a,e)}class uS{constructor(){this.changes=new Oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class hS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&uo(r.mutation,o,wn.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,zt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=zt()){const o=wa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=eo();return h.forEach(((_,E)=>{d=d.insert(_,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=wa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,zt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=ts();const d=oo(),_=(function(){return oo()})();return i.forEach(((E,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Ys)?h=h.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),uo(x.mutation,y,x.mutation.getFieldMask(),se.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,h).next((E=>(E.forEach(((y,x)=>d.set(y,x))),i.forEach(((y,x)=>_.set(y,new cS(x,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=oo();let o=new ce(((d,_)=>d-_)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((E=>{const y=i.get(E);if(y===null)return;let x=r.get(E)||wn.empty();x=_.applyToLocalView(y,x),r.set(E,x);const w=(o.get(_.batchId)||zt()).add(E);o=o.insert(_.batchId,w)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const E=_.getNext(),y=E.key,x=E.value,w=tv();x.forEach((N=>{if(!h.has(N)){const k=rv(i.get(N),r.get(N));k!==null&&w.set(N,k),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return nt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return f1(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):X_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):nt.resolve(wa());let _=fo,E=h;return d.next((y=>nt.forEach(y,((x,w)=>(_<w.largestBatchId&&(_=w.largestBatchId),h.get(x)?nt.resolve():this.remoteDocumentCache.getEntry(e,x).next((N=>{E=E.insert(x,N)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,E,y,zt()))).next((x=>({batchId:_,changes:$_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next((r=>{let o=eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,h).next((_=>nt.forEach(_,(E=>{const y=(function(w,N){return new Qr(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,E.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((E,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,Je.newInvalidDocument(x)))}));let _=eo();return d.forEach(((E,y)=>{const x=h.get(E);x!==void 0&&uo(x.mutation,y,wn.empty(),se.now()),Oc(i,y)&&(_=_.insert(E,y))})),_}))}}class fS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:eS(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),nt.resolve()}}class dS{constructor(){this.overlays=new ce(_t.comparator),this.Lr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const r=wa();return nt.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),nt.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(e,i,r){const o=wa(),h=i.length+1,d=new _t(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const E=_.getNext().value,y=E.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&E.largestBatchId>r&&o.set(E.getKey(),E)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ce(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let x=h.get(y.largestBatchId);x===null&&(x=wa(),h=h.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const _=wa(),E=h.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((y,x)=>_.set(y,x))),!(_.size()>=o)););return nt.resolve(_)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new I1(i,r));let h=this.Lr.get(i);h===void 0&&(h=zt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}class mS{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}class Kd{constructor(){this.kr=new je(Le.Kr),this.qr=new je(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Le(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Le(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new _t(new ie([])),r=new Le(i,e),o=new Le(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new _t(new ie([])),r=new Le(i,e),o=new Le(i,e+1);let h=zt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Le{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return _t.comparator(e.key,i.key)||Lt(e.Hr,i.Hr)}static Ur(e,i){return Lt(e.Hr,i.Hr)||_t.comparator(e.key,i.key)}}class gS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new je(Le.Kr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D1(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Le(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return nt.resolve(d)}lookupMutationBatch(e,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return nt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?kd:this.Yn-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const _=this.Zr(d.Hr);h.push(_)})),nt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new je(Lt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(_=>{r=r.add(_.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;_t.isDocumentKey(h)||(h=h.child(""));const d=new Le(new _t(h),0);let _=new je(Lt);return this.Jr.forEachWhile((E=>{const y=E.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(E.Hr)),!0)}),d),nt.resolve(this.Yr(_))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Kt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Le(i,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pS{constructor(e){this.ti=e,this.docs=(function(){return new ce(_t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let r=ts();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Je.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=ts();const d=i.path,_=new _t(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(_);for(;E.hasNext();){const{key:y,value:{document:x}}=E.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qT(PT(x),r)<=0||(o.has(x.key)||Oc(i,x))&&(h=h.insert(x.key,x.mutableCopy()))}return nt.resolve(h)}getAllFromCollectionGroup(e,i,r,o){bt(9500)}ni(e,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new yS(this)}getSize(e){return nt.resolve(this.size)}}class yS extends uS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),nt.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class _S{constructor(e){this.persistence=e,this.ri=new Oa((i=>zd(i)),Bd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Kd,this.targetCount=0,this.oi=Lr._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),nt.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Lr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.lr(i),nt.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),nt.waitFor(h).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return nt.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),nt.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),nt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return nt.resolve(r)}containsKey(e,i){return nt.resolve(this.si.containsKey(i))}}class Ev{constructor(e,i){this._i={},this.overlays={},this.ai=new Rc(0),this.ui=!1,this.ui=!0,this.ci=new mS,this.referenceDelegate=e(this),this.li=new _S(this),this.indexManager=new nS,this.remoteDocumentCache=(function(o){return new pS(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new tS(i),this.Pi=new fS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new gS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ht("MemoryPersistence","Starting transaction:",e);const o=new vS(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class vS extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Ri=new Kd,this.Ai=null}static Vi(e){return new Xd(e)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),nt.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=_t.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Sc{constructor(e,i){this.persistence=e,this.fi=new Oa((r=>YT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=oS(this,i)}static Vi(e,i){return new Sc(e,i)}Ti(){}Ii(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return nt.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?nt.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((_=>{_||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),nt.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oc(e.data.value)),i}wr(e,i,r){return nt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=zt(),o=zt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Zd(e,i.fromCache,r,o)}}class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cx()?8:QT(ox())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ES;return this.ys(e,i,d).next((_=>{if(h.result=_,this.As)return this.ws(e,i,d,_.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(Sr()<=qt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ar(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Sr()<=qt.DEBUG&&ht("QueryEngine","Query:",Ar(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Sr()<=qt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ar(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):nt.resolve())}gs(e,i){if(b0(i))return nt.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ed(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=zt(...h);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((E=>{const y=this.bs(i,_);return this.Ss(i,y,d,E.readTime)?this.gs(e,Ed(i,null,"F")):this.Ds(e,y,i,E)}))))})))))}ps(e,i,r,o){return b0(i)||o.isEqual(St.min())?nt.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?nt.resolve(null):(Sr()<=qt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ar(i)),this.Ds(e,d,i,BT(o,fo)).next((_=>_)))}))}bs(e,i){let r=new je(J_(e));return i.forEach(((o,h)=>{Oc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return Sr()<=qt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ar(i)),this.fs.getDocumentsMatchingQuery(e,i,Bs.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Jd="LocalStore",xS=3e8;class TS{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ce(Lt),this.Fs=new Oa((h=>zd(h)),Bd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function SS(a,e,i,r){return new TS(a,e,i,r)}async function bv(a,e){const i=Ct(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let E=zt();for(const y of o){d.push(y.batchId);for(const x of y.mutations)E=E.add(x.key)}for(const y of h){_.push(y.batchId);for(const x of y.mutations)E=E.add(x.key)}return i.localDocuments.getDocuments(r,E).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function AS(a,e){const i=Ct(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,E,y,x){const w=y.batch,N=w.keys();let k=nt.resolve();return N.forEach((it=>{k=k.next((()=>x.getEntry(E,it))).next((tt=>{const J=y.docVersions.get(it);Kt(J!==null,48541),tt.version.compareTo(J)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),x.addEntry(tt)))}))})),k.next((()=>_.mutationQueue.removeMutationBatch(E,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let E=zt();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(E=E.add(_.batch.mutations[y].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function xv(a){const e=Ct(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function wS(a,e){const i=Ct(a),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const _=[];e.targetChanges.forEach(((x,w)=>{const N=o.get(w);if(!N)return;_.push(i.li.removeMatchingKeys(h,x.removedDocuments,w).next((()=>i.li.addMatchingKeys(h,x.addedDocuments,w))));let k=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,r)),o=o.insert(w,k),(function(tt,J,ut){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=xS?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(N,k,x)&&_.push(i.li.updateTargetData(h,k))}));let E=ts(),y=zt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,x))})),_.push(NS(h,d,e.documentUpdates).next((x=>{E=x.Bs,y=x.Ls}))),!r.isEqual(St.min())){const x=i.li.getLastRemoteSnapshotVersion(h).next((w=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(x)}return nt.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,E,y))).next((()=>E))})).then((h=>(i.vs=o,h)))}function NS(a,e,i){let r=zt(),o=zt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=ts();return i.forEach(((_,E)=>{const y=h.get(_);E.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),E.isNoDocument()&&E.version.isEqual(St.min())?(e.removeEntry(_,E.readTime),d=d.insert(_,E)):!y.isValidDocument()||E.version.compareTo(y.version)>0||E.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(E),d=d.insert(_,E)):ht(Jd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",E.version)})),{Bs:d,Ls:o}}))}function CS(a,e){const i=Ct(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=kd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function RS(a,e){const i=Ct(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,nt.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ms(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function Ad(a,e,i){const r=Ct(a),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Gr(d))throw d;ht(Jd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function j0(a,e,i){const r=Ct(a);let o=St.min(),h=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,y,x){const w=Ct(E),N=w.Fs.get(x);return N!==void 0?nt.resolve(w.vs.get(N)):w.li.getTargetData(y,x)})(r,d,Ci(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((E=>{h=E}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:zt()))).next((_=>(DS(r,g1(e),_),{documents:_,ks:h})))))}function DS(a,e,i){let r=a.Ms.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Ms.set(e,r)}class M0{constructor(){this.activeTargetIds=b1()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.vo=new M0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new M0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VS{Mo(e){}shutdown(){}}const k0="ConnectivityMonitor";class U0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ht(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ic=null;function wd(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}const nd="RestConnection",OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===vc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=wd(),_=this.Qo(e,i.toUriEncodedString());ht(nd,`Sending RPC '${e}' ${d}:`,_,r);const E={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(E,o,h);const{host:y}=new URL(_),x=Vd(y);return this.zo(e,_,E,r,x).then((w=>(ht(nd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Da(nd,`RPC '${e}' ${d} failed with error: `,w,"url: ",_,"request:",r),w}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=OS[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class MS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xe="WebChannelConnection",Wl=(a,e,i)=>{a.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Rr extends jS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Rr.c_){const e=N_();Wl(e,w_.STAT_EVENT,(i=>{i.stat===dd.PROXY?ht(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===dd.NOPROXY&&ht(Xe,"STAT_EVENT: detected no buffering proxy")})),Rr.c_=!0}}zo(e,i,r,o,h){const d=wd();return new Promise(((_,E)=>{const y=new S_;y.setWithCredentials(!0),y.listenOnce(A_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lc.NO_ERROR:const w=y.getResponseJson();ht(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),_(w);break;case lc.TIMEOUT:ht(Xe,`RPC '${e}' ${d} timed out`),E(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const N=y.getStatus();if(ht(Xe,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const it=k?.error;if(it&&it.status&&it.message){const tt=(function(ut){const vt=ut.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(vt)>=0?vt:et.UNKNOWN})(it.status);E(new ct(tt,it.message))}else E(new ct(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else E(new ct(et.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(Xe,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ht(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=wd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const y=h.join("");ht(Xe,`Creating RPC '${e}' stream ${o}: ${y}`,_);const x=d.createWebChannel(y,_);this.I_(x);let w=!1,N=!1;const k=new MS({Ho:it=>{N?ht(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,it):(w||(ht(Xe,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),ht(Xe,`RPC '${e}' stream ${o} sending:`,it),x.send(it))},Jo:()=>x.close()});return Wl(x,to.EventType.OPEN,(()=>{N||(ht(Xe,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Wl(x,to.EventType.CLOSE,(()=>{N||(N=!0,ht(Xe,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(x))})),Wl(x,to.EventType.ERROR,(it=>{N||(N=!0,Da(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,it.name,"Message:",it.message),k.o_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),Wl(x,to.EventType.MESSAGE,(it=>{if(!N){const tt=it.data[0];Kt(!!tt,16349);const J=tt,ut=J?.error||J[0]?.error;if(ut){ht(Xe,`RPC '${e}' stream ${o} received error:`,ut);const vt=ut.status;let pt=(function(Tt){const I=Re[Tt];if(I!==void 0)return ov(I)})(vt),At=ut.message;vt==="NOT_FOUND"&&At.includes("database")&&At.includes("does not exist")&&At.includes(this.databaseId.database)&&Da(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),pt===void 0&&(pt=et.INTERNAL,At="Unknown error status: "+vt+" with message "+ut.message),N=!0,k.o_(new ct(pt,At)),x.close()}else ht(Xe,`RPC '${e}' stream ${o} received:`,tt),k.__(tt)}})),Rr.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return C_()}}function kS(a){return new Rr(a)}function id(){return typeof document<"u"?document:null}function Uc(a){return new B1(a,!0)}Rr.c_=!1;class Tv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const L0="PersistentStream";class Sv{constructor(e,i,r,o,h,d,_,E){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ct(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(L0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ht(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class US extends Sv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=H1(this.serializer,e),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ri(d.readTime):St.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=Sd(this.serializer),i.addTarget=(function(h,d){let _;const E=d.target;if(_=_d(E)?{documents:F1(h,E)}:{query:Y1(h,E).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=hv(h,d.resumeToken);const y=bd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){_.readTime=Tc(h,d.snapshotVersion.toTimestamp());const y=bd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=X1(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.K_(i)}}class LS extends Sv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Q1(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Sd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>G1(this.serializer,r)))};this.K_(i)}}class zS{}class BS extends zS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,xd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(et.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,xd(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(et.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PS(a,e,i,r){return new BS(a,e,i,r)}class qS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class HS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ja(this)&&(ht(Ia,"Restarting streams for network reachability change."),await(async function(E){const y=Ct(E);y.Ea.add(4),await xo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Lc(y)})(this))}))})),this.Va=new qS(r,o)}}async function Lc(a){if(ja(a))for(const e of a.Ra)await e(!0)}async function xo(a){for(const e of a.Ra)await e(!1)}function Av(a,e){const i=Ct(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),em(i)?tm(i):Fr(i).O_()&&$d(i,e))}function Wd(a,e){const i=Ct(a),r=Fr(i);i.Ia.delete(e),r.O_()&&wv(i,e),i.Ia.size===0&&(r.O_()?r.L_():ja(i)&&i.Va.set("Unknown"))}function $d(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fr(a).Z_(e)}function wv(a,e){a.da.$e(e),Fr(a).X_(e)}function tm(a){a.da=new k1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Fr(a).start(),a.Va.ua()}function em(a){return ja(a)&&!Fr(a).x_()&&a.Ia.size>0}function ja(a){return Ct(a).Ea.size===0}function Nv(a){a.da=void 0}async function GS(a){a.Va.set("Online")}async function QS(a){a.Ia.forEach(((e,i)=>{$d(a,e)}))}async function FS(a,e){Nv(a),em(a)?(a.Va.ha(e),tm(a)):a.Va.set("Unknown")}async function YS(a,e,i){if(a.Va.set("Online"),e instanceof cv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(a,e)}catch(r){ht(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(a,r)}else if(e instanceof hc?a.da.Xe(e):e instanceof uv?a.da.st(e):a.da.tt(e),!i.isEqual(St.min()))try{const r=await xv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.da.Tt(d);return _.targetChanges.forEach(((E,y)=>{if(E.resumeToken.approximateByteSize()>0){const x=h.Ia.get(y);x&&h.Ia.set(y,x.withResumeToken(E.resumeToken,d))}})),_.targetMismatches.forEach(((E,y)=>{const x=h.Ia.get(E);if(!x)return;h.Ia.set(E,x.withResumeToken(Ye.EMPTY_BYTE_STRING,x.snapshotVersion)),wv(h,E);const w=new Ms(x.target,E,y,x.sequenceNumber);$d(h,w)})),h.remoteSyncer.applyRemoteEvent(_)})(a,i)}catch(r){ht(Ia,"Failed to raise snapshot:",r),await Ac(a,r)}}async function Ac(a,e,i){if(!Gr(e))throw e;a.Ea.add(1),await xo(a),a.Va.set("Offline"),i||(i=()=>xv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ht(Ia,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Lc(a)}))}function Cv(a,e){return e().catch((i=>Ac(a,i,e)))}async function zc(a){const e=Ct(a),i=Gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kd;for(;KS(e);)try{const o=await CS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,XS(e,o)}catch(o){await Ac(e,o)}Rv(e)&&Dv(e)}function KS(a){return ja(a)&&a.Ta.length<10}function XS(a,e){a.Ta.push(e);const i=Gs(a);i.O_()&&i.Y_&&i.ea(e.mutations)}function Rv(a){return ja(a)&&!Gs(a).x_()&&a.Ta.length>0}function Dv(a){Gs(a).start()}async function ZS(a){Gs(a).ra()}async function JS(a){const e=Gs(a);for(const i of a.Ta)e.ea(i.mutations)}async function WS(a,e,i){const r=a.Ta.shift(),o=Qd.from(r,e,i);await Cv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await zc(a)}async function $S(a,e){e&&Gs(a).Y_&&await(async function(r,o){if((function(d){return O1(d)&&d!==et.ABORTED})(o.code)){const h=r.Ta.shift();Gs(r).B_(),await Cv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await zc(r)}})(a,e),Rv(a)&&Dv(a)}async function z0(a,e){const i=Ct(a);i.asyncQueue.verifyOperationInProgress(),ht(Ia,"RemoteStore received new credentials");const r=ja(i);i.Ea.add(3),await xo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lc(i)}async function tA(a,e){const i=Ct(a);e?(i.Ea.delete(2),await Lc(i)):e||(i.Ea.add(2),await xo(i),i.Va.set("Unknown"))}function Fr(a){return a.ma||(a.ma=(function(i,r,o){const h=Ct(i);return h.sa(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:GS.bind(null,a),Yo:QS.bind(null,a),t_:FS.bind(null,a),J_:YS.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),em(a)?tm(a):a.Va.set("Unknown")):(await a.ma.stop(),Nv(a))}))),a.ma}function Gs(a){return a.fa||(a.fa=(function(i,r,o){const h=Ct(i);return h.sa(),new LS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZS.bind(null,a),t_:$S.bind(null,a),ta:JS.bind(null,a),na:WS.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await zc(a)):(await a.fa.stop(),a.Ta.length>0&&(ht(Ia,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class nm{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new nm(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(a,e){if($i("AsyncQueue",`${e}: ${a}`),Gr(a))return new ct(et.UNAVAILABLE,`${e}: ${a}`);throw a}class Dr{static emptySet(e){return new Dr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_t.comparator(i.key,r.key):(i,r)=>_t.comparator(i.key,r.key),this.keyedMap=eo(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Dr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class B0{constructor(){this.ga=new ce(_t.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class zr{constructor(e,i,r,o,h,d,_,E,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=E,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new zr(e,i,Dr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class eA{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nA{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ct(i),h=o.queries;o.queries=P0(),h.forEach(((d,_)=>{for(const E of _.ba)E.onError(r)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function P0(){return new Oa((a=>Z_(a)),Vc)}async function iA(a,e){const i=Ct(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new eA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=im(d,`Initialization of query '${Ar(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&sm(i)}async function sA(a,e){const i=Ct(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function aA(a,e){const i=Ct(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.ba)_.Fa(o)&&(r=!0);d.wa=o}}r&&sm(i)}function rA(a,e,i){const r=Ct(a),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function sm(a){a.Ca.forEach((e=>{e.next()}))}var Nd,q0;(q0=Nd||(Nd={})).Ma="default",q0.Cache="cache";class lA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new zr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nd.Cache}}class Iv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class oA{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=J_(e),this.tu=new Dr(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new B0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,w)=>{const N=o.get(x),k=Oc(this.query,w)?w:null,it=!!N&&this.mutatedKeys.has(N.key),tt=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;N&&k?N.data.isEqual(k.data)?it!==tt&&(r.track({type:3,doc:k}),J=!0):this.su(N,k)||(r.track({type:2,doc:k}),J=!0,(E&&this.eu(k,E)>0||y&&this.eu(k,y)<0)&&(_=!0)):!N&&k?(r.track({type:0,doc:k}),J=!0):N&&!k&&(r.track({type:1,doc:N}),J=!0,(E||y)&&(_=!0)),J&&(k?(d=d.add(k),h=tt?h.add(x):h.delete(x)):(d=d.delete(x),h=h.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),h=h.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,w)=>(function(k,it){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:J})}};return tt(k)-tt(it)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],E=this.Ya.size===0&&this.current&&!o?1:0,y=E!==this.Xa;return this.Xa=E,d.length!==0||y?{snapshot:new zr(this.query,e.tu,h,d,e.mutatedKeys,E===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new Vv(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new Iv(r))})),i}cu(e){this.Za=e.ks,this.Ya=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const am="SyncEngine";class uA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class cA{constructor(e){this.key=e,this.hu=!1}}class hA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oa((_=>Z_(_)),Vc),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(_t.comparator),this.Au=new Map,this.Vu=new Kd,this.du={},this.mu=new Map,this.fu=Lr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fA(a,e,i=!0){const r=Lv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Ov(r,e,i,!0),o}async function dA(a,e){const i=Lv(a);await Ov(i,e,!0,!1)}async function Ov(a,e,i,r){const o=await RS(a.localStore,Ci(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await mA(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Av(a.remoteStore,o),_}async function mA(a,e,i,r,o){a.pu=(w,N,k)=>(async function(tt,J,ut,vt){let pt=J.view.ru(ut);pt.Ss&&(pt=await j0(tt.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,pt))));const At=vt&&vt.targetChanges.get(J.targetId),Dt=vt&&vt.targetMismatches.get(J.targetId)!=null,Tt=J.view.applyChanges(pt,tt.isPrimaryClient,At,Dt);return G0(tt,J.targetId,Tt.au),Tt.snapshot})(a,w,N,k);const h=await j0(a.localStore,e,!0),d=new oA(e,h.ks),_=d.ru(h.documents),E=bo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(_,a.isPrimaryClient,E);G0(a,i,y.au);const x=new uA(e,i,d);return a.Tu.set(e,x),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function gA(a,e,i){const r=Ct(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Vc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Wd(r.remoteStore,o.targetId),Cd(r,o.targetId)})).catch(Hr)):(Cd(r,o.targetId),await Ad(r.localStore,o.targetId,!0))}async function pA(a,e){const i=Ct(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wd(i.remoteStore,r.targetId))}async function yA(a,e,i){const r=SA(a);try{const o=await(function(d,_){const E=Ct(d),y=se.now(),x=_.reduce(((k,it)=>k.add(it.key)),zt());let w,N;return E.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let it=ts(),tt=zt();return E.xs.getEntries(k,x).next((J=>{it=J,it.forEach(((ut,vt)=>{vt.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>E.localDocuments.getOverlayedDocuments(k,it))).next((J=>{w=J;const ut=[];for(const vt of _){const pt=C1(vt,w.get(vt.key).overlayedDocument);pt!=null&&ut.push(new Ys(vt.key,pt,q_(pt.value.mapValue),Pn.exists(!0)))}return E.mutationQueue.addMutationBatch(k,y,ut,_)})).next((J=>{N=J;const ut=J.applyToLocalDocumentSet(w,tt);return E.documentOverlayCache.saveOverlays(k,J.batchId,ut)}))})).then((()=>({batchId:N.batchId,changes:$_(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,E){let y=d.du[d.currentUser.toKey()];y||(y=new ce(Lt)),y=y.insert(_,E),d.du[d.currentUser.toKey()]=y})(r,o.batchId,i),await To(r,o.changes),await zc(r.remoteStore)}catch(o){const h=im(o,"Failed to persist write");i.reject(h)}}async function jv(a,e){const i=Ct(a);try{const r=await wS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await To(i,r,e)}catch(r){await Hr(r)}}function H0(a,e,i){const r=Ct(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const E=Ct(d);E.onlineState=_;let y=!1;E.queries.forEach(((x,w)=>{for(const N of w.ba)N.va(_)&&(y=!0)})),y&&sm(E)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _A(a,e,i){const r=Ct(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ce(_t.comparator);d=d.insert(h,Je.newNoDocument(h,St.min()));const _=zt().add(h),E=new kc(St.min(),new Map,new ce(Lt),d,_);await jv(r,E),r.Ru=r.Ru.remove(h),r.Au.delete(e),rm(r)}else await Ad(r.localStore,e,!1).then((()=>Cd(r,e,i))).catch(Hr)}async function vA(a,e){const i=Ct(a),r=e.batch.batchId;try{const o=await AS(i.localStore,e);kv(i,r,null),Mv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await To(i,o)}catch(o){await Hr(o)}}async function EA(a,e,i){const r=Ct(a);try{const o=await(function(d,_){const E=Ct(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return E.mutationQueue.lookupMutationBatch(y,_).next((w=>(Kt(w!==null,37113),x=w.keys(),E.mutationQueue.removeMutationBatch(y,w)))).next((()=>E.mutationQueue.performConsistencyCheck(y))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(y,x,_))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>E.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);kv(r,e,i),Mv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await To(r,o)}catch(o){await Hr(o)}}function Mv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function kv(a,e,i){const r=Ct(a);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Cd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((r=>{a.Vu.containsKey(r)||Uv(a,r)}))}function Uv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.Ru.get(e);i!==null&&(Wd(a.remoteStore,i),a.Ru=a.Ru.remove(e),a.Au.delete(i),rm(a))}function G0(a,e,i){for(const r of i)r instanceof Iv?(a.Vu.addReference(r.key,e),bA(a,r)):r instanceof Vv?(ht(am,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,e),a.Vu.containsKey(r.key)||Uv(a,r.key)):bt(19791,{wu:r})}function bA(a,e){const i=e.key,r=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(r)||(ht(am,"New document in limbo: "+i),a.Eu.add(r),rm(a))}function rm(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new _t(ie.fromString(e)),r=a.fu.next();a.Au.set(r,new cA(i)),a.Ru=a.Ru.insert(i,r),Av(a.remoteStore,new Ms(Ci(Pd(i.path)),r,"TargetPurposeLimboResolution",Rc.ce))}}async function To(a,e,i){const r=Ct(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,E)=>{d.push(r.pu(E,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const x=y?!y.fromCache:i?.targetChanges.get(E.targetId)?.current;r.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Zd.Es(E.targetId,y);h.push(x)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(E,y){const x=Ct(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>nt.forEach(y,(N=>nt.forEach(N.Ts,(k=>x.persistence.referenceDelegate.addReference(w,N.targetId,k))).next((()=>nt.forEach(N.Is,(k=>x.persistence.referenceDelegate.removeReference(w,N.targetId,k)))))))))}catch(w){if(!Gr(w))throw w;ht(Jd,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const k=x.vs.get(N),it=k.snapshotVersion,tt=k.withLastLimboFreeSnapshotVersion(it);x.vs=x.vs.insert(N,tt)}}})(r.localStore,h))}async function xA(a,e){const i=Ct(a);if(!i.currentUser.isEqual(e)){ht(am,"User change. New user:",e.toKey());const r=await bv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((E=>{E.reject(new ct(et.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await To(i,r.Ns)}}function TA(a,e){const i=Ct(a),r=i.Au.get(e);if(r&&r.hu)return zt().add(r.key);{let o=zt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function Lv(a){const e=Ct(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=jv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_A.bind(null,e),e.Pu.J_=aA.bind(null,e.eventManager),e.Pu.yu=rA.bind(null,e.eventManager),e}function SA(a){const e=Ct(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EA.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SS(this.persistence,new bS,e.initialUser,this.serializer)}Cu(e){return new Ev(Xd.Vi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class AA extends wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Kt(this.persistence.referenceDelegate instanceof Sc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Ev((r=>Sc.Vi(r,i)),this.serializer)}}class Rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xA.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nA})()}createDatastore(e){const i=Uc(e.databaseInfo.databaseId),r=kS(e.databaseInfo);return PS(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new HS(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>H0(this.syncEngine,i,0)),(function(){return U0.v()?new U0:new VS})())}createSyncEngine(e,i){return(function(o,h,d,_,E,y,x){const w=new hA(o,h,d,_,E,y);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ct(i);ht(Ia,"RemoteStore shutting down."),r.Ea.add(5),await xo(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rd.provider={build:()=>new Rd};class wA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Qs="FirestoreClient";class NA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ht(Qs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ht(Qs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=im(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sd(a,e){a.asyncQueue.verifyOperationInProgress(),ht(Qs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function Q0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await CA(a);ht(Qs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>z0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>z0(e.remoteStore,o))),a._onlineComponents=e}async function CA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ht(Qs,"Using user provided OfflineComponentProvider");try{await sd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Da("Error using user provided cache. Falling back to memory cache: "+i),await sd(a,new wc)}}else ht(Qs,"Using default OfflineComponentProvider"),await sd(a,new AA(void 0));return a._offlineComponents}async function zv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ht(Qs,"Using user provided OnlineComponentProvider"),await Q0(a,a._uninitializedComponentsProvider._online)):(ht(Qs,"Using default OnlineComponentProvider"),await Q0(a,new Rd))),a._onlineComponents}function RA(a){return zv(a).then((e=>e.syncEngine))}async function F0(a){const e=await zv(a),i=e.eventManager;return i.onListen=fA.bind(null,e.syncEngine),i.onUnlisten=gA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),i}function DA(a,e,i,r){const o=new wA(r),h=new lA(e,o,i);return a.asyncQueue.enqueueAndForget((async()=>iA(await F0(a),h))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>sA(await F0(a),h)))}}function IA(a,e){const i=new Na;return a.asyncQueue.enqueueAndForget((async()=>yA(await RA(a),e,i))),i.promise}function Bv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const VA="ComponentProvider",Y0=new Map;function OA(a,e,i,r,o){return new ZT(a,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Bv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Pv="firestore.googleapis.com",K0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pv,this.ssl=K0}else this.host=e.host,this.ssl=e.ssl??K0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sS)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RT;switch(r.type){case"firstParty":return new OT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Y0.get(i);r&&(ht(VA,"Removing Datastore"),Y0.delete(i),r.terminate())})(this),Promise.resolve()}}function jA(a,e,i,r={}){a=Ni(a,Bc);const o=Vd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},_=`${e}:${i}`;o&&(ix(`https://${_}`),lx("Firestore",!0)),h.host!==Pv&&h.host!==_&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...h,host:_,ssl:o,emulatorOptions:r};if(!Vr(E,d)&&(a._setSettings(E),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=Ze.MOCK_USER;else{y=sx(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ze(w)}a._authCredentials=new DT(new D_(y,x))}}class Ma{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class _e{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _e(this.firestore,e,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(vo(i,_e._jsonSchema))return new _e(e,r||null,new _t(ie.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ie("string",_e._jsonSchemaVersion),referencePath:Ie("string")};class zs extends Ma{constructor(e,i,r){super(e,i,Pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _e(this.firestore,null,new _t(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function fc(a,e,...i){if(a=Ii(a),I_("collection","path",e),a instanceof Bc){const r=ie.fromString(e,...i);return l0(r),new zs(a,null,r)}{if(!(a instanceof _e||a instanceof zs))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return l0(r),new zs(a.firestore,null,r)}}function Ai(a,e,...i){if(a=Ii(a),arguments.length===1&&(e=Md.newId()),I_("doc","path",e),a instanceof Bc){const r=ie.fromString(e,...i);return r0(r),new _e(a,null,new _t(r))}{if(!(a instanceof _e||a instanceof zs))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return r0(r),new _e(a.firestore,a instanceof zs?a.converter:null,new _t(r))}}const Z0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tv(this,"async_queue_retry"),this._c=()=>{const r=id();r&&ht(Z0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Gr(e))throw e;ht(Z0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",W0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=nm.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function W0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Va extends Bc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new J0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function MA(a,e){const i=typeof a=="object"?a:yT(),r=typeof a=="string"?a:vc,o=fT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=ex("firestore");h&&jA(o,...h)}return o}function qv(a){if(a._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||kA(a),a._firestoreClient}function kA(a){const e=a._freezeSettings(),i=OA(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new NA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Ye.fromBase64String(e))}catch(i){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vo(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ie("string",Bn._jsonSchemaVersion),bytes:Ie("string")};class lm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yr{constructor(e){this._methodName=e}}class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(vo(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vo(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ni(e.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ie("string",ni._jsonSchemaVersion),vectorValues:Ie("object")};const UA=/^__.*__$/;class LA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}class Hv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Gv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:a})}}class Pc{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Pc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const i=this.path?.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Gv(this.dataSource)&&UA.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zA{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Uc(e)}createContext(e,i,r,o=!1){return new Pc({dataSource:e,methodName:i,targetDoc:r,path:Fe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qc(a){const e=a._freezeSettings(),i=Uc(a._databaseId);return new zA(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Qv(a,e,i,r,o,h={}){const d=a.createContext(h.merge||h.mergeFields?2:0,e,i,o);hm("Data must be an object, but it was:",d,r);const _=Yv(r,d);let E,y;if(h.merge)E=new wn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const x=[];for(const w of h.mergeFields){const N=Br(e,w,i);if(!d.contains(N))throw new ct(et.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Zv(x,N)||x.push(N)}E=new wn(x),y=d.fieldTransforms.filter((w=>E.covers(w.field)))}else E=null,y=d.fieldTransforms;return new LA(new mn(_),E,y)}class Hc extends Yr{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function Fv(a,e,i){return new Pc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:a._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class om extends Yr{_toFieldTransform(e){return new Hd(e.path,new _o)}isEqual(e){return e instanceof om}}class um extends Yr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Fv(this,e,!0),r=this.Ac.map((h=>ka(h,i))),o=new kr(r);return new Hd(e.path,o)}isEqual(e){return e instanceof um&&Vr(this.Ac,e.Ac)}}class cm extends Yr{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=Fv(this,e,!0),r=this.Ac.map((h=>ka(h,i))),o=new Ur(r);return new Hd(e.path,o)}isEqual(e){return e instanceof cm&&Vr(this.Ac,e.Ac)}}function BA(a,e,i,r){const o=a.createContext(1,e,i);hm("Data must be an object, but it was:",o,r);const h=[],d=mn.empty();Fs(r,((E,y)=>{const x=Xv(e,E,i);y=Ii(y);const w=o.childContextForFieldPath(x);if(y instanceof Hc)h.push(x);else{const N=ka(y,w);N!=null&&(h.push(x),d.set(x,N))}}));const _=new wn(h);return new Hv(d,_,o.fieldTransforms)}function PA(a,e,i,r,o,h){const d=a.createContext(1,e,i),_=[Br(e,r,i)],E=[o];if(h.length%2!=0)throw new ct(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)_.push(Br(e,h[N])),E.push(h[N+1]);const y=[],x=mn.empty();for(let N=_.length-1;N>=0;--N)if(!Zv(y,_[N])){const k=_[N];let it=E[N];it=Ii(it);const tt=d.childContextForFieldPath(k);if(it instanceof Hc)y.push(k);else{const J=ka(it,tt);J!=null&&(y.push(k),x.set(k,J))}}const w=new wn(y);return new Hv(x,w,d.fieldTransforms)}function qA(a,e,i,r=!1){return ka(i,a.createContext(r?4:3,e))}function ka(a,e){if(Kv(a=Ii(a)))return hm("Unsupported field value:",e,a),Yv(a,e);if(a instanceof Yr)return(function(r,o){if(!Gv(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let E=ka(_,o.childContextForArray(d));E==null&&(E={nullValue:"NULL_VALUE"}),h.push(E),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=Ii(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:Tc(o.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,h)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:hv(o.serializer,r._byteString)};if(r instanceof _e){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Yd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ni)return(function(d,_){const E=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[B_]:{stringValue:P_},[Ec]:{arrayValue:{values:E.map((x=>{if(typeof x!="number")throw _.createError("VectorValues must only contain numeric values.");return qd(_.serializer,x)}))}}}}}})(r,o);if(_v(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Cc(r)}`)})(a,e)}function Yv(a,e){const i={};return j_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(a,((r,o)=>{const h=ka(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Kv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof Di||a instanceof Bn||a instanceof _e||a instanceof Yr||a instanceof ni||_v(a))}function hm(a,e,i){if(!Kv(i)||!V_(i)){const r=Cc(i);throw r==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+r)}}function Br(a,e,i){if((e=Ii(e))instanceof lm)return e._internalPath;if(typeof e=="string")return Xv(a,e);throw Nc("Field path arguments must be of type string or ",a,!1,void 0,i)}const HA=new RegExp("[~\\*/\\[\\]]");function Xv(a,e,i){if(e.search(HA)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new lm(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Nc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(h||d)&&(E+=" (found",h&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new ct(et.INVALID_ARGUMENT,_+a+E)}function Zv(a,e){return a.some((i=>i.isEqual(e)))}class GA{convertValue(e,i="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Fs(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Ec].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ni(i)}convertGeoPoint(e){return new Di(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ic(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(mo(e));default:return null}}convertTimestamp(e){const i=Ps(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ie.fromString(e);Kt(yv(r),9688,{name:e});const o=new go(r.get(1),r.get(3)),h=new _t(r.popFirst(5));return o.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Jv extends GA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function $0(){return new om("serverTimestamp")}function t_(...a){return new um("arrayUnion",a)}function e_(...a){return new cm("arrayRemove",a)}const n_="@firebase/firestore",i_="4.11.0";function s_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Wv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Br("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QA extends Wv{data(){return super.data()}}function FA(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class $v extends fm{}function tE(a,e,...i){let r=[];e instanceof fm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((E=>E instanceof mm)).length,_=h.filter((E=>E instanceof dm)).length;if(d>1||d>0&&_>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class dm extends $v{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new dm(e,i,r)}_apply(e){const i=this._parse(e);return eE(e._query,i),new Ma(e.firestore,e.converter,vd(e._query,i))}_parse(e){const i=qc(e.firestore);return(function(h,d,_,E,y,x,w){let N;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){r_(w,x);const it=[];for(const tt of w)it.push(a_(E,h,tt));N={arrayValue:{values:it}}}else N=a_(E,h,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||r_(w,x),N=qA(_,d,w,x==="in"||x==="not-in");return De.create(y,x,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class mm extends fm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new mm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const _=h.getFlattenedFilters();for(const E of _)eE(d,E),d=vd(d,E)})(e._query,i),new Ma(e.firestore,e.converter,vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gm extends $v{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new gm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yo(h,d)})(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,m1(e._query,i))}}function YA(a,e="asc"){const i=e,r=Br("orderBy",a);return gm._create(r,i)}function a_(a,e,i){if(typeof(i=Ii(i))=="string"){if(i==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X_(e)&&i.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ie.fromString(i));if(!_t.isDocumentKey(r))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g0(a,new _t(r))}if(i instanceof _e)return g0(a,i._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cc(i)}.`)}function r_(a,e){if(!Array.isArray(a)||a.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eE(a,e){const i=(function(o,h){for(const d of o)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function nE(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends Wv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Br("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Ie("string",Ca._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class dc extends Ca{data(e={}){return super.data(e)}}class Ir{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new dc(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const E=new dc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new io(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const E=new dc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new io(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),x=d.indexOf(_.doc.key)),{type:KA(_.type),doc:E,oldIndex:y,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ir._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:a})}}Ir._jsonSchemaVersion="firestore/querySnapshot/1.0",Ir._jsonSchema={type:Ie("string",Ir._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function XA(a,e,i){a=Ni(a,_e);const r=Ni(a.firestore,Va),o=nE(a.converter,e),h=qc(r);return Gc(r,[Qv(h,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Pn.none())])}function js(a,e,i,...r){a=Ni(a,_e);const o=Ni(a.firestore,Va),h=qc(o);let d;return d=typeof(e=Ii(e))=="string"||e instanceof lm?PA(h,"updateDoc",a._key,e,i,r):BA(h,"updateDoc",a._key,e),Gc(o,[d.toMutation(a._key,Pn.exists(!0))])}function ZA(a){return Gc(Ni(a.firestore,Va),[new Gd(a._key,Pn.none())])}function l_(a,e){const i=Ni(a.firestore,Va),r=Ai(a),o=nE(a.converter,e),h=qc(a.firestore);return Gc(i,[Qv(h,"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then((()=>r))}function iE(a,...e){a=Ii(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||s_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(s_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,_;if(a instanceof _e)d=Ni(a.firestore,Va),_=Pd(a._key.path),h={next:y=>{e[r]&&e[r](JA(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Ni(a,Ma);d=Ni(y.firestore,Va),_=y._query;const x=new Jv(d);h={next:w=>{e[r]&&e[r](new Ir(d,x,y,w))},error:e[r+1],complete:e[r+2]},FA(a._query)}const E=qv(d);return DA(E,_,o,h)}function Gc(a,e){const i=qv(a);return IA(i,e)}function JA(a,e,i){const r=i.docs.get(e._key),o=new Jv(a);return new Ca(a,o,e._key,r,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){CT(pT),yc(new co("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new Va(new IT(r.getProvider("auth-internal")),new jT(d,r.getProvider("app-check-internal")),JT(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),Cr(n_,i_,e),Cr(n_,i_,"esm2020")})();var WA="firebase",$A="12.9.0";Cr(WA,$A,"app");const mc={apiKey:"AIzaSyAWb3BV13yy6xiYeeHHEurS38GGS8dF-Ag",authDomain:"quote-book-b44a7.firebaseapp.com",projectId:"quote-book-b44a7",storageBucket:"quote-book-b44a7.firebasestorage.app",messagingSenderId:"291066549073",appId:"1:291066549073:web:6c77f27dbc4ef873a43970",measurementId:"G-6S2R1QFEXL"},t2=E_(mc),An=MA(t2),nn=()=>!!(mc.apiKey&&mc.projectId&&mc.apiKey!=="demo-key"),o_="quotebook_quotes",ei="quotes";function e2(){const[a,e]=at.useState([]),[i,r]=at.useState(!0),[o,h]=at.useState(null),[d,_]=at.useState(!1),[E,y]=at.useState("newest"),[x,w]=at.useState("");at.useEffect(()=>{if(nn()){_(!0);const R=tE(fc(An,ei),YA("timestamp","desc")),T=iE(R,lt=>{const ft=[];lt.forEach(L=>{const G=L.data();ft.push({id:L.id,text:G.text,speaker:G.speaker,addedBy:G.addedBy,addedByDisplayName:G.addedByDisplayName,timestamp:G.timestamp instanceof se?G.timestamp.toMillis():G.timestamp||Date.now(),likes:G.likes||[],comments:(G.comments||[]).map(st=>({...st,likes:st.likes||[],gifUrl:st.gifUrl||void 0,replies:(st.replies||[]).map(Z=>({...Z,likes:Z.likes||[],gifUrl:Z.gifUrl||void 0}))}))})}),e(ft),r(!1),h(null)},lt=>{console.error("Firestore error:",lt),h("Failed to connect to database. Check your Firebase config."),r(!1),N()});return()=>T()}else _(!1),N(),r(!1)},[]);const N=()=>{const R=localStorage.getItem(o_);if(R)try{const lt=JSON.parse(R).map(ft=>({...ft,likes:ft.likes||[],comments:(ft.comments||[]).map(L=>({...L,likes:L.likes||[],gifUrl:L.gifUrl||void 0,replies:(L.replies||[]).map(G=>({...G,likes:G.likes||[],gifUrl:G.gifUrl||void 0}))}))}));e(lt)}catch{e([])}},k=at.useCallback(R=>{localStorage.setItem(o_,JSON.stringify(R)),e(R)},[]),it=at.useCallback(()=>{let R=[...a];if(x.trim()){const T=x.toLowerCase().trim();R=R.filter(lt=>lt.text.toLowerCase().includes(T)||lt.speaker.toLowerCase().includes(T)||lt.addedBy.toLowerCase().includes(T)||lt.addedByDisplayName&&lt.addedByDisplayName.toLowerCase().includes(T))}switch(E){case"newest":return R.sort((T,lt)=>lt.timestamp-T.timestamp);case"oldest":return R.sort((T,lt)=>T.timestamp-lt.timestamp);case"mostLiked":return R.sort((T,lt)=>lt.likes.length-T.likes.length);default:return R}},[a,E,x]),tt=at.useCallback(async(R,T,lt,ft)=>{const L={text:R,speaker:T.trim(),addedBy:lt,addedByDisplayName:ft,timestamp:Date.now(),likes:[],comments:[]};if(d&&nn())try{await l_(fc(An,ei),{...L,timestamp:$0()})}catch(G){console.error("Error adding quote:",G),h("Failed to add quote. Please try again.")}else{const G={...L,id:crypto.randomUUID()};k([G,...a])}},[a,d,k]),J=at.useCallback(async(R,T)=>{const lt=a.find(ft=>ft.id===R);if(lt){if(lt.addedBy.toLowerCase()!==T.toLowerCase()){h("You can only delete your own quotes.");return}if(d&&nn())try{await ZA(Ai(An,ei,R))}catch(ft){console.error("Error deleting quote:",ft),h("Failed to delete quote. Please try again.")}else k(a.filter(ft=>ft.id!==R))}},[a,d,k]),ut=at.useCallback(async(R,T)=>{const lt=a.find(L=>L.id===R);if(!lt)return;const ft=lt.likes.some(L=>L.toLowerCase()===T.toLowerCase());if(d&&nn())try{const L=Ai(An,ei,R);if(ft){const G=lt.likes.find(st=>st.toLowerCase()===T.toLowerCase());G&&await js(L,{likes:e_(G)})}else await js(L,{likes:t_(T)})}catch(L){console.error("Error toggling like:",L),h("Failed to update like. Please try again.")}else{const L=a.map(G=>G.id===R?{...G,likes:ft?G.likes.filter(st=>st.toLowerCase()!==T.toLowerCase()):[...G.likes,T]}:G);k(L)}},[a,d,k]),vt=at.useCallback(async(R,T,lt,ft,L)=>{const G={id:crypto.randomUUID(),text:T.trim(),gifUrl:L||void 0,author:lt,authorDisplayName:ft,timestamp:Date.now(),likes:[],replies:[]};if(d&&nn())try{const st=Ai(An,ei,R);await js(st,{comments:t_(G)})}catch(st){console.error("Error adding comment:",st),h("Failed to add comment. Please try again.")}else{const st=a.map(Z=>Z.id===R?{...Z,comments:[...Z.comments,G]}:Z);k(st)}},[a,d,k]),pt=at.useCallback(async(R,T,lt)=>{const ft=a.find(G=>G.id===R);if(!ft)return;const L=ft.comments.find(G=>G.id===T);if(L){if(L.author.toLowerCase()!==lt.toLowerCase()){h("You can only delete your own comments.");return}if(d&&nn())try{const G=Ai(An,ei,R);await js(G,{comments:e_(L)})}catch(G){console.error("Error deleting comment:",G),h("Failed to delete comment. Please try again.")}else{const G=a.map(st=>st.id===R?{...st,comments:st.comments.filter(Z=>Z.id!==T)}:st);k(G)}}},[a,d,k]),At=at.useCallback(async(R,T,lt)=>{const ft=a.find(G=>G.id===R);if(!ft)return;const L=ft.comments.map(G=>{if(G.id===T){const st=G.likes.some(Z=>Z.toLowerCase()===lt.toLowerCase());return{...G,likes:st?G.likes.filter(Z=>Z.toLowerCase()!==lt.toLowerCase()):[...G.likes,lt]}}return G});if(d&&nn())try{const G=Ai(An,ei,R);await js(G,{comments:L})}catch(G){console.error("Error toggling comment like:",G),h("Failed to update like. Please try again.")}else{const G=a.map(st=>st.id===R?{...st,comments:L}:st);k(G)}},[a,d,k]),Dt=at.useCallback(async(R,T,lt,ft,L,G)=>{const st=a.find(A=>A.id===R);if(!st)return;const Z={id:crypto.randomUUID(),text:lt.trim(),gifUrl:G||void 0,author:ft,authorDisplayName:L,timestamp:Date.now(),likes:[]},K=st.comments.map(A=>A.id===T?{...A,replies:[...A.replies,Z]}:A);if(d&&nn())try{const A=Ai(An,ei,R);await js(A,{comments:K})}catch(A){console.error("Error adding reply:",A),h("Failed to add reply. Please try again.")}else{const A=a.map(q=>q.id===R?{...q,comments:K}:q);k(A)}},[a,d,k]),Tt=at.useCallback(async(R,T,lt,ft)=>{const L=a.find(K=>K.id===R);if(!L)return;const G=L.comments.find(K=>K.id===T);if(!G)return;const st=G.replies.find(K=>K.id===lt);if(!st)return;if(st.author.toLowerCase()!==ft.toLowerCase()){h("You can only delete your own replies.");return}const Z=L.comments.map(K=>K.id===T?{...K,replies:K.replies.filter(A=>A.id!==lt)}:K);if(d&&nn())try{const K=Ai(An,ei,R);await js(K,{comments:Z})}catch(K){console.error("Error deleting reply:",K),h("Failed to delete reply. Please try again.")}else{const K=a.map(A=>A.id===R?{...A,comments:Z}:A);k(K)}},[a,d,k]),I=at.useCallback(async(R,T,lt,ft)=>{const L=a.find(st=>st.id===R);if(!L)return;const G=L.comments.map(st=>{if(st.id===T){const Z=st.replies.map(K=>{if(K.id===lt){const A=K.likes.some(q=>q.toLowerCase()===ft.toLowerCase());return{...K,likes:A?K.likes.filter(q=>q.toLowerCase()!==ft.toLowerCase()):[...K.likes,ft]}}return K});return{...st,replies:Z}}return st});if(d&&nn())try{const st=Ai(An,ei,R);await js(st,{comments:G})}catch(st){console.error("Error toggling reply like:",st),h("Failed to update like. Please try again.")}else{const st=a.map(Z=>Z.id===R?{...Z,comments:G}:Z);k(st)}},[a,d,k]),C=at.useCallback(()=>{const R=new Map;return a.forEach(T=>{const lt=R.get(T.speaker)||0;R.set(T.speaker,lt+1)}),Array.from(R.entries()).map(([T,lt])=>({name:T,quoteCount:lt})).sort((T,lt)=>lt.quoteCount-T.quoteCount)},[a]),D=at.useCallback(R=>a.filter(T=>T.speaker===R),[a]),M=at.useCallback(()=>{const R=JSON.stringify(a,null,2),T=new Blob([R],{type:"application/json"}),lt=URL.createObjectURL(T),ft=document.createElement("a");ft.href=lt,ft.download=`quotebook_backup_${new Date().toISOString().split("T")[0]}.json`,ft.click(),URL.revokeObjectURL(lt)},[a]),O=at.useCallback(async(R,T,lt)=>{const ft=new FileReader;ft.onload=async L=>{try{const G=JSON.parse(L.target?.result);if(Array.isArray(G)){const st=G.filter(Z=>Z.text&&Z.speaker);if(d&&nn())for(const Z of st)await l_(fc(An,ei),{text:Z.text,speaker:Z.speaker,addedBy:Z.addedBy||T,addedByDisplayName:Z.addedByDisplayName||lt,timestamp:Z.timestamp||$0(),likes:Z.likes||[],comments:Z.comments||[]});else{const Z=st.map(K=>({...K,id:K.id||crypto.randomUUID(),addedBy:K.addedBy||T,addedByDisplayName:K.addedByDisplayName||lt,timestamp:K.timestamp||Date.now(),likes:K.likes||[],comments:K.comments||[]}));k([...Z,...a])}}}catch{alert("Invalid file format")}},ft.readAsText(R)},[a,d,k]);return{quotes:it(),allQuotes:a,loading:i,error:o,usingFirebase:d,sortOption:E,setSortOption:y,searchQuery:x,setSearchQuery:w,addQuote:tt,deleteQuote:J,toggleLike:ut,addComment:vt,deleteComment:pt,toggleCommentLike:At,addReply:Dt,deleteReply:Tt,toggleReplyLike:I,getPeople:C,getQuotesBySpeaker:D,exportData:M,importData:O}}const ad=10;function sc(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function n2(a){const[e,i]=at.useState({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:ad,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]}),r=at.useCallback(()=>[...new Set(a.map(y=>y.speaker))],[a]),o=at.useCallback((y,x)=>{const w=x.filter(it=>it!==y),N=sc(w),k=[y,...N.slice(0,3)];return sc(k)},[]),h=at.useCallback(()=>{const y=r();if(y.length<2||a.length<3){alert("Need at least 3 quotes from 2 different people to play!");return}const w=sc(a)[0],N=o(w.speaker,y);i({isPlaying:!0,currentQuote:w,options:N,score:0,totalRounds:Math.min(ad,a.length),currentRound:1,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[a,r,o]),d=at.useCallback(y=>{if(!e.currentQuote||e.answered)return;const x=y===e.currentQuote.speaker;i(w=>({...w,answered:!0,selectedAnswer:y,isCorrect:x,score:x?w.score+1:w.score,gameHistory:[...w.gameHistory,{quote:w.currentQuote,correct:x,guessed:y}]}))},[e.currentQuote,e.answered]),_=at.useCallback(()=>{if(e.currentRound>=e.totalRounds){i(tt=>({...tt,isPlaying:!1,currentQuote:null}));return}const y=e.gameHistory.map(tt=>tt.quote.id);y.push(e.currentQuote?.id||"");const x=a.filter(tt=>!y.includes(tt.id));if(x.length===0){i(tt=>({...tt,isPlaying:!1,currentQuote:null}));return}const N=sc(x)[0],k=r(),it=o(N.speaker,k);i(tt=>({...tt,currentQuote:N,options:it,currentRound:tt.currentRound+1,answered:!1,selectedAnswer:null,isCorrect:null}))},[a,e,r,o]),E=at.useCallback(()=>{i({isPlaying:!1,currentQuote:null,options:[],score:0,totalRounds:ad,currentRound:0,answered:!1,selectedAnswer:null,isCorrect:null,gameHistory:[]})},[]);return{gameState:e,startGame:h,submitAnswer:d,nextRound:_,endGame:E,canPlay:r().length>=2&&a.length>=3}}const sE=[{name:"Kasey",password:"kaseyYork"},{name:"Liam",password:"liamYork"},{name:"Ethan",password:"ethanYork"},{name:"Teethan",password:"teethanPono"},{name:"Alex",password:"alexYork"},{name:"Harrison",password:"harrisonToro"},{name:"Patrick",password:"patrickYork"},{name:"Jaice",password:"jaiceYork"},{name:"Mergan",password:"merganYork"}];function u_(a,e){return!!sE.find(r=>r.name.toLowerCase()===a.toLowerCase()&&r.password===e)}function i2(a){const e=sE.find(i=>i.name.toLowerCase()===a.toLowerCase());return e?e.name:null}const Sa="quotebook_user",$l="quotebook_auth";function s2(){const[a,e]=at.useState(null),[i,r]=at.useState(!1),[o,h]=at.useState(!0);at.useEffect(()=>{const w=localStorage.getItem($l),N=localStorage.getItem(Sa);if(w&&N)try{const k=JSON.parse(w),it=JSON.parse(N);u_(k.name,k.password)?(it.displayName||(it.displayName=it.name),e(it),r(!0)):(localStorage.removeItem($l),localStorage.removeItem(Sa))}catch{localStorage.removeItem($l),localStorage.removeItem(Sa)}h(!1)},[]);const d=at.useCallback((w,N)=>{if(u_(w,N)){const k=i2(w);if(!k)return!1;const it=localStorage.getItem(`quotebook_user_${k.toLowerCase()}`);let tt={name:k,displayName:k,gamesPlayed:0,totalScore:0,bestScore:0};if(it)try{const J=JSON.parse(it);tt={...tt,displayName:J.displayName||k,gamesPlayed:J.gamesPlayed||0,totalScore:J.totalScore||0,bestScore:J.bestScore||0}}catch{}return localStorage.setItem($l,JSON.stringify({name:k,password:N})),localStorage.setItem(Sa,JSON.stringify(tt)),e(tt),r(!0),!0}return!1},[]),_=at.useCallback(()=>{a&&localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(a)),localStorage.removeItem($l),localStorage.removeItem(Sa),e(null),r(!1)},[a]),E=at.useCallback(w=>{if(!a)return;const N={...a,displayName:w.trim()};e(N),localStorage.setItem(Sa,JSON.stringify(N)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(N))},[a]),y=at.useCallback(w=>{E(w)},[E]),x=at.useCallback(w=>{if(!a)return;const N={...a,gamesPlayed:a.gamesPlayed+1,totalScore:a.totalScore+w,bestScore:Math.max(a.bestScore,w)};e(N),localStorage.setItem(Sa,JSON.stringify(N)),localStorage.setItem(`quotebook_user_${a.name.toLowerCase()}`,JSON.stringify(N))},[a]);return{user:a,isAuthenticated:i,isLoading:o,login:d,logout:_,setUsername:y,setDisplayName:E,recordGameScore:x}}const rd="quotebook_user_profiles",c_="userProfiles";function a2(){const[a,e]=at.useState(new Map),[i,r]=at.useState(!0);at.useEffect(()=>{if(nn()){const _=tE(fc(An,c_)),E=iE(_,y=>{const x=new Map;y.forEach(N=>{const k=N.data();x.set(k.accountName.toLowerCase(),k)}),e(x),r(!1);const w=Array.from(x.values());localStorage.setItem(rd,JSON.stringify(w))},y=>{console.error("Error loading profiles:",y),o(),r(!1)});return()=>E()}else o(),r(!1)},[]);const o=()=>{const _=localStorage.getItem(rd);if(_)try{const E=JSON.parse(_),y=new Map;E.forEach(x=>{y.set(x.accountName.toLowerCase(),x)}),e(y)}catch{e(new Map)}},h=at.useCallback(async(_,E)=>{const y={accountName:_,displayName:E,lastUpdated:Date.now()};if(nn())try{await XA(Ai(An,c_,_.toLowerCase()),y)}catch(N){console.error("Error updating profile:",N)}e(N=>{const k=new Map(N);return k.set(_.toLowerCase(),y),k});const x=Array.from(a.values()),w=x.findIndex(N=>N.accountName.toLowerCase()===_.toLowerCase());w>=0?x[w]=y:x.push(y),localStorage.setItem(rd,JSON.stringify(x))},[a]),d=at.useCallback(_=>a.get(_.toLowerCase())?.displayName||_,[a]);return{profiles:a,loading:i,updateDisplayName:h,getDisplayName:d}}const ac="quotebook_weekly_winners",ld="quotebook_wrapped_archive",rc="quotebook_current_wrapped";function r2(a,e){const[i,r]=at.useState(!1),[o,h]=at.useState(null),[d,_]=at.useState(null),[E,y]=at.useState([]),[x,w]=at.useState(!1),[N,k]=at.useState(null),[it,tt]=at.useState(null),J=Z=>{const A=Z.getTime()+Z.getTimezoneOffset()*6e4;return new Date(A+-300*6e4)},ut=Z=>{const K=new Date(Z),A=K.getDay(),q=K.getDate()-A;return K.setDate(q),K.setHours(0,0,0,0),K},vt=Z=>{const K=ut(Z),A=new Date(K);return A.setDate(A.getDate()-7),A},pt=Z=>{const K=ut(Z),A=new Date(K);return A.setDate(A.getDate()-1),A.setHours(23,59,59,999),A},At=Z=>{const K=ut(Z),A=new Date(K);return A.setHours(18,30,0,0),A},Dt=Z=>{const K=ut(Z),A=new Date(K);return A.setDate(A.getDate()+5),A.setHours(23,59,59,999),A},Tt=(Z,K)=>`wrapped_${Z.toISOString().split("T")[0]}_${K.toISOString().split("T")[0]}`,I=Z=>{let K=0;return K+=Z.likes.length,Z.comments.forEach(A=>{A.gifUrl?K+=3:K+=2,K+=A.replies.length}),K},C=at.useCallback((Z,K)=>a.filter(A=>{const q=new Date(A.timestamp);return q>=Z&&q<=K}),[a]),D=at.useCallback((Z,K)=>{const A=new Date,q=At(A),rt=Dt(A),Y=C(Z,K),gt=Tt(Z,K),Rt=Y.map(ue=>({quote:ue,points:I(ue)})).sort((ue,ve)=>ve.points-ue.points).slice(0,3),wt=new Map;Y.forEach(ue=>{const ve=wt.get(ue.speaker)||0;wt.set(ue.speaker,ve+1)});let Qt=null,sn=0;wt.forEach((ue,ve)=>{ue>sn&&(sn=ue,Qt={name:ve,displayName:ve,count:ue})});const We=new Map;Y.forEach(ue=>{const ve=ue.addedBy,Ks=We.get(ve)||0;We.set(ve,Ks+1)});let gn=null,qn=0;We.forEach((ue,ve)=>{ue>qn&&(qn=ue,gn={name:ve,displayName:e(ve),count:ue})});const an=Rt.length>0?Rt[0].quote.speaker:null;return{id:gt,weekStartDate:Z.toISOString(),weekEndDate:K.toISOString(),releaseDate:q.toISOString(),expiryDate:rt.toISOString(),topQuotes:Rt,weeklyQuotee:Qt,weeklyQuoter:gn,quoteOfTheWeekSpeaker:an}},[C,e]),M=at.useCallback(()=>{const Z=localStorage.getItem(ld);if(Z)try{const K=JSON.parse(Z);y(K.sort((A,q)=>new Date(q.weekEndDate).getTime()-new Date(A.weekEndDate).getTime()))}catch{y([])}},[]),O=at.useCallback(Z=>{const K={id:Z.id,weekStartDate:Z.weekStartDate,weekEndDate:Z.weekEndDate,data:Z,createdAt:new Date().toISOString()},A=localStorage.getItem(ld);let q=[];if(A)try{q=JSON.parse(A)}catch{q=[]}const rt=q.findIndex(Y=>Y.id===K.id);rt===-1?q.push(K):q[rt]=K,localStorage.setItem(ld,JSON.stringify(q)),y(q.sort((Y,gt)=>new Date(gt.weekEndDate).getTime()-new Date(Y.weekEndDate).getTime()))},[]),R=at.useCallback(()=>{const K=J(new Date),A=At(K),q=Dt(K),rt=K>=A&&K<=q;if(w(rt),K<A)k(A);else if(K>q){const Y=new Date(ut(K));Y.setDate(Y.getDate()+7);const gt=At(Y);k(gt)}if(K>q){const Y=localStorage.getItem(rc);if(Y)try{const gt=JSON.parse(Y);O(gt),localStorage.removeItem(rc)}catch{}}return rt},[O]);at.useEffect(()=>{const Z=localStorage.getItem(ac);if(Z)try{const K=JSON.parse(Z),A=new Date,q=J(A),rt=Dt(q);A<=rt?_(K):(localStorage.removeItem(ac),_(null))}catch{localStorage.removeItem(ac)}M()},[M]),at.useEffect(()=>{R();const Z=setInterval(R,6e4);return()=>clearInterval(Z)},[R]);const T=at.useCallback(()=>{const K=J(new Date),A=vt(K),q=pt(K);return D(A,q)},[D]),lt=at.useCallback(()=>{if(!x)return;const Z=localStorage.getItem(rc);if(Z)try{const A=JSON.parse(Z);h(A),r(!0);return}catch{}const K=T();if(K){h(K),r(!0),localStorage.setItem(rc,JSON.stringify(K));const A={weekEndDate:K.weekEndDate,quoteOfTheWeekSpeaker:K.quoteOfTheWeekSpeaker,weeklyQuotee:K.weeklyQuotee?.name||null,weeklyQuoter:K.weeklyQuoter?.name||null};localStorage.setItem(ac,JSON.stringify(A)),_(A)}},[x,T]),ft=at.useCallback(Z=>{tt(Z),h(Z.data),r(!0)},[]),L=()=>{r(!1),tt(null)},G=at.useCallback(Z=>{if(!d)return[];const K=new Date,A=J(K),q=Dt(A);if(K>q)return[];const rt=[],Y=Z.toLowerCase();return d.quoteOfTheWeekSpeaker?.toLowerCase()===Y&&rt.push("quote"),d.weeklyQuotee?.toLowerCase()===Y&&rt.push("quotee"),d.weeklyQuoter?.toLowerCase()===Y&&rt.push("quoter"),rt},[d]),st=at.useCallback(()=>N?N.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"",[N]);return{showWrapped:i,weeklyData:o,currentWinners:d,archive:E,isWrappedAvailable:x,nextReleaseDate:N,viewingArchiveItem:it,openWrapped:lt,closeWrapped:L,viewArchiveWrapped:ft,getUserMedals:G,getNextReleaseString:st}}function l2({medals:a,size:e="md"}){if(a.length===0)return null;const i={sm:"text-xs",md:"text-sm",lg:"text-base"},r=h=>{switch(h){case"quote":return"";case"quotee":return"";case"quoter":return"";default:return""}},o=h=>{switch(h){case"quote":return"Quote of the Week";case"quotee":return"Weekly Quotee";case"quoter":return"Weekly Quoter";default:return"Winner"}};return g.jsx("span",{className:`inline-flex items-center gap-0.5 ${i[e]}`,children:a.map((h,d)=>g.jsx("span",{title:o(h),className:"inline-block animate-pulse cursor-help",style:{filter:"drop-shadow(0 0 2px gold)",animation:"pulse 2s infinite"},children:r(h)},d))})}function so({name:a,medals:e=[],className:i="",size:r="md"}){return g.jsxs("span",{className:`inline-flex items-center gap-1 ${i}`,children:[g.jsx("span",{children:a}),g.jsx(l2,{medals:e,size:r})]})}function o2({user:a,activeTab:e,setActiveTab:i,getUserMedals:r,isWrappedAvailable:o}){const h=r?r(a.displayName):[];return g.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Quote Book"})]}),g.jsxs("nav",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>i("quotes"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="quotes"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Quotes"}),g.jsx("button",{onClick:()=>i("game"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="game"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Game"}),g.jsxs("button",{onClick:()=>i("wrapped"),className:`relative px-4 py-2 rounded-lg font-medium transition-colors ${e==="wrapped"?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[" Wrapped",o&&g.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),g.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="settings"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:" Settings"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx("span",{children:""}),g.jsx(so,{name:a.displayName,medals:h})]})]})})})}const h_="jQCJuGogKJU8axQhh8rbJVMJBknLUHLX";function f_({onSelect:a,onClose:e}){const[i,r]=at.useState(""),[o,h]=at.useState([]),[d,_]=at.useState(!1),[E,y]=at.useState("");at.useEffect(()=>{x()},[]);const x=async()=>{_(!0),y("");try{const N=await fetch(`https://api.giphy.com/v1/gifs/trending?api_key=${h_}&limit=20`);if(!N.ok){const it=await N.json().catch(()=>({}));throw console.error("GIPHY API Error:",N.status,it),new Error(`API Error: ${N.status}`)}const k=await N.json();if(k.data){const it=k.data.map(tt=>({id:tt.id,url:tt.images.fixed_height.url,previewUrl:tt.images.fixed_height_still?.url||tt.images.fixed_height_small?.url||tt.images.fixed_height.url}));h(it)}}catch(N){console.error("Error loading GIFs:",N),y("Failed to load GIFs")}_(!1)},w=async N=>{if(!N.trim()){x();return}_(!0),y("");try{const k=await fetch(`https://api.giphy.com/v1/gifs/search?api_key=${h_}&q=${encodeURIComponent(N)}&limit=20`);if(!k.ok){const tt=await k.json().catch(()=>({}));throw console.error("GIPHY API Error:",k.status,tt),new Error(`API Error: ${k.status}`)}const it=await k.json();if(it.data){const tt=it.data.map(J=>({id:J.id,url:J.images.fixed_height.url,previewUrl:J.images.fixed_height_still?.url||J.images.fixed_height_small?.url||J.images.fixed_height.url}));h(tt)}}catch(k){console.error("Error searching GIFs:",k),y("Failed to search GIFs")}_(!1)};return at.useEffect(()=>{const N=setTimeout(()=>{i&&w(i)},500);return()=>clearTimeout(N)},[i]),g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Choose a GIF"}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl leading-none p-1",children:""})]}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:i,onChange:N=>r(N.target.value),placeholder:"Search GIFs...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0}),g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:""}),i&&g.jsx("button",{onClick:()=>{r(""),x()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}):E?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("p",{className:"text-4xl mb-2",children:""}),g.jsx("p",{className:"text-red-500 mb-3",children:E}),g.jsx("button",{onClick:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Try again"})]}):o.length===0?g.jsxs("div",{className:"text-center py-12 text-gray-500",children:[g.jsx("p",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"No GIFs found. Try a different search."})]}):g.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(N=>g.jsx("button",{onClick:()=>a(N.url),className:"relative aspect-square overflow-hidden rounded-lg hover:ring-4 hover:ring-indigo-500 transition-all bg-gray-100",children:g.jsx("img",{src:N.previewUrl,alt:"GIF",className:"w-full h-full object-cover",loading:"lazy",onMouseEnter:k=>{k.target.src=N.url},onMouseLeave:k=>{k.target.src=N.previewUrl}})},N.id))})}),g.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:g.jsx("span",{className:"text-xs text-gray-400",children:"Powered by GIPHY"})})]})})}function u2({quote:a,accountName:e,displayName:i,getDisplayName:r,getUserMedals:o,onDelete:h,onToggleLike:d,onAddComment:_,onDeleteComment:E,onToggleCommentLike:y,onAddReply:x,onDeleteReply:w,onToggleReplyLike:N}){const[k,it]=at.useState(!1),[tt,J]=at.useState(""),[ut,vt]=at.useState(null),[pt,At]=at.useState(!1),[Dt,Tt]=at.useState(!1),[I,C]=at.useState(null),[D,M]=at.useState(""),[O,R]=at.useState(null),[T,lt]=at.useState(!1),ft=a.addedBy.toLowerCase()===e.toLowerCase(),L=a.likes.some(Y=>Y.toLowerCase()===e.toLowerCase()),G=()=>{d(a.id,e)},st=async Y=>{Y.preventDefault(),!(!tt.trim()&&!ut||Dt)&&(Tt(!0),await _(a.id,tt,e,i,ut||void 0),J(""),vt(null),Tt(!1))},Z=async Y=>{!D.trim()&&!O||Dt||(Tt(!0),await x(a.id,Y,D,e,i,O||void 0),M(""),R(null),C(null),Tt(!1))},K=Y=>new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),A=Y=>new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=()=>{let Y=a.comments.length;return a.comments.forEach(gt=>{Y+=gt.replies.length}),Y},rt=a.addedByDisplayName||r(a.addedBy);return g.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6 border border-gray-100",children:[g.jsxs("div",{className:"mb-4",children:[g.jsxs("p",{className:"text-lg text-gray-800 italic leading-relaxed",children:['"',a.text,'"']}),g.jsxs("p",{className:"text-indigo-600 font-semibold mt-3",children:[" ",g.jsx(so,{name:a.speaker,medals:o(a.speaker)})]})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t border-gray-100 pt-4",children:[g.jsxs("span",{children:["Added by ",g.jsx(so,{name:rt,medals:o(a.addedBy),size:"sm"})]}),g.jsx("span",{children:K(a.timestamp)})]}),g.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[g.jsxs("button",{onClick:G,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${L?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:L?"":""}),g.jsx("span",{className:"font-medium",children:a.likes.length})]}),g.jsxs("button",{onClick:()=>it(!k),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"font-medium",children:q()})]}),ft&&g.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this quote?")&&h(a.id,e)},className:"ml-auto px-4 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:" Delete"})]}),k&&g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[g.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["Comments (",q(),")"]}),a.comments.length>0?g.jsx("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:a.comments.map(Y=>{const gt=Y.authorDisplayName||r(Y.author),xt=Y.author.toLowerCase()===e.toLowerCase(),Rt=Y.likes.some(wt=>wt.toLowerCase()===e.toLowerCase());return g.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[g.jsxs("div",{className:"relative group",children:[Y.text&&g.jsx("p",{className:"text-gray-700 text-sm",children:Y.text}),Y.gifUrl&&g.jsx("img",{src:Y.gifUrl,alt:"GIF",className:"mt-2 rounded-lg max-w-full max-h-48 object-contain"}),g.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[g.jsx(so,{name:gt,medals:o(Y.author),size:"sm",className:"font-medium"}),g.jsx("span",{children:A(Y.timestamp)})]}),xt&&g.jsx("button",{onClick:()=>E(a.id,Y.id,e),className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]}),g.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-200",children:[g.jsxs("button",{onClick:()=>y(a.id,Y.id,e),className:`flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${Rt?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:Rt?"":""}),g.jsx("span",{children:Y.likes.length})]}),g.jsxs("button",{onClick:()=>{C(I===Y.id?null:Y.id),M(""),R(null)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Reply"})]})]}),I===Y.id&&g.jsxs("div",{className:"mt-3 space-y-2",children:[O&&g.jsxs("div",{className:"relative inline-block",children:[g.jsx("img",{src:O,alt:"Selected GIF",className:"rounded-lg max-h-24 object-contain"}),g.jsx("button",{onClick:()=>R(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>lt(!0),className:"px-3 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 text-xs",children:"GIF"}),g.jsx("input",{type:"text",value:D,onChange:wt=>M(wt.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs"}),g.jsx("button",{onClick:()=>Z(Y.id),disabled:!D.trim()&&!O||Dt,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs font-medium",children:Dt?"...":"Reply"}),g.jsx("button",{onClick:()=>{C(null),M(""),R(null)},className:"px-3 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 text-xs",children:"Cancel"})]})]}),Y.replies.length>0&&g.jsx("div",{className:"mt-3 ml-4 space-y-2 border-l-2 border-indigo-200 pl-3",children:Y.replies.map(wt=>{const Qt=wt.authorDisplayName||r(wt.author),sn=wt.author.toLowerCase()===e.toLowerCase(),We=wt.likes.some(gn=>gn.toLowerCase()===e.toLowerCase());return g.jsxs("div",{className:"bg-white rounded-lg p-2 relative group",children:[wt.text&&g.jsx("p",{className:"text-gray-700 text-xs",children:wt.text}),wt.gifUrl&&g.jsx("img",{src:wt.gifUrl,alt:"GIF",className:"mt-1 rounded-lg max-w-full max-h-32 object-contain"}),g.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-gray-500",children:[g.jsx(so,{name:Qt,medals:o(wt.author),size:"sm",className:"font-medium"}),g.jsx("span",{children:A(wt.timestamp)})]}),g.jsx("div",{className:"flex items-center gap-2 mt-1",children:g.jsxs("button",{onClick:()=>N(a.id,Y.id,wt.id,e),className:`flex items-center gap-1 text-xs px-2 py-0.5 rounded transition-colors ${We?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.jsx("span",{children:We?"":""}),g.jsx("span",{children:wt.likes.length})]})}),sn&&g.jsx("button",{onClick:()=>w(a.id,Y.id,wt.id,e),className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity text-xs",children:""})]},wt.id)})})]},Y.id)})}):g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"No comments yet. Be the first!"}),ut&&g.jsxs("div",{className:"mb-3 relative inline-block",children:[g.jsx("img",{src:ut,alt:"Selected GIF",className:"rounded-lg max-h-32 object-contain"}),g.jsx("button",{onClick:()=>vt(null),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 text-sm flex items-center justify-center",children:""})]}),g.jsxs("form",{onSubmit:st,className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>At(!0),className:"px-4 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium",children:"GIF"}),g.jsx("input",{type:"text",value:tt,onChange:Y=>J(Y.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),g.jsx("button",{type:"submit",disabled:!tt.trim()&&!ut||Dt,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:Dt?"...":"Post"})]})]}),pt&&g.jsx(f_,{onSelect:Y=>{vt(Y),At(!1)},onClose:()=>At(!1)}),T&&g.jsx(f_,{onSelect:Y=>{R(Y),lt(!1)},onClose:()=>lt(!1)})]})}function c2({quotes:a,people:e,accountName:i,displayName:r,sortOption:o,searchQuery:h,getDisplayName:d,getUserMedals:_,onSortChange:E,onSearchChange:y,onAddQuote:x,onDeleteQuote:w,onToggleLike:N,onAddComment:k,onDeleteComment:it,onToggleCommentLike:tt,onAddReply:J,onDeleteReply:ut,onToggleReplyLike:vt}){const[pt,At]=at.useState(!1),[Dt,Tt]=at.useState(""),[I,C]=at.useState(""),[D,M]=at.useState(""),O=T=>{T.preventDefault(),!(!Dt.trim()||!I.trim())&&(x(Dt,I,i,r),Tt(""),C(""),At(!1))},R=D?a.filter(T=>T.speaker===D):a;return g.jsxs("div",{children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quote Collection"}),g.jsxs("p",{className:"text-gray-500",children:[a.length," quote",a.length!==1?"s":""," from ",e.length," ",e.length!==1?"people":"person"]})]}),g.jsx("button",{onClick:()=>At(!pt),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium shadow-md hover:shadow-lg",children:pt?" Cancel":"+ Add Quote"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:h,onChange:T=>y(T.target.value),placeholder:"Search quotes, speakers, or authors...",className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg bg-white shadow-sm"}),g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:""}),h&&g.jsx("button",{onClick:()=>y(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xl",children:""})]}),h&&g.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Found ",R.length," result",R.length!==1?"s":"",' for "',h,'"']})]}),pt&&g.jsxs("form",{onSubmit:O,className:"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Add New Quote"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quote"}),g.jsx("textarea",{value:Dt,onChange:T=>Tt(T.target.value),placeholder:"Enter the quote...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Who said it?"}),g.jsx("input",{type:"text",value:I,onChange:T=>C(T.target.value),placeholder:"Speaker's name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",list:"speakers",required:!0}),g.jsx("datalist",{id:"speakers",children:e.map(T=>g.jsx("option",{value:T.name},T.name))})]}),g.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Add Quote"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("select",{value:D,onChange:T=>M(T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[g.jsx("option",{value:"",children:"All Speakers"}),e.map(T=>g.jsxs("option",{value:T.name,children:[T.name," (",T.quoteCount,")"]},T.name))]})}),g.jsx("div",{className:"flex-1",children:g.jsxs("select",{value:o,onChange:T=>E(T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",children:[g.jsx("option",{value:"newest",children:" Newest First"}),g.jsx("option",{value:"oldest",children:" Oldest First"}),g.jsx("option",{value:"mostLiked",children:" Most Liked"})]})})]}),R.length>0?g.jsx("div",{className:"grid gap-6",children:R.map(T=>g.jsx(u2,{quote:T,accountName:i,displayName:r,getDisplayName:d,getUserMedals:_,onDelete:w,onToggleLike:N,onAddComment:k,onDeleteComment:it,onToggleCommentLike:tt,onAddReply:J,onDeleteReply:ut,onToggleReplyLike:vt},T.id))}):g.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-md",children:[g.jsx("p",{className:"text-6xl mb-4",children:h?"":""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:h?"No quotes found":D?"No quotes from this person":"No quotes yet"}),g.jsx("p",{className:"text-gray-500",children:h?"Try a different search term.":D?"Try selecting a different person or clear the filter.":"Add your first quote to get started!"})]})]})}function h2({gameState:a,canPlay:e,user:i,onStartGame:r,onSubmitAnswer:o,onNextRound:h,onEndGame:d,onRecordScore:_}){const E=!a.isPlaying&&a.gameHistory.length>0;if(!a.isPlaying&&!E)return g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Who Said It?"}),g.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Test your knowledge of your friends! We'll show you quotes and you have to guess who said them."}),i&&g.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 inline-flex gap-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:i.gamesPlayed}),g.jsx("p",{className:"text-xs text-gray-500",children:"Games Played"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.bestScore}),g.jsx("p",{className:"text-xs text-gray-500",children:"Best Score"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.gamesPlayed>0?Math.round(i.totalScore/i.gamesPlayed):0}),g.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"})]})]}),e?g.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Game! "}):g.jsxs("div",{className:"bg-amber-50 text-amber-800 rounded-xl p-4",children:[g.jsx("p",{className:"font-medium",children:"Not enough quotes to play!"}),g.jsx("p",{className:"text-sm mt-1",children:"Add at least 3 quotes from 2 different people to start the game."})]})]})});if(E){const y=Math.round(a.score/a.gameHistory.length*100),x=()=>{_(a.score),d(),r()},w=()=>{_(a.score),d()};return g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Game Over!"}),g.jsxs("p",{className:"text-5xl font-black text-indigo-600 mb-2",children:[a.score,"/",a.gameHistory.length]}),g.jsxs("p",{className:"text-gray-500 mb-6",children:[y,"% correct"]}),g.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[g.jsx("button",{onClick:x,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:"Play Again "}),g.jsx("button",{onClick:w,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition",children:"Exit"})]}),g.jsxs("div",{className:"border-t pt-6",children:[g.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Round Summary"}),g.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:a.gameHistory.map((N,k)=>g.jsxs("div",{className:`p-3 rounded-lg text-left flex items-start gap-3 ${N.correct?"bg-green-50":"bg-red-50"}`,children:[g.jsx("span",{className:"text-lg",children:N.correct?"":""}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-gray-600 italic truncate",children:['"',N.quote.text,'"']}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Said by ",g.jsx("span",{className:"font-semibold",children:N.quote.speaker}),!N.correct&&g.jsxs("span",{children:["  You guessed: ",N.guessed]})]})]})]},k))})]})]})})}return g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 text-white",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:"font-medium",children:["Round ",a.currentRound," of ",a.totalRounds]}),g.jsxs("span",{className:"font-bold",children:["Score: ",a.score]})]}),g.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-300",style:{width:`${a.currentRound/a.totalRounds*100}%`}})})]}),g.jsxs("div",{className:"p-8",children:[g.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 mb-8",children:[g.jsx("div",{className:"text-5xl text-center mb-4",children:'"'}),g.jsx("p",{className:"text-xl text-gray-800 text-center italic leading-relaxed",children:a.currentQuote?.text})]}),g.jsx("h3",{className:"text-center font-medium text-gray-600 mb-4",children:"Who said this?"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.options.map(y=>{let x="p-4 rounded-xl font-medium transition text-left border-2 ";return a.answered?y===a.currentQuote?.speaker?x+="border-green-500 bg-green-50 text-green-700":y===a.selectedAnswer&&!a.isCorrect?x+="border-red-500 bg-red-50 text-red-700":x+="border-gray-200 bg-gray-50 text-gray-400":x+="border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 bg-white",g.jsx("button",{onClick:()=>o(y),disabled:a.answered,className:x,children:g.jsxs("span",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shrink-0",children:y.charAt(0).toUpperCase()}),y]})},y)})}),a.answered&&g.jsxs("div",{className:"mt-6 text-center",children:[g.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 ${a.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isCorrect?" Correct!":` It was ${a.currentQuote?.speaker}`}),g.jsx("button",{onClick:h,className:"block w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl hover:opacity-90 transition",children:a.currentRound>=a.totalRounds?"See Results":"Next Question "})]})]})]}),g.jsx("button",{onClick:d,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm mx-auto block",children:"Quit Game"})]})}function f2({user:a,quotes:e,usingFirebase:i,onSetDisplayName:r,onUpdateProfile:o,onLogout:h,onExport:d,onImport:_}){const[E,y]=at.useState(a.displayName),[x,w]=at.useState(!1),N=at.useRef(null),k=()=>{E.trim()&&E.trim()!==a.displayName&&(r(E.trim()),o(a.name,E.trim()),w(!0),setTimeout(()=>w(!1),2e3))},it=()=>{N.current?.click()},tt=J=>{const ut=J.target.files?.[0];ut&&(_(ut,a.name,a.displayName),J.target.value="")};return g.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Profile"}),g.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[g.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Account Name"}),g.jsx("p",{className:"font-medium text-gray-800",children:a.name}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This is your login name and cannot be changed"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("input",{type:"text",value:E,onChange:J=>y(J.target.value),placeholder:"Enter display name",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),g.jsx("button",{onClick:k,disabled:!E.trim()||E.trim()===a.displayName,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]}),x&&g.jsx("p",{className:"text-green-600 text-sm flex items-center gap-1",children:" Display name updated across all devices!"}),g.jsx("p",{className:"text-xs text-gray-500",children:"This is how your name will appear on quotes and comments. Changes sync across all devices."})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Game Stats"}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:a.gamesPlayed}),g.jsx("p",{className:"text-sm text-gray-500",children:"Games Played"})]}),g.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.bestScore}),g.jsx("p",{className:"text-sm text-gray-500",children:"Best Score"})]}),g.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[g.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.gamesPlayed>0?Math.round(a.totalScore/a.gamesPlayed):0}),g.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Data Management"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-800",children:"Connection Status"}),g.jsx("p",{className:"text-sm text-gray-500",children:i?"Connected to Firebase - syncs across devices":"Using local storage"})]}),g.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:i?" Online":" Local"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:d,className:"flex-1 px-4 py-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:[" Export Quotes (",e.length,")"]}),g.jsx("button",{onClick:it,className:"flex-1 px-4 py-3 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Import Quotes"}),g.jsx("input",{ref:N,type:"file",accept:".json",onChange:tt,className:"hidden"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Account"}),g.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&h()},className:"w-full px-4 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors font-medium",children:"Log Out"})]})]})}function d2({nextReleaseDate:a}){return g.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:g.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[g.jsxs("div",{className:"relative mb-8",children:[g.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-200 rounded-full flex items-center justify-center",children:g.jsx("span",{className:"text-6xl grayscale opacity-50",children:""})}),g.jsx("div",{className:"absolute inset-0 w-32 h-32 mx-auto rounded-full bg-gradient-to-br from-gray-300 to-gray-400 opacity-20 animate-pulse"})]}),g.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:"Weekly Wrapped Locked"}),g.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6 mb-6 border-2 border-gray-200 border-dashed",children:[g.jsx("p",{className:"text-gray-500 text-sm uppercase tracking-wide mb-2",children:"Available On"}),g.jsx("p",{className:"text-xl font-semibold text-gray-600",children:a})]}),g.jsx("p",{className:"text-gray-400 text-sm",children:"The Weekly Wrapped will be available from Sunday at 6:30 PM EST until Friday at midnight."}),g.jsxs("div",{className:"mt-8 flex justify-center gap-3 opacity-30",children:[g.jsx("span",{className:"text-3xl grayscale",children:""}),g.jsx("span",{className:"text-3xl grayscale",children:""}),g.jsx("span",{className:"text-3xl grayscale",children:""})]})]})})}function m2({archive:a,onViewWrapped:e}){const i=(o,h)=>{const d=new Date(o),_=new Date(h),E=d.toLocaleDateString("en-US",{month:"short",day:"numeric"}),y=_.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${E} - ${y}`},r=o=>{const h=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-orange-500 to-red-500","from-green-500 to-teal-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500"];return h[o%h.length]};return a.length===0?g.jsxs("div",{className:"text-center py-16",children:[g.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"No Archived Wraps Yet"}),g.jsx("p",{className:"text-gray-400",children:"Previous Weekly Wraps will appear here after they expire."})]}):g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Wrapped Archive"}),g.jsx("p",{className:"text-gray-500",children:"Relive previous Weekly Wraps"})]}),g.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map((o,h)=>g.jsxs("button",{onClick:()=>e(o),className:`relative overflow-hidden rounded-xl p-6 text-left transition-transform hover:scale-105 bg-gradient-to-br ${r(h)} shadow-lg hover:shadow-xl`,children:[g.jsxs("div",{className:"absolute inset-0 opacity-10",children:[g.jsx("div",{className:"absolute top-2 right-2 text-4xl",children:""}),g.jsx("div",{className:"absolute bottom-2 left-2 text-2xl",children:""})]}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"text-white/80 text-sm font-medium mb-1",children:"THE 423"}),g.jsx("div",{className:"text-white text-lg font-bold mb-3",children:"Weekly Wrapped"}),g.jsx("div",{className:"text-white/90 text-sm font-medium",children:i(o.weekStartDate,o.weekEndDate)}),g.jsx("div",{className:"mt-4 flex gap-3 text-white/80 text-xs",children:o.data.topQuotes.length>0&&g.jsxs("span",{children:[" ",o.data.topQuotes.length," Top Quotes"]})}),g.jsx("div",{className:"mt-3 space-y-1 text-white/70 text-xs",children:o.data.quoteOfTheWeekSpeaker&&g.jsxs("div",{children:[" ",o.data.quoteOfTheWeekSpeaker]})})]}),g.jsx("div",{className:"absolute bottom-4 right-4 w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:g.jsx("span",{className:"text-white text-lg",children:""})})]},o.id))})]})}function g2({isWrappedAvailable:a,nextReleaseString:e,archive:i,onOpenWrapped:r,onViewArchiveWrapped:o}){return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-100",children:g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx("span",{children:""}),"This Week's Wrapped"]})}),g.jsx("div",{className:"p-6",children:a?g.jsxs("div",{className:"text-center py-8",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 rounded-full flex items-center justify-center animate-pulse",children:g.jsx("span",{className:"text-6xl",children:""})}),g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg animate-bounce",children:""})]}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Weekly Wrapped is Ready!"}),g.jsx("p",{className:"text-gray-500 mb-6",children:"See this week's top quotes, winners, and more!"}),g.jsx("button",{onClick:r,className:"px-8 py-4 bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400 text-white rounded-xl font-bold text-lg hover:scale-105 transition-transform shadow-lg hover:shadow-xl",children:" Open Weekly Wrapped"}),g.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Available until Friday at midnight EST"})]}):g.jsx(d2,{nextReleaseDate:e})})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-gray-100",children:g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx("span",{children:""}),"Wrapped Archive"]})}),g.jsx("div",{className:"p-6",children:g.jsx(m2,{archive:i,onViewWrapped:o})})]})]})}function p2({onLogin:a}){const[e,i]=at.useState(""),[r,o]=at.useState(""),[h,d]=at.useState(!1),[_,E]=at.useState(""),[y,x]=at.useState(!1),w=N=>{if(N.preventDefault(),E(""),x(!0),!e.trim()||!r.trim()){E("Please enter both name and password"),x(!1);return}a(e.trim(),r)||(E("Invalid name or password"),x(!1))};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quote Book"}),g.jsx("p",{className:"text-gray-500",children:"Sign in to continue"})]}),g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),g.jsx("input",{type:"text",value:e,onChange:N=>i(N.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"username",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:h?"text":"password",value:r,onChange:N=>o(N.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg",autoComplete:"current-password"}),g.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none p-1",children:h?g.jsx("span",{className:"text-xl",children:""}):g.jsx("span",{className:"text-xl",children:""})})]}),g.jsxs("label",{className:"flex items-center gap-2 mt-3 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:h,onChange:N=>d(N.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),g.jsx("span",{className:"text-sm text-gray-600",children:"Show password"})]})]}),_&&g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm flex items-center gap-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:_})]}),g.jsx("button",{type:"submit",disabled:y,className:"w-full py-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-semibold text-lg shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:y?g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),g.jsx("div",{className:"mt-8 text-center text-sm text-gray-400",children:g.jsx("p",{children:"Access restricted to authorized users only"})})]})})}function y2({onDismiss:a}){return g.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6 mb-6",children:g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-amber-800 mb-2",children:"Firebase Not Configured"}),g.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"The app is currently using local storage. To enable real-time sync with friends, you need to set up Firebase (free)."}),g.jsxs("details",{className:"text-sm",children:[g.jsx("summary",{className:"cursor-pointer font-medium text-amber-800 hover:text-amber-900",children:" Click here for setup instructions"}),g.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 text-gray-700 space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 1: Create a Firebase Project"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Go to ",g.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"console.firebase.google.com"})]}),g.jsx("li",{children:'Click "Create a project" (or "Add project")'}),g.jsx("li",{children:'Enter a project name (e.g., "my-quote-book")'}),g.jsx("li",{children:"Disable Google Analytics (optional, not needed)"}),g.jsx("li",{children:'Click "Create project"'})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 2: Create a Web App"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["In your project, click the web icon ","</>"," to add a web app"]}),g.jsx("li",{children:'Enter a nickname (e.g., "quote-book-web")'}),g.jsx("li",{children:'Click "Register app"'}),g.jsxs("li",{children:["Copy the ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"firebaseConfig"})," object shown"]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 3: Enable Firestore Database"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsx("li",{children:'In the left sidebar, click "Build"  "Firestore Database"'}),g.jsx("li",{children:'Click "Create database"'}),g.jsxs("li",{children:['Select "Start in ',g.jsx("strong",{children:"test mode"}),'" (allows read/write without auth)']}),g.jsx("li",{children:"Choose a location close to you"}),g.jsx("li",{children:'Click "Enable"'})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 4: Update the Code"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Open ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/firebase.ts"})]}),g.jsx("li",{children:"Replace the placeholder values with your Firebase config:"})]}),g.jsx("pre",{className:"bg-gray-800 text-green-400 p-3 rounded-lg mt-2 text-xs overflow-x-auto",children:`const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};`})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Step 5: Redeploy"}),g.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[g.jsxs("li",{children:["Run ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"npm run build"})]}),g.jsxs("li",{children:["Upload the new ",g.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"dist"})," folder to Netlify"]}),g.jsx("li",{children:"Share the URL with your friends! "})]})]}),g.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:g.jsxs("p",{className:"text-blue-800 text-sm",children:[g.jsx("strong",{children:" Tip:"})," Everyone uses the same URL. Once Firebase is set up, any quotes added by anyone will instantly appear for everyone else!"]})})]})]})]})]}),a&&g.jsx("button",{onClick:a,className:"text-amber-600 hover:text-amber-800 p-1",children:""})]})})}function _2({data:a,onClose:e,isArchive:i=!1}){const[r,o]=at.useState("intro"),[h,d]=at.useState(!0),_=["intro","stats","quote3","quote2","quote1","quotee","quoter","finale"],E=_.indexOf(r);at.useEffect(()=>{d(!0);const J=setTimeout(()=>d(!1),500);return()=>clearTimeout(J)},[r]);const y=()=>{const J=E+1;J<_.length&&o(_[J])},x=()=>{const J=E-1;J>=0&&o(_[J])},w=J=>new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric"}),N=a.topQuotes.length,k=a.topQuotes.reduce((J,ut)=>J+ut.points,0),it=J=>{switch(J){case"intro":return"from-purple-600 via-pink-500 to-orange-400";case"stats":return"from-blue-600 via-cyan-500 to-teal-400";case"quote3":return"from-amber-500 via-orange-500 to-red-500";case"quote2":return"from-gray-400 via-gray-300 to-gray-200";case"quote1":return"from-yellow-400 via-yellow-500 to-amber-500";case"quotee":return"from-emerald-500 via-green-500 to-teal-500";case"quoter":return"from-violet-600 via-purple-500 to-fuchsia-500";case"finale":return"from-indigo-600 via-purple-600 to-pink-500";default:return"from-purple-600 to-pink-500"}},tt=()=>{switch(r){case"intro":return g.jsxs("div",{className:"text-center",children:[i&&g.jsx("div",{className:"mb-4 px-4 py-2 bg-white/20 rounded-full inline-block",children:g.jsx("span",{className:"text-white/90 text-sm",children:" From the Archive"})}),g.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),g.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-4 tracking-tight",children:"THE 423"}),g.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white/90 mb-6",children:"WEEKLY WRAPPED"}),g.jsxs("div",{className:"text-xl text-white/80",children:[w(a.weekStartDate)," - ",w(a.weekEndDate)]}),g.jsx("div",{className:"mt-12 text-white/60 animate-pulse",children:"Tap to continue "})]});case"stats":return g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-12",children:"This Week in Quotes"}),g.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto",children:[g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[g.jsx("div",{className:"text-5xl font-black text-white",children:N}),g.jsx("div",{className:"text-white/80 mt-2",children:"Top Quotes"})]}),g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[g.jsx("div",{className:"text-5xl font-black text-white",children:k}),g.jsx("div",{className:"text-white/80 mt-2",children:"Total Points"})]})]}),g.jsx("div",{className:"mt-12 text-6xl",children:""})]});case"quote3":return a.topQuotes.length<3?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"#3 Quote of the Week"}),g.jsx("p",{className:"text-xl text-white/80",children:"Not enough quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"#3 Quote of the Week"}),g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-white italic mb-6",children:['"',a.topQuotes[2].quote.text,'"']}),g.jsxs("p",{className:"text-xl text-white/90 font-semibold",children:[" ",a.topQuotes[2].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-white/70",children:[a.topQuotes[2].points," points"]})]})]});case"quote2":return a.topQuotes.length<2?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"#2 Quote of the Week"}),g.jsx("p",{className:"text-xl text-gray-600",children:"Not enough quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:"#2 Quote of the Week"}),g.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-xl",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6",children:['"',a.topQuotes[1].quote.text,'"']}),g.jsxs("p",{className:"text-xl text-gray-700 font-semibold",children:[" ",a.topQuotes[1].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-gray-600",children:[a.topQuotes[1].points," points"]})]})]});case"quote1":return a.topQuotes.length<1?g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-8xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Quote of the Week"}),g.jsx("p",{className:"text-xl text-gray-600",children:"No quotes this week!"})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:""}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"QUOTE OF THE WEEK"}),g.jsx("div",{className:"text-6xl mb-6",children:""}),g.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-2xl p-8 max-w-lg mx-auto shadow-2xl border-4 border-yellow-400",children:[g.jsxs("p",{className:"text-2xl md:text-3xl text-gray-800 italic mb-6 font-medium",children:['"',a.topQuotes[0].quote.text,'"']}),g.jsxs("p",{className:"text-2xl text-gray-700 font-bold",children:[" ",a.topQuotes[0].quote.speaker]}),g.jsxs("div",{className:"mt-4 text-yellow-600 font-semibold text-lg",children:[" ",a.topQuotes[0].points," points "]})]})]});case"quotee":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTEE"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Most Quoted Person"}),a.weeklyQuotee?g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuotee.name}),g.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuotee.count," quotes this week!"]})]}):g.jsx("p",{className:"text-xl text-white/80",children:"No quotees this week!"})]});case"quoter":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"THE WEEKLY QUOTER"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Added the Most Quotes"}),a.weeklyQuoter?g.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-8 max-w-md mx-auto",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("div",{className:"text-4xl font-black text-white mb-4",children:a.weeklyQuoter.name}),g.jsxs("div",{className:"text-2xl text-white/90",children:[a.weeklyQuoter.count," quotes added!"]})]}):g.jsx("p",{className:"text-xl text-white/80",children:"No quoters this week!"})]});case"finale":return g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-7xl mb-6",children:""}),g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6",children:"That's a Wrap!"}),g.jsx("p",{className:"text-xl text-white/80 mb-8",children:i?"Thanks for reliving the memories!":"See you next Sunday for another Weekly Wrapped!"}),g.jsxs("div",{className:"flex justify-center gap-4 text-5xl mb-8",children:[g.jsx("span",{className:"animate-bounce",style:{animationDelay:"0ms"},children:""}),g.jsx("span",{className:"animate-bounce",style:{animationDelay:"100ms"},children:""}),g.jsx("span",{className:"animate-bounce",style:{animationDelay:"200ms"},children:""})]}),g.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-purple-600 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-xl",children:"Close Wrapped"})]})}};return g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${it(r)} transition-all duration-500`}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((J,ut)=>g.jsx("div",{className:"absolute w-2 h-2 bg-white/30 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`}},ut))}),g.jsx("div",{className:`relative z-10 w-full max-w-2xl mx-4 transition-all duration-500 ${h?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:tt()}),g.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center items-center gap-4 z-20",children:g.jsx("div",{className:"flex gap-2",children:_.map((J,ut)=>g.jsx("button",{onClick:()=>o(J),className:`w-2 h-2 rounded-full transition-all ${ut===E?"bg-white w-6":"bg-white/40 hover:bg-white/60"}`},J))})}),g.jsx("button",{onClick:x,disabled:E===0,className:"absolute left-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Previous slide"}),g.jsx("button",{onClick:y,disabled:E===_.length-1,className:"absolute right-0 top-0 bottom-0 w-1/3 z-10 cursor-pointer disabled:cursor-default","aria-label":"Next slide"}),g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 text-white/80 hover:text-white text-3xl p-2",children:""}),E>0&&g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),E<_.length-1&&g.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/60 text-2xl z-20",children:""}),g.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
          50% { transform: translateY(-20px) rotate(180deg); opacity: 0.6; }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
      `})]})}function v2(){const[a,e]=at.useState("quotes"),[i,r]=at.useState(!nn()),{user:o,isAuthenticated:h,isLoading:d,login:_,logout:E,setDisplayName:y,recordGameScore:x}=s2(),{getDisplayName:w,updateDisplayName:N}=a2(),{quotes:k,allQuotes:it,loading:tt,error:J,usingFirebase:ut,sortOption:vt,setSortOption:pt,searchQuery:At,setSearchQuery:Dt,addQuote:Tt,deleteQuote:I,toggleLike:C,addComment:D,deleteComment:M,toggleCommentLike:O,addReply:R,deleteReply:T,toggleReplyLike:lt,getPeople:ft,exportData:L,importData:G}=e2(),{showWrapped:st,weeklyData:Z,archive:K,isWrappedAvailable:A,viewingArchiveItem:q,openWrapped:rt,closeWrapped:Y,viewArchiveWrapped:gt,getUserMedals:xt,getNextReleaseString:Rt}=r2(it||k,w),{gameState:wt,startGame:Qt,submitAnswer:sn,nextRound:We,endGame:gn,canPlay:qn}=n2(k);return at.useEffect(()=>{o&&N(o.name,o.displayName)},[o?.displayName]),d?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):!h||!o?g.jsx(p2,{onLogin:_}):g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-white to-indigo-50",children:[g.jsx(o2,{user:o,activeTab:a,setActiveTab:e,getUserMedals:xt,isWrappedAvailable:A}),g.jsx("div",{className:`text-center py-2 text-sm font-medium ${ut?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:ut?g.jsx("span",{children:" Connected to cloud  Changes sync across all devices!"}):g.jsx("span",{children:" Using local storage  Set up Firebase for cross-device sync"})}),J&&g.jsxs("div",{className:"bg-red-100 text-red-800 text-center py-2 text-sm",children:[" ",J]}),g.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&!nn()&&a==="quotes"&&g.jsx(y2,{onDismiss:()=>r(!1)}),tt?g.jsx("div",{className:"flex items-center justify-center py-20",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500",children:"Loading quotes..."})]})}):g.jsxs(g.Fragment,{children:[a==="quotes"&&g.jsx(c2,{quotes:k,people:ft(),accountName:o.name,displayName:o.displayName,sortOption:vt,searchQuery:At,getDisplayName:w,getUserMedals:xt,onSortChange:pt,onSearchChange:Dt,onAddQuote:Tt,onDeleteQuote:I,onToggleLike:C,onAddComment:D,onDeleteComment:M,onToggleCommentLike:O,onAddReply:R,onDeleteReply:T,onToggleReplyLike:lt}),a==="game"&&g.jsx(h2,{gameState:wt,canPlay:qn,user:o,onStartGame:Qt,onSubmitAnswer:sn,onNextRound:We,onEndGame:gn,onRecordScore:x}),a==="wrapped"&&g.jsx(g2,{isWrappedAvailable:A,nextReleaseString:Rt(),archive:K,onOpenWrapped:rt,onViewArchiveWrapped:gt}),a==="settings"&&g.jsx(f2,{user:o,quotes:k,usingFirebase:ut,onSetDisplayName:y,onUpdateProfile:N,onLogout:E,onExport:L,onImport:an=>G(an,o.name,o.displayName)})]})]}),g.jsxs("footer",{className:"text-center py-6 text-gray-400 text-sm",children:[g.jsx("p",{children:"The 423 Archive"}),g.jsx("p",{className:"text-xs mt-1",children:ut?" Real-time sync enabled":" Local mode"})]}),st&&Z&&g.jsx(_2,{data:Z,onClose:Y,isArchive:q!==null})]})}Gb.createRoot(document.getElementById("root")).render(g.jsx(at.StrictMode,{children:g.jsx(v2,{})}));
